---
title: 코드의 구린내와 해결법
date: 2019-03-06 23:35:56
tags:
    - 리팩토링
    - 중복 코드
---

# 중복 코드(Duplicated Code)
최대의 구린내는 누가 뭐라해도 중복 코드이다  
코드가 중복되면 한쪽만 수정하고, 다른 한쪽은 수정하지 않는 위험천만한 실수를 저지르기 쉽다  

- 한 클래스의 두 메서드안에 같은 코드가 들어있는 경우  
    > `메서드 추출`을 적용해서 겹치는 코드를 별도의 메서드로 분리하고, 그 메서드를 두 곳에서 호출하면 된다  
- 한 클래스의 두 하위클래스에 같은 코드가 들어있는 경우  
    > `메서드 추출`을 적용해서 중복을 없앤 후, `메서드 상향`을 적용하면 된다.
    - 두 메서드의 코드가 똑같지 않고 비슷하다면?  
        > `메서드 추출`을 적용해서 같은 부분과 다른 부분을 분리해야 한다  
        > 경우에 따라 `템플릿 메서드 형성`을 적용해야 할 수도 있다  
    - 두 메서드의 기능이 같은데 알고리즘만 다르다면?  
        > 두 알고리즘 중 더 간단한 것을 택해서 `알고리즘 전환`을 적용하면 된다  
- 중복코드가 메서드 가운데에 있는 경우  
    > `주변 메서드 추출`을 적용한다  
- 서로 상관없는 두 클래스안에 중복 코드가 있을 경우  
    > 중복코드를 `클래스 추출`이나 `모듈 추출`을 적용해서 클래스나 모듈로 떼어낸 후, 그것을 호출한다  
    > 두 클래스 중 한쪽에서 다른쪽을 호출할수도 있고, 제 3의 클래스로 추출하고 양쪽에서 호출할수도 있다  

<!-- more -->