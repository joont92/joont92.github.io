---
title: 9.모델 바인딩과 검증
date: 2018-03-08 00:51:40
tags:
---

메서드에 @ModelAttribute를 파라미터로 선언했을 경우 처리되는 과정은 다음과 같다.  

1. 파라미터 타입의 오브젝트를 새로 만든다. 때문에 디폴트 생성자가 필수로 필요하다.  
@SessionAttributes를 통해 저장된 오브젝트가 있으면 새로 만들지 않고 세션에서 가져온다.  

2. HTTP 요청을 생성(혹은 가져온) 오브젝트 프로퍼티에 바인딩 해준다.  
이 과정에서 각 프로퍼티에 맞게 타입을 변환해준다.  
만약 타입 변환 오류가 발생할 시 BindingResults 오브젝트에 오류를 저장해서 컨트롤러로 넘겨준다.  

3. 검증작업을 수행한다. 2번의 과정에서 타입에 대한 검증은 이미 끝냈고, 그 외의 검증은 검증기를 통해 등록할 수 있다.  

### 프로퍼티 바인딩
프로퍼티 바인딩이란 오브젝트의 프로퍼티에 값을 넣는 행위를 말한다.  
프로퍼티에 맞게 타입을 적절히 변환하고 해당 프로퍼티의 수정자 메서드를 호출하는 것이다.  

스프링에선 크게 두가지의 프로퍼티 바인딩을 지원하는데  
첫번째는 애플리케이션 컨텍스트 XML 설정파일로 빈을 정의할 때 사용했던 <property> 태그이다.  
이 태그를 통해 빈의 프로퍼티에 값을 주입했었다.  
두번째는 HTTP 요청 파라미터를 모델 오브젝트 등으로 변환하는 경우이다.  
@ModelAttribute 뿐만 아니라 @RequestParam, @PathVariable 등도 해당된다.  

근데 잘 생각해보면, 프로퍼티 바인딩이 일반 primitive 타입이 아닌 경우에도 가능했던 적이 있었다.  
루트 웹 애플리케이션 컨텍스트에서 dataSource 빈을 설정할 때다.  

// datasource 설정 예제

<!-- more -->
