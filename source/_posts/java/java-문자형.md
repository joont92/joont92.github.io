---
title: java 문자형
date: 2018-12-08 11:11:42
tags:
---

java에서 문자형은 `char`형에 저장한다.  
저장방식에 UTF-16을 채택하였으므로 고정된 2byte를 사용한다.(65,535개 저장 가능)  
> [UTF-8, UTF-16 차이](http://pickykang.tistory.com/13)  
> UTF-8은 가변 데이터형이고, UTF-16은 고정 데이터형이다  
> 가변 비트인 이상 어떤 바이트가 문자의 시작 부분인지, 중간 부분인지 애매모호할 수 있다면 안 된다.  
> 그렇기 때문에 중간중간에 구분을 위한 패딩이 들어가게 되고, 결국 utf-8의 1바이트는 그 중의 7비트만이 실제 유니코드 정수의 표현에 사용되고, 2바이트는 11비트, 3바이트는 16비트, 4바이트는 21비트만이 사용된다.  

그러므로 모든 문자가 2byte로 저장된다.  
내부적으로 문자는 다 숫자로 저장하고 출력할때는 문자로 보여준다.  
저장할때는 숫자, 문자, 유니코드형 모두 가능하다.  

```java
char a = '\u0061';
char b = 'a';
char c = '97';

/**
출력
a
a
a
**/
```

문자와 숫자를 연산하면 형변환에 의해 숫자로 변환된다.  
문자열 String은 char 배열과 동일하다.(toCharArray)  

mysql의 varchar(50)에서 50은 50 byte를 의미하는게 아니라 50 characters를 의미한다.  
즉 utf-8을 세팅하고 latin문자가 아닌 문자들을 저장하면 저장공간이 utf-16보다 더 낭비된다.  
utf8mb4는 어떻게 저장되는지 알아봐야 할 듯  

<!-- more -->