---
title: '허브, 브릿지, 라우터'
date: 2019-07-18 00:57:39
tags:
---

맥 어드레스로 데이터를 보냄  
처음엔 맥 어드레스를 알아내기 위해 ARP(IP로 맥 어드레스를 찾는 행위) Request를 브로드캐스트로 보냄  
브로드캐스트를 받은 컴퓨터는 인터럽트가 걸리고, CPU에서 해당 요청을 처리해야함  
ARP로 맥 어드레스를 얻은 컴퓨터는 맥 어드레스를 통해 통신한다  
이때도 모든 전선에 데이터를 보내기는 하지만 맥 어드레스가 다를 경우 랜카드 레벨에서 짤린다  

케이블의 경우 최대 전송거리 제한이 있음  
리피터 : 중간에서 들어온 데이터를 다른 곳으로 그대로 전달해주는 역할  
랜은 허브로 구성, 이더넷 허브의 경우 CSMA/CD  
허브끼리 연결하면 콜리전 도메인이 계속 커지게 됨  
허브도 속도를 가지고, 랜카드도 속도를 가지고, 케이블도 속도를 가짐  
한순간에는 한대의 PC만이 데이터를 보낼 수 있고, 속도도 하나의 장비밖에 사용하지 못함  

스위치는 포트별로 콜리전 도메인이 나뉘어져있고, 데이터 전송 에러 복구 등의 기능 또한 가지고 있다  
하나의 서버로만 요청을 보내는 상태에서 스위치를 사용해봐야 이득이 별로 없다  
> 어느 한순간에는 하나의 장비만 통신이 가능하기 떄문이다  

브릿지는 포트별 콜리전 도메인까지는 아니지만 콜리전 도메인을 나눠주는 기능을 가지고 있음  
스위치나 브릿지도 콜리전 도메인을 나누기는 하지만 결국 브로드캐스트 

라우터는 시리얼 인터페이스(외부)와 이더넷 인터페이스(내부)가 있다  

네트워크 주소로 라우터가 네트워크를 찾아준다  

허브,브릿지,스위치 내에서는 어떤 IP를 쓰든 상관없음  
어쩌피 자기네들끼리만 통신할 것이기 때문에, 해당 콜리전 도메인 내에서만 고유한 IP면 된다  
사설 IP가 필요한 이유는 결국 외부로 나가야하기 때문이고, 네트워크는 특성상 어느 시점에서도 두 IP가 겹치는 경우가 있으면 통신을 할 수 없기 때문이다  

허브 2개를 합치면 그냥 콜리전 도메인이 커지게됨  

스위치 아래 N개의 허브를 연결하면 허브들은 각각 콜리전 도메인이 나눠지게 된다  

스위치나 허브에 IP를 배정하지 않아도 통신에는 지장이 없으나, 관리를 위해 배정한다(펌웨어를 사용하기 위해)  

콜리전 도메인이 나눠지든 뭐 어쨋든간에, 허브(브릿지, 스위치) 끼리 연결한곳은 하나의 브로드캐스트 도메인이 되고, IP는 고유해야 한다  

---

라우티드 프로토콜(TCP/IP, AppleTalk 등)이 라우터에 들어가고, 라우팅 프로토콜(RIP, IGRP 등)에 의해 다른 곳으로 전달된다  
이더넷 인터페이스는 무조건 같은 네트워크 대역이어야 한다? 결국 라우터가 스위치등을 포함하기 때문에?  
라우팅 테이블의 대체적 형태  
```
I 144.253.0.0 via 133.3.32.2 // 어째서..?
I 131.108.33.0 via 131.108.16.2
C 131.108.12.0 is directly connected Ethernet0
```