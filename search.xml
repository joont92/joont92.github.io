<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[nextstep êµìœ¡ê³¼ì • ë° ë©˜í† ë§ í›„ê¸°]]></title>
    <url>%2Flife%2Fnextstep-%EA%B5%90%EC%9C%A1%EA%B3%BC%EC%A0%95-%ED%9B%84%EA%B8%B0%2F</url>
    <content type="text"><![CDATA[nextstep êµìš±ê³¼ì • ì‘ë…„ 3ì›”, ê·¸ëŸ¬ë‹ˆê¹Œ 1ë…„ ë°˜ì „ ì¯¤â€¦ ì´ìª½ ì—…ê³„ì—ì„œëŠ” ìœ ëª…í•˜ì‹  ë°•ì¬ì„±(ìë°”ì§€ê¸°)ë‹˜ì´ í•˜ì‹œëŠ” êµìœ¡ê³¼ì •ì„ ë“¤ì€ì ì´ ìˆì—ˆë‹¤. êµìœ¡ê³¼ì •ëª…ì€ í´ë¦°ì½”ë“œë¥¼ ìœ„í•œ TDD, ë¦¬íŒ©í† ë§ with Java ì´ì—ˆëŠ”ë°, ê³¼ì •ì€ ëŒ€ì¶© ì´ëŸ¬í–ˆë‹¤. ë§¤ì£¼ ê¸ˆìš”ì¼ 3ì‹œê°„ì˜ ìˆ˜ì—…ì„ ì§„í–‰í•œë‹¤(ì´ 5ì£¼) ë§¤ì£¼ ê¸ˆìš”ì¼ ì˜¤í›„ 7ì‹œ ë°˜ì— ê°•ë‚¨ì—­ì— ëª¨ì—¬ì„œ ìˆ˜ì—…ì„ ì§„í–‰í•œë‹¤. ìˆ˜ì—… ë‚´ìš©ì€ ëŒ€ë¶€ë¶„ OOP, TDD, refactoring ì— ëŒ€í•œ ë‚´ìš©ì´ì—ˆê³ , ê°€ë”ì”© ì¬ì„±ë‹˜ì˜ ì¸ìƒ ì² í•™(!)ì„ ì–˜ê¸°í•´ì£¼ì‹œê¸°ë„ í•˜ì‹ ë‹¤. ìˆ˜ì—… ë‚´ìš©ì€ ì•„ì£¼ ìœ ìµí•˜ê³ , ì¸ìƒ ì² í•™ ë˜í•œ ì•„ì£¼ ìœ ìµí•˜ë‹¤ ã…‹ã…‹ã…‹ ìˆ˜ì—…ê³¼ ë³„ê°œë¡œ ê³¼ì œë¥¼ ì§„í–‰í•œë‹¤ ì´ ê³¼ì œê°€ êµìœ¡ê³¼ì •ì˜ í•µì‹¬ì´ë‹¤. í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡œ ìë™ì°¨ ê²½ì£¼ ê²Œì„, ë¡œë˜, ì‚¬ë‹¤ë¦¬ ê²Œì„ ë“±ì„ ì§ì ‘ êµ¬í˜„í•˜ëŠ” ê³¼ì œì´ë‹¤(ì¶œë ¥ì€ ì½˜ì†”ë¡œ í•œë‹¤). ë‹¨ìˆœíˆ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, êµìœ¡ê³¼ì • ì¤‘ì— ë°°ìš´ OOP, TDD, refactoring ì„ ì—´ì‹¬íˆ ì‚¬ìš©(?)í•˜ì—¬ êµ¬í˜„í•´ì•¼ í•œë‹¤. ê·¸ë¦¬ê³  ê° ê³¼ì œë§ˆë‹¤, ë‹´ë‹¹ ì½”ë“œ ë¦¬ë·°ì–´ë“¤ì´ ìˆë‹¤. (ë¦¬ë·°ì–´ëŠ” ì´ë¯¸ ì´ ê³¼ì •ì„ ìˆ˜ë£Œí•˜ì‹  ë¶„ë“¤ë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤.) í•˜ë‚˜ì˜ ê³¼ì œëŠ” ì—¬ëŸ¬ step ë“¤ë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, step ë³„ ìš”êµ¬ì‚¬í•­ì„ ì™„ë£Œí•˜ì—¬ PR ì„ ë³´ë‚´ë©´ ë¦¬ë·°ì–´ê°€ ë¦¬ë·°ë¥¼ í•´ì£¼ê³ , approve ê°€ ë˜ë©´ ë‹¤ìŒ step ìœ¼ë¡œ ë„˜ì–´ê°€ê²Œ ë˜ëŠ” êµ¬ì¡°ì´ë‹¤. ì´ë ‡ê²Œ ì´ 5ê°œ(1ê°œëŠ” optional)ì˜ ê³¼ì œë¥¼ ì™„ë£Œí•˜ë©´ êµìœ¡ê³¼ì •ì„ ìˆ˜ë£Œí•  ìˆ˜ ìˆê²Œ ëœë‹¤. ì–´ë µë‹¤ ì–´ë ¤ì›Œ ë§¤ë²ˆ ì„œë¹„ìŠ¤ ë©”ì„œë“œì— ëª¨ë“  ë¡œì§ì„ ë‹¤ ë–„ë ¤ë°•ë˜ ë‚˜ê°™ì€ íŠ¸ëœì­ì…˜ ìŠ¤í¬ë¦½í„°(?)ì—ê²Œ ì´ ê³¼ì œëŠ” ë§¤ìš° ì–´ë ¤ì› ì—ˆë‹¤. ì§€ê¸ˆê¹Œì§€ ë‚´ê°€ í•´ì˜¤ë˜ ì½”ë”©ê³¼ëŠ” ë„ˆë¬´ ë‹¬ëê¸° ë•Œë¬¸ì´ì—ˆë‹¤. ì–´ë–¤ ê¸°ì¤€ìœ¼ë¡œ ê°ì²´ë¥¼ ì„¤ê³„í•´ì•¼í• ì§€, ê°ì²´ë¼ë¦¬ëŠ” ì–´ë–»ê²Œ ë©”ì‹œì§€ë¥¼ ì£¼ê³  ë°›ì•„ì•¼í• ì§€, í…ŒìŠ¤íŠ¸ëŠ” ì œëŒ€ë¡œ ì§œê³  ìˆëŠ”ì§€â€¦ ê·¸ì•¼ë§ë¡œ í˜¼ë€ìŠ¤ëŸ¬ì› ë‹¤. ëª‡ì‹œê°„ë™ì•ˆ í•œì¤„ë„ ëª» ì§œê³  ë¨¸ë¦¬ë¥¼ ì‹¸ë§¤ë©° ê³ í†µìŠ¤ëŸ¬ì›Œ í–ˆì—ˆë˜ì ë„ í•œë‘ë²ˆì´ ì•„ë‹ˆì—ˆë˜ ê²ƒ ê°™ë‹¤. ê·¸ë˜ë„ ë§¤ì¼ ê³ ë¯¼í•˜ê³ , ë¦¬ë·°ì–´ë‹˜ë“¤ì˜ ì•„ì£¼ì•„ì£¼ ì •ì„±ìŠ¤ëŸ¬ìš´ í”¼ë“œë°±ë“¤ì„ ë°›ë‹¤ë³´ë‹ˆ ì‹œê°„ì´ ì§€ë‚ ìˆ˜ë¡ ì¡°ê¸ˆì”© ë‚˜ì•„ì§€ëŠ” ë‚´ ëª¨ìŠµì„ ë°œê²¬í•  ìˆ˜ ìˆì—ˆë‹¤. ê·¸ì € ë¹›â€¦ ê²°ê³¼ì ìœ¼ë¡œ 5ì£¼ ë™ì•ˆ í•„ìˆ˜ ê³¼ì œ 4ê°œë¥¼ ì „ë¶€ ì™„ë£Œí•˜ê³ , í•œ ë‹¨ê³„ ë” ì„±ì¥í•œ ëª¨ìŠµìœ¼ë¡œ ì´ ê³¼ì •ì„ ìˆ˜ë£Œí•  ìˆ˜ ìˆì—ˆë‹¤. ì´ì œëŠ” ì‹¤ì „ íšŒì‚¬ë¡œ ëŒì•„ì™”ë‹¤(êµìœ¡ê³¼ì • ë“£ëŠ”ë‹¤ê³  íšŒì‚¬ë¥¼ ì•ˆê°„ê²ƒì€ ì•„ë‹ˆì—ˆì§€ë§Œâ€¦). íšŒì‚¬ ì½”ë“œë¥¼ ë´¤ë‹¤. íŠ¸ëœì­ì…˜ ìŠ¤í¬ë¦½íŠ¸ íŒ¨í„´ì´ ë§ê³ , í…ŒìŠ¤íŠ¸ë„ ë§ì´ ì—†ë‹¤. ê°œì„ í•´ì•¼ í•  ë¶€ë¶„ì´ ë§ì•„ ë³´ì¸ë‹¤. í•˜ì§€ë§Œ ì½”ë“œ ìì²´ê°€ ì›Œë‚™ ì–‘ì´ ë§ê³  ë³µì¡í•˜ë©°, ë‹¤ë¥¸ ì½”ë“œë‚˜ ì‹œìŠ¤í…œë¼ë¦¬ ë³µì¡í•˜ê²Œ ì˜ì¡´ë˜ëŠ” ë¶€ë¶„ì´ ë§ì•„ì„œ ì–´ë””ì„œë¶€í„° ì–´ë–»ê²Œ ì‹œì‘í•´ì•¼í• ì§€ ì •í•˜ê¸°ê°€ í˜ë“¤ì—ˆë‹¤. ê·¸ë˜ë„ í›ˆë ¨ì†Œê¹Œì§€ ê°”ë‹¤ì™”ëŠ”ë°â€¦ ê·¸ëƒ¥ í¬ê¸°í• ìˆ˜ëŠ” ì—†ì—ˆë‹¤. ê¸°ì¡´ì— ì¡´ì¬í•˜ë˜ ì½”ë“œë“¤ì— ëŒ€í•´ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ê¸° ì‹œì‘í–ˆê³ , í…ŒìŠ¤íŠ¸ ì‘ì„±ì´ ì™„ë£Œë˜ê³ ë‚˜ë‹ˆ ì¡°ê¸ˆì”© ë¦¬íŒ©í† ë§ í•˜ëŠ”ê²ƒì´ ê°€ëŠ¥í–ˆë‹¤. ê·¸ë ‡ê²Œ í•˜ë‚˜ì˜ í”„ë¡œì íŠ¸ë¥¼ ì „ë°˜ì ìœ¼ë¡œ ë¦¬íŒ©í† ë§í–ˆë‹¤. êµ‰ì¥íˆ ë¿Œë“¯í–ˆë‹¤. ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¥¼ ë“¤ì–´ê°”ì„ë•Œì—ë„, í´ë¦°ì½”ë“œì— ëŒ€í•œ ëˆì„ ë†“ì§€ ì•Šìœ¼ë ¤ê³  í–ˆë‹¤. í•­ìƒ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í–ˆìœ¼ë©°, ê°ì²´ ì„¤ê³„ì— ëŒ€í•´ ë§¤ë²ˆ ê³ ë¯¼í•˜ê³  ì‘ì„±í–ˆë‹¤. ê·¸ë ‡ê²Œ 1ë…„ ì •ë„ ì‹¤ì „ì—ì„œ í›ˆë ¨í•œ ê²°ê³¼, í™•ì‹¤íˆ ì½”ë“œ ìì²´ê°€ ì‘ë…„ì— ë¹„í•´ ë§ì´ ë‹¬ë¼ì§„ê²ƒì„ ëŠë¼ê³  ìˆë‹¤. ì•„ì§ ê°ˆ ê¸¸ì€ ë§ì´ ë©€ì—ˆì§€ë§Œ, ì‘ë…„ì— ì´ ê³¼ì •ì„ ë“£ì§€ ëª»í–ˆë‹¤ë©´ ì•„ì§ê¹Œì§€ ë‚˜ëŠ” ì–½íˆê³  ì„¥íŒ ì½”ë“œë“¤ì„ ìœ ì§€ë³´ìˆ˜í•˜ëŠë¼ ê³ í†µë°›ê³  ìˆì§€ ì•Šì•˜ì„ê¹Œ ì‹¶ë‹¤. nextstep ë©˜í† ë§ ì´ êµìœ¡ì—ëŠ” ìˆ˜ì—… ì´í›„ì— ë©˜í† ë§ì„ í•´ì£¼ëŠ” ê³¼ì •ì´ ì¶”ê°€ì ìœ¼ë¡œ í¬í•¨ë˜ì–´ ìˆë‹¤. ë©˜í† ë§ì€ ì´ ê³¼ì •ì„ ìˆ˜ë£Œí•œ ìˆ˜ê°•ìì— í•œí•´ì„œ ëª¨ë‘ ì œê³µëœë‹¤. ë‹¨ìˆœíˆ ìˆ˜ì—…ì„ ë“£ëŠ”ë‹¤ê³  ìˆ˜ë£Œê°€ ë˜ëŠ”ê²ƒì´ ì•„ë‹ˆë¼, í•„ìˆ˜ê³¼ì œ 4ê°œì˜ ê³¼ì œë¥¼ ëª¨ë‘ ì œì¶œí•´ í†µê³¼í•´ì•¼ë§Œ ìˆ˜ë£Œê°€ ëœë‹¤. ë©˜í† ë§ì—ì„œ í•´ì£¼ëŠ” ë‚´ìš©ì€ ì•„ë˜ì™€ ê°™ë‹¤. ì´ë ¥ì„œ ê²€í†  ë° í”¼ë“œë°± ì˜¨ë¼ì¸, ì˜¤í”„ë¼ì¸ ëª¨ì˜ ë©´ì ‘ ì¶”ì²œ ì–´ì©Œë‹¤ë³´ë‹ˆ ë‚˜ë„ ì´ë²ˆì— ì´ì§ ì‹œê¸°ê°€ ë˜ì–´ì„œ, ë©˜í† ë§ì„ ì‹ ì²­í•˜ê²Œ ë˜ì—ˆë‹¤. ì´ë ¥ì„œ ê²€í†  ë° í”¼ë“œë°± ì¼ë‹¨ ììœ  í¬ë©§ìœ¼ë¡œ ì´ë ¥ì„œë¥¼ ì‘ì„±í•´ ì „ë‹¬í•´ì£¼ë©´, ì´ë ¥ì„œë¥¼ ì „ì²´ì ìœ¼ë¡œ ì ê²€í•˜ê³  í”¼ë“œë°±ì„ ì‘ì„±í•˜ì—¬ ì „ë‹¬í•´ì£¼ì‹ ë‹¤. ì´ëŸ°ì‹ìœ¼ë¡œ ì „ë‹¬í•´ì£¼ì‹ ë‹¤. ë§¤ìš° ì¢‹ë‹¤!!! ì „ë‹¬ë°›ì€ í”¼ë“œë°±ì„ ì ìš©í•´ì„œ ì´ë ¥ì„œë¥¼ ë‹¤ì‹œ ì „ë‹¬í•´ë“œë¦¬ë©´ ë˜ ì¶”ê°€ì ìœ¼ë¡œ í”¼ë“œë°±ì„ ì£¼ì‹œê²Œ ë˜ê³ , ì´ëŸ°ì‹ìœ¼ë¡œ ëª‡ë²ˆ ì™”ë‹¤ê°”ë‹¤ í•˜ë©´ì„œ ì´ë ¥ì„œë¥¼ ì „ì²´ì ìœ¼ë¡œ ë‹¤ë“¬ì–´ê°€ëŠ” ê³¼ì •ì´ë‹¤. ì´ ê³¼ì •ì—ì„œ í™•ì‹¤íˆ ì²˜ìŒì— ë¹„í•´ ì´ë ¥ì„œê°€ ë§¤ìš° ë‚˜ì•„ì§€ëŠ” ê³¼ì •ì„ ê²½í—˜í–ˆë‹¤. ì˜¨ë¼ì¸ ëª¨ì˜ ë©´ì ‘ ì²˜ìŒì—ëŠ” ê·¸ëƒ¥ í™”ìƒ íšŒì˜ë¼ê³  í•˜ì…”ì„œ ë¶€ë‹´ì—†ì´ ë“¤ì–´ê°”ëŠ”ë°â€¦ ì˜¨ë¼ì¸ ëª¨ì˜ ë©´ì ‘ì´ì—ˆë‹¤ğŸ˜… ì´ë ¥ì„œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê¼¼ê¼¼í•˜ê²Œ ì§ˆë¬¸í•´ì£¼ì‹œê³ , ì´ ì§ˆë¬¸ì´ ì–´ë–¤ ì˜ë„ì˜€ëŠ”ì§€, ë‚´ ëŒ€ë‹µì´ ì–´ë• ìœ¼ë©´ ì¢‹ì•˜ì„ì§€ì— ëŒ€í•´ ë°”ë¡œ ë°”ë¡œ í”¼ë“œë°± í•´ì£¼ì‹ ë‹¤. ê·¸ë¦¬ê³  ë‹¤ìŒ ì˜¤í”„ë¼ì¸ ë©´ì ‘ ë‚ ì§œë¥¼ ì¡ê³ , ê·¸ ë‚ ì§œê¹Œì§€ ì¶”ê°€ë¡œ ë” ì¤€ë¹„í•´ì˜¤ë©´ ì¢‹ì„ ê²ƒë“¤ì— ëŒ€í•´ ìˆ™ì œ(!)ë¥¼ ë‚´ì£¼ì‹ ë‹¤. ê°œì¸ì ìœ¼ë¡œ í”¼ë“œë°± í•´ì£¼ì‹œëŠ” ë‚´ìš©ë“¤ì´ ë„ì›€ì´ ë§ì´ ë˜ì—ˆê³ , ë‚´ ìŠ¤ìŠ¤ë¡œ ë‚´ê°€ í•œ ì¼ë“¤ì— ëŒ€í•´ ì œëŒ€ë¡œ ì •ë¦¬ë˜ì–´ ìˆì§€ ì•Šì•˜ë‹¤ëŠ” ì‚¬ì‹¤ì„ ê¹¨ë‹¬ì„ ìˆ˜ ìˆì—ˆë‹¤. ì˜¤í”„ë¼ì¸ ëª¨ì˜ ë©´ì ‘ ì˜¨ë¼ì¸ ë©´ì ‘ í›„, ë”± 1ì£¼ì¼ ë’¤ì— ì˜¤í”„ë¼ì¸ ëª¨ì˜ ë©´ì ‘ì„ ì§„í–‰í–ˆë‹¤. ì˜¤í”„ë¼ì¸ ëª¨ì˜ ë©´ì ‘ì€ ì ì‹¤ì—­ì— ìˆëŠ” ìš°í˜• ì‚¬ë¬´ì‹¤ì—ì„œ ì§„í–‰í–ˆë‹¤. ì´ 1ì‹œê°„ ì •ë„ ì§„í–‰ë˜ë©°, ì˜¨ë¼ì¸ ë©´ì ‘ì²˜ëŸ¼ ë°”ë¡œ í”¼ë“œë°±ì„ ì£¼ì§€ ì•Šê³  ì‹¤ì œ ë©´ì ‘ê³¼ ë™ì¼í•œ ë¶„ìœ„ê¸°ë¡œ ëª¨ì˜ ë©´ì ‘ì„ ì§„í–‰í•˜ì˜€ë‹¤. ê·¸ë¦¬ê³  ì˜¤í”„ë¼ì¸ì¸ ë§Œí¼ ë‚´ê°€ ìˆ˜í–‰í–ˆë˜ í”„ë¡œì íŠ¸ì— ëŒ€í•´ í™”ì´íŠ¸ë³´ë“œì— ê·¸ë ¤ê°€ë©° ì„¤ëª…í•˜ëŠ” ê³¼ì •ë“¤ì´ ë§ì•˜ë‹¤. í™•ì‹¤íˆ ëª¨ì˜ë©´ì ‘ì„ ì§„í–‰í•˜ê³ ë‚˜ë‹ˆ ìì‹ ê°ë„ ë¶™ê³ , ì•ìœ¼ë¡œ ì–´ë–¤ ë¶€ë¶„ë“¤ì„ ë” ì¤€ë¹„í•´ì•¼í• ì§€ ë” ì˜ ì•Œê²Œ ë˜ì—ˆë‹¤. ì¶”ì²œ ì´í›„ì—ëŠ” ì¶”ì²œì´ë‹¤. ì´ë ¥ì„œ, ëª¨ì˜ë©´ì ‘ ê³¼ì •ì„ ë‹¤ ì§„í–‰í•˜ê³  ë‚œ í›„ì— í†µê³¼ê°€ ë˜ë©´ nextstep ìª½ì—ì„œ ì—°ê³„ëœ ê¸°ì—…ë“¤ì— í•œí•´ ì¶”ì²œì„ í•´ì¤€ë‹¤. ë‹¨ìˆœíˆ ë‚´ ì´ë ¥ì„œë§Œ ì „ë‹¬í•´ì£¼ì‹œëŠ” ê²ƒì´ ì•„ë‹ˆë¼, êµìœ¡ê³¼ì •ê³¼ ë©˜í† ë§ ì§„í–‰í•  ë•Œì˜ ë‚´ ëª¨ìŠµì„ ê¸°ë°˜ìœ¼ë¡œ ì§ì ‘ ì¶”ì²œì„œë¥¼ ì‘ì„±í•´ì„œ ê°™ì´ ì „ë‹¬í•´ì£¼ì‹ ë‹¤. ê·¸ë˜ì„œ ê²°ê³¼ëŠ”? ëª¨ì˜ë©´ì ‘ ì§„í–‰ì´ ëë‚œ í›„ ì‹¤ì œ ì´ë ¥ì„œë¥¼ ë‚´ê³  ë©´ì ‘ì„ ì§„í–‰í•˜ì˜€ê³ , ìµœì¢…ì ìœ¼ë¡œ ì›í•˜ë˜ ê¸°ì—…ì— í•©ê²©í•˜ì—¬ ë‹¤ìŒì£¼ì— ì…ì‚¬í•˜ê²Œ ëœë‹¤. ë©´ì ‘ ê³¼ì •ì—ì„œ nextstep ì—ì„œ ë°›ì•˜ë˜ ë©˜í† ë§ ê³¼ì •ì´ ë„ì›€ì´ ë§ì´ ë˜ì—ˆë‹¤. í‰ì†Œì— ê°ˆì¦ì´ ë§ì€ ê°œë°œìë¼ë©´ nextstep ì˜ êµìœ¡ ê³¼ì •ì„ ë“¤ì–´ë³´ëŠ” ê²ƒì„ ì¶”ì²œí•œë‹¤.]]></content>
      <categories>
        <category>life</category>
      </categories>
      <tags>
        <tag>nextstep</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[sql and or ìˆœì„œ]]></title>
    <url>%2Fdb%2Fsql-and-or-%EC%88%9C%EC%84%9C%2F</url>
    <content type="text"><![CDATA[ë‹¤ë“¤ ì•Œë‹¤ì‹œí”¼ SQL ì—ì„œ ì†Œê´„í˜¸ ì—†ì´ AND OR ì„ ì‚¬ìš©í•˜ë©´ AND -&gt; OR ì˜ ìˆœì„œë¡œ ì²˜ë¦¬ëœë‹¤ ê·¸ë ‡ë‹¤ë©´ ì•„ë˜ì™€ ê°™ì€ ì¿¼ë¦¬ëŠ” ì–´ë–»ê²Œ ì²˜ë¦¬ë˜ëŠ”ê±¸ê¹Œ? 123select count(*) from employees where year(hire_date) = '1998' or year(hire_date) = '1999' and gender = 'M'; ì´ ì¿¼ë¦¬ëŠ” and ì¡°ê±´ ë¨¼ì € ì‹¤í–‰ë˜ê³  ê·¸ë‹¤ìŒ or ì¡°ê±´ì´ ì‹¤í–‰ëœë‹¤ ì´ ì¿¼ë¦¬ëŠ” ì•„ë˜ì˜ ë‘ ì¿¼ë¦¬ë¥¼ í•©ì¹œê²ƒê³¼ ë™ì¼í•˜ë‹¤ 12345select count(*) from employees where year(hire_date) = '1999' and gender = 'M';select count(*) from employees where year(hire_date) = '1998'; ê²°ë¡ ì€ ê·¸ëƒ¥ ì•Œì•„ë³´ê¸° ë„ˆë¬´ í˜ë“œë‹ˆê¹Œ ì…ë‹¥ì¹˜ê³  ê´„í˜¸ë¡œ ê°ì‹¸ì£¼ì]]></content>
      <categories>
        <category>db</category>
      </categories>
      <tags>
        <tag>and</tag>
        <tag>or</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[java] ì“°ë ˆë“œ ê¸°ë³¸]]></title>
    <url>%2Fjava%2F%EC%93%B0%EB%A0%88%EB%93%9C-%EA%B8%B0%EB%B3%B8%2F</url>
    <content type="text"><![CDATA[ê¸°ë³¸ì ìœ¼ë¡œ ì„œë²„ í”„ë¡œê·¸ë¨ì˜ ê²½ìš° ë§ì€ ë™ì‹œì— ë§ì€ ì‚¬ìš©ìì˜ ìš”ì²­ì„ ì²˜ë¦¬í•´ì•¼ í•˜ë¯€ë¡œ ë©€í‹° ì“°ë ˆë“œë¡œ ë™ì‘í•œë‹¤ ìš°ë¦¬ê°€ ë§¤ë²ˆ ì‚¬ìš©í•˜ëŠ” í†°ìº£ ë˜í•œ ì‚¬ìš©ìì˜ ìš”ì²­ì„ ëª¨ë‘ ì“°ë ˆë“œê°€ ì²˜ë¦¬í•˜ëŠ”, ë©€í‹° ì“°ë ˆë“œ êµ¬ì¡°ì´ë‹¤ ê·¸ë˜ë¯€ë¡œ ì“°ë ˆë“œì— ëŒ€í•œ ì§€ì‹ì€ í•„ìˆ˜ì´ë‹¤ ë¼ê³  ë§í–ˆì§€ë§Œ ë‚˜ëŠ” ê²‰í•¥ê¸°ë°–ì— ëª¨ë¥´ëŠ” ê²ƒ ê°™ì•„ì„œ ë‹¤ì‹œ ê¸°ì´ˆë¶€í„° ê³µë¶€í•˜ê³  ìˆê³ , ì´ë¥¼ ì •ë¦¬í•˜ê³ ì í•œë‹¤ ì“°ë ˆë“œì— ëŒ€í•œ ê¸°ë³¸ ì§€ì‹ì€ êµ¬ê¸€ì— ê²€ìƒ‰í•˜ë©´ ì•„ì£¼ ì•„ì£¼ ì˜ ì„¤ëª…ëœ ê¸€ë“¤ì´ ë§ìœ¼ë‹ˆ ê·¸ê²ƒì„ ì°¸ì¡°í•˜ë©´ ë˜ê³ , ì—¬ê¸°ì„œëŠ” ìë°”ì—ì„œ ì“°ë ˆë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ë²•ì— ëŒ€í•´ ì •ë¦¬í•˜ê² ë‹¤ ì“°ë ˆë“œ êµ¬í˜„ ìë°”ì—ì„œ ì“°ë ˆë“œë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì€ Thread í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ëŠ” ë°©ë²•ê³¼ Runnable ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤ ìë°”ì—ì„œëŠ” ìƒì†ì´ ë¹„ì‹¼ í–‰ìœ„ì´ê¸° ë•Œë¬¸ì— ë³´í†µì€ Runnable ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ì—¬ ì“°ë ˆë“œë¥¼ êµ¬í˜„í•œë‹¤ 123456789101112131415161718192021222324class MyThread1 extends Thread &#123; @Override public void run() &#123; /* ì“°ë ˆë“œì—ì„œ ì‹¤í–‰í•  ë‚´ìš© */ &#125;&#125;class MyThread2 implements Runnable &#123; @Override public void run() &#123; /* ì“°ë ˆë“œì—ì„œ ì‹¤í–‰í•  ë‚´ìš© */ &#125;&#125;class Main &#123; public static void main(String[] args) &#123; MyThread1 myThread1 = new MyThread1(); // Thread ìƒì† ì‹œ Thread myThread2 = new Thread(new MyThread2()); // Runnable êµ¬í˜„ì‹œ // ì“°ë ˆë“œ ì‹¤í–‰ myThread1.start(); myThread2.start(); &#125;&#125; Thread í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì€ ê²½ìš° ë°”ë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ë©´ ë˜ê³ , Runnable ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ ê²½ìš° Thread í´ë˜ìŠ¤ì˜ ì¸ìë¡œ ë„˜ê²¨ì£¼ë©´ ëœë‹¤ ê·¸ë¦¬ê³  start() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ì„œ ì“°ë ˆë“œë¥¼ ì‹¤í–‰ì‹œí‚¤ê³  ìˆìŒì„ ë³¼ ìˆ˜ ìˆë‹¤ ì°¸ê³ ë¡œ í•œë²ˆ ì‚¬ìš©í•œ(start()ê°€ ì´ë¯¸ í˜¸ì¶œëœ) ì“°ë ˆë“œëŠ” ì¬ì‚¬ìš© í•  ìˆ˜ ì—†ë‹¤ ë‘ ë²ˆ ì´ìƒ í˜¸ì¶œ ì‹œ IllegalThreadStateExceptionì´ ë°œìƒí•œë‹¤ ì•ì„œ ìš°ë¦¬ê°€ êµ¬í˜„í–ˆë˜ run ë©”ì„œë“œëŠ” ë‹¨ìˆœíˆ ìˆ˜í–‰í•  íƒœìŠ¤í¬ë§Œì„ ì‘ì„±í•˜ëŠ” ë¶€ë¶„ì´ê³ , ì‹¤ì œë¡œ ì“°ë ˆë“œë¥¼ ì‹¤í–‰ì‹œí‚¤ë ¤ë©´ ìœ„ì™€ ê°™ì´ start ë©”ì„œë“œë¥¼ í†µí•´ì„œ ì‹¤í–‰í•´ì•¼ í•œë‹¤ start ë©”ì„œë“œ í˜¸ì¶œ ì‹œ ì“°ë ˆë“œê°€ ì‘ì—…ì„ ì‹¤í–‰í•˜ëŠ”ë° í•„ìš”í•œ í˜¸ì¶œ ìŠ¤íƒì„ ìƒì„±í•˜ê³  run ë©”ì„œë“œë¥¼ ì‹¤í–‰í•˜ê²Œ ëœë‹¤ !(thread call stack)[https://joont92.github.io/temp/thread-call-stack.jpg] ìœ„ëŠ” ë©”ì¸ ë©”ì„œë“œì—ì„œ 2ê°œì˜ ì“°ë ˆë“œë¥¼ ì‹¤í–‰ì‹œì¼°ì„ ë•Œì˜ ëª¨ìŠµì´ë‹¤ ë³´ë‹¤ì‹œí”¼ ê° ì“°ë ˆë“œë“¤ì€ ëª¨ë‘ ë³„ê°œì˜ ì‘ì—…ì´ê³ , ìŠ¤ì¼€ì¤„ë§ì˜ ëŒ€ìƒì´ ëœë‹¤ ìŠ¤ì¼€ì¤„ëŸ¬ê°€ ì •í•œ ì‹¤í–‰ìˆœì„œì— ë”°ë¼ ê° ì“°ë ˆë“œë“¤ì„ ëŒë©´ì„œ ì—°ì‚°ì„ ìˆ˜í–‰í•˜ê²Œ ë  ê²ƒì´ê³ , ìˆ˜í–‰ì´ ëë‚œ ì“°ë ˆë“œë“¤ì€ í˜¸ì¶œìŠ¤íƒì´ ë¹„ì›Œì§€ë©´ì„œ ë¨¼ì € ì¢…ë£Œê°€ ë  ê²ƒì´ë‹¤ CPUëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì“°ë ˆë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìŠ¤ì¼€ì¤„ë§ì„ í•œë‹¤ í™•ì¸ í•„ìš”(+ JVM ì“°ë ˆë“œ ìŠ¤ì¼€ì¤„ëŸ¬) ì¦‰, ë©”ì¸ ë©”ì„œë“œê°€ ìˆ˜í–‰ì„ ë§ˆì³¤ë‹¤ í•˜ë”ë¼ë„ ì“°ë ˆë“œê°€ ë‚¨ì•„ìˆë‹¤ë©´ í”„ë¡œê·¸ë¨ì€ ì¢…ë£Œë˜ì§€ ì•ŠìŒì„ ëœ»í•œë‹¤ ì‹¤í–‰ì¤‘ì¸ ì‚¬ìš©ì ì“°ë ˆë“œê°€ í•˜ë‚˜ë„ ì—†ì„ ê²½ìš° í”„ë¡œê·¸ë¨ì€ ì¢…ë£Œëœë‹¤ ê·¸ë¦¬ê³  ì–¸ê¸‰í–ˆë‹¤ì‹œí”¼ ê°ê°ì˜ ì“°ë ˆë“œë“¤ì€ ê°ê° ë³„ê°œì˜ ì‘ì—…íë¦„ì´ê¸° ë•Œë¬¸ì— í•œ ì“°ë ˆë“œì—ì„œ ì˜ˆì™¸ê°€ ë°œìƒí•´ë„ ë‹¤ë¥¸ ì“°ë ˆë“œì˜ ì‹¤í–‰ì—ëŠ” ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šê²Œ ëœë‹¤ ì‹±ê¸€ ì“°ë ˆë“œì™€ ë©€í‹° ì“°ë ˆë“œ ë°©ê¸ˆ ì•„ì£¼ ê°„ë‹¨í•˜ê²Œ ë©€í‹° ì“°ë ˆë“œë¥¼ êµ¬ì„±í•´ë´¤ëŠ”ë°, ì‚¬ì‹¤ ë‹¨ìˆœíˆ CPUë§Œ ì‚¬ìš©í•´ì„œ ê³„ì‚°í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•  ê²½ìš° ìœ„ì™€ ê°™ì´ ë©€í‹°ì“°ë ˆë“œë¡œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ”ê²ƒì´ ë” ë¹„íš¨ìœ¨ì ì´ë‹¤ ì“°ë ˆë“œê°„ context switching ë¹„ìš©ì´ ë°œìƒí•˜ê¸° ë•Œë¬¸ì´ë‹¤ í•˜ì§€ë§Œ ì“°ë ˆë“œ ë‚´ì—ì„œ ì—°ì‚° ì´ì™¸ì˜ ì‘ì—…ì„ ìˆ˜í–‰í•  ê²½ìš°(CPU ì´ì™¸ì˜ ìì›ì„ ì‚¬ìš©í•  ê²½ìš°), ë©€í‹° ì“°ë ˆë“œ í”„ë¡œì„¸ìŠ¤ê°€ í›¨ì”¬ íš¨ìœ¨ì ì´ë‹¤ ì˜ˆë¥¼ ë“¤ë©´ íŒŒì¼ì´ë‚˜ ë„¤íŠ¸ì›Œí¬ I/O ì‘ì—…ë“±ì´ ìˆê²Œ ë˜ëŠ”ë°, íŠ¹ì • ì“°ë ˆë“œê°€ ì´ëŸ¬í•œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê³  ìˆì„ ê²½ìš° CPUëŠ” ì´ë¥¼ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ë‹¤ë¥¸ ì“°ë ˆë“œì˜ ì‘ì—…ì„ ìˆ˜í–‰í•˜ë©´ ë˜ê¸° ë•Œë¬¸ì´ë‹¤ ë§Œì•½ ì‹±ê¸€ ì“°ë ˆë“œì˜€ë‹¤ë©´ I/O ì‘ì—…ì´ ëë‚  ë•Œ ê¹Œì§€ CPUê°€ ëŒ€ê¸°í•´ì•¼ í–ˆì„ ê²ƒì´ë‹¤ ì“°ë ˆë“œ ìš°ì„ ìˆœìœ„ ì“°ë ˆë“œëŠ” ìš°ì„ ìˆœìœ„(priority)ë¼ëŠ” ì†ì„±(ë©¤ë²„ë³€ìˆ˜)ì„ ê°€ì§€ê³  ìˆê³ , ì´ ìš°ì„ ìˆœìœ„ì— ë”°ë¼ ìŠ¤ì¼€ì¤„ëŸ¬ê°€ í• ë‹¹í•˜ëŠ” ì‹œê°„ì´ ë‹¬ë¼ì§„ë‹¤ ì“°ë ˆë“œì˜ ìš°ì„ ìˆœìœ„ê°€ ê°™ë‹¤ë©´ CPUëŠ” ê° ì“°ë ˆë“œì—ê²Œ ê±°ì˜ ê°™ì€ ì–‘ì˜ ì‹œê°„ì„ í• ë‹¹í•˜ì§€ë§Œ, ìš°ì„ ìˆœìœ„ê°€ ë‹¤ë¥´ë‹¤ë©´ CPUëŠ” ìš°ì„ ìˆœìœ„ê°€ ë†’ì€ ì“°ë ˆë“œì—ê²Œ ë” ë§ì€ ì‘ì—…ì‹œê°„ì„ í• ë‹¹í•œë‹¤ ì¦‰ ì“°ë ˆë“œê°€ ìˆ˜í–‰í•˜ëŠ” ì‘ì—…ì˜ ì¤‘ìš”ë„ì— ë”°ë¼ ì“°ë ˆë“œì˜ ìš°ì„ ìˆœìœ„ë¥¼ ë‹¤ë¥´ê²Œ ì§€ì •í•˜ì—¬ íŠ¹ì • ì“°ë ˆë“œê°€ ë” ë§ì€ ì‘ì—…ì‹œê°„ì„ ê°–ë„ë¡ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤ (ì˜ˆë¥¼ ë“¤ë©´ ì±„íŒ…ì„ ì²˜ë¦¬í•˜ëŠ” ì“°ë ˆë“œëŠ” ì“°ë ˆë“œëŠ” íŒŒì¼ì„ ì „ì†¡í•˜ëŠ” ì“°ë ˆë“œë³´ë‹¤ ìš°ì„ ìˆœìœ„ê°€ ë†’ì•„ì•¼í•œë‹¤) 1234567891011121314151617Thread thread1 = new Thread(() -&gt; &#123; for (int i = 0; i &lt; 100; i++) &#123; System.out.print("1"); &#125;&#125;);Thread thread2 = new Thread(() -&gt; &#123; for (int i = 0; i &lt; 100; i++) &#123; System.out.print("2"); &#125;&#125;);thread1.setPriority(10);thread2.setPriority(1);thread1.start();thread2.start();// ì¶œë ¥ : 222222222222222222222222222222222222222222222222...........1111111111111111111111111111111111111............... ì“°ë ˆë“œê°€ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ìš°ì„ ìˆœìœ„ì˜ ë²”ìœ„ëŠ” 1~10ê¹Œì§€ ì´ë©°, ìˆ«ìê°€ ë†’ì„ìˆ˜ë¡(ì‘ì„ìˆ˜ë¡) ìš°ì„ ìˆœìœ„ê°€ ë†’ë‹¤ ì°¸ê³ ë¡œ ì´ ìš°ì„ ìˆœìœ„ ê°’ì€ ì ˆëŒ€ì ì¸ ê²ƒì´ ì•„ë‹ˆë¼ ìƒëŒ€ì ì¸ ê°’ì´ë‹¤ ê°’ì´ 1ì •ë„ ì°¨ì´ë‚˜ëŠ” ê²½ìš°ì—ëŠ” ë³„ ì°¨ì´ê°€ ì—†ì§€ë§Œ, 2 ì´ìƒ ì°¨ì´ê°€ ë‚˜ë©´ ì‹¤í–‰ì‹œê°„ì— ë§ì€ ì°¨ì´ê°€ ë°œìƒí•˜ê²Œ ëœë‹¤ ì“°ë ˆë“œì˜ ìš°ì„ ìˆœìœ„ëŠ” ë”°ë¡œ ì§€ì •í•´ì£¼ì§€ ì•Šìœ¼ë©´ ì“°ë ˆë“œë¥¼ ìƒì„±í•œ ì“°ë ˆë“œë¡œë¶€í„° ìƒì†ì„ ë°›ê²Œ ëœë‹¤(main ì“°ë ˆë“œëŠ” ìš°ì„ ìˆœìœ„ê°€ 5ì´ë‹¤) ë°ëª¬ ì“°ë ˆë“œ ì“°ë ˆë“œëŠ” ì‚¬ìš©ì ì“°ë ˆë“œì™€ ë°ëª¬ ì“°ë ˆë“œ 2ì¢…ë¥˜ê°€ ìˆë‹¤ ì§€ê¸ˆê¹Œì§€ ì–¸ê¸‰í–ˆë˜ ê²ƒì€ ì „ë¶€ ì‚¬ìš©ì ì“°ë ˆë“œì´ê³ , ë°ëª¬ ì“°ë ˆë“œì˜ ê²½ìš° ì¼ë°˜ ì“°ë ˆë“œì˜ ì‘ì—…ì„ ë•ëŠ” ë³´ì¡°ì ì¸ ì—­í• ì„ ìˆ˜í–‰í•˜ëŠ” ì“°ë ˆë“œë¥¼ ë§í•œë‹¤ ë³´ì¡° ì—­í• ì„ í•˜ëŠ” ì“°ë ˆë“œì´ë¯€ë¡œ ì¼ë°˜ ì“°ë ˆë“œê°€ ëª¨ë‘ ì¢…ë£Œë˜ë©´ ë°ëª¬ ì“°ë ˆë“œ ë˜í•œ ê°•ì œì ìœ¼ë¡œ ì¢…ë£Œëœë‹¤(ë”ì´ìƒ í•„ìš”ì—†ê¸° ë•Œë¬¸ì—) ë°ëª¬ ì“°ë ˆë“œì˜ ì˜ˆë¡œëŠ” ê°€ë¹„ì§€ ì»¬ë ‰í„°, ìë™ì €ì¥, í™”ë©´ ìë™ê°±ì‹  ë“±ì´ ìˆë‹¤ ì“°ë ˆë“œë¥¼ ë°ëª¬ ì“°ë ˆë“œë¡œ ìƒì„±ì‹œí‚¤ê³  ì‹¶ë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ setDaemon() ë©”ì„œë“œë§Œ ì‹¤í–‰ì‹œì¼œì£¼ë©´ ëœë‹¤ 1234Thread thread = new Thread(new MyThread());thread.setDaemon(true); // start ì „ì— í•´ì¤˜ì•¼í•¨thread.start(); ì´ ì™¸ì—ë„ ë°ëª¬ ì“°ë ˆë“œê°€ ìƒì„±í•œ ì“°ë ˆë“œë„ ìë™ìœ¼ë¡œ ë°ëª¬ ì“°ë ˆë“œê°€ ëœë‹¤ ë°ëª¬ ì“°ë ˆë“œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë¬´í•œë£¨í”„ì™€ ì¡°ê±´ë¬¸ì„ ì´ìš©í•´ì„œ ì‘ì„±ëœë‹¤ (ì˜ˆì‹œì—ì„œ ë´¤ë“¯ì´ ê°€ë¹„ì§€ ì»¬ë ‰í„°, ìë™ì €ì¥ ë“±ì€ ê³„ì†í•´ì„œ ìƒíƒœë¥¼ ì²´í¬í•´ì•¼í•˜ëŠ” ì‘ì—…ì´ë‹¤) 12345678910111213141516class AutoSaveDaemonThread implements Runnable &#123; @Override public void run() &#123; while(true) &#123; try &#123; Thread.sleep(3 * 1000); &#125; catch(InterruptedException e) &#123; // do nothing &#125; if(autoSave) &#123; autoSave(); &#125; &#125; &#125;&#125; JVMì€ ê¸°ë³¸ì ìœ¼ë¡œ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜, ì´ë²¤íŠ¸ì²˜ë¦¬, ê·¸ë˜í”½ì²˜ë¦¬ì™€ ê°™ì´ í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë˜ëŠ”ë° í•„ìš”í•œ ë³´ì¡°ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë°ëª¬ ì“°ë ˆë“œë“¤ì„ ìë™ì ìœ¼ë¡œ ì‹¤í–‰ì‹œí‚¨ë‹¤ ì“°ë ˆë“œ ì‹¤í–‰ì œì–´(Welcome To Hell!) ì•ì„œ ì“°ë ˆë“œì˜ ìš°ì„ ìˆœìœ„ë¡œ ì“°ë ˆë“œê°„ ì‹¤í–‰ì„ ì œì–´í•˜ê¸´ í–ˆì§€ë§Œ, ì‚¬ì‹¤ ì´ê²ƒë§Œìœ¼ë¡œëŠ” ë¶€ì¡±í•˜ë‹¤ íš¨ìœ¨ì ì¸ ë©€í‹°ì“°ë ˆë“œ í”„ë¡œê·¸ë¨ì„ ë§Œë“¤ê¸° ìœ„í•´ì„œëŠ” ë³´ë‹¤ ì •êµí•œ ìŠ¤ì¼€ì¤„ë§ì„ í†µí•´ ì£¼ì–´ì§„ ìì›ì„ ì—¬ëŸ¬ ì“°ë ˆë“œê°€ ë‚­ë¹„ì—†ì´ ì˜ ì‚¬ìš©í•˜ë„ë¡ í”„ë¡œê·¸ë˜ë° í•´ì•¼í•œë‹¤ ì´ë¥¼ ìœ„í•´ ìë°”ì—ì„œëŠ” ì“°ë ˆë“œë¥¼ ì»¨íŠ¸ë¡¤ í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ”ë°, ì´ë¥¼ ì•Œê¸°ì „ì— ë¨¼ì € ì“°ë ˆë“œì˜ ìƒíƒœì— ëŒ€í•´ ì•Œê³  ìˆì–´ì•¼í•œë‹¤ NEW ì“°ë ˆë“œê°€ ìƒì„±ë˜ê³  ì•„ì§ start()ê°€ í˜¸ì¶œë˜ì§€ ì•Šì€ ìƒíƒœ RUNNABLE start()ë¥¼ í˜¸ì¶œí–ˆë‹¤ê³  ë°”ë¡œ ì‹¤í–‰ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, íì˜ êµ¬ì¡°ë¡œ ëœ ì‹¤í–‰ ëŒ€ê¸°ì—´ì— ì €ì¥ë˜ì–´ ëŒ€ê¸°í•˜ë‹¤ê°€ ìê¸° ì°¨ë¡€ê°€ ë˜ë©´ ì‹¤í–‰í•œë‹¤ RUNNING ì‹¤í–‰ëŒ€ê¸°ì—´ì— ìˆë˜ ì“°ë ˆë“œê°€ ìê¸° ì°¨ë¡€ê°€ ë˜ì–´ ì‹¤í–‰ì¤‘ì¸ ìƒíƒœ WAITING ì‹¤í–‰ì¤‘ì¸ ì“°ë ˆë“œê°€ íŠ¹ì • ë©”ì„œë“œ(sleep(), wait(), join() ë“±)ì— ì˜í•´ ì¼ì‹œì •ì§€ ìƒíƒœê°€ ëœ ê²ƒì„ ë§í•œë‹¤ ì§€ì •ëœ ì¼ì‹œì •ì§€ ì‹œê°„ì´ ë‹¤ ë˜ê±°ë‚˜ íŠ¹ì • ë©”ì„œë“œ(notify(), interrupt()) í˜¸ì¶œì´ ë°œìƒí•˜ë©´ ë‹¤ì‹œ RUNNABLE ìƒíƒœë¡œ ëŒì•„ê°€ ì‹¤í–‰ëŒ€ê¸°ì—´ì— ì €ì¥ëœë‹¤ BLOCKED ? TERMINATED ì“°ë ˆë“œì˜ ì‘ì—…ì´ ì¢…ë£Œëœ ìƒíƒœë¥¼ ë§í•œë‹¤ ì‘ì—…ì´ ì¢…ë£Œëœ ì“°ë ˆë“œëŠ” ì†Œë©¸ë˜ë¯€ë¡œ ì‚¬ì‹¤ìƒ ì“°ë ˆë“œê°€ ì´ ìƒíƒœë¡œ ìˆëŠ”ê²ƒì€ ì•„ë‹ˆë‹¤ ì•„ë˜ëŠ” ì“°ë ˆë“œì˜ ìƒíƒœë¥¼ ì œì–´í•˜ëŠ” ì£¼ìš” ë©”ì„œë“œë“¤ì— ëŒ€í•œ ì„¤ëª…ì´ë‹¤ start ìœ„ì—ì„œ ì–¸ê¸‰í•œ ê²ƒì²˜ëŸ¼, ì“°ë ˆë“œë¥¼ ì‹¤í–‰ì‹œí‚¤ëŠ” ë©”ì„œë“œì´ë‹¤ ë°”ë¡œ RUNNING ìƒíƒœê°€ ë˜ì§€ëŠ” ì•Šê³  RUNNABLE ìƒíƒœë¡œ ë˜ì—ˆë‹¤ê°€ ìê¸° ì°¨ë¡€ê°€ ë˜ë©´ RUNNING ìƒíƒœê°€ ëœë‹¤ join ì§€ì •í•œ ì“°ë ˆë“œì˜ ì‘ì—…ì´ ëë‚  ë•Œ ê¹Œì§€ ê¸°ë‹¤ë¦¬ëŠ” ë©”ì„œë“œì´ë‹¤ 1234567891011121314Thread thread1 = new Thread(new MyThread());Thread thread2 = new Thread(new MyThread());try &#123; thread1.start(); thread1.join(); // 1 thread2.start(); thread2.join(); // 2&#125; catch(InterruptedException e) &#123; // do nothing&#125;System.out.println("job ended"); // 3 join() ë©”ì„œë“œ ì‹¤í–‰ ì‹œ, ê¸°ë‹¤ë¦¬ëŠ” ëŒ€ìƒì€ í•´ë‹¹ ì“°ë ˆë“œë¥¼ ì‹¤í–‰í•œ ì“°ë ˆë“œì´ë‹¤ thread1, thread2ë¥¼ ì‹¤í–‰í•œ ì“°ë ˆë“œë¥¼ ë©”ì¸ ì“°ë ˆë“œë¼ê³  ê°€ì •í•œë‹¤ë©´, main threadëŠ” thread1 ì„ ì‹¤í–‰í•˜ê³ , thread1 ì˜ ì‘ì—…ì´ ëë‚  ë•Œ ê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤ ë©”ì„œë“œì˜ ì¸ìë¡œ ë°€ë¦¬ì´ˆë‚˜ ë‚˜ë…¸ì´ˆë¥¼ ì¤˜ì„œ íŠ¹ì • ì‹œê°„ ë™ì•ˆë§Œ ê¸°ë‹¤ë¦¬ê²Œë„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤ thread1ì˜ ì‘ì—…ì´ ëë‚œ ë’¤ mani threadëŠ” thread2 ë¥¼ ì‹¤í–‰í•˜ê³ , thread2 ì˜ ì‘ì—…ì´ ëë‚  ë•Œ ê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤ thread2ì˜ ì‘ì—…ì´ ëë‚˜ê³  ë‚˜ë©´ main threadì˜ ë§ˆì§€ë§‰ ë¶€ë¶„ì„ ì‹¤í–‰í•˜ê³ , main threadëŠ” ì¢…ë£Œëœë‹¤ ë³´ë‹¤ì‹œí”¼ join ë©”ì„œë“œëŠ” í•œ ì“°ë ˆë“œì˜ ì‘ì—… ì¤‘ê°„ì— ë‹¤ë¥¸ ì“°ë ˆë“œì˜ ì‘ì—…ì´ í•„ìš”í•  ê²½ìš° ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ sleep ì§€ì •í•œ ì‹œê°„ë™ì•ˆ ì‘ì—…ì„ ì¼ì‹œì •ì§€ ìƒíƒœë¡œ ë“¤ì–´ê°€ëŠ” ë©”ì„œë“œì´ë‹¤ static ë©”ì„œë“œë¡œ ì œê³µë˜ë©°(ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œëŠ” deprecated ë˜ì—ˆë‹¤), ì´ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ì“°ë ˆë“œê°€ ì§€ì •í•œ ì‹œê°„ë§Œí¼ ì¼ì‹œì •ì‹œ ìƒíƒœê°€ ëœë‹¤ 12345678Thread thread = new Thread(new MyThread());thread.start();try &#123; Thread.sleep(5000);&#125; catch(InterruptedException e) &#123; //&#125; 5000 millisecond ì´ê¸° ë•Œë¬¸ì— 5ì´ˆê°„ WAITTING ìƒíƒœê°€ ëœë‹¤ 5ì´ˆê°€ ì§€ë‚œ í›„ ë‹¤ì‹œ RUNNABLE ìƒíƒœê°€ ë˜ì–´ ì‹¤í–‰ëŒ€ê¸°ì—´ì— ì €ì¥ëœë‹¤ yield RUNNABLE ìƒíƒœë¡œ ë“¤ì–´ê°€ë©´ì„œ ë‹¤ë¥¸ ì“°ë ˆë“œì—ê²Œ ì‘ì—…ì„ ì–‘ë³´í•˜ëŠ” ë©”ì„œë“œì´ë‹¤ ì´ ë˜í•œ static ë©”ì„œë“œë¡œ ì œê³µë˜ë©°, ì´ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ì“°ë ˆë“œê°€ RUNNABLE ìƒíƒœë¡œ ë“¤ì–´ê°€ê²Œ ëœë‹¤ ë‹¤ë¥¸ ë©”ì„œë“œë“¤ê³¼ì˜ ì°¨ì´ì ì€ WAITING ìƒíƒœë¡œ ë“¤ì–´ê°€ì§€ ì•Šê³  ë°”ë¡œ RUNNABLE ë¡œ ë“¤ì–´ê°„ë‹¤ëŠ” ì ì´ë‹¤ 12345678910111213141516171819class MyThread implements Runnable &#123; @Override public void run() &#123; // 1000ë²ˆ loop for(long i = 0; i &lt; 1000; i++) &#123; &#125; System.out.println("sub thread has been terminated"); &#125;&#125;class Main &#123; public void static main(String[] args) &#123; Thread thread = new Thread(new MyThread()); thread.start(); Thread.yield(); System.out.println("main thread has been terminated"); &#125;&#125; ì›ë˜ë¼ë©´ main thread ì¢…ë£Œ ë¬¸êµ¬ -&gt; sub thread ì¢…ë£Œ ë¬¸êµ¬ ì˜ ìˆœì„œë¡œ ì¶œë ¥ë˜ì–´ì•¼ í•˜ì§€ë§Œ, main thread ì—ì„œ yield ë¡œ ë‹¤ë¥¸ ì“°ë ˆë“œì—ê²Œ ì‹¤í–‰ì„ ì–‘ë³´í•¨ìœ¼ë¡œì¨ sub threadê°€ ë¨¼ì € ì¢…ë£Œë¨ì„ ë³¼ ìˆ˜ ìˆë‹¤ ì“°ë ˆë“œì˜ ì‹¤í–‰ì„ ì–‘ë³´í•˜ê³  RUNNABLE ìƒíƒœë¡œ ë“¤ì–´ê°„ ê²ƒì´ê¸° ë•Œë¬¸ì—, sub threadì˜ ì‘ì—… ì‹œê°„ì´ CPU ìŠ¤ì¼€ì¤„ë§ì—ì„œ ì“°ë ˆë“œì— í• ë‹¹í•˜ëŠ” ì‘ì—… ì‹œê°„ë³´ë‹¤ ê¸¸ ê²½ìš°, main thread ì¢…ë£Œ ë¬¸êµ¬ê°€ ë¨¼ì € ì¶œë ¥ë  ê²ƒì´ë‹¤ WAITING ìƒíƒœë¡œ ë“¤ì–´ê°€ëŠ” join ê³¼ëŠ” ë‹¤ë¥´ë‹¤ suspend, resume, stop ì´ 3ê°œì˜ ë©”ì„œë“œëŠ” ì“°ë ˆë“œë¥¼ êµì°©ìƒíƒœ(dead-lock)ì— ë¹ íŠ¸ë¦´ ìˆ˜ ìˆì–´ deprecated ë˜ì—ˆë‹¤ ê·¸ë ‡ë‹¤ê³  ì‚¬ìš© ëª»í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆê³ , ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í•˜ì—¬ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤ 12345678910111213141516171819202122232425262728293031323334353637383940414243class MyThread implements Runnable &#123; private boolean suspended = false; private boolean stopped = false; private Thread thread; public MyThread(String name) &#123; thread = new Thread(this, name); &#125; @Override public void run() &#123; while(!stopped) &#123; if(!suspended) &#123; try &#123; // &#125; catch(InterruptedException e) &#123; System.out.println(name + " interrupted"); &#125; &#125; else &#123; Thread.yield(); &#125; &#125; &#125; public void suspend() &#123; suspended = true; thread.interrupt(); &#125; public void resume() &#123; suspended = false; &#125; public void stop() &#123; stopped = true; thread.interrupt(); &#125; public void start() &#123; thread.start(); &#125;&#125; stopped, suspended flag ê°’ìœ¼ë¡œ ê¸°ì¡´ì˜ suspend(), stop() ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ì˜€ë‹¤ ê²Œë‹¤ê°€ suspend ìƒíƒœì¼ë•ŒëŠ” Thread.yield() ë¥¼ ë°œìƒì‹œì¼œ ë¶ˆí•„ìš”í•œ while ë¬¸ì„ ëŒì§€ ì•Šë„ë¡ í•˜ì˜€ìœ¼ë©°, stop()ê³¼ suspend() ì‹œì— interrupt()ë¥¼ ë°œìƒì‹œì¼œ threadê°€ WAITING ìƒíƒœë¼ë©´ ê¹¨ì›Œì„œ RUNNABLE ìƒíƒœë¡œ ê°€ë„ë¡ ì„¤ì •í•˜ì˜€ë‹¤ (interrupt() ì‹œì— WAITING ìƒíƒœê°€ ì•„ë‹ˆë¼ë©´ ì•„ë¬´ì¼ë„ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤) ì“°ë ˆë“œì˜ ë™ê¸°í™” ë©€í‹° ì“°ë ˆë“œ í™˜ê²½ì˜ ê²½ìš° ì—¬ëŸ¬ ì“°ë ˆë“œê°€ ê°™ì€ í”„ë¡œì„¸ìŠ¤ ë‚´ì˜ ìì›ì„ ê³µìœ í•˜ê¸° ë•Œë¬¸ì—, ì„œë¡œì˜ ì‘ì—…ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆë‹¤ ìë°”ì˜ ê²½ìš°, í™ ì˜ì—­ì˜ ê²½ìš° JVM í”„ë¡œì„¸ìŠ¤ê°€ ê³µìœ í•˜ëŠ” ì˜ì—­ì´ê³ , ìŠ¤íƒ ì˜ì—­ì˜ ê²½ìš° ê° ì“°ë ˆë“œë§ˆë‹¤ ë³„ê°œë¡œ ê°€ì§€ëŠ” ì˜ì—­ì´ë‹¤ ê·¸ëŸ¬ë¯€ë¡œ ìš°ë¦¬ëŠ” í•­ìƒ í™ ì˜ì—­ì˜ ë°ì´í„°ë¥¼ ì‚¬ìš©í•  ê²½ìš° ì£¼ì˜ë¥¼ ê¸°ìš¸ì—¬ì•¼ í•œë‹¤ ì•„ë˜ëŠ” í™ ì˜ì—­ì˜ ë°ì´í„°ë¥¼ ê³µìœ í•¨ìœ¼ë¡œì¨ ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” ê²ƒì— ëŒ€í•œ ì˜ˆì‹œì´ë‹¤ 1234567891011121314151617181920212223242526272829303132333435363738class Account &#123; int amount; public Account(int amount) &#123; this.amount = amount; &#125; public void withdraw(int money) &#123; if(amount &gt;= money) &#123; amount-=money; &#125; &#125;&#125;class MyThread implements Runnable &#123; private Account account; public MyThread(Account account) &#123; this.account = account; &#125; @Override public void run() &#123; account.withdraw(1000); &#125;&#125;class Main &#123; public void static main(String[] args) &#123; Account account = new Account(1000); Thread thread1 = new Thread(new MyThread(account)); Thread thread2 = new Thread(new MyThread(account)); thread1.start(); thread2.start(); &#125;&#125; ì”ê³  1000ì›ì˜ ê³„ì¢Œë¥¼ ìƒì„±í•˜ê³ , 1000ì›ì„ ì¶œê¸ˆí•˜ëŠ” ì“°ë ˆë“œë¥¼ 2ê°œ ìƒì„±í•˜ì—¬ ë™ì‹œì— ì‹¤í–‰ì‹œì¼°ë‹¤ ê²°ê³¼ë¡œ í•­ìƒ 0ì›ì´ ë‚˜ì˜¬ê²ƒì´ë¼ ìƒê°í–ˆì§€ë§Œ, ëŒë ¤ë³´ë©´ -1000ì›ì´ ë‚˜ì˜¬ìˆ˜ë„ ìˆë‹¤ (ìœ„ ì •ë„ì˜ ì‘ì—…ì—ì„œëŠ” ê±°ì˜ ë¬´ì¡°ê±´ 0ì›ì´ ë‚˜ì˜¤ë¯€ë¡œ, if ë¬¸ ì•ˆì— Thread.sleep ì„ ì¡°ê¸ˆ ê±¸ê³  í…ŒìŠ¤íŠ¸í•´ë³´ë©´ í™•ì¸í•  ìˆ˜ ìˆë‹¤) ì´ëŠ” thread1ê³¼ thread2ê°€ account ê°ì²´ë¥¼ ê³µìœ í•˜ê¸° ë•Œë¬¸ì— ë°œìƒí•˜ëŠ” ë¬¸ì œì´ë‹¤ ì˜ˆë¥¼ ë“¤ë©´ thread1ì´ ifë¬¸ì„ í†µê³¼í•˜ê³  ì•„ì§ amountë¥¼ ì°¨ê°í•˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ, thread2ê°€ ifë¬¸ì„ í†µê³¼í•˜ëŠ” ê²½ìš°ê°€ ë  ê²ƒì´ë‹¤ ì´ëŸ° ìƒí™©ì´ ë°œìƒí•˜ë©´ ê²°êµ­ ë‘ ì“°ë ˆë“œ ëª¨ë‘ amount ê°’ì„ ì°¨ê°í•˜ê²Œ ë˜ê³ , ìš°ë¦¬ëŠ” ìŒìˆ˜ ê²°ê³¼ê°’ì„ ë°›ì•„ë³´ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤ ì“°ë ˆë“œ í”„ë¡œê·¸ë¨ ì‘ì„±ì‹œì— ìŠ¤íƒë‚´ì˜ ë³€ìˆ˜ë§Œì„ ì‚¬ìš©í•˜ì—¬ ìœ„ì™€ ê°™ì€ ìƒí™©ì„ ì•ˆ ë§Œë“¤ë©´ ë˜ì§€ ì•ŠëŠëƒê³  ìƒê°í•  ìˆ˜ ìˆì§€ë§Œ, ë¡œì§ì„ ì²˜ë¦¬í•˜ë‹¤ ë³´ë©´ ê²°êµ­ì—ëŠ” ìœ„ì™€ ê°™ì´ ê³µìš© ë³€ìˆ˜ì— ì ‘ê·¼í•˜ëŠ” ìˆœê°„ì´ ë°œìƒí•˜ë¯€ë¡œ, ìœ„ì™€ ê°™ì€ í˜„ìƒì€ í”¼í•  ìˆ˜ ì—†ë‹¤ ê·¸ëŸ¬ë¯€ë¡œ ìœ„ withdraw ê°™ì€ ë©”ì„œë“œë“¤ì€ í•˜ë‚˜ì˜ ì“°ë ˆë“œì—ì„œ ì ‘ê·¼í•˜ê³  ìˆì„ ê²½ìš° ë‹¤ë¥¸ ì“°ë ˆë“œì—ì„œ ì ‘ê·¼í•˜ì§€ ëª»í•˜ë„ë¡ ë½ì„ ê±¸ì–´ ë°ì´í„°ê°€ í‹€ì–´ì§€ëŠ” ê²ƒì„ ë°©ì§€í•´ì•¼ í•˜ëŠ”ë°, ì´ë¥¼ ë™ê¸°í™”ë¼ê³  í•œë‹¤ ìë°”ì—ì„œëŠ” snychronized í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ ì´ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆê³ , ë°©ë²•ì€ ì•„ë˜ì™€ ê°™ì´ ë©”ì„œë“œì— synchronized ë¥¼ ì„ ì–¸í•˜ëŠ” ë°©ë²•ê³¼, synchronized blockì„ ì„ ì–¸í•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤ 12345678910111213141516171819/** * synchronized method**/public synchronized void withdraw(int money) &#123; if(amount &gt;= money) &#123; amount-=money; &#125;&#125;/** * synchronized block**/public void withdraw(int money) &#123; synchronized(this) &#123; if(amount &gt;= money) &#123; amount-=money; &#125; &#125;&#125; ê·¸ë¦¬ê³  ì´ëŸ°ì‹ì˜ ë™ê¸°í™” ë¸”ë¡ì„ ì‚¬ìš©í•´ì„œ í”„ë¡œê·¸ë¨ì„ ì‘ì„±ì‹œì—ëŠ” êµì°©ìƒíƒœ(dead-lock)ì„ í•­ìƒ ì£¼ì˜í•´ì¤˜ì•¼ í•œë‹¤ ë§Œì•½ threadê°€ ë½ì„ ê±´ ìƒíƒœì—ì„œ ì •ì§€ë˜ê±°ë‚˜ ì¢…ë£Œëœë‹¤ë©´ ì´ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ë‹¤ë¥¸ ì“°ë ˆë“œë“¤ì´ ì „ë¶€ ë°ë“œë½ì— ë¹ ì§€ê¸° ë–„ë¬¸ì´ë‹¤ ì´ê°™ì€ ì´ìœ ë¡œ suspend(), stop() ë©”ì„œë“œë“±ì´ deprecated ë˜ì—ˆë‹¤ wait, notify í•œ ì“°ë ˆë“œê°€ ê°ì²´ì— lockì„ ê±¸ ê²½ìš°, ì´ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ë ¤ëŠ” ë‹¤ë¥¸ ì“°ë ˆë“œë“¤ì€ lock ì´ í’€ë¦´ë–„ê¹Œì§€ ë¬´ì‘ì • ê°™ì´ ê¸°ë‹¤ë ¤ì•¼í•˜ëŠ” ë¹„íš¨ìœ¨ì´ ë°œìƒí•˜ê²Œ ëœë‹¤ ì´ ê°™ì€ ìƒí™©ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ë‚˜ì˜¨ ë©”ì„œë“œê°€ wait()ê³¼ notify()ì´ë‹¤ wait()ê³¼ notify(), notifyAll()ì€ Object í´ë˜ìŠ¤ì— ì •ì˜ëœ ë©”ì„œë“œì´ë¯€ë¡œ ëª¨ë“  ê°ì²´ì—ì„œ í˜¸ì¶œì´ ê°€ëŠ¥í•˜ë©°, synchronized ë¸”ë¡ ë‚´ì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ wait()ì´ í˜¸ì¶œë˜ë©´ ì“°ë ˆë“œëŠ” ì´ë•Œê¹Œì§€ ìê¸°ê°€ ê±¸ê³ ìˆë˜ ëª¨ë“  ë½ì„ ë‹¤ í’€ê³ , WAITING ìƒíƒœë¡œ ì „í™˜ë˜ë©´ì„œ wait()ì´ í˜¸ì¶œëœ ê°ì²´ì˜ ëŒ€ê¸°ì‹¤ì—ì„œ ëŒ€ê¸°í•˜ê²Œ ëœë‹¤ ê·¸ëŸ¬ë‹¤ê°€ ë‹¤ë¥¸ ì“°ë ˆë“œì— ì˜í•´ í•´ë‹¹ ê°ì²´ì˜ notify()ë‚˜ notifyAll()ì´ í˜¸ì¶œë˜ë©´, ê°ì²´ì˜ ëŒ€ê¸°ì‹¤ì—ì„œ ë‚˜ì™€ ë‹¤ì‹œ RUNNABLE ìƒíƒœë¡œ ë“¤ì–´ê°€ê²Œ ëœë‹¤ 12345678910111213141516171819202122class Account &#123; int amount; public Account(int amount) &#123; this.amount = amount; &#125; public synchronized void withdraw(int money) &#123; while(amount &lt; money) &#123; // 1 try &#123; wait(); // 2 &#125; catch(InterruptedException e) &#123; &#125; &#125; amount -= money; &#125; public synchronized void deposit(int money) &#123; balance += money; notifyAll(); // 3 &#125;&#125; ì „ë‹¬ë°›ì€ ê¸ˆì•¡ì„ ì¶œê¸ˆí•˜ê¸° ìœ„í•´ ë©”ì„œë“œì— ë½ì„ ê±¸ê³  ë“¤ì–´ì™”ìœ¼ë‚˜, ê°€ì§€ê³  ìˆëŠ” ì”ê³ ë³´ë‹¤ ì¶œê¸ˆí•˜ë ¤ëŠ” ê¸ˆì•¡ì´ ë” ë§ì€ ìƒí™©ì´ë‹¤ ê·¸ëŸ¬ë¯€ë¡œ ì¶œê¸ˆí•˜ì§€ ëª»í•˜ê³ , Account ê°ì²´ì˜ wait()ë¥¼ í˜¸ì¶œí•œë‹¤ withdraw ì— ê±¸ê³  ìˆëŠ” ë½ì´ í’€ë¦¬ê²Œ ëœë‹¤ ì“°ë ˆë“œëŠ” WAITING ìƒíƒœë¡œ ë“¤ì–´ê°€ê²Œ ëœë‹¤ ì“°ë ˆë“œëŠ” Account ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ì˜ ëŒ€ê¸°ì‹¤(waiting room)ì—ì„œ ê¸°ë‹¤ë¦¬ê²Œ ëœë‹¤ deposit ë©”ì„œë“œê°€ í˜¸ì¶œë˜ë©° ê¸ˆì•¡ì´ ì±„ì›Œì§€ê³ , notifyAll()ì„ í˜¸ì¶œí•œë‹¤ Account ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ì˜ ëŒ€ê¸°ì‹¤ì— ìˆëŠ” ëª¨ë“  ì“°ë ˆë“œë“¤ì„ ê¹¨ìš´ë‹¤ ê¹¨ì–´ë‚œ ì“°ë ˆë“œëŠ” 2ë²ˆì˜ ìœ„ì¹˜ì—ì„œ ë‹¤ì‹œ íë¦„ì„ ì´ì–´ê°€ê²Œ ë˜ëŠ”ë°, while ë¬¸ì´ë¯€ë¡œ ë‹¤ì‹œ ì¶œê¸ˆ ê°€ëŠ¥í•œì§€ ê²€ì‚¬í•˜ê²Œ ëœë‹¤ ifë¬¸ ëŒ€ì‹  whileë¬¸ì„ ì‚¬ìš©í•œ ì´ìœ ì´ë‹¤ nofiy() ëŒ€ì‹  notifyAll() ì„ ì‚¬ìš©í•˜ë‚˜ ì‚¬ì‹¤ ë³„ ì°¨ì´ëŠ” ì—†ì§€ë§Œ, notify()ë¥¼ ì‚¬ìš©í•´ì„œ í•œê°œì˜ ì“°ë ˆë“œë§Œ êº ìš¸ ê²½ìš° ì–´ë–¤ ì“°ë ˆë“œê°€ êº ì›Œì§ˆì§€ ì•Œìˆ˜ ì—†ê³ , ì´ë¡œì¸í•´ ìš°ì„ ìˆœìœ„ê°€ ë†’ì€ ì“°ë ˆë“œê°€ ê³„ì† poolì— ë¨¸ë¬¼ê²Œ ë  ìˆ˜ ë„ ìˆìœ¼ë¯€ë¡œ, notifyAll()ì„ í†µí•´ ëª¨ë“  ì“°ë ˆë“œë¥¼ êº ì›Œì„œ ìŠ¤ì¼€ì¤„ëŸ¬ì— ì˜í•´ ì²˜ë¦¬ë˜ë„ë¡ í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤ ì°¸ê³  : ë‚¨ê¶ì„±, ã€Javaì˜ ì •ì„ 2nd Editionã€, ë„ìš°ì¶œíŒ(2010)]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>java thread</tag>
        <tag>synchronized</tag>
        <tag>join()</tag>
        <tag>Thread.sleep()</tag>
        <tag>Thread.yield()</tag>
        <tag>wait()</tag>
        <tag>notify()</tag>
        <tag>notifyAll()</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[kubernetes] ë°°í¬ ì „ëµ]]></title>
    <url>%2Fkubernetes%2F%EB%B0%B0%ED%8F%AC-%EC%A0%84%EB%9E%B5%2F</url>
    <content type="text"><![CDATA[ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” 2ê°€ì§€ ë°©ë²•ìœ¼ë¡œ ë¬´ì¤‘ë‹¨ ë°°í¬ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤ ë¡¤ë§ ì—…ë°ì´íŠ¸ Deployment ì†ì„±ì¤‘ì— .specs.strategy.type ê°’ì„ í†µí•´ Pod êµì²´ì „ëµì„ ì§€ì •í•  ìˆ˜ ìˆëŠ”ë°, ì—¬ê¸°ì„œ RollingUpdate ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ë‹¤ RollingUpdateëŠ” ìš°ë¦¬ê°€ ì˜ ì•Œë‹¤ì‹œí”¼, Podë¥¼ í•˜ë‚˜ì”© ì£½ì´ê³  ìƒˆë¡œ ë„ìš°ë©´ì„œ ìˆœì°¨ì ìœ¼ë¡œ êµì²´í•˜ëŠ” ë°©ë²•ì´ë‹¤ RollingUpdate, Recreate 2ê°œì˜ ê°’ì´ ì¡´ì¬í•˜ë©° Recreateì˜ ê²½ìš° ê¸°ì¡´ íŒŒë“œë¥¼ ëª¨ë‘ ì‚­ì œí•œ ë‹¤ìŒ ìƒˆë¡œìš´ íŒŒë“œë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•ì´ë‹¤(ì´ ë°©ì‹ì€ ë¬´ì¤‘ë‹¨ì´ ì•„ë‹ˆë‹¤) ê¸°ë³¸ê°’ì€ RollingUpdate ì´ë‹¤ RollingUpdateë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ ë¨¼ì € deployment ì™€ serviceë¥¼ ì •ì˜í•œë‹¤ 12345678910111213141516171819apiVersion: apps/v1kind: Deploymentmetadata: name : test-deploymentspec: replicas: 4 selector: matchLabels: app: test-pod template: metadata: labels: app: test-pod spec: containers: - name: test-pod image: joont92/echo-version:1.0 # ë‹¨ìˆœíˆ ìš”ì²­ì„ ë°›ìœ¼ë©´ versionì„ ë¦¬í„´í•´ì£¼ëŠ” ì„œë²„ì´ë‹¤ ports: - containerPort: 8080 12345678910apiVersion: v1kind: Servicemetadata: name: test-servicespec: ports: - port: 80 targetPort: 8080 selector: app: test-pod deploymentì˜ ê¸°ë³¸ ì†ì„±ì´ RollingUpdate ì´ë¯€ë¡œ ë”°ë¡œ RollingUpdate ë¶€ë¶„ì„ ëª…ì‹œí•˜ì§€ ì•Šì•˜ë‹¤ ì´ì œ ë‹¤ë¥¸ Podì—ì„œ ìœ„ ì„œë¹„ìŠ¤ëª…ìœ¼ë¡œ í˜¸ì¶œí•˜ë©´ 1.0 ì´ë¼ëŠ” ë²„ì „ì„ ë¦¬í„´í•´ì£¼ê²Œ ëœë‹¤ ì´ë¥¼ 2.0ì„ ë¦¬í„´í•´ì£¼ëŠ” ì´ë¯¸ì§€ë¡œ ë°”ê¿€ê±´ë°, RollingUpdate ë¥¼ ì´ìš©í•˜ì—¬ ë°”ê¿”ë³´ë„ë¡ í•  ê²ƒì´ë‹¤ ë¨¼ì € ìœ„ì˜ ì„œë¹„ìŠ¤ ëª…ìœ¼ë¡œ í˜¸ì¶œí•˜ëŠ” Podë¥¼ í•˜ë‚˜ ë§Œë“¤ì–´ì•¼í•œë‹¤ 1234567891011121314151617apiVersion: v1kind: Podmetadata: name: update-checkerspec: containers: - name: update-checker image: joont92/update-chekcer:latest # curl ì´ ê¹”ë ¤ìˆëŠ” alpine ë¦¬ëˆ…ìŠ¤ command: - sh - -c - | while true do echo "[`date`] curl -s http://test-service/" sleep 1 done ì´ Podê°€ ëœ¨ê²Œë˜ë©´ 1ì´ˆë§ˆë‹¤ test-serviceë¥¼ í˜¸ì¶œí•˜ê²Œ ë˜ê³ , test-service ì—ì„œ ì‚¬ìš©í•˜ëŠ” Pod ê°€ ë°›ì•„ì„œ 0.1.0 ì´ë¼ëŠ” ê°’ì„ ë¦¬í„´í•´ì£¼ê²Œ ë  ê²ƒì´ë‹¤ 123[Sat Jul 13 14:08:27 UTC 2019] APP_VERSION=0.1.0[Sat Jul 13 14:08:28 UTC 2019] APP_VERSION=0.1.0... ì´ì œ Deployment ë‚´ Podì˜ ì´ë¯¸ì§€ë¥¼ ë°”ê¿”ì„œ ì ìš©ì‹œì¼œë³´ê² ë‹¤ ë¨¼ì € ë³€ê²½í•  ë‚´ìš©ì„ ì‘ì„±í•˜ê³ , 123456spec: template: spec: containers: - name: echo-version image: joont92/echo-version:0.2.0 # ë²„ì „ ë³€ê²½ ê¸°ì¡´ì˜ Deployment ì— ì ìš©í•œë‹¤ 1$ kubectl patch deplyment test-deployment -p "$(cat patch-deployment.yaml)" ì°¸ê³ ë¡œ ì•„ë˜ì²˜ëŸ¼ í• ìˆ˜ë„ ìˆë‹¤ 1$ kubectl set image deployment test-deployment test-pod=joont92/echo-version:0.2.0 ë³€ê²½ì‚¬í•­ì„ ì ìš©í•˜ì, ì»¨í…Œì´ë„ˆê°€ í•˜ë‚˜ì”© ì‚­ì œë˜ê³  ìƒì„±ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤ 123456789101112131415161718192021222324252627$ kubectl get pod -l app:test-pod -wNAME READY STATUS RESTARTS AGEtest-deployment-6b8d4f7967-9gwxl 0/1 Terminating 0 46stest-deployment-6b8d4f7967-f9nlf 1/1 Running 0 48stest-deployment-6b8d4f7967-knrws 1/1 Running 0 48stest-deployment-6b8d4f7967-wkd4l 0/1 Terminating 0 46stest-deployment-86658bfcfd-4kf2z 1/1 Running 0 3stest-deployment-86658bfcfd-ckxvx 0/1 ContainerCreating 0 1stest-deployment-86658bfcfd-d4znq 0/1 ContainerCreating 0 3stest-deployment-86658bfcfd-d4znq 1/1 Running 0 4stest-deployment-6b8d4f7967-knrws 1/1 Terminating 0 49stest-deployment-86658bfcfd-s96t6 0/1 Pending 0 0stest-deployment-86658bfcfd-s96t6 0/1 Pending 0 0stest-deployment-86658bfcfd-s96t6 0/1 ContainerCreating 0 1stest-deployment-6b8d4f7967-wkd4l 0/1 Terminating 0 49stest-deployment-6b8d4f7967-wkd4l 0/1 Terminating 0 49stest-deployment-86658bfcfd-ckxvx 1/1 Running 0 4stest-deployment-6b8d4f7967-f9nlf 1/1 Terminating 0 51stest-deployment-6b8d4f7967-knrws 0/1 Terminating 0 52stest-deployment-6b8d4f7967-knrws 0/1 Terminating 0 52stest-deployment-6b8d4f7967-knrws 0/1 Terminating 0 52stest-deployment-86658bfcfd-s96t6 1/1 Running 0 4stest-deployment-6b8d4f7967-f9nlf 0/1 Terminating 0 54stest-deployment-6b8d4f7967-f9nlf 0/1 Terminating 0 54stest-deployment-6b8d4f7967-f9nlf 0/1 Terminating 0 54stest-deployment-6b8d4f7967-9gwxl 0/1 Terminating 0 53stest-deployment-6b8d4f7967-9gwxl 0/1 Terminating 0 53s ë¡¤ë§ ì—…ë°ì´íŠ¸ ë™ì‘ ì œì–´ Deploymentì˜ .specs.strategy ì†ì„±ì„ ì„¤ì •í•˜ì—¬ ë¡¤ë§ ì—…ë°ì´íŠ¸ì˜ ë™ì‘ì„ ì œì–´í•  ìˆ˜ ìˆë‹¤ 123456789101112131415161718192021222324apiVersion: apps/v1kind: Deploymentmetadata: name : test-deploymentspec: replicas: 4 strategy: # ìš”ê¸° type: RollingUpdate rollingUpdate: maxUnvailable: 3 maxSurge: 4 selector: matchLabels: app: test-pod template: metadata: labels: app: test-pod spec: containers: - name: test-pod image: joont92/echo-version:0.1.0 ports: - containerPort: 8080 maxUnvaliableì€ ë¡¤ë§ ì—…ë°ì´íŠ¸ì‹œ ë™ì‹œì— ì‚­ì œí•  ìˆ˜ ìˆëŠ” íŒŒë“œì˜ ìµœëŒ€ ê°œìˆ˜ë¥¼ ì˜ë¯¸í•˜ê³ , maxSurgeëŠ” ë™ì‹œì— ìƒì„±ë  ìˆ˜ ìˆëŠ” íŒŒë“œì˜ ìµœëŒ€ ê°œìˆ˜ë¥¼ ì˜ë¯¸í•œë‹¤ (ë‘˜ ë‹¤ ê¸°ë³¸ê°’ì€ replicas ê°’ì˜ 25%ì´ë‹¤) ì´ ê°’ì„ ì ì ˆíˆ ìˆ˜ì •í•˜ë©´ RollingUpdate ì‹œê°„ì„ ë‹¨ì¶•í•  ìˆ˜ ìˆìœ¼ë‚˜, ê°‘ìê¸° í•œ Podì— ë¶€í•˜ê°€ ëª°ë¦¬ê±°ë‚˜ ì„œë²„ì˜ ë¦¬ì†ŒìŠ¤ê°€ ì ê¹ ê¸‰ì¦í•˜ëŠ” ì‚¬ì´ë“œì´íŒ©íŠ¸ë„ ìˆìœ¼ë‹ˆ ì˜ ì„¤ì •í•´ì¤˜ì•¼ í•œë‹¤ ë¸”ë£¨-ê·¸ë¦° ë¡¤ë§ ì—…ë°ì´íŠ¸ëŠ” ê°•ë ¥í•˜ì§€ë§Œ, êµ¬ë²„ì „ê³¼ ìƒˆë²„ì „ì´ ê³µì¡´í•˜ëŠ” ì‹œê°„ì´ ë°œìƒí•œë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤ ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ”ê²Œ ì´ ë¸”ë£¨-ê·¸ë¦° ë°°í¬ ì¸ë°, ì´ëŠ” ì„œë²„ë¥¼ ìƒˆë²„ì „ê³¼ êµ¬ë²„ì „ìœ¼ë¡œ 2ì„¸íŠ¸ë¥¼ ë§ˆë ¨í•˜ê³ , ì´ë¥¼ í•œêº¼ë²ˆì— êµì²´í•˜ëŠ” ë°©ë²•ì´ë‹¤ ê¸°ì¡´ì— ì•„ë˜ì™€ ê°™ì´ Service, Deploymentê°€ ìƒì„±ë˜ì–´ ìˆì—ˆë‹¤ê³  ì¹˜ì 123456789101112131415161718192021apiVersion: apps/v1kind: Deploymentmetadata: name : test-deployment-bluespec: replicas: 4 selector: matchLabels: app: test-pod color: blue template: metadata: labels: app: test-pod color: blue spec: containers: - name: test-pod image: joont92/echo-version:0.1.0 # êµ¬ë²„ì „ ports: - containerPort: 8080 1234567891011apiVersion: v1kind: Servicemetadata: name: test-servicespec: ports: - port: 80 targetPort: 8080 selector: app: test-pod color: blue blue-green ë°°í¬ë¥¼ í•˜ê¸° ìœ„í•´, ìƒˆë¡œìš´ ë²„ì „ì´ ì ìš©ëœ Deployment ì„¸íŠ¸ë¥¼ í•˜ë‚˜ ë” ì¤€ë¹„í•œë‹¤ 123456789101112131415161718192021apiVersion: apps/v1kind: Deploymentmetadata: name : test-deployment-greenspec: replicas: 4 selector: matchLabels: app: test-pod color: green template: metadata: labels: app: test-pod color: green spec: containers: - name: test-pod image: joont92/echo-version:0.2.0 # ì‹ ë²„ì „ ports: - containerPort: 8080 ì•„ë˜ê°€ ë¸”ë£¨-ê·¸ë¦° ë°°í¬ë¥¼ í•˜ê¸° ìœ„í•œ í•µì‹¬ ë¶€ë¶„ì´ë‹¤ 123spec: selector: color: green 1$ kubectl patch service test-service -p "$(cat patch-service.yaml)" test-serviceì˜ label selectorê°€ ì—…ë°ì´íŠ¸ ë¨ìœ¼ë¡œì¨, test-serviceëŠ” ìƒˆë¡œ ë°°í¬ëœ Pod ë“¤ë§Œì„ ë°”ë¼ë³´ê²Œ ë³€ê²½ë˜ì—ˆë‹¤ ì´ì²˜ëŸ¼ êµ¬ë²„ì „ê³¼ ì‹ ë²„ì „ì´ ê³µì¡´í•˜ëŠ” í…€ì´ ì—†ì´ ë°”ë¡œ ì‹ ë²„ì „ìœ¼ë¡œ ì „í™˜í•  ìˆ˜ ìˆë‹¤(!!) ê²Œë‹¤ê°€ ë§Œì•½ ìƒˆë¡œ ë°°í¬ëœ ë²„ì „ì— ë¬¸ì œê°€ ë°œìƒí•œë‹¤ë©´, ë‹¤ì‹œ test-serviceì˜ labelì„ blueë¡œ ëŒë ¤ì¤Œìœ¼ë¡œì¨ ì‰½ê²Œ ë¡¤ë°±ë„ ê°€ëŠ¥í•˜ë‹¤ ê¸°ì¡´ì— ë¬¼ë ¤ìˆë˜ íŠ¸ë˜í”½ì— ëŒ€í•´ì„œëŠ”â€¦ ë¡¤ë§ë°°í¬ì™€ ë¸”ë£¨ê·¸ë¦° ë°°í¬ì—ì„œ ì°¨ì´ì ì´ ë­˜ê¹Œ? ì°¸ê³  : ì•¼ë§ˆë‹¤ ì•„í‚¤ë…¸ë¦¬, ã€ë„ì»¤/ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ í™œìš©í•œ ì»¨í…Œì´ë„ˆ ê°œë°œ ì‹¤ì „ ì…ë¬¸ã€, ì‹¬íš¨ì„­ ì˜®ê¹€, ìœ„í‚¤ë¶ìŠ¤(2019)]]></content>
      <categories>
        <category>kubernetes</category>
      </categories>
      <tags>
        <tag>ë„ì»¤/ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ í™œìš©í•œ ì»¨í…Œì´ë„ˆ ê°œë°œ ì‹¤ì „ ì…ë¬¸</tag>
        <tag>RollingUpdate</tag>
        <tag>Blue-Green</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[kubernetes] kubectl context]]></title>
    <url>%2Fkubernetes%2Fkubectl-context%2F</url>
    <content type="text"><![CDATA[ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ë¥¼ ê´€ë¦¬í•˜ëŠ” cli ë„êµ¬ì¸ kubectlì—ëŠ” í™˜ê²½ì„ ë°”ê¿”ê°€ë©° í´ëŸ¬ìŠ¤í„°ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” context ë¼ëŠ” ê¸°ëŠ¥?ì´ ì¡´ì¬í•œë‹¤ ì˜ˆë¥¼ ë“¤ì–´ ë‚´ ë¡œì»¬ pcì— ì„¤ì¹˜ëœ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ìš© context ë¥¼ ì‚¬ìš©í•˜ë©´ kubectl ëª…ë ¹ìœ¼ë¡œ ë‚´ ë¡œì»¬ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ë¥¼ ì»¨íŠ¸ë¡¤ í•  ìˆ˜ ìˆê²Œë˜ë©°, GCPì— ìˆëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ìš© contextë¥¼ ì‚¬ìš©í•˜ë©´ kubectlë¡œ GCP ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ë¥¼ ì»¨íŠ¸ë¡¤ í•  ìˆ˜ ìˆê²Œ ë˜ëŠ” ê²ƒì´ë‹¤ ì„¤ì • context ëŠ” kubectl ì„ ê¹”ë©´ ìƒì„±ë˜ëŠ” íŒŒì¼ì¸ ~/.kube/config íŒŒì¼ì—ì„œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤ ì•„ë˜ëŠ” ë‚´ PCì˜ config íŒŒì¼ì´ë‹¤(ë³´ê¸°ì‰½ê²Œ ì¡°ê¸ˆ ìˆ˜ì •í–ˆë‹¤) 123456789101112131415161718192021222324252627282930313233apiVersion: v1clusters:- cluster: insecure-skip-tls-verify: true server: https://localhost:6443 name: local-cluster- cluster: certificate-authority-data: ~~~~ server: https://xxx.xxx.xxx.xxx name: gcp-clusterusers:- name: local-user user: blah blah- name: gcp-user user: blah blahcontexts:- context: cluster: gcp-cluster user: gcp-user name: gcp-context- context: cluster: local-cluster user: local-user name: local-contextcurrent-context: local-contextkind: Configpreferences: &#123;&#125; í¬ê²Œ clusters, users, contexts ê°€ ìˆë‹¤ clusters ë§ ê·¸ëŒ€ë¡œ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì˜ ì •ë³´ì´ë‹¤ ë‚´ PCì— ì„¤ì¹˜ëœ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì™€, GCPì— ì„¤ì¹˜ëœ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ê°€ ìˆìŒì„ ë³¼ ìˆ˜ ìˆë‹¤ ê° í´ëŸ¬ìŠ¤í„°ì˜ ì´ë¦„ì„ local-cluster, gcp-clusterë¡œ ìˆ˜ì •í•´ì„œ ì•Œì•„ë³´ê¸° ì‰½ê²Œ í•´ë†“ì•˜ë‹¤ ì²˜ìŒ í´ëŸ¬ìŠ¤í„° ìƒì„±í•˜ë©´ ì¡°ê¸ˆ ë³µì¡?í•œ ì´ë¦„ìœ¼ë¡œ ìƒì„±ë˜ëŠ”ë°, ìœ„ì²˜ëŸ¼ ìì‹ ì´ ì•Œì•„ë³´ê¸° ì‰½ê²Œ ë°”ê¿”ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤ users í´ëŸ¬ìŠ¤í„°ì— ì ‘ê·¼í•  ìœ ì €ì˜ ì •ë³´ì´ë‹¤ ê° í™˜ê²½ë§ˆë‹¤ í•„ìš”í•œ ê°’ë“¤ì´ ë‹¤ë¥´ë‹¤ ì´ ë˜í•œ ì•Œì•„ë³´ê¸° ì‰½ê²Œ local-user, gcp-user ë¡œ ìˆ˜ì •í•´ë†“ì•˜ë‹¤ context clusterì™€ userë¥¼ ì¡°í•©í•´ì„œ ìƒì„±ëœ ê°’ì´ë‹¤ clusterì˜ ì†ì„±ê°’ìœ¼ë¡œëŠ” ìœ„ì—ì„œ ì‘ì„±í•œ clusterì˜ nameì„ ì§€ì •í–ˆê³ , userì˜ ì†ì„±ê°’ ë˜í•œ ìœ„ì—ì„œ ì‘ì„±í•œ userì˜ nameì„ ì§€ì •í–ˆë‹¤ local-contextëŠ” local-user ì •ë³´ë¡œ local-clusterì— ì ‘ê·¼í•˜ëŠ” í•˜ë‚˜ì˜ setê°€ ë˜ëŠ” ê²ƒì´ë‹¤ current-context í˜„ì¬ ì‚¬ìš©í•˜ëŠ” context ë¥¼ ì§€ì •í•˜ëŠ” ë¶€ë¶„ì´ë‹¤ í˜„ì¬ local-context ë¥¼ ì‚¬ìš©í•˜ë¼ê³  ì„¤ì •í•´ë†“ì•˜ìœ¼ë¯€ë¡œ, í„°ë¯¸ë„ì—ì„œ kubectl ëª…ë ¹ì„ ì…ë ¥í•˜ë©´ ë¡œì»¬ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ë¥¼ ê´€ë¦¬í•˜ê²Œ ëœë‹¤ context ì¡°íšŒ ë° ë³€ê²½(feat. kubectx) ê°€ì¥ ë‹¨ìˆœí•œ ë°©ë²•ìœ¼ë¡œëŠ” ~/.kube/config íŒŒì¼ì„ ì»¨íŠ¸ë¡¤í•˜ì—¬ contextë¥¼ ì¡°íšŒí•˜ê±°ë‚˜ ìˆ˜ì •í•˜ëŠ” ë°©ë²•ì´ ìˆê³ , ê·¸ ë‹¤ìŒ ë°©ë²•ìœ¼ë¡œëŠ” kubectl config ëª…ë ¹ì„ ì´ìš©í•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤ 123456789# gcp-context ë¡œ ë³€ê²½$ kubectl config use-context gcp-context# context ì¡°íšŒ$ kubectl config get-contextsCURRENT NAME CLUSTER AUTHINFO NAMESPACE* gcp-context gcp-cluster gcp-user local-context local-cluster local-user í•˜ì§€ë§Œ ì´ê²ƒë³´ë‹¤ kubectx ë¼ëŠ” ë” ìµœì í™”ëœ ë„êµ¬ê°€ ìˆë‹¤ github : https://github.com/ahmetb/kubectx ê°„ë‹¨í•˜ê²Œ brew ë¡œ ì„¤ì¹˜í•  ìˆ˜ ìˆë‹¤ ì•„ë˜ëŠ” ê°„ë‹¨í•œ ì‚¬ìš©ë²•ì´ë‹¤ 12345678910# context ì¡°íšŒ$ kubectlgcp-context # ë…¸ë€ìƒ‰ìœ¼ë¡œ í‘œì‹œlocal-context# local-context ë¡œ ë³€ê²½$ kubectx local-context# ì´ì „ contextë¡œ ëŒì•„ê°€ê¸°$ kubectx -]]></content>
      <categories>
        <category>kubernetes</category>
      </categories>
      <tags>
        <tag>kubectl context change</tag>
        <tag>kubectx</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[docker] network êµ¬ì¡°]]></title>
    <url>%2Fdocker%2Fnetwork-%EA%B5%AC%EC%A1%B0%2F</url>
    <content type="text"><![CDATA[ë„ì»¤ë¥¼ ê³µë¶€í•˜ë©´ì„œ ë„¤íŠ¸ì›Œí¬ ë¶€ë¶„ì—ì„œ ì•Œê²Œëœ ë¶€ë¶„ì€ ì•„ë˜ì™€ ê°™ì•˜ë‹¤ ë„ì»¤ ì»¨í…Œì´ë„ˆë¥¼ ë„ìš¸ë•Œë§ˆë‹¤ ë§¤ë²ˆ ë™ì¼í•œ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­ì˜ IPê°€ í• ë‹¹ëœë‹¤ ê° ì»¨í…Œì´ë„ˆë“¤ì€ ì„œë¡œ í†µì‹ ì´ ê°€ëŠ¥í•˜ë‹¤ docker-composeë¡œ ì»¨í…Œì´ë„ˆë¥¼ ë„ìš°ë©´ ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­ì˜ IPê°€ í• ë‹¹ëœë‹¤ ì´ëŸ°ê²ƒì„ ì•Œê²Œë˜ë‹¤ ë³´ë‹ˆ ë„ì»¤ì˜ ë„¤íŠ¸ì›Œí¬ êµ¬ì„±ì´ ê¶ê¸ˆí•´ì¡Œê³ , ì°¾ì•„ê°€ë©° ê³µë¶€í•œ ë‚´ìš©ì„ ì •ë¦¬í•˜ê³ ì í•œë‹¤ (ì°¸ê³ ì— ìˆëŠ” ê¸€ë“¤ì— í›¨ì”¬ ì˜ ì„¤ëª…ë˜ì–´ìˆìœ¼ë‹ˆ ê·¸ê±¸ ì½ëŠ”ê²Œ ë” ë‚«ë‹¤â€¦ ë‚œ ê·¸ëƒ¥ ê°œì¸ ì •ë¦¬ìš©â€¦ã…) veth interface, NET namespace ë„ì»¤ì˜ ë„¤íŠ¸ì›Œí¬ êµ¬ì¡°ë¥¼ ì´í•´í•˜ê¸° ìœ„í•´ì„  ë¨¼ì € ë¦¬ëˆ…ìŠ¤ì˜ NET namespaceì™€ veth interfaceì— ëŒ€í•´ ì•Œì•„ì•¼í•œë‹¤ veth interface ê°„ë‹¨íˆ ë§í•´ ëœì¹´ë“œì— ì—°ê²°ëœ ì‹¤ì œ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ê°€ ì•„ë‹ˆë¼, ê°€ìƒìœ¼ë¡œ ìƒì„±í•œ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ì´ë‹¤ ì¼ë°˜ì ì¸ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ì™€ëŠ” ë‹¬ë¦¬ íŒ¨í‚·ì„ ì „ë‹¬ë°›ìœ¼ë©´, ìì‹ ì—ê²Œ ì—°ê²°ëœ ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¡œ íŒ¨í‚·ì„ ë³´ë‚´ì£¼ëŠ” ì‹ìœ¼ë¡œ ë™ì‘í•˜ê¸° ë•Œë¬¸ì— í•­ìƒ ìŒ(pair)ë¡œ ìƒì„±í•´ì¤˜ì•¼ í•œë‹¤ NET namespace ë¦¬ëˆ…ìŠ¤ ê²©ë¦¬ ê¸°ìˆ ì¸ namespace ì¤‘ ë„¤íŠ¸ì›Œí¬ì™€ ê´€ë ¨ëœ ë¶€ë¶„ì„ ë§í•œë‹¤ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°ê° ë‹¤ë¥¸ namespaceì— í• ë‹¹í•¨ìœ¼ë¡œì¨ ì„œë¡œê°€ ì„œë¡œë¥¼ ëª¨ë¥´ê²Œë” ì„¤ì •í•  ìˆ˜ ìˆë‹¤ (ìì„¸í•œ ë‚´ìš©ì€ https://bluese05.tistory.com/28 ë¥¼ ì°¸ì¡°í•œë‹¤â€¦ 100ë°° ì„¤ëª…ì´ ë” ì˜ë˜ì–´ ìˆë‹¤) ë„ì»¤ ë„¤íŠ¸ì›Œí¬ êµ¬ì¡° ë„ì»¤ëŠ” ìœ„ì—ì„œ ì–¸ê¸‰í•œ veth interfaceì™€ NET namespace ë¥¼ ì‚¬ìš©í•´ ë„¤íŠ¸ì›Œí¬ë¥¼ êµ¬ì„±í•œë‹¤ ê·¸ë¦¼ìœ¼ë¡œ ë³´ë©´ ì•„ë˜ì™€ ê°™ë‹¤ ìƒì„±ë˜ëŠ” ë„ì»¤ ì»¨í…Œì´ë„ˆëŠ” namespace ë¡œ ê²©ë¦¬ë˜ê³ , ê·¸ ìƒíƒœì—ì„œ í†µì‹ ì„ ìœ„í•œ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤(eth0)ë¥¼ í• ë‹¹ë°›ëŠ”ë‹¤ host PCì˜ veth interface ê°€ ìƒì„±ë˜ê³  ë„ì»¤ ì»¨í…Œì´ë„ˆ ë‚´ì˜ eth0 ê³¼ ì—°ê²°í•œë‹¤ ì»¨í…Œì´ë„ˆì˜ ë„¤íŠ¸ì›Œí¬ ê²©ë¦¬ë¥¼ ë‹¬ì„±í•˜ê¸° ìœ„í•´ ì„ íƒí•œ ë°©ë²•ì¸ ê²ƒ ê°™ë‹¤ host PCì˜ veth interface ëŠ” docker0 ì´ë¼ëŠ” ë‹¤ë¥¸ veth interface ì™€ ì—°ê²°ëœë‹¤ ì´ ê³¼ì •ì´ ì»¨í…Œì´ë„ˆê°€ ì¶”ê°€ë  ë•Œ ë§ˆë‹¤ ë°˜ë³µëœë‹¤ ì—¬ê¸°ì„œ ë‚˜ì˜¤ëŠ” docker0ì€ docker ì‹¤í–‰ ì‹œ ìë™ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ê°€ìƒ ë¸Œë¦¿ì§€ ì´ë‹¤ ì»¨í…Œì´ë„ˆê°€ ìƒì„±ë  ë•Œ ë§ˆë‹¤ ê°€ìƒ ì¸í„°í˜ì´ìŠ¤ê°€ ìƒì„±ë˜ê³ , ì´ ë¸Œë¦¿ì§€ì— ë°”ì¸ë”© ë˜ëŠ” í˜•íƒœë¼ê³  ë³´ë©´ ëœë‹¤ ì¦‰, ëª¨ë“  ì»¨í…Œì´ë„ˆëŠ” ì™¸ë¶€ë¡œ í†µì‹ í•  ë•Œ ì´ docker0 ë¸Œë¦¿ì§€ë¥¼ ë¬´ì¡°ê±´ ê±°ì³ê°€ì•¼ ë˜ëŠ” ê²ƒì´ë‹¤ ì´ëŸ¬í•œ íŠ¹ì§• ë•Œë¬¸ì— ë„ì»¤ ì»¨í…Œì´ë„ˆë¼ë¦¬ ì„œë¡œ í†µì‹ ì´ ê°€ëŠ¥í•œ ê²ƒì´ë‹¤ docker0 ë¸Œë¦¿ì§€ì— í• ë‹¹ëœ ip ëŒ€ì—­ì— ë§ì¶° ì»¨í…Œì´ë„ˆë“¤ë„ ipê°€ í• ë‹¹ëœë‹¤ e.g. docker0 = 172.17.0.1/16, container1 = 172.17.0.2, container2 = 172.17.0.3 â€¦ IPëŠ” vethê°€ ê°€ì§€ëŠ”ê±¸ê¹Œ, eth0 ì´ ê°€ì§€ëŠ”ê±¸ê¹Œ?(ê°€ìƒ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•œ ì´í•´ê°€ ì¡°ê¸ˆ ë” í•„ìš”í•˜ë‹¤) ì•„ë˜ëŠ” ì»¨í…Œì´ë„ˆ 2ê°œë¥¼ ë„ì› ì„ ë–„ì˜ ëª¨ìŠµì´ë‹¤ 123456789101112$ ip link ls1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:002: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000 link/ether 08:00:27:d8:72:d9 brd ff:ff:ff:ff:ff:ff3: docker0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP mode DEFAULT group default link/ether 02:42:c0:e5:8c:93 brd ff:ff:ff:ff:ff:ff4: vethf3bf38b@if34: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master docker0 state UP mode DEFAULT group default link/ether 02:13:50:cf:5c:48 brd ff:ff:ff:ff:ff:ff link-netnsid 15: veth1680438@if36: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master docker0 state UP mode DEFAULT group default link/ether f2:b2:f7:eb:a5:55 brd ff:ff:ff:ff:ff:ff link-netnsid 2 ê·¸ë¦¬ê³  ì•„ë˜ëŠ” ë¸Œë¦¿ì§€ì— ì—°ê²°ë˜ì–´ ìˆëŠ” veth interface ë¥¼ ì¡°íšŒí•œ ëª¨ìŠµì´ë‹¤ 1234$ brctl show docker0bridge name bridge id STP enabled interfacesdocker0 8000.0242c0e58c93 no veth1680438 vethf3bf38b ì°¸ê³ ë¡œ macì´ë‚˜ windowì—ì„œëŠ” ì´ docker0 ë¸Œë¦¿ì§€ë‚˜ veth interface ë“¤ì„ ë³¼ ìˆ˜ ì—†ë‹¤ VM ì•ˆìœ¼ë¡œ ê°ì³ì¤˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤ ì‚¬ì‹¤ docker containerì˜ ë„¤íŠ¸ì›Œí¬ ëª¨ë“œëŠ” ì´ 4ê°œì´ë‹¤ bridge, host, container, none ìœ¼ë¡œ ì´ 4ê°œê°€ ì¡´ì¬í•œë‹¤ ìœ„ì—ì„œ ì‚´í´ë³¸ êµ¬ì¡°ê°€ bridge ë„¤íŠ¸ì›Œí¬ë¡œ ìƒì„±í•œ containerì˜ ë™ì‘ë°©ì‹ì´ë©°, default ê°’ì´ë‹¤ kubernetesì˜ podì„ ìƒì„±í• ë•ŒëŠ” container ëª¨ë“œë¥¼ ì‚¬ìš©í•œë‹¤ ìì„¸í•œ ë‚´ìš©ì€ https://bluese05.tistory.com/38ë¥¼ ì°¸ì¡°í•œë‹¤ docker-compose ë¡œ ë„ìš°ë©´ ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­ì„ ê°€ì§„ë‹¤ docker-compose ë¥¼ ê³µë¶€í•  ë•Œ docker-compose ë¡œ ë„ìš´ ì»¨í…Œì´ë„ˆë“¤ì€ ëª¨ë‘ ê°™ì€ ë„¤íŠ¸ì›Œí¬ì— ì†í•œë‹¤ëŠ” ë§ì´ ìˆì—ˆê³ , ì‹¤ì œë¡œë„ ê·¸ë¬ë‹¤ ë‹¨ë…ìœ¼ë¡œ ë„ìš´ ë„ì»¤ ì»¨í…Œì´ë„ˆì™€ docker-compose ë¥¼ í†µí•´ ë„ìš´ ë„ì»¤ ì»¨í…Œì´ë„ˆë“¤ì„ ë“¤ì–´ê°€ì„œ ipë¥¼ í™•ì¸í•´ë³´ë©´ ê°ì ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­ëŒ€ê°€ ë‹¤ë¦„ì„ ì•Œ ìˆ˜ ìˆë‹¤ ì´ëŠ” docker-compose ë¡œ ì»¨í…Œì´ë„ˆë¥¼ ë„ìš°ë©´ compose ë¡œ ë¬¶ì€ ë²”ìœ„ì— ë§ì¶° ë¸Œë¦¿ì§€ë¥¼ í•˜ë‚˜ ë” ìƒì„±í•˜ê¸° ë•Œë¬¸ì´ë‹¤ 123456789101112131415161718192021222324# ì´ë ‡ê²Œ docker-composeë¡œ ì»¨í…Œì´ë„ˆë¥¼ ë„ìš°ê³ $ docker-compose -f docker-compose.yml up# ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ í™•ì¸í•´ë³´ë©´$ ip link ls1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:002: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000 link/ether 08:00:27:d8:72:d9 brd ff:ff:ff:ff:ff:ff# docker0 ë¸Œë¦¿ì§€ì™€ ì•„ê¹Œ ë„ì›Œë†“ì€ ì»¨í…Œì´ë„ˆë“¤3: docker0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP mode DEFAULT group default link/ether 02:42:c0:e5:8c:93 brd ff:ff:ff:ff:ff:ff4: vethf3bf38b@if34: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master docker0 state UP mode DEFAULT group default link/ether 02:13:50:cf:5c:48 brd ff:ff:ff:ff:ff:ff link-netnsid 15: veth1680438@if36: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master docker0 state UP mode DEFAULT group default link/ether f2:b2:f7:eb:a5:55 brd ff:ff:ff:ff:ff:ff link-netnsid 2# ì—¬ê¸°ì„œë¶€í„° docker-composeë¡œ ë„ìš´ ë¶€ë¶„# bridgeê°€ í•˜ë‚˜ ë” ìƒê²¼ë‹¤!6: br-776e18676383: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP mode DEFAULT group default link/ether 02:42:e0:f3:47:6b brd ff:ff:ff:ff:ff:ff7: vethc059d77@if39: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master br-776e18676383 state UP mode DEFAULT group default link/ether 0a:f7:37:0c:cd:64 brd ff:ff:ff:ff:ff:ff link-netnsid 38: veth0fea37d@if41: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue master br-776e18676383 state UP mode DEFAULT group default link/ether b2:95:86:71:c6:43 brd ff:ff:ff:ff:ff:ff link-netnsid 4 ì´ëŸ° ìƒíƒœì´ë¯€ë¡œ ë¬¼ë¡  docker-composeë¡œ ë„ìš´ ì»¨í…Œì´ë„ˆì™€ ì¼ë°˜ ì»¨í…Œì´ë„ˆê°„ì˜ í†µì‹ ì€ ë¶ˆê°€ëŠ¥í•˜ë‹¤(ì„œë¡œ ê²½ìœ í•˜ëŠ” ë¸Œë¦¿ì§€ê°€ ë‹¤ë¥´ë¯€ë¡œ) ì™¸ë¶€ì™€ í†µì‹ ì€ ì–´ë–»ê²Œ í• ê¹Œ? ìš°ë¦¬ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ë„ìš¸ ë•Œ ì•„ë˜ì™€ ê°™ì´ í¬íŠ¸í¬ì›Œë”©ì„ ì„¤ì •í•˜ì—¬ ì™¸ë¶€ì— ì»¨í…Œì´ë„ˆë¥¼ ê³µê°œí•  ìˆ˜ ìˆë‹¤(+expose) 123456# í¬íŠ¸í¬ì›Œë”© ì„¤ì •í•˜ì—¬ ì»¨í…Œì´ë„ˆ ìƒì„±$ docker container run -p 8080:80 nginx# í¬íŠ¸ listen í™•ì¸$ netstat -nlp | grep 8080tcp6 0 0 :::8080 :::* LISTEN 26113/docker-proxy- ê·¼ë° ë³´ë‹¤ì‹œí”¼ docker-proxy ë¼ëŠ” í”„ë¡œì„¸ìŠ¤ê°€ í•´ë‹¹ í¬íŠ¸ë¥¼ listen í•˜ê³  ìˆìŒì„ ë³¼ ìˆ˜ ìˆë‹¤ ì´ëŠ” ê°„ë‹¨íˆ docker host ë¡œ ë“¤ì–´ì˜¨ ìš”ì²­ì„ í•´ë‹¹í•˜ëŠ” ì»¨í…Œì´ë„ˆë¡œ ë„˜ê¸°ëŠ” ì—­í• ë§Œì„ ìˆ˜í–‰í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ì´ë‹¤ ì»¨í…Œì´ë„ˆì— í¬íŠ¸í¬ì›Œë”©ì´ë‚˜ exposeë¥¼ ì„¤ì •í–ˆì„ ê²½ìš° ê°™ì´ ìƒì„±ë˜ëŠ” í”„ë¡œì„¸ìŠ¤ì´ë‹¤ ê·¸ë ‡ì§€ë§Œ ì¤‘ìš”í•œê²ƒì€, ì‹¤ì œë¡œ í¬íŠ¸í¬ì›Œë”©ì„ ì´ docker-proxyê°€ ë‹´ë‹¹í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, host PC iptables ì—ì„œ ê´€ë¦¬í•œë‹¤ëŠ” ì ì´ë‹¤ 12345678910111213141516171819202122$ iptables -t nat -L -nChain PREROUTING (policy ACCEPT)target prot opt source destinationDOCKER all -- 0.0.0.0/0 0.0.0.0/0 ADDRTYPE match dst-type LOCALChain INPUT (policy ACCEPT)target prot opt source destinationChain OUTPUT (policy ACCEPT)target prot opt source destinationDOCKER all -- 0.0.0.0/0 !127.0.0.0/8 ADDRTYPE match dst-type LOCALChain POSTROUTING (policy ACCEPT)target prot opt source destinationMASQUERADE all -- 172.17.0.0/16 0.0.0.0/0MASQUERADE tcp -- 172.17.0.4 172.17.0.4 tcp dpt:80Chain DOCKER (2 references)target prot opt source destinationRETURN all -- 0.0.0.0/0 0.0.0.0/0DNAT tcp -- 0.0.0.0/0 0.0.0.0/0 tcp dpt:8080 to:172.17.0.4:80 ë³´ë‹¤ì‹œí”¼ ëª¨ë“  ìš”ì²­ì„ DOCKER Chain ìœ¼ë¡œ ë„˜ê¸°ê³ , DOCKER Chain ì—ì„œëŠ” DNATë¥¼ í†µí•´ í¬íŠ¸í¬ì›Œë”©ì„ í•´ì£¼ê³  ìˆìŒì„ ë³¼ ìˆ˜ ìˆë‹¤ (ì´ iptables ë£°ì€ docker daemonì´ ìë™ìœ¼ë¡œ í•œë‹¤) docker-proxy ëŠ” iptablesê°€ ì–´ë– í•œ ì´ìœ ë¡œ NATë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•˜ê²Œ ë  ê²½ìš° ì‚¬ìš©ëœë‹¤ê³  í•œë‹¤ ì°¸ê³  : NET namespace, veth interface : https://bluese05.tistory.com/28 ë„ì»¤ ë„¤íŠ¸ì›Œí¬ êµ¬ì¡° : https://bluese05.tistory.com/15 ë„ì»¤ ë„¤íŠ¸ì›Œí¬ ì™¸ë¶€ í†µì‹  : https://bluese05.tistory.com/53]]></content>
      <categories>
        <category>docker</category>
      </categories>
      <tags>
        <tag>docker</tag>
        <tag>docker network</tag>
        <tag>docker0</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[kubernetes] ì£¼ìš” ê°œë…]]></title>
    <url>%2Fkubernetes%2F%EC%A3%BC%EC%9A%94-%EA%B0%9C%EB%85%90%2F</url>
    <content type="text"><![CDATA[kubernetesë€? êµ¬ê¸€ì´ 2014ë…„ì— ë°œí‘œí•œ ì»¨í…Œì´ë„ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ë„êµ¬ì´ë‹¤ ì»¨í…Œì´ë„ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ë„êµ¬ë€ ë§ì€ ìˆ˜ì˜ ì»¨í…Œì´ë„ˆë¥¼ í˜‘ì¡°ì ìœ¼ë¡œ ì—°ë™ì‹œí‚¤ê¸° ìœ„í•œ í†µí•© ì‹œìŠ¤í…œì„ ë§í•œë‹¤ ë„ì»¤ ë“±ì¥ ì´ë˜ë¡œ ë§ì€ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ë„êµ¬ê°€ ë‚˜ì™”ì§€ë§Œ(mesos, ECS, Swarm ë“±), ì¿ ë²„ë„¤í‹°ìŠ¤ê°€ ê°€ì¥ ê°•ë ¥í•œ ëíŒì™•ìœ¼ë¡œ ë“±ì¥í•¨ì— ë”°ë¼ í˜„ì¬ëŠ” ì‚¬ì‹¤ìƒ í‘œì¤€ì´ ëœ ìƒíƒœì´ë‹¤ ë§ì€ í´ë¼ìš°ë“œ í”Œë«í¼ì—ì„œë„ ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì—°ë™í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê¸°ìˆ ì„ ì œê³µí•œë‹¤ GCPëŠ” GKE, AWSëŠ” EKS, ì• ì €ëŠ” AKS ë¡œì»¬ì—ì„œ kubernetes ë„ìš°ê¸° ì˜ˆì „ì—ëŠ” ë¡œì»¬ì—ì„œ kubernetesë¥¼ ë„ìš°ë ¤ë©´ minikube ë¥¼ ì´ìš©í•´ì•¼ í–ˆëŠ”ë° minikubeëŠ” ê¸°ì¡´ì— ë„ì»¤ë¥¼ ìœ„í•´ ë„ì›Œì§„ VMì— ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ë„ìš°ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ìƒˆë¡œìš´ VM(dockerd)ë¥¼ ë„ìš°ëŠ” ë°©ì‹ì´ë¯€ë¡œ ì¡°ê¸ˆ ê¹Œë‹¤ë¡œìš´ ë©´ì´ ìˆì—ˆë‹¤ í•˜ì§€ë§Œ ìš”ì¦˜ì—ëŠ” ìœˆë„ìš°/macOSìš© ë„ì»¤ì—ì„œ ì¿ ë²„ë„¤í‹°ìŠ¤ í†µí•© ê¸°ëŠ¥ì„ ì œê³µí•´ì£¼ë¯€ë¡œ ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°„ë‹¨í•˜ê²Œ ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ êµ¬ì¶•í•  ìˆ˜ ìˆë‹¤ ëŒ€ì‹  minikube ì— ìë™ìœ¼ë¡œ ì„¤ì¹˜ë˜ì–´ ìˆëŠ” ëŒ€ì‹œë³´ë“œ ê°™ì€ê²ƒì€ ì¶”ê°€ë¡œ ì„¤ì¹˜í•´ì¤˜ì•¼ í•˜ëŠ” ë¶ˆí¸í•¨ì€ ìˆë‹¤ macì—ì„œ kubernetes ì„¤ì¹˜ëŠ” kubernetes íƒ­ì˜ Enable Kubernetesë§Œ í´ë¦­í•´ì£¼ë©´ ëœë‹¤ ê·¸ë¦¬ê³  ì¿ ë²„ë„¤í‹°ìŠ¤ APIë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•œ ëª…ë ¹í–‰ ë„êµ¬ì¸ kubectlë„ ì„¤ì¹˜í•´ì¤€ë‹¤ https://kubernetes.io/docs/tasks/tools/install-kubectl/ kubernetes ì£¼ìš” ê°œë… ì¿ ë²„ë„¤í‹°ìŠ¤ ë‚´ì—ëŠ” ë§¤ìš° ë‹¤ì–‘í•œ ë¦¬ì†ŒìŠ¤ë“¤ì´ ì¡´ì¬í•˜ê³ , ì´ ë¦¬ì†ŒìŠ¤ë“¤ì´ í´ëŸ¬ìŠ¤í„°ë‚´ì—ì„œ ì„œë¡œ ì—°ë™í•˜ê³  í˜‘ì¡°í•˜ë©´ì„œ ì»¨í…Œì´ë„ˆ ì‹œìŠ¤í…œì„ êµ¬ì„±í•˜ëŠ” í˜•íƒœì´ë‹¤ í•˜ë‚˜ì˜ ì¿ ë²„ë„¤í‹°ìŠ¤ í™˜ê²½ ìì²´ë¥¼ í´ëŸ¬ìŠ¤í„°ë¼ê³  ë¶€ë¥¸ë‹¤ ë…¸ë“œ ì¿ ë²„ë„¤í‹°ìŠ¤ ë‚´ì— ë– ìˆëŠ” í˜¸ìŠ¤íŠ¸ë“¤(ê°€ìƒë¨¸ì‹ ì´ë‚˜ ë¬¼ë¦¬ì  ì„œë²„ë¨¸ì‹ )ì´ë‹¤ ì´ì¤‘ì—ì„œë„ ë§ˆìŠ¤í„° ë…¸ë“œì™€ ì¼ë°˜ ë…¸ë“œë“¤ë¡œ ë‚˜ë‰˜ëŠ”ë°, ë§ˆìŠ¤í„° ë…¸ë“œì—ëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤ ì „ì²´ë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ê´€ë¦¬ ì»´í¬ë„ŒíŠ¸ë“¤ì´ ìë¦¬í•˜ëŠ” ê³³ì´ê³ , ì´ ê´€ë¦¬ ì»´í¬ë„ŒíŠ¸ë“¤ì— ì˜í•´ ì¼ë°˜ ë…¸ë“œë“¤ë¡œ ì»¨í…Œì´ë„ˆë“¤ì´ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ë˜ëŠ” êµ¬ì¡°ì´ë‹¤ ë§ˆìŠ¤í„° ë…¸ë“œì— ë“¤ì–´ê°€ëŠ” ê´€ë¦¬ ì»´í¬ë„ŒíŠ¸ë“¤ì˜ ì¢…ë¥˜ëŠ” ì•„ë˜ì™€ ê°™ë‹¤ kube-apiserver kube-scheduler kube-controller-manager etcd ë§ˆìŠ¤í„° ë…¸ë“œì—ëŠ” ì´ ê´€ë¦¬ ì»´í¬ë„ŒíŠ¸ ì™¸ì— ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸(Pod)ë“¤ì€ ë“¤ì–´ê°ˆ ìˆ˜ ì—†ë‹¤ ì—¬ê¸°ê¹Œì§€ê°€ ê¸°ë³¸ì ì¸ ê°œë…ì´ê³ , ì´ì œë¶€í„° ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ ì£¼ìš” ë¦¬ì†ŒìŠ¤ì— ëŒ€í•´ ì„¤ëª…í•˜ê² ë‹¤ ì•„ë˜ëŠ” ê°„ë‹¨í•œ ì„¤ëª…ì´ë©°, ìƒì„¸í•œ ì„¤ëª…ì€ ì¡°ëŒ€í˜‘ë‹˜ì˜ ë¸”ë¡œê·¸ë¥¼ ë³´ëŠ” ê²ƒì´ ì¢‹ì„ ê²ƒ ê°™ë‹¤ ì˜¤ë¸Œì íŠ¸ ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ë¶€ë¶„ì€ ì˜¤ë¸Œì íŠ¸ë¼ëŠ” ê°œë…ì¸ë°, ì´ ì˜¤ë¸Œì íŠ¸ëŠ” í¬ê²Œ ê¸°ë³¸ ì˜¤ë¸Œì íŠ¸ì™€ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ë‚˜ë‰œë‹¤ ê¸°ë³¸ ì˜¤ë¸Œì íŠ¸ëŠ” ë¦¬ì†ŒìŠ¤ë“¤ì˜ ê°€ì¥ ê¸°ë³¸ì ì¸ êµ¬ì„± ë‹¨ìœ„ì´ë©°, ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ì´ ê¸°ë³¸ ì˜¤ë¸Œì íŠ¸ë“¤ì„ ìƒì„±í•˜ê³  ê´€ë¦¬í•˜ëŠ” ê¸°ëŠ¥ì„ ê°€ì§„ ì• ë“¤ì„ ë§í•œë‹¤ ê¸°ë³¸ ì˜¤ë¸Œì íŠ¸ì˜ ì¢…ë¥˜ëŠ” ì•„ë˜ì™€ ê°™ê³  íŒŒë“œ ì„œë¹„ìŠ¤ ë³¼ë¥¨ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ì¢…ë¥˜ëŠ” ì•„ë˜ì™€ ê°™ë‹¤ ë ˆí”Œë¦¬ì¹´ ì…‹ ë””í”Œë¡œì´ë¨¼íŠ¸ ìŠ¤í…Œì´íŠ¸í’€ ì…‹ ë°ëª¬ ì…‹ ì¡ ì°¸ê³ ë¡œ ì•„ë˜ì—ì„œ ì„¤ëª…í•˜ê² ì§€ë§Œ, ì´ ì˜¤ë¸Œì íŠ¸ë“¤ì€ ëª¨ë‘ ë…¼ë¦¬ì ì¸ ë‹¨ìœ„ì´ë‹¤ ê° ë…¸ë“œë“¤ì— ìƒì„±ëœ ìˆ˜ë§ì€ ë„ì»¤ ì»¨í…Œì´ë„ˆ, ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë“¤ì„ ì¿ ë²„ë„¤í‹°ìŠ¤ê°€ ë…¼ë¦¬ì ì¸ ë‹¨ìœ„ë¡œ ë¬¶ì–´ì„œ Pod, Service, namespace ë“±ì˜ ê°œë…ìœ¼ë¡œ ì œê³µí•˜ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤ ì´ ì˜¤ë¸Œì íŠ¸ì— ì¤‘ìš”í•œ ì†ì„±ì´ ìˆëŠ”ë°, ë°”ë¡œ ìŠ¤í™ê³¼ ìƒíƒœì´ë‹¤ ìŠ¤í™ì€ ìš°ë¦¬ê°€ ì§ì ‘ ì„¤ì •íŒŒì¼ ê°™ì€ ê²ƒìœ¼ë¡œ ì‘ì„±í•´ì„œ ì „ë‹¬í•´ì¤˜ì•¼ í•˜ëŠ”ê²ƒìœ¼ë¡œì¨, ì˜¤ë¸Œì íŠ¸ê°€ ì–´ë–¤ ìƒíƒœê°€ ë˜ì–´ì•¼ í•œë‹¤ê³  ì‘ì„±í•œ ê²ƒì„ ë§í•œë‹¤ ì•„ë˜ëŠ” ìŠ¤í™ì˜ ê°„ë‹¨í•œ ì˜ˆì œì´ë‹¤ 1234567891011apiVersion: v1kind: Podmetadata: name: myapp-pod labels: app: myappspec: containers: - name: myapp-container image: busybox # ì´ë¯¸ì§€ëŠ” ë¡œì»¬ì„ ì°¸ì¡°í•˜ì§€ ì•Šê³  í•­ìƒ registryì—ì„œ ë•¡ê²¨ì˜¤ëŠ” ê²ƒ ê°™ë‹¤ command: ['sh', '-c', 'echo Hello Kubernetes! &amp;&amp; sleep 3600'] busybox ì´ë¯¸ì§€ë¥¼ ê°€ì§„ containerê°€ í•˜ë‚˜ ë“¤ì–´ê°€ìˆëŠ” podë¥¼ ë„ì›Œì•¼í•œë‹¤ê³  ìŠ¤í™ì— ëª…ì‹œí–ˆë‹¤ ì´ ìŠ¤í™ì„ ë³´ê³  ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒì„±í•˜ê²Œ ë  ê²ƒì´ë©°, ì´ ì˜¤ë¸Œì íŠ¸ì— ëŒ€í•œ ìƒíƒœëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ì— ì˜í•´ ì œê³µë˜ê²Œ ëœë‹¤ ê·¸ë¦¬ê³  ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ì´ ì˜¤ë¸Œì íŠ¸ì˜ ìƒíƒœê°€ ìš°ë¦¬ê°€ ì›í•œ ìƒíƒœì™€ ì¼ì¹˜í•˜ë„ë¡ ê³„ì† ê´€ë¦¬í•´ì£¼ëŠ” ì—­í• ì„ ìˆ˜í–‰í•˜ê²Œëœë‹¤ ì›í•˜ëŠ” ìƒíƒœë¥¼ ì§ì ‘ ëª…ì‹œí•˜ì§€ëŠ” ì•Šì•˜ì§€ë§Œ, ì•„ë§ˆë„ RUNNING ì„ ë§í•˜ëŠ”ê±°ê² ì§€â€¦ ê¸°ë³¸ ì˜¤ë¸Œì íŠ¸ - Pod ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ ê°€ì¥ ê¸°ë³¸ì ì¸ ë°°í¬ ë‹¨ìœ„(ì»¨í…Œì´ë„ˆ)ì´ë‹¤ ìš°ë¦¬ê°€ ì•Œê³ ìˆëŠ” ë„ì»¤ ì»¨í…Œì´ë„ˆì™€ëŠ” ì¡°ê¸ˆ ë‹¤ë¥¸ê²Œ, í•˜ë‚˜ì˜ PodëŠ” í•˜ë‚˜ ì´ìƒì˜ ì»¨í…Œì´ë„ˆë¥¼ í¬í•¨í•  ìˆ˜ ìˆëŠ” êµ¬ì¡°ì´ë‹¤ ì¦‰ ì›¹ì„œë²„ë¥¼ êµ¬ì„±í•œë‹¤ê³  í•  ë•Œ nginx pod, spring-boot pod, mysql pod ë¥¼ ê°ê° ë„ì›Œì•¼ í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì´ ì»¨í…Œì´ë„ˆë“¤ì„ ëª¨ë‘ í•˜ë‚˜ì˜ podì— ë„£ì„ ìˆ˜ ìˆë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤ ìœ„ì˜ ì˜¤ë¸Œì íŠ¸ì˜ ìŠ¤í™ì„ ì„¤ëª…í•˜ëŠ” ë¶€ë¶„ì—ì„œ Podì˜ ì„¤ì •íŒŒì¼ ì˜ˆì‹œë¥¼ ì‘ì„±í–ˆëŠ”ë°, ë³´ë‹¤ì‹œí”¼ specì— containers ë¡œ ì—¬ëŸ¬ ì»¨í…Œì´ë„ˆë¥¼ ë°›ì„ ìˆ˜ ìˆê²Œ ë˜ì–´ìˆë‹¤ í•˜ë‚˜ì˜ PodëŠ” í•˜ë‚˜ì˜ ë…¸ë“œì—ë§Œ ë°°ì¹˜ë  ìˆ˜ ìˆë‹¤ Pod ë‚´ì˜ ì»¨í…Œì´ë„ˆê°€ ê°ê° ë‹¤ë¥¸ ë…¸ë“œì— ë°°ì¹˜ë  ìˆ˜ ì—†ë‹¤ ì´ëŸ¬í•œ íŠ¹ì§• ë•Œë¬¸ì—, ì¿ ë²„ë„¤í‹°ìŠ¤ ë‚´ì—ì„œ Podë¥¼ ë„ìš¸ê²½ìš° ë‚´ë¶€ì˜ ì»¨í…Œì´ë„ˆê°€ ë‹¤ ë– ì•¼ Pod ì˜ ìƒíƒœê°€ RUNNING ìœ¼ë¡œ í‘œì‹œë˜ê³ (e.g. 2/2), Pod ì— ì ‘ê·¼í•˜ê³ ì í•  ê²½ìš° -c ì˜µì…˜ìœ¼ë¡œ ì ‘ê·¼í•  ì»¨í…Œì´ë„ˆë¥¼ ì§€ì •í•´ì¤˜ì•¼ í•œë‹¤ 1$ kubectl exec -it myapp-pod /bin/bash -c myapp-container ê·¸ë¦¬ê³  ì¶”ê°€ë¡œ, Podì—ëŠ” ê´€ì‹¬ì‚¬ë¥¼ í•©ì¹  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì (ì»¨í…Œì´ë„ˆë“¤ì„ ì—¬ëŸ¬ê°œ ë¬¶ì–´ì„œ ë°°í¬í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ) ì™¸ì—ë„ ì¶”ê°€ì ì¸ ì¥ì ì´ ì¡´ì¬í•œë‹¤ ì²«ì§¸ë¡œ, Pod ë‚´ì˜ ì»¨í…Œì´ë„ˆë“¤ì€ ì„œë¡œ IPì™€ Portë¥¼ ê³µìœ í•œë‹¤ ê¸°ì¡´ì— docker-composeë¡œ ë„ì› ë˜ ì»¨í…Œì´ë„ˆë“¤ì´ ì„œë¡œ ì´ë¦„ìœ¼ë¡œ ì°¸ì¡°í–ˆë˜ ë°©ì‹ì´ ì•„ë‹Œ, ì„œë¡œ localhostë¡œ í†µì‹ í•  ìˆ˜ ìˆëŠ” ë°©ì‹ì´ë‹¤ ì¦‰, 1ê°œì˜ Pod ë‚´ì— ë§Œì•½ spring-boot, mysqlì´ ìˆë‹¤ê³  í•œë‹¤ë©´ ê°ì ì„œë¡œë¥¼ localhost:8080, localhost:3306 ìœ¼ë¡œ ì°¸ì¡°í• ìˆ˜ ìˆê²Œ ë˜ëŠ” ê²ƒì´ë‹¤ ê°ìì˜ IPë¥¼ ê°€ì§€ëŠ” ì»¨í…Œì´ë„ˆë“¤ì´ ì–´ë–»ê²Œ localhostë¡œ í†µì‹ í•  ìˆ˜ ìˆì„ê¹Œ? ë‘˜ì§¸ë¡œ, Pod ë‚´ë¶€ì˜ ëª¨ë“  ì»¨í…Œì´ë„ˆê°€ ê³µìœ í•˜ëŠ” ë³¼ë¥¨ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤ ì¦‰ Pod ë‚´ë¶€ì˜ ëª¨ë“  ì»¨í…Œì´ë„ˆëŠ” ê·¸ ë³¼ë¥¨ì— ì ‘ê·¼í•  ìˆ˜ ìˆê³ , ê·¸ ì»¨í…Œì´ë„ˆë¼ë¦¬ ë°ì´í„°ë¥¼ ê³µìœ í•˜ëŠ” ê²ƒì„ í—ˆìš©í•˜ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤ ê¸°ë³¸ ì˜¤ë¸Œì íŠ¸ - ì„œë¹„ìŠ¤ ì•„ë˜ì—ì„œ ë‹¤ì‹œ ì„¤ëª…í•˜ê² ì§€ë§Œ, Podì˜ ê²½ìš° kubernetes ì—ì„œ ê°€ì¥ ì‘ì€ ë‹¨ìœ„ì˜ ë¦¬ì†ŒìŠ¤ë¼ ì‚­ì œë˜ê±°ë‚˜ ì¶”ê°€ë˜ëŠ” í–‰ìœ„ê°€ ì¦ì€ ë¦¬ì†ŒìŠ¤ì´ë‹¤(scalable) ë¬¸ì œëŠ” ë§¤ë²ˆ ì‚­ì œë˜ê³  ì¶”ê°€ë  ë•Œ ë§ˆë‹¤ IPê°€ ëœë¤í•˜ê²Œ ìƒˆë¡œ ë¶€ì—¬ëœë‹¤ëŠ” ê²ƒì´ë‹¤ ì´ëŸ¬í•œ ìƒí™©ì—ì„œëŠ” ê³ ì •ëœ ì—”ë“œí¬ì¸íŠ¸ë¡œ í˜¸ì¶œí•˜ëŠ” ê²ƒì´ ì–´ë ¤ì›Œì§„ë‹¤ ë˜í•œ Podì˜ ê²½ìš° ë³´í†µ 1ê°œë¡œ ìš´ì˜í•˜ì§€ ì•Šê³ , ì—¬ëŸ¬ê°œì˜ Podì„ ë„ì›Œì„œ ë¡œë“œë°¸ëŸ°ì‹±ì„ ì œê³µí•´ì¤˜ì•¼ í•œë‹¤ ì¦‰, ì´ëŸ¬í•œ ì—­í• ì„ í•´ì£¼ëŠ” ë¦¬ì†ŒìŠ¤ê°€ Podë“¤ ì•ë‹¨ì— í•˜ë‚˜ ë” ì¡´ì¬í•´ì•¼í•˜ëŠ”ë°, ì„œë¹„ìŠ¤ê°€ ì´ëŸ¬í•œ ì—­í• ì„ í•œë‹¤ ì„œë¹„ìŠ¤ëŠ” ì§€ì •ëœ IPë¡œ ìƒì„±ì´ ê°€ëŠ¥í•˜ê³ , ì—¬ëŸ¬ Podë¥¼ ë¬¶ì–´ì„œ ë¡œë“œ ë°¸ëŸ°ì‹±ì´ ê°€ëŠ¥í•˜ë©°, ê³ ìœ í•œ DNS ì´ë¦„ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤ ì„œë¹„ìŠ¤ê°€ Pod ë“¤ì„ ë¬¶ì„ ë•ŒëŠ” ë ˆì´ë¸”ê³¼ ì…€ë ‰í„° ë¼ëŠ” ê°œë…ì„ ì‚¬ìš©í•˜ëŠ”ë°, ì•„ë˜ì˜ ìŠ¤í™ì„ ë³´ë©´ ì§ê´€ì ìœ¼ë¡œ ì´í•´í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤ 12345678910apiVersion: v1kind: Servicemetadata: name: my-servicespec: selector: app: myapp ports: - protocol: TCP port: 80 ë³´ë‹¤ì‹œí”¼ selector ë¡œ app: myapp ì´ë¼ê³  ì„ ì–¸í•´ë†“ì•˜ëŠ”ë°, ì´ëŠ” app: myapp ì´ë¼ëŠ” ë ˆì´ë¸”ì„ ê°€ì§„ Pod ë“¤ì„ ì„ íƒí•´ì„œ my-service ë¼ëŠ” ì„œë¹„ìŠ¤ë¡œ ë¬¶ê² ë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤ ê·¸ë ‡ë‹¤ë©´ labelì€ ì–´ë–»ê²Œ ì„¤ì •í•˜ëŠ”ê°€? ìœ„ì˜ Pod ë¥¼ ì„¤ì •í•  ë•Œ metadataì— label: myapp ì´ë¼ëŠ” ë¶€ë¶„ì„ ë´¤ì„ ê²ƒì´ë‹¤ 1234567apiVersion: v1kind: Podmetadata: name: myapp-pod labels: app: myapp... ì´ ë¶€ë¶„ì´ ë¦¬ì†ŒìŠ¤ì— labelì„ ì„¤ì •í•˜ëŠ” ë¶€ë¶„ì´ë‹¤ labelì€ ì—¬ëŸ¬ê°œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤ ì´ì œ ì´ë ‡ê²Œ ì„œë¹„ìŠ¤ë¥¼ ì •ì˜í–ˆìœ¼ë‹ˆ ì´ ì„œë¹„ìŠ¤ë¥¼ í†µí•´ Pod ì— ì ‘ê·¼í•  ìˆ˜ ìˆì–´ì•¼ í•  ê²ƒì´ë‹¤ ì´ëŠ” ì„œë¹„ìŠ¤ë¥¼ ìƒì„±í•  ë•Œ ì§€ì •í•˜ëŠ” íƒ€ì…ì— ë”°ë¼ ë°©ì‹ì´ ë‚˜ë‰œë‹¤ ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ì§€ì›í•˜ëŠ” ì„œë¹„ìŠ¤ì˜ íƒ€ì…ë“¤ì€ ì•„ë˜ì™€ ê°™ë‹¤ ClusterIp ë””í´íŠ¸ ì„¤ì •ìœ¼ë¡œ, ì„œë¹„ìŠ¤ì— ë‚´ë¶€ IP(Cluster IP)ë¥¼ í• ë‹¹í•œë‹¤ ê·¸ëŸ¬ë¯€ë¡œ í´ëŸ¬ìŠ¤í„° ë‚´ì—ì„œëŠ” ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ì§€ë§Œ, í´ëŸ¬ìŠ¤í„° ì™¸ë¶€ì—ì„œëŠ” ì ‘ê·¼ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤ í´ëŸ¬ìŠ¤í„° ë‚´ì˜ ì»¨í…Œì´ë„ˆë¡œ ë“¤ì–´ê°„ ë’¤ curl http://my-service[:80] ë¥¼ í˜¸ì¶œí•˜ë©´ myapp ë ˆì´ë¸”ì„ ê°€ì§„ podì˜ 80í¬íŠ¸ë¡œ ì—°ê²°ë  ê²ƒì´ë‹¤(targetPort ì§€ì •ê°€ëŠ¥, ì§€ì •í•˜ì§€ ì•Šì„ ì‹œ portì™€ ë™ì¼í•˜ê²Œ ì„¤ì •) NodePort Cluster IP ë¡œ ì ‘ê·¼ê°€ëŠ¥í•˜ë©´ì„œ ëª¨ë“  ë…¸ë“œì˜ IPì™€ í¬íŠ¸ë¥¼ í†µí•´ì„œë„ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ê²Œ ëœë‹¤ 123456789....spec: selector: app: myapp type: NodePort ports: - protocol: TCP port: 80 nodePort: 31111 í´ëŸ¬ìŠ¤í„° ë‚´ì—ì„œ &lt;ë‚´ë¶€IP&gt;:&lt;í¬íŠ¸&gt;ìœ¼ë¡œë„ ì ‘ì† ê°€ëŠ¥í•˜ê³ , ì™¸ë¶€ì—ì„œ &lt;NodeIP&gt;:&lt;NodePort&gt;ë¡œë„ ì ‘ê·¼ ê°€ëŠ¥í•˜ë‹¤ ëª¨ë“  Nodeì˜ í¬íŠ¸ê°€ ì—´ë¦¬ê³ , í•´ë‹¹ ì„œë¹„ìŠ¤ë¡œ ì—°ê²°ëœë‹¤ 30000 ~ 32767 ê¹Œì§€ ì‚¬ìš© ê°€ëŠ¥ ë…¸ë“œì˜ IPê°€ ë°”ë€” ìˆ˜ ìˆëŠ” ë¶€ë¶„ì„ ì²˜ë¦¬í•´ì¤˜ì•¼í•¨ ë³´í†µ ingressë‘ ê°™ì´ ì”€ ingressë‘ ê°™ì´ ì“°ë©´ í•´ê²°ë¨ api gateway ë¶™ì´ê¸° ì‹«ì„ ë•Œ ingressë¥¼ ì“´ë‹¤? LoadBalancer ë³´í†µ í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ì—ì„œë§Œ ì„¤ì • ê°€ëŠ¥í•œ ë°©ì‹ìœ¼ë¡œ, ì™¸ë¶€ IPë¥¼ ê°€ì§€ê³  ìˆëŠ” ë¡œë“œë°¸ëŸ°ì„œë¥¼ í• ë‹¹í•œë‹¤ ì™¸ë¶€ IPë¥¼ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— ì™¸ë¶€ì—ì„œ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤ í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ ë‚´ì—ì„œ ì™¸ë¶€ IPê°€ í• ë‹¹ëœ ë¡œë“œë°¸ëŸ°ì„œë¥¼ ìƒì„±í•˜ê³  ì„œë¹„ìŠ¤ì— ì—°ê²°ì‹œí‚¤ëŠ” êµ¬ì¡° ì„œë¹„ìŠ¤ ìì²´ì— ë¡œë“œë°¸ëŸ°ì‹± ê¸°ëŠ¥ì´ ìˆëŠ”ë°, ì™œ êµ³ì´ ë¡œë“œë°¸ëŸ°ì„œë¥¼ í• ë‹¹ì‹œí‚¤ëŠ”ì§€? ExternalName ì™¸ë¶€ ì„œë¹„ìŠ¤ë¥¼ ì¿ ë²„ë„¤í‹°ìŠ¤ ë‚´ë¶€ì—ì„œ í˜¸ì¶œí•˜ê³ ì í•  ë–„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ í´ëŸ¬ìŠ¤í„° ë‚´ì˜ Podë“¤ì´ í´ëŸ¬ìŠ¤í„° ë°–ì— ìˆëŠ” ì„œë¹„ìŠ¤(ì˜ˆë¥¼ ë“¤ë©´ RDS)ë¥¼ í˜¸ì¶œí•˜ë ¤ë©´ NAT ì„¤ì • ë“± ë³µì¡í•œ ì„¤ì •ì´ í•„ìš”í•œë°, ì„œë¹„ìŠ¤ë¥¼ externalName íƒ€ì…ìœ¼ë¡œ ì„¤ì •í•˜ë©´ ì´ë¥¼ ê°„ë‹¨í•˜ê²Œ í•´ê²° ê°€ëŠ¥í•˜ë‹¤ 123456789apiVersion: v1kind: Servicemetadata: name: my-service-for-rdsspec: selector: app: myproxy type: ExternalName externalName: xxxx-rds.amazonaws.com ì´ë ‡ê²Œ ì„¤ì •í•˜ë©´ í´ëŸ¬ìŠ¤í„° ë‚´ì˜ Pod ë“¤ì´ ì´ ì„œë¹„ìŠ¤ë¥¼ í˜¸ì¶œí•  ê²½ìš° xxxx-rds.amazoneaws.com ìœ¼ë¡œ í¬ì›Œë”©í•´ì£¼ê²Œ ëœë‹¤(ì¼ì¢…ì˜ í”„ë¡ì‹œ ì—­í• ) ê¸°ë³¸ ì˜¤ë¸Œì íŠ¸ - ë³¼ë¥¨ ë„ì»¤ë¡œ ë³¼ë¥¨ì„ ì—°ê²°í• ë•Œë¥¼ ìƒê°í•´ë³´ë©´, ë³¼ë¥¨ì€ ë„ì»¤ ì»¨í…Œì´ë„ˆê°€ ìƒì„±ëœ í˜¸ìŠ¤íŠ¸ì— ìœ„ì¹˜í•´ì•¼ í–ˆë‹¤ í•˜ì§€ë§Œ ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ íŠ¹ì„±ìƒ Podê°€ ì—¬ëŸ¬ í˜¸ìŠ¤íŠ¸(ë…¸ë“œ)ë¥¼ êµì°¨í•˜ë©´ì„œ ë°°í¬ë˜ë¯€ë¡œ, ì´ëŸ¬ë©´ ë„ˆë¬´ ë²ˆê±°ë¡­ë‹¤ ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ PersistentVolume, PersistentVolumeClaim ì´ë¼ëŠ” ê²ƒì„ ì œê³µí•œë‹¤ ê°„ë‹¨íˆ ë§í•´ PersistentVolumeì€ ì¿ ë²„ë„¤í‹°ìŠ¤ì— ì§€ì •í•œ ë¬¼ë¦¬ ë””ìŠ¤í¬ì´ê³ , PersistentVolumeClaimì€ ê·¸ PersistentVolumeê³¼ Podë¥¼ ì—°ê²°í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê°œë…ì´ë‹¤ ìì„¸í•œ ë‚´ìš©ì€ https://bcho.tistory.com/1259 ë¥¼ ì°¸ê³ í•œë‹¤ PersistentVolume ì™¸ì—ë„ ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ë‹¤ì–‘í•œ ë³¼ë¥¨ì„ ì§€ì›í•œë‹¤ https://kubernetes.io/docs/concepts/storage/volumes/ ê¸°ë³¸ ì˜¤ë¸Œì íŠ¸ - ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ë‚´ì˜ ë…¼ë¦¬ì ì¸ ë¶„ë¦¬ë‹¨ìœ„ì´ë‹¤ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë³„ë¡œ ë¦¬ì†ŒìŠ¤ë“¤ì„ ë‚˜ëˆ ì„œ ê´€ë¦¬í•  ìˆ˜ ìˆê³ , ì ‘ê·¼ê¶Œí•œ, ë¦¬ì†ŒìŠ¤ í• ë‹¹ëŸ‰ ë“±ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤ ì»¨íŠ¸ë¡¤ëŸ¬ - ReplicaSet ì•Œë‹¤ì‹œí”¼ ì–´ëŠì •ë„ ê·œëª¨ê°€ ë˜ëŠ” ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í•˜ë ¤ë©´ í•˜ë‚˜ì˜ Podë¡œëŠ” ì•ˆë˜ê³ , Podë¥¼ ì—¬ëŸ¬ê°œ ì‹¤í–‰í•´ ê°€ìš©ì„±ì„ í™•ë³´í•´ì•¼ í•œë‹¤ ì´ëŸ´ë•Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ RelicaSetì´ë‹¤ ReplicaSetëŠ” ë˜‘ê°™ì€ ì •ì˜ë¥¼ ê°–ëŠ” Podë¥¼ ì—¬ëŸ¬ê°œ ìƒì„±í•˜ê³  ê´€ë¦¬í•˜ê¸° ìœ„í•œ ë¦¬ì†ŒìŠ¤ì´ë‹¤ 1234567891011121314151617apiVersion: apps/v1kind: ReplicaSetmetadata: name: frontendspec: replicas: 3 selector: matchLabels: tier: frontend template: metadata: labels: tier: frontend spec: containers: - name: php-redis image: gcr.io/google_samples/gb-frontend:v3 ë³´ë‹¤ì‹œí”¼ í¬ê²Œ replicas, selector, template 3ê°€ì§€ì˜ íŒŒíŠ¸ë¡œ êµ¬ì„±ëœë‹¤ replicas ReplicaSetì— ì˜í•´ ê´€ë¦¬ë  Podì˜ ê°œìˆ˜ì´ë‹¤ ì„¤ì •ëœ ê°’ë³´ë‹¤ Podì˜ ìˆ˜ê°€ ì ìœ¼ë©´ ì¶”ê°€ë¡œ ë„ìš°ê³ , Podì˜ ìˆ˜ê°€ ë” ë§ìœ¼ë©´ ë‚¨ëŠ” Podë¥¼ ì‚­ì œí•œë‹¤ selector ReplicaSetìœ¼ë¡œ ê´€ë¦¬í•  Podë¥¼ ì„ íƒí•œë‹¤ í˜„ì¬ëŠ” labelì„ ê¸°ë°˜ìœ¼ë¡œ select í•˜ê³  ìˆë‹¤ service ì˜ selector ì™€ ë¬¸ë²•ì´ ë‹¬ë¼ì„œ í˜¼ë™ë  ìˆ˜ ìˆëŠ”ë°, ê·¸ëƒ¥ ì§€ì›ë˜ì§€ ì•ŠëŠ” ê²ƒì´ë¼ê³  í•œë‹¤(deployment ëŠ” ë¨) https://medium.com/@zwhitchcox/matchlabels-labels-and-selectors-explained-in-detail-for-beginners-d421bdd05362 template Podë¥¼ ì¶”ê°€ë¡œ ë„ìš¸ ë•Œ ì–´ë–»ê²Œ ë§Œë“¤ì§€ì— ëŒ€í•œ Pod ì •ë³´ë¥¼ ì •ì˜í•´ë†“ì€ ë¶€ë¶„ì´ë‹¤ ìƒˆë¡œ ìƒì„±ëœ Podë„ selectorì— ì˜í•´ ì„ íƒë˜ì–´ì•¼ í•˜ë¯€ë¡œ selectorì˜ labelê³¼ ë™ì¼í•˜ê²Œ ë§ì¶°ì¤˜ì•¼ í•œë‹¤ ì•„ë˜ëŠ” ReplicaSetì— ëŒ€í•´ ì¡°ê¸ˆ ì£¼ì˜(?)í•  ë¶€ë¶„ë“¤ì´ë‹¤ ReplicaSet ìƒì„± ì‹œ labelì´ ì¼ì¹˜í•˜ë©´ ê¸°ì¡´ì— ë– ìˆëŠ” Pod ë“¤ë„ ê°™ì´ ReplicaSetë¡œ ë¬¶ì´ëŠ”ë°, ì´ Podë“¤ì´ templateì— ìˆëŠ” Podì˜ í˜•íƒœì™€ ì•Šë”ë¼ë„ ì‚­ì œë˜ì§€ ì•ŠìŒì— ì£¼ì˜í•´ì•¼ í•œë‹¤ e.g. ê¸°ì¡´ì— app: reverse-proxy ë ˆì´ë¸”ì˜ apache Podê°€ ë– ìˆëŠ” ìƒíƒœì—ì„œ, selector = app: reverse-proxy, template = nginxì˜ ReplicaSetì„ ìƒì„±í•˜ë©´ ê¸°ì¡´ì˜ apache PodëŠ” ì‚­ì œë˜ì§€ì•Šê³  ê°™ì€ ReplicaSetì´ ëœë‹¤ selector ê°€ Pod ë“¤ì„ ë¬¶ëŠ” ê¸°ì¤€ì´ë‹ˆê¹Œ, ê¸°ì¡´ì— ReplicaSetê°€ ë„ì›Œì§„ ìƒíƒœì—ì„œ selector ë¥¼ ë°”ê¾¸ê²Œ ë˜ë©´ ê¸°ì¡´ì˜ Pod ë“¤ì€ ì‚­ì œë˜ì§€ ì•Šê³  ë‚¨ì•„ìˆê²Œ ë˜ë‚˜? ReplicaSetìœ¼ë¡œ ë– ìˆëŠ” ìƒíƒœì—ì„œ selectorë¥¼ ë°”ê¾¸ê²Œ ë˜ë©´ ë¬¸ë²•ì ìœ¼ë¡œ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤ ReplicaSetì— ëŒ€í•œ ë©”íƒ€ì •ë³´(ë– ìˆëŠ” Podë“¤ê³¼ ë§¤í•‘ ë“±)ì´ ë§ˆìŠ¤í„° ë…¸ë“œ ì–´ë”˜ê°€ì—â€¦ ì €ì¥ë˜ì–´ì„œ ê·¸ê²ƒìœ¼ë¡œ íŒë‹¨í•˜ëŠ” ê²ƒ ê°™ë‹¤ ì»¨íŠ¸ë¡¤ëŸ¬ - Deployment ReplicaSet ë³´ë‹¤ ìƒìœ„ì— ìˆëŠ” ê°œë…ìœ¼ë¡œ ReplicaSet ë°°í¬ì˜ ê¸°ë³¸ ë‹¨ìœ„ê°€ ë˜ëŠ” ë¦¬ì†ŒìŠ¤ì´ë‹¤ ì•„ë˜ì™€ ê°™ì€ ê´€ê³„ì´ë‹¤ ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ì´ Deploymentë¥¼ ë‹¨ìœ„ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•œë‹¤ ì‹¤ì œ ìš´ì˜ì—ì„œëŠ” ReplicaSetì„ ì§ì ‘ ë‹¤ë£¨ê¸°ë³´ë‹¤ëŠ” Deploymentë¥¼ í†µí•´ ë°°í¬í•˜ëŠ” ê²½ìš°ê°€ ëŒ€ë¶€ë¶„ì´ë‹¤ ì„¤ì •ì€ ReplicaSetì™€ ê±°ì˜ ë™ì¼í•˜ê²Œ ì‘ì„±í•œë‹¤ 12345678910111213141516171819apiVersion: apps/v1kind: Deploymentmetadata: name: frontend label: app: frontendspec: replicas: 3 selector: matchLabels: tier: frontend template: metadata: labels: tier: frontend spec: containers: - name: php-redis image: gcr.io/google_samples/gb-frontend:v3 Deploymentì˜ íŠ¹ì§•ì€ ë¦¬ë¹„ì „ì„ ì‚¬ìš©í•´ ë°°í¬ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ë‹¤ Deploymentë¥¼ ìƒì„±í•œ ë’¤ ë¦¬ë¹„ì „ì„ í™•ì¸í•´ë³¸ë‹¤ 123456$ kubectl apply -f deployment.yml --record # ì–´ë–¤ kubectlì„ ì‹¤í–‰í–ˆëŠ”ì§€ ë‚¨ê¸°ê¸° ìœ„í•¨$ kubectl rollout history deployment frontenddeployment.extensions/fronendREVISION CHANGE-CAUSE1 kubectl apply --filename=deployment.yaml --record=true ê²°ê³¼ë¡œëŠ” REVISION=1 ê°’ì´ ì¶œë ¥ë¨ì„ ë³¼ ìˆ˜ ìˆë‹¤ ì´ ë¦¬ë¹„ì „ê°’ì€ ì•„ë˜ì™€ ê°™ì€ íŠ¹ì„±ì´ ìˆë‹¤ replicas ì˜ ê°’ì„ ë°”ê¿”ë„ ë¦¬ë¹„ì „ê°’ì´ ì˜¬ë¼ê°€ì§„ ì•ŠëŠ”ë‹¤ replicaSet ì»¨í…Œì´ë„ˆì˜ ì´ë¯¸ì§€ë¥¼ ë°”ê¾¸ê³  ì ìš©í•˜ë©´ ë¦¬ë¹„ì „ê°’ì´ ì˜¬ë¼ê°„ë‹¤ ë¦¬ë¹„ì „ì„ ì˜¬ë¦¬ê¸° ìœ„í•´ ì•„ë˜ì™€ ê°™ì´ ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ë¥¼ ë°”ê¾¸ê³  123containers: - name: php-redis image: gcr.io/google_samples/gb-frontend:v4 deploymentë¥¼ ë‹¤ì‹œ ì ìš©í•˜ë©´ ë¦¬ë¹„ì „ê°’ì´ ì˜¬ë¼ê°ì„ ë³¼ ìˆ˜ ìˆë‹¤ 123456$ kubectl rollout history deployment echodeployment.extensions/frontendREVISION CHANGE-CAUSE1 kubectl apply --filename=deployment.yaml --record=true2 kubectl apply --filename=deployment.yaml --record=true 123456789$ kubectl get pods --selector app=frontendNAME READY STATUS RESTARTS AGEfrontend-6bfffbcf9f-n42dh 1/1 Running 0 1mfrontend-6bfffbcf9f-tssb9 1/1 Running 0 1mfrontend-6bfffbcf9f-vfmcj 1/1 Running 0 1mfrontend-8556ddbfb9-zpfrg 0/1 Terminating 0 3mfrontend-8556ddbfb9-9p7ld 0/1 Terminating 0 3mfrontend-8556ddbfb9-x5kvb 0/1 Terminating 0 3m ì´ë ‡ê²Œ ë¦¬ë¹„ì „ìœ¼ë¡œ ê´€ë¦¬í•˜ê²Œ ë¨ìœ¼ë¡œì¨ Deploymentë¥¼ ë¡¤ë°±ì´ ê°€ëŠ¥í•˜ê²Œ ëœë‹¤ $ kubectl rollout undo deployment frontend Podë¥¼ í™•ì¸í•´ë³´ë©´ ë°”ë¡œ ì§ì „ ë¦¬ë¹„ì „ìœ¼ë¡œ ë¡¤ë°±ë˜ê³  ìˆìŒì„ ë³¼ ìˆ˜ ìˆë‹¤(ë°”ë¡œ ì§ì „ë§Œ ê°€ëŠ¥í•œ ë“¯ í•˜ë‹¤) ë¡¤ë°±ë˜ë©´ ë¦¬ë¹„ì „ì´ ë‹¤ì‹œ 1ë¡œ ëŒì•„ê°€ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, 3ìœ¼ë¡œ ì˜¬ë¼ê°„ë‹¤ ë¦¬ë¹„ì „ì€ ìµœëŒ€ 10ê¹Œì§€ ê°€ëŠ¥í•œ ê²ƒ ê°™ë‹¤ ì°¸ê³  : ì•¼ë§ˆë‹¤ ì•„í‚¤ë…¸ë¦¬, ã€ë„ì»¤/ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ í™œìš©í•œ ì»¨í…Œì´ë„ˆ ê°œë°œ ì‹¤ì „ ì…ë¬¸ã€, ì‹¬íš¨ì„­ ì˜®ê¹€, ìœ„í‚¤ë¶ìŠ¤(2019) ì¿ ë²„ë„¤í‹°ìŠ¤ ê°œë… ì´í•´ https://bcho.tistory.com/1256?category=731548 ì¿ ë²„ë„¤í‹°ìŠ¤ ì„œë¹„ìŠ¤ https://bcho.tistory.com/1262]]></content>
      <categories>
        <category>kubernetes</category>
      </categories>
      <tags>
        <tag>ë„ì»¤/ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ í™œìš©í•œ ì»¨í…Œì´ë„ˆ ê°œë°œ ì‹¤ì „ ì…ë¬¸</tag>
        <tag>kubernetes object</tag>
        <tag>kubernetes pod</tag>
        <tag>kubernetes service</tag>
        <tag>kubernetes replicaset</tag>
        <tag>kubernetes deployment</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[docker] volume container ì¶”ê°€í•˜ê¸°]]></title>
    <url>%2Fdocker%2Fvolume-container-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0%2F</url>
    <content type="text"><![CDATA[volume containerë€? ì¼ë°˜ì ìœ¼ë¡œ docker containerëŠ” ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì— ë°ì´í„°ë¥¼ ê´€ë¦¬í•˜ë¯€ë¡œ, ì»¨í…Œì´ë„ˆê°€ íŒŒê¸°ë˜ë©´ ë°ì´í„°ê°€ ëª¨ë‘ ë‚ ë¼ê°€ê²Œ ëœë‹¤ ì´ëŠ” mysql ê°™ì€ ë°ì´í„° ìŠ¤í† ë¦¬ì§€ë¥¼ ì‚¬ìš©í•  ê²½ìš° ìœ„í—˜í•˜ê²Œ ë˜ëŠ”ë°, ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ë”°ë¡œ ë³¼ë¥¨ì„ ì„¤ì •í•´ì„œ ë°ì´í„°ë¥¼ ì €ì¥í•´ì¤˜ì•¼ í•œë‹¤ í˜¸ìŠ¤íŠ¸OS ë””ë ‰í† ë¦¬ë¥¼ ë§ˆìš´íŠ¸ì‹œì¼œì„œ ë°ì´í„°ë¥¼ ê´€ë¦¬í•  ìˆ˜ë„ ìˆì§€ë§Œ, í˜¸ìŠ¤íŠ¸ìª½ ë””ë ‰í† ë¦¬ì— ì˜ì¡´ì´ ìƒê¸°ê³  ë§Œì•½ ì´ ë””ë ‰í† ë¦¬ì˜ ë°ì´í„°ë¥¼ ì˜ëª» ì†ëŒ€ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ë¶€ì •ì  ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì´ ë°©ì‹ì€ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ê²ƒì´ ì¢‹ë‹¤ ê·¸ë˜ì„œ ì´ì— ëŒ€í•œ ëŒ€ì•ˆìœ¼ë¡œ ì¶”ì²œë˜ëŠ”ê²ƒì´ ë³¼ë¥¨ ì»¨í…Œì´ë„ˆì´ë‹¤ ë³¼ë¥¨ ì»¨í…Œì´ë„ˆëŠ” ë§ ê·¸ëŒ€ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ê²ƒì´ ëª©ì ì¸ ì»¨í…Œì´ë„ˆì´ë‹¤ ê¸°ë³¸ì ìœ¼ë¡œ ìš°ë¦¬ëŠ” Dockerfile ì‘ì„± ì‹œ ì•„ë˜ì™€ ê°™ì´ ë³¼ë¥¨ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤ 12345FROM mysqlVOLUME /var/lib/mysql# ... ìœ„ì²˜ëŸ¼ ì‘ì„±í•˜ê²Œ ë˜ë©´ ì»¨í…Œì´ë„ˆ ë‚´ì˜ /var/lib/mysql ë””ë ‰í„°ë¦¬ê°€ í˜¸ìŠ¤íŠ¸ PCì˜ /var/lib/docker/volumes/${volume_name}/_dataì— ë§ˆìš´íŠ¸ ëœë‹¤ (ë³¼ë¥¨ ì´ë¦„ì€ ì„ì˜ì˜ í•´ì‰¬ê°’ìœ¼ë¡œ ìƒì„±ëœë‹¤) ì°¸ê³ ë¡œ macì´ë‚˜ windowsì˜ ê²½ìš° /var/lib/docker/volumes ë””ë ‰í† ë¦¬ê°€ ì—†ëŠ”ë°, ì´ëŠ” macì´ë‚˜ windowsì˜ ê²½ìš° dockerë¥¼ ë°”ë¡œ ì‹¤í–‰í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ VMì„ í•˜ë‚˜ ë„ìš´ ë’¤, dockerë¥¼ ì‹¤í–‰í•˜ê¸° ë•Œë¬¸ì´ë‹¤ ì¦‰, /var/lib/docker/volumes ë””ë ‰í† ë¦¬ëŠ” macê³¼ docker ì‚¬ì´ì— ë„ì›Œì§„ VM ë‚´ì— ê°ì¶°ì ¸ìˆë‹¤ ì°¸ê³  : https://forums.docker.com/t/var-lib-docker-does-not-exist-on-host/18314 volume containerëŠ” ë³¼ë¥¨ì˜ ì´ëŸ¬í•œ íŠ¹ì§•ì„ ì‚¬ìš©í•œ ê²ƒì´ë‹¤ ì»¨í…Œì´ë„ˆ ìì²´ë¥¼ ë³¼ë¥¨ì„ ê´€ë¦¬í•˜ëŠ” ì• ë¡œ ë§Œë“¤ì–´ì„œ ìº¡ìŠí™”í•˜ê³ , ì´ë¥¼ ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆì˜ ë³¼ë¥¨ì— ë§¤í•‘í•´ì„œ ê²°í•©ì„ ëŠìŠ¨í•˜ê²Œ í•˜ëŠ” ê²ƒì´ë‹¤ ë§Œì•½ ì•„ë˜ì™€ ê°™ì€ ë³¼ë¥¨ ì»¨í…Œì´ë„ˆë¥¼ ì‘ì„±í•˜ê³ , 1234FROM busybox # ìµœì†Œí•œì˜ ìš´ì˜ì²´ì œ ê¸°ëŠ¥ë§Œ ì œê³µVOLUME /var/lib/mysqlVOLUME /var/log /var/lib/mysql, /var/log ë””ë ‰í† ë¦¬ì— ëŒ€í•œ ë³¼ë¥¨ 2ê°œê°€ ìƒì„±ë˜ì–´ ê°ê° /var/lib/docker/volumes/${volume_name}/_data ì— ë§ˆìš´íŠ¸ ëœë‹¤ ë¹Œë“œí•˜ê³  ì»¨í…Œì´ë„ˆë¡œ ë„ìš´ ë’¤, 12$ docker image build -t volume_container:latest .$ docker container run -d volume_container:latest ì°¸ê³ ë¡œ ë³¼ë¥¨ ì»¨í…Œì´ë„ˆë¥¼ ë„ìš°ë©´ ë°”ë¡œ ì¢…ë£Œë˜ëŠ”ë°, ì´ë ‡ê²Œ ì¢…ë£Œëœ ì»¨í…Œì´ë„ˆë¥¼ ì‚¬ìš©í•´ë„ ìƒê´€ì—†ë‹¤ --volumes-from ì˜µì…˜ìœ¼ë¡œ ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆì— ì—°ê²°í•œë‹¤ë©´ 1$ docker container run --volumes-from volume_container mysql:5.7 ì•„ë˜ì™€ ê°™ì€ í˜•íƒœê°€ ë˜ëŠ” ê²ƒì´ë‹¤ 12mysql container -&gt; volume_container -&gt; /var/lib/docker/volumes/$&#123;/var/lib/mysql&apos;s volume_name&#125;/_data -&gt; /var/lib/docker/volumes/$&#123;/var/log&apos;s volume_name&#125;/_data docker-compose.yml ì— volume container ì¶”ê°€ ìœ„ì˜ ë°©ì‹ì²˜ëŸ¼ ì»¨í…Œì´ë„ˆë¥¼ ì§ì ‘ ë§Œë“¤ê³  ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆ ì‹¤í–‰ ì‹œ --volumes-from ì†ì„±ìœ¼ë¡œ ì—°ê²°í•´ì£¼ëŠ” ë°©ë²•ë„ ìˆì§€ë§Œ, docker-composeë¥¼ ì‚¬ìš© ì‹œ ì¢€ ë” ê°„ë‹¨í•œ ë°©ë²•ì„ ì œê³µí•´ì¤€ë‹¤ ì•„ë˜ì²˜ëŸ¼ ì‘ì„±í•˜ë©´ ëœë‹¤ 12345678910111213141516171819202122version: "3"services: test_database: image: mysql:5.7 environment: MYSQL_DATABASE: test_db MYSQL_ROOT_PASSWORD: root MYSQL_ROOT_HOST: '%' ports: - 3306:3306 volumes: - test_volume:/var/lib/mysql test_application: build: . expose: - 8080 depends_on: - test_databasevolumes: test_volume: ë³´ë‹¤ì‹œí”¼ test_volume ì´ë¼ëŠ” ë³¼ë¥¨ì„ ìƒì„±í•˜ê³ , ì‚¬ìš©í•˜ëŠ” ìª½ì—ì„œ ${volume_name}:${mountë¥¼ ì›í•˜ëŠ” ë””ë ‰í† ë¦¬} ì˜ í˜•íƒœë¡œ ì§€ì •í•´ì£¼ë©´ ëœë‹¤ docker-compose ì„¤ì •íŒŒì¼ v2 ì˜ í˜•íƒœë¡œ ë³´ë©´ ì¢€ ë” ì§ê´€ì ìœ¼ë¡œ ì´í•´ê°€ ê°ˆ ê²ƒì´ë‹¤ 12345678910111213141516171819202122232425version: "2"services: test_database: image: mysql:5.7 environment: MYSQL_DATABASE: test_db MYSQL_ROOT_PASSWORD: root MYSQL_ROOT_HOST: '%' ports: - 3306:3306 volumes: - test_volume test_application: build: . expose: - 8080 depends_on: - test_database test_volume: image: busybox volumes: - /var/lib/mysql - /var/log v3ì˜ ê²½ìš° ì»¨í…Œì´ë„ˆë¥¼ ë”°ë¡œ ìƒì„±í•˜ì§€ ì•Šì•„ë„ ëœë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤ ë³¼ë¥¨ ì»¨í…Œì´ë„ˆëŠ” ì¶©ë¶„íˆ ì¢‹ì€ ê¸°ëŠ¥ì´ì§€ë§Œ, ê·¸ë˜ë„ ë²”ìœ„ê°€ ê°™ì€ ë„ì»¤ í˜¸ìŠ¤íŠ¸ ì•ˆì´ë¼ëŠ” ì‚¬ì‹¤ì€ ë³€í•˜ì§€ ì•ŠëŠ”ë‹¤ ì´ë ‡ë“¯ ë°ì´í„° ì´ì‹ ë©´ì—ì„œëŠ” ì•„ì§ ê°œì„ í•  ë¶€ë¶„ì´ ë§ì´ ë‚¨ì•„ìˆë‹¤ ì°¸ê³  : https://darkrasid.github.io/docker/container/volume/2017/05/10/docker-volumes.html https://stackoverflow.com/questions/45494746/docker-compose-volumes-from-usage-example]]></content>
      <categories>
        <category>docker</category>
      </categories>
      <tags>
        <tag>docker</tag>
        <tag>ë„ì»¤/ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ í™œìš©í•œ ì»¨í…Œì´ë„ˆ ê°œë°œ ì‹¤ì „ ì…ë¬¸</tag>
        <tag>volume container</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[docker] docker-composeë¡œ nginx + spring-boot + mysql êµ¬ì„±í•˜ê¸°]]></title>
    <url>%2Fdocker%2Fdocker-compose%EB%A1%9C-nginx-spring-boot-mysql-%EA%B5%AC%EC%84%B1%ED%95%98%EA%B8%B0%2F</url>
    <content type="text"><![CDATA[ì•Œë‹¤ì‹œí”¼ ì¼ë°˜ì ìœ¼ë¡œ ì‹œìŠ¤í…œì€ ë‹¨ì¼ ì–´í”Œë¦¬ì¼€ì´ì…˜ ë§Œìœ¼ë¡œ êµ¬ì„±ë˜ì§€ ì•ŠëŠ”ë‹¤ ë‹¤ë¥¸ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ë‚˜ ë¯¸ë“¤ì›¨ì–´ ë“±ê³¼ ì„œë¡œ í†µì‹ í•˜ë©° í•˜ë‚˜ì˜ ì‹œìŠ¤í…œì´ êµ¬ì„±ëœë‹¤ ì´ë²ˆì—ëŠ” ê°€ì¥ ì¼ë°˜ì ì¸ êµ¬ì¡°ì¸ ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ(nginx) + ì–´í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„(spring-boot) + ë°ì´í„° ìŠ¤í† ì–´(mysql) ë¥¼ êµ¬ì„±í•´ë³´ê² ë‹¤ ê°ê°ì˜ êµ¬ì„±ìš”ì†ŒëŠ” ì„œë¡œ ì˜ì¡´ê´€ê³„ê°€ ìˆë‹¤ ì„œë¡œ í†µì‹ í•  ìˆ˜ ìˆì–´ì•¼í•˜ê³  ê° êµ¬ì„±ìš”ì†Œê°€ ì˜¬ë¼ì˜¤ëŠ” ìˆœì„œë„ ë§ì¶°ì¤˜ì•¼ í•œë‹¤ ë¬¼ë¡  ë„ì»¤ë¡œ ë‹¤ ì„¤ì •í•  ìˆ˜ ìˆê¸´í•˜ì§€ë§Œ, ì‚¬ëŒì´ ë§¤ë²ˆ ìˆ˜ì‘ì—…ìœ¼ë¡œ ë§ì¶°ì¤˜ì•¼ í•˜ê¸° ë•Œë¬¸ì— ë²ˆê±°ë¡­ê³  ì‹¤ìˆ˜í•˜ê¸°ë„ ì‰½ë‹¤ ê·¸ë˜ì„œ ì´ëŸ° ì»¨í…Œì´ë„ˆì˜ ì‹¤í–‰ì„ í•œë²ˆì— ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” docker-composeë¥¼ ì‚¬ìš©í•  ê²ƒì´ë‹¤ ì‚¬ì „ êµ¬ì„± spring bootë¡œ ê°„ë‹¨íˆ ì‚¬ìš©ìë¥¼ ì €ì¥í•˜ê³ , ì¡°íšŒí•˜ëŠ” ë¡œì§ì„ ì‘ì„±í•œë‹¤ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071// TestController.java@RequiredArgsConstructor@RequestMapping("/users")@Controllerpublic class TestController &#123; private final UserRepository userRepository; @PostMapping public ResponseEntity&lt;Void&gt; createUser(@RequestBody UserRequest request) &#123; User user = userRepository.save(request.toEntity()); return ResponseEntity.created(URI.create("/users/" + user.getId())).build(); &#125; @GetMapping public ResponseEntity&lt;List&lt;User&gt;&gt; getUsers() &#123; return ResponseEntity.ok( userRepository.findAll() ); &#125; @GetMapping("/&#123;id&#125;") public ResponseEntity&lt;User&gt; getUser(@PathVariable Long id) &#123; return ResponseEntity.ok( userRepository.findById(id) .orElseThrow(IllegalStateException::new) ); &#125;&#125;// UserRequest.java@Getter@Setterpublic class UserRequest &#123; private String name; private Integer age; public User toEntity() &#123; return new User(name, age); &#125;&#125;// User.java@NoArgsConstructor(access = AccessLevel.PROTECTED)@Entity@Table(name = "user")public class User &#123; @Getter @Id @GeneratedValue(strategy = GenerationType.IDENTITY) @Column(name = "id") private Long id; @Getter @Column(name = "name") private String name; @Getter @Column(name = "age") private Integer age; public User(String name, Integer age) &#123; this.name = name; this.age = age; &#125;&#125;// UserRepository.javapublic interface UserRepository extends JpaRepository&lt;User, Long&gt; &#123;&#125; ë³´ë‹¤ì‹œí”¼ user ë¥¼ ì¡°íšŒí•˜ê³  ì €ì¥í•˜ëŠ” ê¸°ëŠ¥ì„ ê°€ì§„ ê°„ë‹¨í•œ API ì„œë²„ì´ë‹¤ ì´ë¥¼ ë„ì»¤ ì»¨í…Œì´ë„ˆë¡œ ë„ìš°ê¸° ìœ„í•´ Dockerfileì„ ì‘ì„±í•œë‹¤ 123456FROM openjdk:8-jdkCOPY ./test-application /test-applicationWORKDIR /test-applicationCMD ["./gradlew", "bootRun"] test-applicationì€ spring-boot ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ìˆëŠ” ë””ë ‰í† ë¦¬ì´ë‹¤ ê°„ë‹¨í•˜ê²Œ spring-boot ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ìˆëŠ” ë””ë ‰í† ë¦¬ ì „ì²´ë¥¼ ì»¨í…Œì´ë„ˆë¡œ ë³µì‚¬í•œ ë’¤, ./gradlew bootRunìœ¼ë¡œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰ì‹œí‚¨ë‹¤ spring-boot, mysql ë„ìš°ê¸°(feat. docker-compose.yml) ì´ì œ ìœ„ íŒŒì¼ì„ docker imageë¡œ ë§Œë“¤ì–´ì£¼ë©´ ë˜ëŠ”ë°, ì•Œë‹¤ì‹œí”¼ ì € Dockerfileì„ ì‚¬ìš©í•´ docker imageë¥¼ ë§Œë“¤ì–´ë´ì•¼ ì‚¬ìš©í•˜ì§€ ëª»í•œë‹¤ dbê°€ ì—†ê¸° ë•Œë¬¸ì´ë‹¤ mysqlì„ docker container ë¡œ ë„ìš´ ë’¤ spring-boot ë¥¼ docker containerë¡œ ë„ìš°ë©´ ë˜ê¸´ í•˜ì§€ë§Œ, ë²ˆê±°ë¡œìš°ë¯€ë¡œ ì´ë¥¼ ê°™ì´ í•´ì¤„ ìˆ˜ ìˆëŠ” docker-compose ì„¤ì • íŒŒì¼ì„ ì‘ì„±í•œë‹¤ 12345678910111213141516171819version: "3"services: test_database: # ì»¨í…Œì´ë„ˆ ì´ë¦„ì„ ì£¼ê³  ì‹¶ë‹¤ë©´ ì‘ì„±í•œë‹¤ # container_name: test_database image: mysql:5.7 environment: MYSQL_DATABASE: test_db MYSQL_ROOT_PASSWORD: root MYSQL_ROOT_HOST: '%' ports: - 3306:3306 test_application: build: . ports: - 8080:8080 depends_on: - test_database mysqlê³¼ spring-boot ì»¨í…Œì´ë„ˆ 2ê°œë¥¼ ë„ì›Œì£¼ëŠ” docker-compose.yml íŒŒì¼ì´ë‹¤ mysqlì˜ ê²½ìš° ì´ë¯¸ì§€ëª…ì„ ì§€ì •í•´ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì—ì„œ ë•¡ê²¨ì˜¤ë„ë¡ í–ˆê³ , spring-bootì˜ ê²½ìš° í˜„ ìœ„ì¹˜ì— ìˆëŠ” Dockerfileì„ ì°¸ì¡°í•˜ì—¬ ë§Œë“  imageë¥¼ ì»¨í…Œì´ë„ˆë¡œ ë„ìš°ê²Œë” í–ˆë‹¤ (docker-compose.ymlê³¼ spring-boot Dockerfileì€ ê°™ì€ ìœ„ì¹˜ì— ìˆë‹¤) ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ê²ƒì€ depends_on ì†ì„±ì¸ë°, ì´ë ‡ê²Œ í•´ë†“ìœ¼ë©´ mysql ì»¨í…Œì´ë„ˆê°€ ë‹¤ ëœ¬ ë‹¤ìŒ spring-boot ì»¨í…Œì´ë„ˆê°€ ëœ¨ê²Œë” ì„¤ì •ëœë‹¤ ì´ì œ spring-bootì—ì„œ mysqlì„ ë°”ë¼ë³¼ ìˆ˜ ìˆë„ë¡ application.propertiesì— ì ‘ì† ì •ë³´ë¥¼ ì‘ì„±í•œë‹¤ 123456789spring.datasource.url=jdbc:mysql://test_database:3306/test_db?useSSL=falsespring.datasource.username=rootspring.datasource.password=rootspring.datasource.driver-class-name=com.mysql.jdbc.Driverspring.jpa.hibernate.ddl-auto=updatespring.jpa.database-platform=org.hibernate.dialect.MySQL5Dialectspring.jpa.generate-ddl=truespring.jpa.show-sql=true ì—¬ê¸°ì„œ íŠ¹ë³„í•œ ë¶€ë¶„ì€ datasource urlë¡œ ip ëŒ€ì‹  test_database ë¼ê³  ì¤€ ë¶€ë¶„ì´ë‹¤ ì´ëŠ” docker-compose.ymlì— ì¨ë†“ì€ mysqlì˜ ì„œë¹„ìŠ¤ëª…ê³¼ ë™ì¼í•œë°, ì´ëŠ” docker-compose.yml ë‚´ì— ì‘ì„±í•œ ì»¨í…Œì´ë„ˆë“¤ì€ ëª¨ë‘ ê°™ì€ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­ìœ¼ë¡œ ë¬¶ì–´ì„œ ìƒì„±í•˜ê¸° ë•Œë¬¸ì´ë‹¤ compose ë‹¨ìœ„ë¡œ ìƒˆë¡œìš´ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­ìœ¼ë¡œ ìƒì„±í•œë‹¤ ê·¸ëƒ¥ ë‹¨ì¼ ë„ì»¤ë“¤ë§Œ ì‹¤í–‰í•˜ë©´ ê¸°ë³¸ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­ì— í• ë‹¹ëœë‹¤ compose ì—†ì´ ì»¨í…Œì´ë„ˆ ê°ê° ë„ì›Œë³´ê³  ë“¤ì–´ê°€ì„œ ip í™•ì¸í•´ë³´ë©´ ëŒ€ì—­ëŒ€ê°€ ê°™ë‹¤ í•˜ì§€ë§Œ compose ë¡œ ìƒì„±í•œ ì»¨í…Œì´ë„ˆëŠ” ëŒ€ì—­ëŒ€ê°€ ë‹¤ë¥´ë‹¤ ì´ì œ ì‘ì„±ì´ ëë‚¬ìœ¼ë‹ˆ, docker-compose ë¡œ ì»¨í…Œì´ë„ˆë“¤ì„ ì‹¤í–‰ì‹œì¼œë³´ì 1$ docker-compose up docker-composeëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ëª…ë ¹ì„ ì‹¤í–‰í•œ ìœ„ì¹˜ì— ìˆëŠ” docker-compose.yml íŒŒì¼ì„ ì°¸ì¡°í•˜ì—¬ ì‹¤í–‰í•œë‹¤ ë§Œì•½ ë‹¤ë¥¸ ê²½ë¡œì— ìˆê±°ë‚˜ ë‹¤ë¥¸ íŒŒì¼ëª…ì„ ì‚¬ìš©í•˜ê³  ì‹¶ì„ ê²½ìš° -f ì˜µì…˜ìœ¼ë¡œ docker-compose íŒŒì¼ì„ ì§€ì •í•´ì£¼ë©´ ëœë‹¤ mysqlê³¼ spring-bootê°€ ì°¨ë¡€ëŒ€ë¡œ ì‹¤í–‰ë˜ëŠ”ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤ -d ì˜µì…˜ì„ ì£¼ë©´ ë°±ê·¸ë¼ìš´ë“œë¡œ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆë‹¤ postmanìœ¼ë¡œ localhost:8080ìœ¼ë¡œ APIë¥¼ í˜¸ì¶œí•´ë³´ë©´, ì˜ ë™ì‘í•¨ì„ ë³¼ ìˆ˜ ìˆë‹¤ nginx ì¶”ê°€ ì´ì œ ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œì¸ nginxë¥¼ ì¶”ê°€í•´ë³´ì docker-compose.yml íŒŒì¼ì„ ìˆ˜ì •í•œë‹¤ 1234567891011121314151617181920212223242526version: "3"services: test_web: image: nginx ports: - 80:80 volumes: - ./nginx/conf.d:/etc/nginx/conf.d depends_on: - test_application test_database: image: mysql:5.7 environment: MYSQL_DATABASE: test_db MYSQL_ROOT_PASSWORD: root MYSQL_ROOT_HOST: '%' ports: - 3306:3306 test_application: build: . expose: - 8080 depends_on: - test_database spring-boot ì»¨í…Œì´ë„ˆê°€ ëœ¬ ë‹¤ìŒì— ë ˆì§€ìŠ¤íŠ¸ë¦¬ì—ì„œ nginxë¥¼ ë•¡ê²¨ì™€ì„œ ì»¨í…Œì´ë„ˆë¡œ ë„ìš°ê²Œë” í–ˆë‹¤ nginx ë¥¼ ì‘ì„±í•œ ë¶€ë¶„ì— volumes ë¼ëŠ” ë¶€ë¶„ì´ ë³´ì´ëŠ”ë°, ì´ëŠ” í˜¸ìŠ¤íŠ¸ì˜ nginx/conf.d í´ë”ë¥¼ ì»¨í…Œì´ë„ˆì˜ /etc/nginx/conf.d í´ë”ë¡œ ë§ˆìš´íŠ¸ í•´ì£¼ê² ë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤ ì´ë ‡ê²Œ ì‘ì„±í•œ ì´ìœ ëŠ” í˜¸ìŠ¤íŠ¸ìª½ì— ì‘ì„±í•´ë†“ì€ nginx ì„¤ì • íŒŒì¼ì„ nginx ì»¨í…Œì´ë„ˆê°€ ëœ¨ë©´ì„œ ì½ê²Œí•˜ê¸° ìœ„í•¨ì´ë‹¤ nginxëŠ” /etc/nginx/conf.d ë‚´ì— ë“¤ì–´ìˆëŠ” ëª¨ë“  .conf íŒŒì¼ì„ include í•œë‹¤ ì•„ë˜ëŠ” conf.d ì•ˆì— ì‘ì„±í•œ app.conf íŒŒì¼ì´ë‹¤ 1234567891011server &#123; listen 80; access_log off; location / &#123; proxy_pass http://test_application:8080; proxy_set_header Host $host:$server_port; proxy_set_header X-Forwarded-Host $server_name; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; &#125; ì´ì œ ì‘ì„±ì´ ëë‚¬ìœ¼ë‹ˆ, docker-composeë¥¼ down í–ˆë‹¤ê°€ ë‹¤ì‹œ up í•œë‹¤ ì•ì— ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œë¥¼ ë‘ì—ˆìœ¼ë‹ˆ url localhostë¡œ ë³€ê²½í–ˆì„ë•Œ ì˜ ì‘ë™í•¨ì„ ë³¼ ìˆ˜ ìˆë‹¤ ì°¸ê³ ë¡œ test_applicationì— ëŒ€í•œ í¬íŠ¸í¬ì›Œë”© ì„¤ì •ì´ì—ˆë˜ portsê°€ exposeë¡œ ë°”ë€Œì—ˆëŠ”ë°, ì´ëŠ” ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œë§Œ í•´ë‹¹ í¬íŠ¸ë¥¼ ì¸ì‹í•˜ê²Œë” í•˜ëŠ” ì†ì„±ì´ë‹¤ ì¦‰, ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆì—ì„œëŠ” 8080ìœ¼ë¡œ í†µì‹ ì´ ê°€ëŠ¥í•˜ì§€ë§Œ, ì™¸ë¶€ì—ì„œëŠ” 8080ìœ¼ë¡œ ë”ì´ìƒ ì ‘ê·¼í•  ìˆ˜ ì—†ë‹¤ github url : https://github.com/joont92/docker-study/tree/master/step02 ì°¸ê³  : https://github.com/hellokoding/hellokoding-courses/blob/master/docker-examples/dockercompose-springboot-mysql-nginx/docker-compose.yaml]]></content>
      <categories>
        <category>docker</category>
      </categories>
      <tags>
        <tag>mysql</tag>
        <tag>docker-compose</tag>
        <tag>docker</tag>
        <tag>nginx</tag>
        <tag>spring boot</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[docker] container ë‹¤ë£¨ê¸°]]></title>
    <url>%2Fdocker%2Fcontainer-%EB%8B%A4%EB%A3%A8%EA%B8%B0%2F</url>
    <content type="text"><![CDATA[ë¹Œë“œí•œ ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ì‹¤í–‰ì‹œí‚¤ë©´ ë„ì»¤ ì»¨í…Œì´ë„ˆê°€ ëœë‹¤ ì–¸ê¸‰í–ˆë“¯ì´ ë„ì»¤ ì´ë¯¸ì§€ëŠ” í•˜ë‚˜ì˜ í…œí”Œë¦¿ì´ë¯€ë¡œ, í•˜ë‚˜ì˜ ë„ì»¤ ì´ë¯¸ì§€ë¡œ ì—¬ëŸ¬ê°œì˜ ë„ì»¤ ì»¨í…Œì´ë„ˆë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤ ë„ì»¤ ì»¨í…Œì´ë„ˆ ìƒëª…ì£¼ê¸° ë„ì»¤ ì»¨í…Œì´ë„ˆëŠ” ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ì‹¤í–‰ì‹œí‚¨ ê²ƒì´ê¸° ë•Œë¬¸ì— ìƒíƒœë¥¼ ê°€ì§€ê³  ìˆë‹¤ ì‹¤í–‰ ì¤‘ ENTRYPOINT, CMDì— ìˆëŠ” ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹¤í–‰ëœ ìƒíƒœë¥¼ ë§í•œë‹¤ ëª…ë ¹í–‰ ë„êµ¬ ë“±ì˜ ì»¨í…Œì´ë„ˆëŠ” ì´ ìƒíƒœê°€ ê¸¸ê²Œ ìœ ì§€ë˜ì§€ ì•ŠëŠ”ë‹¤ ì •ì§€ ì‹¤í–‰ ì¤‘ ìƒíƒœì— ìˆëŠ” ì»¨í…Œì´ë„ˆë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì¢…ë£Œí•˜ê±°ë‚˜, ì»¨í…Œì´ë„ˆì—ì„œ ì‹¤í–‰ëœ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì •ìƒ/ì˜¤ë¥˜ë¥¼ ë§‰ë¡ í•˜ê³  ì¢…ë£Œëœ ê²½ìš°ì˜ ìƒíƒœë¥¼ ë§í•œë‹¤ ì •ì§€ë˜ì–´ë„ ê·¸ ìƒíƒœ ê·¸ëŒ€ë¡œ ë””ìŠ¤í¬ì— ë‚¨ì•„ìˆê¸° ë•Œë¬¸ì—(docker container ls ë¡œ í™•ì¸ ê°€ëŠ¥) ë‹¤ì‹œ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤ íŒŒê¸° ì •ì§€ëœ ì»¨í…Œì´ë„ˆë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì‚­ì œí•˜ë©´ íŒŒê¸° ìƒíƒœê°€ ëœë‹¤(docker container ls ë¡œ í™•ì¸ ë¶ˆê°€ëŠ¥) íŒŒê¸°ëœ ì»¨í…Œì´ë„ˆëŠ” ë‹¤ì‹œ ì •ì§€ëœ ì»¨í…Œì´ë„ˆì™€ ê°™ì€ ìƒíƒœë¡œ ëŒì•„ê°ˆ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ì£¼ì˜í•´ì„œ ì‹¤í–‰í•´ì•¼ í•œë‹¤ ì•„ë˜ëŠ” ë„ì»¤ ì»¨í…Œì´ë„ˆë¥¼ ê´€ë¦¬í•˜ë©´ì„œ ìì£¼ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì–´ë“¤ê³¼ ê·¸ì— ëŒ€í•œ ê°„ë‹¨í•œ ì„¤ëª…ì´ë‹¤ ì¶”ê°€ì ì¸ ëª…ë ¹ì–´ë‚˜ ì˜µì…˜ì´ ê¶ê¸ˆí•˜ë‹¤ë©´ https://docs.docker.com/engine/reference/commandline/container/ ë¥¼ ì°¸ì¡°í•œë‹¤ docker container run 12$ docker container run [options] ì´ë¯¸ì§€ëª…[:íƒœê·¸ëª…] [ëª…ë ¹] [ëª…ë ¹ì¸ì..]$ docker container run [options] ì´ë¯¸ì§€ID [ëª…ë ¹] [ëª…ë ¹ì¸ì..] ë„ì»¤ ì´ë¯¸ì§€ë¡œë¶€í„° ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±+ì‹¤í–‰ í•˜ëŠ” ëª…ë ¹ì´ë‹¤ ìœ ìš©í•œ ì˜µì…˜ì´ ë§ìœ¼ë‹ˆ í™œìš©í•˜ë©´ ì¢‹ë‹¤ -d : ë°±ê·¸ë¼ìš´ë“œë¡œ ì‹¤í–‰ -p : í¬íŠ¸í¬ì›Œë”© -p 9000:8080 == í˜¸ìŠ¤íŠ¸ í¬íŠ¸ 9000ë²ˆì„ ì»¨í…Œì´ë„ˆ í¬íŠ¸ 8080ìœ¼ë¡œ í¬ì›Œë”© â€“name : ì»¨í…Œì´ë„ˆì— ì´ë¦„ ë¶€ì—¬ ë§¤ë²ˆ ì»¨í…Œì´ë„ˆIDë¥¼ ì¡°íšŒí•˜ëŠ” ê²ƒì´ ë²ˆê±°ë¡œìš°ë¯€ë¡œ ì´ë¦„ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤ ì»¨í…Œì´ë„ˆ ì´ë¦„ì€ ì¤‘ë³µë  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ê°œë°œí™˜ê²½ ì™¸ì—ëŠ” ì˜ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤(ìš´ì˜ì€ ë§ì€ìˆ˜ì˜ ì»¨í…Œì´ë„ˆë¥¼ ì¶”ê°€/ì‚­ì œ í•˜ë¯€ë¡œ) -i, -t : -iëŠ” í‘œì¤€ ì…ë ¥ì„ ë°›ì„ì§€ ì—¬ë¶€ì´ê³ (íŒŒì´í”„ë¼ì´ë‹, í‚¤ë³´ë“œ ì…ë ¥), -tëŠ” ê°€ìƒí„°ë¯¸ë„ì„ ì œê³µí• ì§€ ì—¬ë¶€ì´ë‹¤ 1$ docker container run -it ubuntu:16.04 ë³´í†µ ìœ„ì²˜ëŸ¼ -itë¥¼ ê°™ì´ ì‚¬ìš©í•˜ê³ , ì´ëŸ¬ë©´ ì»¨í…Œì´ë„ˆì— ì‰˜ì— ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ ëœë‹¤(ê°€ìƒ í„°ë¯¸ë„ë¡œ í‘œì¤€ ì…ë ¥ì„ í•˜ëŠ”ê²ƒì´ ë˜ë¯€ë¡œ) -t ì—†ì´ -i ë§Œ ì‚¬ìš©í•´ë„ ì˜ë¯¸ê°€ ìˆë‹¤(íŒŒì´í”„ë¼ì´ë‹ìœ¼ë¡œ ì…ë ¥í•˜ëŠ” ë°©ë²•ì´ ìˆìœ¼ë¯€ë¡œ) -i ì—†ì´ -t ë§Œ ì‚¬ìš©í•˜ëŠ”ê±´ ì˜ë¯¸ê°€ ì—†ë‹¤(ì…ë ¥ì„ ë°›ì§€ ëª»í•˜ëŠ” ìƒíƒœë¼ ê°€ìƒí„°ë¯¸ë„ì„ ì—´ì–´ë´ì•¼) -dì™€ -itë¥¼ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤(ë°±ê·¸ë¼ìš´ë“œë¼ ì…ë ¥ì„ ëŒ€ê¸°í•˜ê±°ë‚˜ ê°€ìƒí„°ë¯¸ë„ì„ ì œê³µí•˜ëŠ”ê²ƒì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤) â€“rm : ì»¨í…Œì´ë„ˆë¥¼ ì¢…ë£Œí•  ë•Œ ì»¨í…Œì´ë„ˆë¥¼ íŒŒê¸°í•˜ëŠ” ì˜µì…˜ ê°™ì€ ì´ë¦„ìœ¼ë¡œ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ì´ ì˜µì…˜ì„ ì‚¬ìš©í•´ì£¼ëŠ”ê²ƒì´ ì¢‹ë‹¤ ë³´í†µ --name ê³¼ ê°™ì´ ì‚¬ìš©í•œë‹¤ ì»¨í…Œì´ë„ˆì— í• ë‹¹í•  ìì›ë„ ì–´ëŠì •ë„ ì œì–´í•  ìˆ˜ ìˆë‹¤ https://jungwoon.github.io/docker/2019/01/13/Docker-6/ docker container ls 1$ docker container ls [options] ì»¨í…Œì´ë„ˆì˜ ëª©ë¡ì„ ë³´ì—¬ì¤Œ -a : ì¢…ë£Œëœ ì»¨í…Œì´ë„ˆì˜ ëª©ë¡ë„ ê°™ì´ ë³´ì—¬ì¤Œ(ì›ë˜ëŠ” ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆì˜ ëª©ë¡ë§Œ ë³´ì—¬ì¤Œ) -q : ì»¨í…Œì´ë„ˆ IDë§Œ ì¶”ì¶œí•¨ 1$ docker container stop $(docker container ls -q) ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ â€“filter : ì»¨í…Œì´ë„ˆ ëª©ë¡ í•„í„°ë§ 12$ docker container ls --filter "name=container_name" # ì»¨í…Œì´ë„ˆëª…$ docker container ls --filter "ancestor=image_name" # ì´ë¯¸ì§€ëª… docker container stop 1$ docker container stop ì»¨í…Œì´ë„ˆID_ë˜ëŠ”_ì»¨í…Œì´ë„ˆëª… ì‹¤í–‰ì¤‘ì¸ ì»¨í…Œì´ë„ˆë¥¼ ì¢…ë£Œí•  ë–„ ì‚¬ìš©í•œë‹¤ docker container restart 1$ docker container restart ì»¨í…Œì´ë„ˆID_ë˜ëŠ”_ì»¨í…Œì´ë„ˆëª… ì •ì§€í•œ ì»¨í…Œì´ë„ˆë¥¼ ì¬ì‹œì‘í•  ë•Œ ì‚¬ìš©í•œë‹¤ start ì™€ ì°¨ì´ê°€ ë­˜ê¹Œ? docker container rm 1$ docker container rm ì»¨í…Œì´ë„ˆID_ë˜ëŠ”_ì»¨í…Œì´ë„ˆëª… ì •ì§€ëœ ì»¨í…Œì´ë„ˆë¥¼ ì™„ì „íˆ íŒŒê¸°í•  ë–„ ì‚¬ìš©í•œë‹¤ ì‹¤í–‰ì¤‘ì¸ ì»¨í…Œì´ë„ˆë¥¼ ê°•ì œë¡œ ì‚­ì œí•˜ê³  ì‹¶ë‹¤ë©´ -f ì˜µì…˜ì„ ì‚¬ìš©í•œë‹¤ docker container logs 1$ docker container logs [options] ì»¨í…Œì´ë„ˆID_ë˜ëŠ”_ì»¨í…Œì´ë„ˆëª… ì»¨í…Œì´ë„ˆì˜ í‘œì¤€ ì¶œë ¥ìœ¼ë¡œ ì¶œë ¥ëœ ë‚´ìš©ì„ ë³´ì—¬ì¤€ë‹¤ -f ì˜µì…˜ì„ ì£¼ë©´ ìƒˆë¡œ ì¶œë ¥ë˜ëŠ” í‘œì¤€ ì¶œë ¥ì„ ê³„ì† ë³¼ ìˆ˜ ìˆë‹¤ ë³´í†µì€ ì´ ë‚´ìš©ì„ ìˆ˜ì§‘í•´ ì›¹ ë¸Œë¼ìš°ì €ë‚˜ ëª…ë ¹í–‰ ë„êµ¬ë¥¼ í†µí•´ ë³´ì—¬ì£¼ë¯€ë¡œ ì´ ëª…ë ¹ì„ ì‚¬ìš©í•  ì¼ì€ ë§ì´ ì—†ë‹¤ docker container exec 1$ docker container exec [options] ì»¨í…Œì´ë„ˆID_ë˜ëŠ”_ì»¨í…Œì´ë„ˆëª… ì»¨í…Œì´ë„ˆì—ì„œ_ì‹¤í–‰í• _ëª…ë ¹ ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆì—ì„œ ì›í•˜ëŠ” ëª…ë ¹ì„ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤ 12$ docker container exec ubuntu_docker pwd$ docker container exec ubuntu_docker ls ì•„ì˜ˆ ì»¨í…Œì´ë„ˆë¡œ ì ‘ì†í•˜ê³  ì‹¶ë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ ì…ë ¥í•˜ë©´ ëœë‹¤ 1$ docker container exec -it ubuntu_docker sh docker container cp 12$ docker container cp [options] ì»¨í…Œì´ë„ˆID_ë˜ëŠ”_ì»¨í…Œì´ë„ˆëª…:ì›ë³¸íŒŒì¼ í˜¸ìŠ¤íŠ¸_ëŒ€ìƒíŒŒì¼$ docker container cp [options] í˜¸ìŠ¤íŠ¸_ì›ë³¸íŒŒì¼ ì»¨í…Œì´ë„ˆID_ë˜ëŠ”_ì»¨í…Œì´ë„ˆëª…:ëŒ€ìƒíŒŒì¼ ì‹¤í–‰ì¤‘ì¸ ì»¨í…Œì´ë„ˆì— íŒŒì¼ì„ ë³µì‚¬í•˜ê±°ë‚˜ ë³µì‚¬í•´ ì˜¬ ë•Œ ì‚¬ìš©í•œë‹¤ Dockerfileì˜ CPëŠ” ì´ë¯¸ì§€ ë¹Œë“œì‹œì— í˜¸ìŠ¤íŠ¸ -&gt; ì»¨í…Œì´ë„ˆ ë°©í–¥ìœ¼ë¡œì˜ ë³µì‚¬ë§Œ ê°€ëŠ¥í•˜ë‹¤ 1$ docker container cp test_file ubuntu_docker:/tmp/test_file ì°¸ê³  : ì•¼ë§ˆë‹¤ ì•„í‚¤ë…¸ë¦¬, ã€ë„ì»¤/ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ í™œìš©í•œ ì»¨í…Œì´ë„ˆ ê°œë°œ ì‹¤ì „ ì…ë¬¸ã€, ì‹¬íš¨ì„­ ì˜®ê¹€, ìœ„í‚¤ë¶ìŠ¤(2019)]]></content>
      <categories>
        <category>docker</category>
      </categories>
      <tags>
        <tag>ë„ì»¤/ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ í™œìš©í•œ ì»¨í…Œì´ë„ˆ ê°œë°œ ì‹¤ì „ ì…ë¬¸</tag>
        <tag>docker container</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[docker] image ë‹¤ë£¨ê¸°]]></title>
    <url>%2Fdocker%2Fimage-%EB%8B%A4%EB%A3%A8%EA%B8%B0%2F</url>
    <content type="text"><![CDATA[ë„ì»¤ëŠ” í¬ê²Œ ë„ì»¤ ì´ë¯¸ì§€ì™€ ë„ì»¤ ì»¨í…Œì´ë„ˆë¡œ ë‚˜ë‰œë‹¤ ê·¸ ì¤‘ ë„ì»¤ ì´ë¯¸ì§€ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•˜ëŠ” í…œí”Œë¦¿ ì—­í• ì„ í•œë‹¤ ì•„ë˜ëŠ” ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ê´€ë¦¬í•˜ë©´ì„œ ìì£¼ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì–´ë“¤ê³¼ ê·¸ì— ëŒ€í•œ ê°„ë‹¨í•œ ì„¤ëª…ì´ë‹¤ ì¶”ê°€ì ì¸ ëª…ë ¹ì–´ë‚˜ ì˜µì…˜ì´ ê¶ê¸ˆí•˜ë‹¤ë©´ https://docs.docker.com/engine/reference/commandline/image/ ë¥¼ ì°¸ì¡°í•œë‹¤ docker image build 1$ docker image build [options] Dockerfile_ê²½ë¡œ Dockerfileì— ê¸°ìˆ ëœ ë‚´ìš©ì„ ë”°ë¼ ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ëŠ” ëª…ë ¹ì´ë‹¤ Dockerfileì€ í•„ìˆ˜ë¡œ í•„ìš”í•˜ë‹¤ ë§ˆì§€ë§‰ ì¸ìë¡œ Dockerfileì˜ ê²½ë¡œë¥¼ ì£¼ëŠ”ê²ƒì— ìœ ì˜í•´ì•¼í•œë‹¤ -t ì˜µì…˜ 1$ docker image build -t javatest:latest . ë„ì»¤ ì´ë¯¸ì§€ì— ì´ë¦„ê³¼ íƒœê·¸ë¥¼ ë¶™ì´ëŠ” ì˜µì…˜ìœ¼ë¡œ ì‹¤ì œ ì‚¬ìš©ì—ì„  ê±°ì˜ í•„ìˆ˜ì ìœ¼ë¡œ ì“°ì¸ë‹¤ ì§€ì •í•œ ê²½ë¡œì—ì„œ Dockerfile ì´ë¼ëŠ” ì´ë¦„ì˜ íŒŒì¼ì„ ì°¾ê³  ê·¸ ë‚´ìš©ì„ í† ëŒ€ë¡œ ì´ë¯¸ì§€ë¥¼ ë§Œë“ ë‹¤ íƒœê·¸ëª…ì€ ìƒëµ ê°€ëŠ¥í•œë°, ìƒëµí•˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ latestê°€ ë¶™ëŠ”ë‹¤ -f ì˜µì…˜ 1$ docker image build -f Dockerfile_test -t javatest:latest . Dockerfileì´ ì•„ë‹Œ ë‹¤ë¥¸ ì´ë¦„ì„ ì“°ê³  ì‹¶ì„ ê²½ìš° ì‚¬ìš©í•œë‹¤ â€“pull ì˜µì…˜ 1$ docker image build --pull=true -t javatest:latest . ê¸°ë³¸ì ìœ¼ë¡œ ë„ì»¤ ì´ë¯¸ì§€ ë¹Œë“œ ì‹œ FROM ì¸ìŠ¤íŠ¸ëŸ­ì…˜ì— ì§€ì •í•œ ì´ë¯¸ì§€ë¥¼ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì—ì„œ ë°›ì€ í›„, ì´ë¥¼ í˜¸ìŠ¤íŠ¸ ìš´ì˜ì²´ì œ ì €ì¥í•´ë†“ê³  ì¬ì‚¬ìš©í•œë‹¤ ì´ë¥¼ ë§¤ë²ˆ ìƒˆë¡œ ë°›ì•„ì˜¤ê²Œ í•˜ê³  ì‹¶ì„ ê²½ìš° ì‚¬ìš©í•˜ë©´ ì¢‹ë‹¤ ì´ ì˜µì…˜ì€ ì•„ë˜ì™€ ê°™ì€ ìƒí™©ì„ ëŒ€ë¹„í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ë©´ ì¢‹ë‹¤ 123FROM somelibrary:latest... ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•œë‹¤ FROM ì¸ìŠ¤íŠ¸ëŸ­ì…˜ì˜ somelibrary:latest ì´ë¯¸ì§€ë¥¼ ë°›ê³  ë¡œì»¬ì— ì €ì¥í•´ë‘”ë‹¤ somelibrary ì´ë¯¸ì§€ì— ë²„ê·¸ê°€ ìˆì–´ì„œ ìˆ˜ì •í•˜ê³ , ë‹¤ì‹œ latest íƒœê·¸ë¡œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— ì˜¬ë ¸ë‹¤ ìœ„ì˜ Dockerfile ë¡œ ì´ë¯¸ì§€ë¥¼ ìƒˆë¡œ ë¹Œë“œí•œë‹¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì˜ ë³€ê²½ì‚¬í•­ì´ ìƒì„±ëœ ì´ë¯¸ì§€ì— ë°˜ì˜ë˜ì§€ ì•ŠëŠ”ë‹¤ somelibrary:latestê°€ ì´ë¯¸ ë¡œì»¬ì— ìˆê¸° ë•Œë¬¸ì— ìƒˆë¡œ ë°›ì•„ì˜¤ì§€ ì•Šê³  ì¬ì‚¬ìš©í•œë‹¤ ì´ëŸ¬í•œ ì´ìœ ë¡œ ì‹¤ë¬´ì—ì„œëŠ” latest ëŒ€ì‹  ë³´í†µ íƒœê·¸ëª…ì„ ì§ì ‘ ì…ë ¥í•œë‹¤ docker search 1$ docker search [options] ê²€ìƒ‰_í‚¤ì›Œë“œ ë„ì»¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì—ì„œ ì´ë¯¸ì§€ë¥¼ ê²€ìƒ‰í•  ë•Œ ì‚¬ìš©í•œë‹¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ë¥¼ ë”°ë¡œ ì„¤ì •í•˜ì§€ ì•Šì•˜ë‹¤ë©´ ê¸°ë³¸ì ìœ¼ë¡œ ë„ì»¤ í—ˆë¸Œê°€ ì‚¬ìš©ëœë‹¤ ë„ì»¤ í—ˆë¸Œ(Docker Hub)? ë„ì»¤ ì‚¬ ìì²´ì—ì„œ ê´€ë¦¬í•˜ëŠ” ë„ì»¤ ì´ë¯¸ì§€ ë ˆì§€ìŠ¤íŠ¸ë¦¬ë¡œ, ê¹ƒí—ˆë¸Œì²˜ëŸ¼ ìì‹ ì˜ ê³„ì •ì´ë‚˜ ì¡°ì§ ì´ë¦„ìœ¼ë¡œ ë¦¬í¬í‹°ì €í‹°ë¥¼ ë§Œë“¤ê³  ì´ë¯¸ì§€ë¥¼ ì˜¬ë¦´ ìˆ˜ ìˆë‹¤ ë„ì»¤ í—ˆë¸Œì—ëŠ” ì´ë¯¸ ë§¤ìš° ë§ì€ ë¦¬í¬ì§€í„°ë¦¬ê°€ ë“±ë¡ë˜ì–´ ìˆì–´ì„œ, ì§ì ‘ ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ë§Œë“¤ í•„ìš”ì—†ì´ ë§Œë“¤ì–´ë†“ì€ ì´ë¯¸ì§€ë¥¼ ê°„ë‹¨í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ ì°¸ê³ ë¡œ ì—¬ê¸°ì„œ ëª‡ê°€ì§€ ìš©ì–´ì˜ í˜¼ì¬ê°€ ìˆì„ ìˆ˜ ìˆë‹¤ ë„ì»¤ ì´ë¯¸ì§€ê°€ ì €ì¥ë˜ê³  ê´€ë¦¬ë˜ëŠ” ê³µê°„ì„ ë„ì»¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ë¼ê³  ë¶€ë¥¸ë‹¤ ë„ì»¤ í—ˆë¸Œ, ECR, ì‚¬ë‚´ ë„ì»¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ë“±ë“±ì´ ë  ìˆ˜ ìˆë‹¤ ì´ëŸ¬í•œ ë„ì»¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ë‚´ì—ì„œ ì´ë¯¸ì§€ë¥¼ ì €ì¥í•´ë‘ëŠ” ê³µê°„ì„ ë¦¬í¬ì§€í„°ë¦¬ë¼ê³  ë¶€ë¥¸ë‹¤ ê·¸ëŸ¬ë¯€ë¡œ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì—ì„œ ë¦¬í¬ì§€í„°ë¦¬ë¥¼ ì°¾ëŠ”ê²ƒì€ ì´ë¯¸ì§€ë¥¼ ì°¾ëŠ”ê²ƒê³¼ ë™ì¼í•œ í–‰ìœ„ì´ë‹¤ ë¦¬í¬ì§€í„°ë¦¬ëª…:íƒœê·¸ë¡œ ì ‘ê·¼í•œë‹¤ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ëŠ” ë ˆì§€ìŠ¤íŠ¸ë¦¬ë‚´ì—ì„œ ë¦¬í¬ì§€í„°ë¦¬ì˜ ì´ë¦„ì´ ì¤‘ë³µë˜ëŠ” ê²ƒì„ ë§‰ê¸° ìœ„í•´ ë¦¬í¬ì§€í„°ë¦¬ ì´ë¦„ ì•ì— ì‘ì„±í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤ 12$ docker search mysql$ docker search --limit 5 mysql # 5ê±´ë§Œ ê²€ìƒ‰ ê²€ìƒ‰ê²°ê³¼ëŠ” STARS(ê¹ƒí—™ê³¼ ë™ì¼) ìˆœìœ¼ë¡œ ì¶œë ¥ë˜ê³ , íƒœê·¸ëª…ê¹Œì§€ëŠ” ê²€ìƒ‰í•  ìˆ˜ ì—†ë‹¤ mysql ì²˜ëŸ¼ namespaceê°€ ì—†ëŠ” ì• ë“¤ë„ ìˆëŠ”ë° ì´ëŠ” mysqlì˜ ê³µì‹ ë¦¬í¬ì§€í„°ë¦¬ë¼ì„œ ê·¸ë ‡ë‹¤ docker image name format ë¡œì»¬ ë‚´ì—ì„œëŠ” ìƒê´€ì—†ì§€ë§Œ, ë„ì»¤ í—ˆë¸Œì™€ ê°™ì€ registry ë¥¼ ë¼ê²Œ ë˜ë©´ ì´ë¯¸ì§€ ì´ë¦„(íƒœê·¸)ì— ì¼ì¢…ì˜ í¬ë©§ì´ ìƒê¸°ê²Œ ëœë‹¤ 1[ë ˆì§€ìŠ¤íŠ¸ë¦¬_í˜¸ìŠ¤íŠ¸/]ë¦¬í¬ì§€í„°ë¦¬ëª…[:íƒœê·¸] ë ˆì§€ìŠ¤íŠ¸ë¦¬ í˜¸ìŠ¤íŠ¸ë¥¼ ì§€ì •í•´ì„œ ë¦¬í¬ì§€í„°ë¦¬ë¥¼ ë•¡ê²¨ì˜¬ ìˆ˜ ìˆë‹¤ ìƒëµí•˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ docker.io ê°€ ì¶”ê°€ëœë‹¤(ë„ì»¤ í—ˆë¸Œ) ë„ì»¤ í—ˆë¸Œë¥¼ ì‚¬ìš©í•  ê²½ìš° ë¦¬í¬ì§€í„°ë¦¬ëª… ì•ì— namespaceë¡œ ìì‹ ì˜ ê³„ì •ì„ ì¤˜ì•¼í•œë‹¤ ê·¸ë˜ì•¼ ë„ì»¤ í—ˆë¸Œ ì‹œìŠ¤í…œ ë‚´ì—ì„œ ë¦¬í¬ì§€í„°ë¦¬ë¥¼ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤ docker image pull 1$ docker image pull [options] ë¦¬í¬ì§€í„°ë¦¬ëª…[:íƒœê·¸ëª…] ë„ì»¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì—ì„œ ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ë‚´ë ¤ë°›ì„ ë•Œ ì‚¬ìš©í•œë‹¤ 1$ docker image pull jenkins íƒœê·¸ëª…ì„ ìƒëµí•˜ë©´ default íƒœê·¸ê°€ ì‚¬ìš©ëœë‹¤(latest) docker image ls 1$ docker image ls [options] [ì´ë¯¸ì§€ëª…[:íƒœê·¸ëª…]] í˜„ì¬ í˜¸ìŠ¤íŠ¸ ìš´ì˜ì²´ì œì— ì €ì¥ëœ ë„ì»¤ ì´ë¯¸ì§€ì˜ ëª©ë¡ì„ ë³´ì—¬ì¤€ë‹¤ ì°¸ê³ ë¡œ ì—¬ê¸°ì„œ ì¡°íšŒë˜ëŠ” IMAGE IDëŠ” CONTAINER IDì™€ëŠ” ë³„ê°œì˜ ê²ƒì´ë¯€ë¡œ ì£¼ì˜í•´ì•¼ í•œë‹¤ ë„ì»¤ IMAGE ID ë„ì»¤ëŠ” ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•  ë•Œ ë§ˆë‹¤ ìƒˆë¡œìš´ ì´ë¯¸ì§€ IDê°€ ë¶€ì—¬ëœë‹¤ docker íŒŒì¼ì„ ë¹Œë“œí•˜ì—¬ ì´ë¯¸ì§€ë¥¼ ë§Œë“ ë‹¤ 1$ docker image build -t javatest:latest . docker image lsë¡œ ë¹Œë“œëœ ì´ë¯¸ì§€ê°€ ì˜ ì €ì¥ë˜ì—ˆëŠ”ì§€ í™•ì¸í•œë‹¤ 1234$ docker image ls -aREPOSITORY TAG IMAGE ID CREATED SIZE javatest latest 2327e281c9b2 1 hour ago 4.41MB Dockerfileì„ ì¡°ê¸ˆ ìˆ˜ì •í•˜ê³  ë‹¤ì‹œ ë¹Œë“œí•˜ê³ , docker image ls ë¡œ í™•ì¸í•´ë³¸ë‹¤ 123456$ docker image build -t javatest:latest .$ docker image ls -a REPOSITORY TAG IMAGE ID CREATED SIZE javatest latest 57ca5e531d73 1 hour ago 4.40MB &lt;none&gt; &lt;none&gt; 2327e281c9b2 2 hour ago 4.41MB IMAGE IDê°€ ë‹¤ë¥¸ ì´ë¯¸ì§€ê°€ ìƒˆë¡­ê²Œ ë¹Œë“œë˜ì—ˆìŒì„ ë³¼ ìˆ˜ ìˆë‹¤ (Dockerfileì„ ìˆ˜ì •í•  ë•Œ ë¿ë§Œ ì•„ë‹ˆë¼ COPY ë˜ëŠ” ëŒ€ìƒì´ ë°”ë€Œê±°ë‚˜ í•˜ì—¬ë„ ìƒˆë¡œìš´ ì´ë¯¸ì§€ë¡œ ë¹Œë“œëœë‹¤) ë˜‘ê°™ì€ ì´ë¯¸ì§€ëª…:íƒœê·¸ëª… ìœ¼ë¡œ ë¹Œë“œí–ˆê¸° ë•Œë¬¸ì— ê¸°ì¡´ì˜ ì´ë¯¸ì§€ì—ì„œ REPOSITORYì™€ TAGê°€ &lt;none&gt;ìœ¼ë¡œ í‘œì‹œë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤ ê²°êµ­ IMAGE IDëŠ” ë„ì»¤ ì´ë¯¸ì§€ì˜ ë²„ì „ì´ë¼ê³  ë´ë„ ë¬´ë°©í•˜ë‹¤ docker image tag ìœ„ì—ì„œ ë´¤ë‹¤ì‹œí”¼ íƒœê·¸ëŠ” ì´ë¯¸ì§€ IDë¥¼ ì‹ë³„í•˜ê¸° ìœ„í•´ ë¶™ì´ëŠ” ì¼ì¢…ì˜ ë³„ì¹­ì´ë‹¤ 1$ docker image tag ê¸°ë°˜ì´ë¯¸ì§€ëª…[:íƒœê·¸] ìƒˆì´ë¯¸ì§€ëª…[:íƒœê·¸] ì´ë¯¸ì§€ë¥¼ ê°€ë¦¬í‚¤ëŠ” íƒœê·¸ë¥¼ ì¶”ê°€ ìƒì„±í•  ë–„ ì‚¬ìš©í•œë‹¤ ìƒˆì´ë¯¸ì§€ëª…[:íƒœê·¸]ê°€ ê¸°ë°˜ì´ë¯¸ì§€ëª…[:íƒœê·¸]ê°€ ê°€ë¦¬í‚¤ê³  ìˆë˜ ì´ë¯¸ì§€ IDë¥¼ ê°€ë¦¬í‚¤ëŠ” ìƒíƒœë¡œ ì¶”ê°€ëœë‹¤ 1$ docker image tag joont92/javatest:latest joont92/javatest:1.0.0 ë³´í†µì€ ì´ì²˜ëŸ¼ latestì˜ íŠ¹ì • ì‹œì ì— ë²„ì „ ë„˜ë²„ë¥¼ íƒœê·¸ë¡œ ë¶™ì´ê¸°ìœ„í•´ ì‚¬ìš©í•œë‹¤ ì´ë ‡ê²Œ í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ ìƒì„±ëœë‹¤ 12joont92/javatest 1.0.0 4a1fc394fbefjoont92/javatest latest 4a1fc394fbef latest ê°€ ê°€ì§€ê³  ìˆë˜ ì´ë¯¸ì§€ë¥¼ ê°€ë¦¬í‚¤ëŠ” 1.0.0 ì´ ì¶”ê°€ë¡œ ìƒì„±ë˜ì—ˆë‹¤ docker image push 1$ docker image push [options] ë¦¬í¬ì§€í„°ë¦¬ëª…[:íƒœê·¸] ë ˆì§€ìŠ¤íŠ¸ë¦¬ë¡œ ë„ì»¤ í—ˆë¸Œë¥¼ ì‚¬ìš©í•  ê²½ìš° ë¦¬í¬ì§€í„°ë¦¬ëª… ì•ì— ìì‹ ì˜ ë„ì»¤ IDë¡œ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ë¶™ì—¬ì¤˜ì•¼í•œë‹¤ 1234# ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ì¶”ê°€í•´ì£¼ê³ $ docker image tag javatest:latest joont92/javatest:latest# push$ docker image push joont92/javatest:latest ë¦¬í¬ì§€í„°ë¦¬ì— ì˜¬ë¼ê°”ìŒì„ ë³¼ ìˆ˜ ìˆë‹¤ ì°¸ê³  : ì•¼ë§ˆë‹¤ ì•„í‚¤ë…¸ë¦¬, ã€ë„ì»¤/ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ í™œìš©í•œ ì»¨í…Œì´ë„ˆ ê°œë°œ ì‹¤ì „ ì…ë¬¸ã€, ì‹¬íš¨ì„­ ì˜®ê¹€, ìœ„í‚¤ë¶ìŠ¤(2019)]]></content>
      <categories>
        <category>docker</category>
      </categories>
      <tags>
        <tag>ë„ì»¤/ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ í™œìš©í•œ ì»¨í…Œì´ë„ˆ ê°œë°œ ì‹¤ì „ ì…ë¬¸</tag>
        <tag>docker image</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[docker] Dockerfile]]></title>
    <url>%2Fdocker%2FDockerfile%2F</url>
    <content type="text"><![CDATA[Dockerfileì´ë€? ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ë§Œë“¤ ë•Œ ê¼­ í•„ìš”í•œ ì„¤ì •íŒŒì¼ì´ë‹¤ ì´ íŒŒì¼ë‚´ì— ì‘ì„±ëœ ì¸ìŠ¤íŠ¸ëŸ­ì…˜ë“¤ì„ ì°¸ì¡°í•˜ì—¬ ì´ë¯¸ì§€ê°€ ë§Œë“¤ì–´ì§„ë‹¤ ê¸°ë³¸ìœ¼ë¡œ Dockerfile ì´ë¼ëŠ” ì´ë¦„ì„ ì‚¬ìš©í•˜ê³ , ì´ë¦„ì„ ë³€ê²½í•˜ê³  ì‹¶ë‹¤ë©´ ì´ë¯¸ì§€ ë¹Œë“œì‹œì— ì¶”ê°€ ì˜µì…˜ì„ ì¤˜ì•¼í•œë‹¤(-f) ì¸ìŠ¤íŠ¸ëŸ­ì…˜ Dockerfile ë‚´ì— ìˆëŠ” ëª…ë ¹ì–´ë“¤ì„ ë§í•œë‹¤ ì•„ë˜ëŠ” ê° ì¸ìŠ¤íŠ¸ëŸ­ì…˜ì— ëŒ€í•´ ê°„ë‹¨íˆ ë‚˜ì—´í•œ ê²ƒì´ë©°, ìì„¸í•œ ë‚´ìš©ì´ ê¶ê¸ˆí•˜ë©´ https://docs.docker.com/engine/reference/builder/ ë¥¼ ì°¸ì¡°í•œë‹¤ ìì£¼ ì‚¬ìš©í•˜ëŠ” ì¸ìŠ¤íŠ¸ëŸ­ì…˜ ì˜ˆì‹œë¡œ ì‚¬ìš©í•  ìë°” ì–´í”Œë¦¬ì¼€ì´ì…˜ê³¼ Dockerfile ì´ë‹¤ Test.java 12345public class Test &#123; public static void main(String[] args) &#123; System.out.println("Hello World!"); &#125;&#125; Dockerfile 123456FROM openjdk:8-jdkCOPY Test.java .RUN javac Test.javaCMD [&quot;java&quot;, &quot;Test&quot;] FROM í•´ë‹¹ ë„ì»¤ ì´ë¯¸ì§€ì˜ ë°”íƒ•ì´ ë  ë² ì´ìŠ¤ ì´ë¯¸ì§€ë¥¼ ì§€ì •í•˜ëŠ” ì¸ìŠ¤íŠ¸ëŸ­ì…˜ì´ë‹¤ openjdkë¥¼ ë² ì´ìŠ¤ ì´ë¯¸ì§€ë¡œ ë•¡ê²¨ì™”ê¸° ë•Œë¬¸ì— javac, java ëª…ë ¹ì–´ê°€ ì‹¤í–‰ ê°€ëŠ¥í•¨ì„ ë³¼ ìˆ˜ ìˆë‹¤ openjdkì˜ Dockerfileì„ ë”°ë¼ê°€ë³´ë©´ FROMì— ubuntuë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤ ì´ëŸ°ì‹ìœ¼ë¡œ ì´ë¯¸ì§€ê°€ ê²¹ê²¹ì´ í¬ì¥ë˜ì–´ ë¹Œë“œë˜ëŠ” í˜•ì‹ì´ë‹¤ openjdk ëŠ” ì´ë¯¸ì§€ëª…ì´ë©°, 8-jdkëŠ” íƒœê·¸ëª…ì´ë‹¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ë¥¼ ë”°ë¡œ ì§€ì •í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ë„ì»¤ í—ˆë¸Œì—ì„œ ë•¡ê²¨ì˜¨ë‹¤ COPY í˜¸ìŠ¤íŠ¸ ë¨¸ì‹ ì˜ íŒŒì¼ì´ë‚˜ ë””ë ‰í„°ë¦¬ë¥¼ ë„ì»¤ ì»¨í…Œì´ë„ˆ ì•ˆìœ¼ë¡œ ë³µì‚¬í•˜ëŠ” ì¸ìŠ¤íŠ¸ëŸ­ì…˜ì´ë‹¤ ì´ë¯¸ì§€ê°€ ë¹Œë“œë  ë•Œ 1ë²ˆë§Œ ì‹¤í–‰ë˜ëŠ” ëª…ë ¹ì–´ì´ë‹¤ ì»¨í…Œì´ë„ˆì•ˆì˜ í˜„ì¬ ë””ë ‰í† ë¦¬ë¡œ í˜¸ìŠ¤íŠ¸ ë¨¸ì‹ ì˜ Test.java ì´ ë³µì‚¬ëœë‹¤ ADD ê¸°ë³¸ì ì¸ ê¸°ëŠ¥ì€ COPYì™€ ë™ì¼í•˜ê³ , ì•„ë˜ì˜ ê¸°ëŠ¥ì´ ì¶”ê°€ë¡œ ë” ìˆë‹¤ sourceê°€ remote URL ì´ë©´ ë‹¤ìš´ë°›ì€ ë’¤ destination ì— ë³µì‚¬í•œë‹¤ sourceê°€ ì˜ ì•Œë ¤ì§„ ì••ì¶•íŒŒì¼ í˜•ì‹ì´ë©´(tar, zip ë“±) ì••ì¶•ì„ í’€ì–´ì¤€ë‹¤ sourceê°€ remote URL + ì••ì¶•íŒŒì¼ í˜•ì‹ì´ë©´ ì••ì¶•ì„ í’€ì§€ëŠ” ì•ŠëŠ”ë‹¤ ì•„ë¬´ë˜ë„ ìœ„ì™€ ê°™ì´ íŠ¹ìˆ˜í•œ ìƒí™©ì´ ì•„ë‹ˆë¼ë©´ COPYë¥¼ ì“°ëŠ”ê²Œ ë‚«ë‹¤ ëª…ì‹œì ì´ê¸° ë•Œë¬¸ì´ë‹¤ RUN ë„ì»¤ ì´ë¯¸ì§€ë¥¼ ì‹¤í–‰í•  ì»¨í…Œì´ë„ˆ ì•ˆì—ì„œ ì‹¤í–‰í•  ëª…ë ¹ì„ ì •ì˜í•œë‹¤ ì´ ë˜í•œ ì´ë¯¸ì§€ê°€ ë¹Œë“œë  ë•Œ 1ë²ˆë§Œ ì‹¤í–‰ë˜ëŠ” ëª…ë ¹ì–´ì´ë‹¤ ë³µì‚¬ëœ Test.javaë¥¼ javacë¡œ ì»´íŒŒì¼í•˜ê³  ìˆë‹¤ CMD ì»¨í…Œì´ë„ˆ ì•ˆì—ì„œ ì‹¤í–‰í•  í”„ë¡œì„¸ìŠ¤(ëª…ë ¹)ë¥¼ ì§€ì •í•œë‹¤ ì´ëŠ” ì´ë¯¸ì§€ê°€ ì»¨í…Œì´ë„ˆí™” ë  ë•Œ(ì‹¤í–‰ë  ë•Œ)ë§ˆë‹¤ ì‹¤í–‰ë˜ëŠ” ëª…ë ¹ì–´ì´ë‹¤ ì»´íŒŒì¼ëœ Test.class íŒŒì¼ì„ ì‹¤í–‰í•˜ê³  ìˆë‹¤ ì‘ì„±ë²•ì´ ì¡°ê¸ˆ íŠ¹ì´í•œë°, ì´ 3ê°€ì§€ ì‘ì„±ë²•ì„ ì œê³µí•œë‹¤ CMD command param1 param2 [â€¦] ê°€ì¥ ìµìˆ™í•œ í˜•íƒœì´ë‹¤ FROM ìœ¼ë¡œ ì„¤ì •í•œ ì´ë¯¸ì§€ì— í¬í•¨ëœ ì‰˜ íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ ëª…ë ¹ì„ ì‹¤í–‰í•œë‹¤ ì‰˜ ìŠ¤í¬ë¦½íŠ¸ êµ¬ë¬¸ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ CMD [â€œexecutableâ€, â€œparam1â€, â€œparam2â€ [, â€¦]] ì‰˜ ì—†ì´ ë°”ë¡œ ì‹¤í–‰í•˜ë©´ì„œ ë§¤ê°œë³€ìˆ˜ë¥¼ ë˜ì ¸ì£¼ëŠ” í˜•íƒœì´ë‹¤ ë„ì»¤ì—ì„œ ê¶Œì¥í•˜ëŠ” í˜•íƒœì´ë‹¤ ì‰˜ ìŠ¤í¬ë¦½íŠ¸ êµ¬ë¬¸ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤ 123CMD ["echo", "Hello, $name"]$ Hello $name ë§Œì•½ ì‰˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ ì‰˜ì„ ì‹¤í–‰ì‹œí‚¤ë©´ì„œ ì¸ìë¡œ ì „ë‹¬í•´ì¤˜ì•¼ í•œë‹¤ 1CMD ["/bin/bash", "-c", "echo Hello, $name"] CMD [â€œparam1â€, â€œparam2â€ [, â€¦]] ENTRYPOINTì— ì§€ì •ëœ ëª…ë ¹ì— ì‚¬ìš©í•  ì¸ìë¥¼ ì „ë‹¬í•œë‹¤ CMDëŠ” Dockerfile ë‚´ì— í•˜ë‚˜ë§Œ ì‘ì„±í•  ìˆ˜ ìˆë‹¤ ë§Œì•½ CMDë¥¼ ì—¬ëŸ¬ê°œ ì‘ì„±í•œë‹¤ë©´ ê°€ì¥ ì•ë¶€ë¶„ê»€ ì „ë¶€ ë¬´ì‹œë˜ê³  ê°€ì¥ ë§ˆì§€ë§‰ì— ìˆëŠ” ëª…ë ¹ë§Œì´ ì‹¤í–‰ëœë‹¤ 12CMD ["javac", "Test.java"]CMD ["java", "Test"] í–ˆë‹¤ê°€ ì•ˆë˜ì„œ ì°¾ì•„ë´¤ìŒâ€¦ CMD ëª…ë ¹ ì˜¤ë²„ë¼ì´ë“œë„ ê°€ëŠ¥í•˜ë‹¤ ìœ„ì™€ ê°™ì´ ì„ ì–¸ëœ ìƒí™©ì—ì„œ 12$ docker container run javatest:latest echo joont92$ joont92 # ì¶œë ¥ CMD ëª…ë ¹ì´ ë¬´ì‹œë¨ì„ ë³¼ ìˆ˜ ìˆë‹¤ ê·¸ ì™¸ ì¸ìŠ¤íŠ¸ëŸ­ì…˜ ENTRYPOINT CMDì™€ ë§ˆì°¬ê°€ì§€ë¡œ ì»¨í…Œì´ë„ˆ ì•ˆì—ì„œ ì‹¤í–‰ë  í”„ë¡œì„¸ìŠ¤(ëª…ë ¹)ë¥¼ ì§€ì •í•˜ëŠ” ì¸ìŠ¤íŠ¸ëŸ­ì…˜ì´ë‹¤ CMDì™€ ë‹¤ë¥¸ì ì€ ì¡°ê¸ˆ ê¸°ì¤€ì (?) ì´ ë˜ëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ ì§€ì •í•˜ëŠ” ê²ƒì´ë„ê¹Œâ€¦ ENTRYPOINTë¥¼ ì…ë ¥í•˜ë©´ CMDì— ì „ë‹¬ëœ ì¸ìë“¤ì€ ì „ë¶€ ENTRYPOINTì˜ ì¸ìë¡œ ì „ë‹¬ëœë‹¤ 1234FROM openjdk:jdk-8ENTRYPOINT ["java"]CMD ["version"] ë˜í•œ ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•´ì„œ ì»¨í…Œì´ë„ˆì˜ ìš©ë„ë¥¼ ì–´ëŠì •ë„ ì œí•œ í• ìˆ˜ë„ ìˆë‹¤ 1234FROM golang:1.10ENTRYPOINT ["go"]CMD [""] ìë™ìœ¼ë¡œ go ê°€ ì…ë ¥ëœ ìƒíƒœë¼ê³  ë³´ë©´ ëœë‹¤ go ì´í›„ì˜ ëª…ë ¹ì–´ë§Œ ì¸ìë¡œ ë„˜ê¸°ë©´ ëœë‹¤ 12$ docker container run gotest:latest version$ go version go1.10.3 linux/amd64 # ì¶œë ¥ LABEL ì´ë¯¸ì§€ë¥¼ ë§Œë“  ì‚¬ëŒì˜ ì´ë¦„ ë“±ì„ ì ì„ ìˆ˜ ìˆë‹¤ 1LABEL maintainer="joont92@github.com" ENV ë„ì»¤ ì•ˆì—ì„œ ì‚¬ìš©í•  í™˜ê²½ ë³€ìˆ˜ë¥¼ ì§€ì •í•œë‹¤ 123ENV CLASSPATH=/workspace/javatestCMD ["java", "Main"] ARG ì´ë¯¸ì§€ ë¹Œë“œí•  ë–„ í™˜ê²½ë³€ìˆ˜ë¥¼ ì •ì˜í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ 1234ARG classpath=.ENV CLASSPATH=$&#123;classpath&#125;CMD ["java", "Main"] ì™¸ë¶€ì—ì„œ í™˜ê²½ë³€ìˆ˜ë¥¼ ì „ë‹¬ ë°›ì„ìˆ˜ë„ ìˆë‹¤ --build-argë¥¼ í†µí•´ ì¸ìë¥¼ ì „ë‹¬í•œë‹¤ 1$ docker image build --build-arg classpath=/workapce/javatest -t javatest:latest . ì´ë¯¸ì§€ ë¹Œë“œì‹œì—ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ ì»¨í…Œì´ë„ˆ ìƒì„±ì‹œì— í´ë˜ìŠ¤íŒ¨ìŠ¤ë¥¼ ë°”ê¾¸ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•˜ë‹¤ ì°¸ê³  : ì•¼ë§ˆë‹¤ ì•„í‚¤ë…¸ë¦¬, ã€ë„ì»¤/ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ í™œìš©í•œ ì»¨í…Œì´ë„ˆ ê°œë°œ ì‹¤ì „ ì…ë¬¸ã€, ì‹¬íš¨ì„­ ì˜®ê¹€, ìœ„í‚¤ë¶ìŠ¤(2019)]]></content>
      <categories>
        <category>docker</category>
      </categories>
      <tags>
        <tag>docker</tag>
        <tag>ë„ì»¤/ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ í™œìš©í•œ ì»¨í…Œì´ë„ˆ ê°œë°œ ì‹¤ì „ ì…ë¬¸</tag>
        <tag>docker image</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[docker] ë„ì»¤(docker)ë€?]]></title>
    <url>%2Fdocker%2F%EB%8F%84%EC%BB%A4-docker-%EB%9E%80%2F</url>
    <content type="text"><![CDATA[ê¸°ì¡´ì˜ ê°€ìƒí™” ê¸°ìˆ  ê¸°ì¡´ì— ìš°ë¦¬ê°€ ì•Œê³  ìˆëŠ” ê°€ìƒí™”ëŠ” í•˜ì´í¼ë°”ì´ì €(VMM)ë¼ëŠ” ê¸°ìˆ ì„ ì´ìš©í•˜ì—¬ êµ¬í˜„ëœ ê²ƒì´ë‹¤ í•˜ì´í¼ë°”ì´ì €ëŠ” í˜¸ìŠ¤íŠ¸ ì»´í“¨í„°ì—ì„œ ë‹¤ìˆ˜ì˜ ìš´ì˜ì²´ì œë¥¼ ë™ì‹œì— ì‹¤í–‰í•˜ê¸° ìœ„í•œ ë…¼ë¦¬ì  í”Œë«í¼ì„ ë§í•œë‹¤ í•˜ì´í¼ë°”ì´ì €ë¥¼ ì´ìš©í•œ ê°€ìƒí™” ë°©ì‹ì—ëŠ” í¬ê²Œ 2ê°€ì§€ê°€ ìˆë‹¤ Virtual Machine Type1(native) í˜¸ìŠ¤íŠ¸ OS ì—†ì´ í•˜ì´í¼ë°”ì´ì €ê°€ í•˜ë“œì›¨ì–´ ë°”ë¡œ ìœ„ì—ì„œ ì§ì ‘ ë™ì‘í•˜ëŠ” ë°©ì‹ì´ë‹¤ ì¤‘ê°„ì— OSê°€ ì—†ìœ¼ë¯€ë¡œ í•˜ë“œì›¨ì–´ì—ì„œ ê°€ìƒí™” ê¸°ìˆ ì„ ì§€ì›í•´ì¤˜ì•¼ í•˜ëŠ” ë‹¨ì ì´ ìˆì§€ë§Œ, ìš”ì¦˜ CPUë“¤ì€ ëŒ€ë¶€ë¶„ ê°€ìƒí™”ë¥¼ ê¸°ë³¸ìœ¼ë¡œ ì§€ì›í•˜ê¸° ë–„ë¬¸ì— ê·¸ë‹¤ì§€ ë‹¨ì ì´ ë˜ì§„ ì•ŠëŠ”ë‹¤ type1ì—ì„œë„ êµ¬í˜„ë°©ì‹ì´ ë˜ 2ê°€ì§€ë¡œ ë‚˜ë‰œë‹¤ ì „ê°€ìƒí™” í•˜ë“œì›¨ì–´ ì „ì²´ë¥¼ ê°€ìƒí™”í•œ ë’¤ ê°€ìƒë¨¸ì‹ ì„ ì˜¬ë¦¬ëŠ” ë°©ë²•ì„ ë§í•œë‹¤ ëª¨ë“  ê°€ìƒë¨¸ì‹ ì˜ ìš”ì²­ì€ í•­ìƒ í•˜ì´í¼ë°”ì´ì €ë¥¼ í†µí•´ì„œ ê°€ê²Œ ëœë‹¤ ë°˜ê°€ìƒí™” í•˜ë“œì›¨ì–´ ì „ì²´ë¥¼ ë‹¤ ê°€ìƒí™”í•˜ì§„ ì•ŠëŠ” ë°©ì‹ì„ ë§í•œë‹¤ íŠ¹ì • ìš”ì²­ì€ í•˜ë“œì›¨ì–´ì— ì§ì ‘ ìš”ì²­ê°€ëŠ¥í•˜ê³ , íŠ¹ì • ìš”ì²­ì€ í•˜ì´í¼ë°”ì´ì €ë¥¼ í†µí•´ì„œë§Œ ê°€ëŠ¥í•˜ë‹¤(CPU, ë©”ëª¨ë¦¬ í• ë‹¹ ë“±) ì´ëŸ¬í•œ íŠ¹ì„± ë•Œë¬¸ì— OSë¥¼ ì¡°ê¸ˆ ìˆ˜ì •í•´ì¤˜ì•¼í•˜ëŠ” ë‹¨ì ì´ ìˆì§€ë§Œ, ì†ë„ë©´ì—ì„œëŠ” ë‹¹ì—°íˆ ë” ë¹ ë¥´ë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤ Virtual Machine Type2(hosted) í˜¸ìŠ¤íŠ¸ ìš´ì˜ì²´ì œ ìœ„ì—ì„œ í•˜ì´í¼ë°”ì´ì €ê°€ ë™ì‘í•˜ëŠ” ë°©ì‹ì´ë‹¤ ìš°ë¦¬ê°€ ì˜ ì•„ëŠ” VMWare, VirtualBox ë“±ì´ ì—¬ê¸° ì†í•œë‹¤ ë‹¹ì—°íˆ ì†ë„ëŠ” ë” ëŠë¦¬ë‹¤ ì»¨í…Œì´ë„ˆ ê°€ìƒí™” ê¸°ìˆ ? ìš°ë¦¬ê°€ ì›í•˜ëŠ”ê±´ íŠ¹ì • í™˜ê²½ì— ì¢…ì†ë˜ì§€ ì•Šì€ ìƒíƒœë¡œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë„ìš°ëŠ” ê²ƒì´ë‹¤ í•˜ì§€ë§Œ ë§ ê·¸ëŒ€ë¡œ, ë‹¨ìˆœíˆ ì–´í”Œë¦¬ì¼€ì´ì…˜ë§Œì„ ë„ìš°ê³  ì‹¶ì„ ë¿ì¸ë° OSê¹Œì§€ ë„ìš°ëŠ”ê²ƒì€ ì—„ì²­ë‚œ ë‚­ë¹„ì´ë‹¤ í•˜ì§€ë§Œ ì´ëŸ¬í•œ ìš”êµ¬ë¥¼ ë§Œì¡±ì‹œí‚¤ê¸° ìœ„í•´ì„  ì–´í”Œë¦¬ì¼€ì´ì…˜ ê²©ë¦¬ë¥¼ í•´ê²°í•´ì•¼ í•œë‹¤ í•„ìš”í•œ ê²ƒ : ê²©ë¦¬ëœ CPU, ë©”ëª¨ë¦¬, ë””ìŠ¤í¬, ë„¤íŠ¸ì›Œí¬ë¥¼ ê°€ì§„ ê³µê°„ì„ ë§Œë“¤ê³  ì´ ê³µê°„ì—ì„œ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹¤í–‰í•´ì„œ ìœ ì €ì—ê²Œ ì„œë¹„ìŠ¤ Cgroup, namespace ìœ„ì˜ í•„ìš”í•œ ë¶€ë¶„ì„ ë‹¬ì„±í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œ ëŒ€í‘œì ì¸ 2ê°€ì§€ ê¸°ìˆ ì´ë‹¤(ë¦¬ëˆ…ìŠ¤ ê¸°ìˆ ì´ë‹¤) CroupëŠ” CPU, ì‹œìŠ¤í…œ ë©”ëª¨ë¦¬, ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­í­ê³¼ ê°™ì€ ìì›ì„ ì‹œìŠ¤í…œì—ì„œ ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ì— í• ë‹¹í•  ìˆ˜ ìˆëŠ” ê¸°ìˆ ì„ ë§í•œë‹¤ ì²˜ìŒì—ëŠ” process containers ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ êµ¬ê¸€ì—ì„œ ê°œë°œë˜ì—ˆìœ¼ë‚˜, ì´í›„ Cgroup ìœ¼ë¡œ ì´ë¦„ì´ ë³€ê²½ë˜ì—ˆë‹¤ ê°œë°œ ì´í›„ ë¦¬ëˆ…ìŠ¤ ë©”ì¸ ì»¤ë„ì— í•˜ë‚˜ì˜ ê¸°ëŠ¥ìœ¼ë¡œ ë“¤ì–´ê°”ë‹¤ namespaceëŠ” ë¦¬ì†ŒìŠ¤ë“¤ì„ ì„œë¡œ ë‹¤ë¥¸ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ê·¸ë£¹ìœ¼ë¡œ ë‚˜ëˆ ì„œ, ì„œë¡œ ë‹¤ë¥¸ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì—ì„œëŠ” ë³¼ ìˆ˜ ì—†ë‹¤ë¡ í•˜ëŠ” ê¸°ìˆ ì´ë‹¤ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ êµ¬ì„±í•˜ëŠ” ë°©ì‹ì—ëŠ” pid, uts, network ë“±ë“± ì´ 6ê°€ì§€ì˜ ë°©ë²•ì´ ìˆë‹¤(?) ê²°ê³¼ì ìœ¼ë¡œ ì´ Cgroupì™€ namespaceë¥¼ ì‚¬ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆë¼ëŠ” ê¸°ìˆ ì´ íƒ„ìƒí•˜ê²Œ ëœë‹¤ Cgroupì„ ì´ìš©í•˜ì—¬ í”„ë¡œì„¸ìŠ¤ì— ë¦¬ì†ŒìŠ¤ë¥¼ í• ë‹¹ namespaceë¥¼ ì´ìš©í•˜ì—¬ ë¦¬ì†ŒìŠ¤ê°„ ë³¼ ìˆ˜ ì—†ê²Œí•˜ì—¬ ê²©ë¦¬ì‹œí‚´ ì´ Cgroups, namespacesë¥¼ í‘œì¤€ìœ¼ë¡œ ì •ì˜í•´ë‘” ê²ƒì„ OCI ìŠ¤í™ì´ë¼ê³  í•˜ê³ , ë„ì»¤ì—ì„œ ì‚¬ìš©í–ˆë˜ LXCë‚˜ í˜„ì¬ ì‚¬ìš©í•˜ëŠ” runCëŠ” ëª¨ë‘ ì´ ìŠ¤í™ì„ êµ¬í˜„í•œ êµ¬í˜„ì²´ì´ë‹¤ ë„ì»¤ë€? ì»¨í…Œì´ë„ˆ ê¸°ë°˜ì˜ ì˜¤í”ˆì†ŒìŠ¤ ê°€ìƒí™” í”Œë«í¼ì„ ë§í•œë‹¤ ì•ì„œ ì–¸ê¸‰í–ˆë˜ ì»¨í…Œì´ë„ˆ ê°€ìƒí™” ê¸°ìˆ ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ë¬¼ë¡ ì´ê³ , ê·¸ê²ƒì„ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ëª…ë ¹ì–´ë“¤, ì´ë¯¸ì§€ ë²„ì „ê´€ë¦¬, ë„ì»¤ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ë“±ë“±ì˜ ë§ì€ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤ ì´ê³³ì— ì˜ ì„¤ëª…ë˜ì–´ ìˆë‹¤ https://subicura.com/2017/01/19/docker-guide-for-beginners-1.html ì œê³µí•˜ëŠ” ê¸°ëŠ¥ ì™¸ì— ë„ì»¤ì˜ ì£¼ìš” ì¥ì ì„ ê°„ë‹¨íˆ ì‚´í´ë³´ë©´ ì•„ë˜ì™€ ê°™ë‹¤ ì½”ë“œë¡œ ê´€ë¦¬í•˜ëŠ” ì¸í”„ë¼ì™€ ë¶ˆë³€ ì¸í”„ë¼ ì•Œë‹¤ì‹œí”¼ ì• í”Œë¦¬ì¼€ì´ì…˜ ë°°í¬ëŠ” í•­ìƒ ì¸í”„ë¼ì˜ ê°€ë³€ì„±ì„ í¬í•¨í•˜ê³  ìˆì–´ì„œ ë¬¸ì œê°€ ë§ë‹¤ (ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ë™ì¼í•˜ë”ë¼ë„ ë°°í¬í•˜ëŠ” ì„œë²„ì˜ í™˜ê²½ì— ë”°ë¼ ì—¬ëŸ¬ê°€ì§€ ë¬¸ì œë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤) ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ê°€ì¥ ì¢‹ì€ ë°©ë²•ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì˜ì¡´í•˜ëŠ” í™˜ê²½ì˜ ì°¨ì´ë¥¼ ê°€ëŠ¥í•œ í•œ ë°°ì œí•˜ëŠ” ê²ƒ ì´ë‹¤ ë„ì»¤ëŠ” íŠ¹ì • ì‹œì ì˜ ì„œë²„ ìƒíƒœë¥¼ ë³µì œí•˜ëŠ” ê¸°ëŠ¥(docker image)ê³¼ ì´ë¥¼ ì½”ë“œë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥(Dockerfile)ì„ ì œê³µí•œë‹¤ ê·¸ë¦¬ê³  ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ í™˜ê²½ì„ ê°™ì´ ë¬¶ì–´ì„œ ë¹Œë“œí•  ìˆ˜ ìˆê²Œ í•¨ìœ¼ë¡œì¨ ê¸°ì¡´ì— ì¡´ì¬í•˜ë˜ í™˜ê²½ì˜ ì°¨ì´ë¥¼ ìµœì†Œí•œìœ¼ë¡œ ì¤„ì—¬ë²„ë ¸ë‹¤ ì´ë¡œì¸í•´ ë†’ì€ ì´ì‹ì„± ë˜í•œ ê°–ì¶”ê²Œ ë˜ì—ˆë‹¤ ë¹Œë“œëœ ì´ë¯¸ì§€ëŠ” ë„ì»¤ê°€ ì„¤ì¹˜ëœ ë¨¸ì‹ ì´ë¼ë©´ ì–´ë””ì„œë“  ì‹¤í–‰í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤ êµ¬ì„±ê´€ë¦¬ì˜ ìš©ì´í•¨ ì¼ì •ê·œëª¨ë¥¼ ë„˜ëŠ” ì‹œìŠ¤í…œì€ ë³´í†µ ì—¬ëŸ¬ê°œì˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ê³¼ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì¡°í•©í•˜ëŠ” í˜•íƒœë¡œ êµ¬ì„±ëœë‹¤ ë„ì»¤ë¥¼ ì‚¬ìš©í•œë‹¤ê³ í•´ë„ ì´ ë¶€ë¶„ì€ ì—¬ì „íˆ ì–´ë ¤ìš´ ë¬¸ì œì´ë‹¤ í•˜ì§€ë§Œ ë„ì»¤ëŠ” ì´ ë¬¸ì œë¥¼ í•´ê²°í–ˆë‹¤ ì„¤ì •íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆ ê°„ ì˜ì¡´ ê´€ê³„ì™€ ì‹œì‘ ìˆœì„œë¡¤ ì œì–´í•  ìˆ˜ ìˆëŠ” docker composeë¥¼ ê°œë°œí–ˆê³ , ëŒ€ê·œëª¨ íŠ¸ë˜í”½ì— ë§ì¶° ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ í•´ì£¼ëŠ” docker swarm ì„ ê°œë°œí–ˆë‹¤ ê·¸ë¦¬ê³  ìµœê·¼ì—ëŠ” ëíŒì™•ìœ¼ë¡œ ë“±ì¥í•œ êµ¬ê¸€ì˜ ì¿ ë²„ë„¤í‹°ìŠ¤ê°€ ìˆë‹¤ ì´ë ‡ë“¯ ë„ì»¤ëŠ”, ë„ì»¤ë¥¼ í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ì£¼ë³€ ë„êµ¬ê°€ ì˜ ê°–ì¶°ì ¸ ìˆë‹¤ëŠ” ì¥ì ë„ ê°€ì§€ê³  ìˆë‹¤ ì´ëŸ¬í•œ ì¥ì ìœ¼ë¡œ ë„ì»¤ëŠ” êµ‰ì¥íˆ ë¹ ë¥¸ ì†ë„ë¡œ ì „íŒŒë˜ì–´ê°”ê³ , ì‚¬ì‹¤ìƒ í‘œì¤€(de fecto)ê°€ ë˜ì–´ ìƒˆë¡œìš´ ê°œë°œìŠ¤íƒ€ì¼ì„ ë§ì´ ë§Œë“¤ì–´ë‚´ê²Œ ë˜ì—ˆë‹¤ ë„ì»¤ ì„¤ì¹˜ ë° ì‹¤í–‰ ì•ì„œ ì–¸ê¸‰í•œ Cgroups, namespacesëŠ” ë¦¬ëˆ…ìŠ¤ ê¸°ìˆ ì´ê¸° ë•Œë¬¸ì— macì´ë‚˜ Windowsì—ì„œ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤ ê·¸ëŸ¬ë¯€ë¡œ LinuxKit ì´ë¼ëŠ” ê²½ëŸ‰ ì‹œìŠ¤í…œì„ ì‹¤í–‰í•˜ê³ , ê·¸ ìœ„ì—ì„œ ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í•˜ëŠ” êµ¬ì¡°ë¡œ ë™ì‘í•œë‹¤ ë¬¼ë¡  ì§ì ‘ ì„¤ì¹˜í•  í•„ìš”ëŠ” ì—†ê³  mac, windows ìš© ë„ì»¤ ì„¤ì¹˜í•˜ê³  ì‹¤í–‰ ì‹œ ìë™ìœ¼ë¡œ ê°™ì´ ì‹¤í–‰ëœë‹¤ ì„¤ì¹˜ ë° ì‹¤í–‰ë²•ì€ ì¢‹ì€ ê¸€ì´ ìˆì–´ì„œ ì•„ë˜ì˜ ê¸€ë¡œ ëŒ€ì²´í•œë‹¤ https://subicura.com/2017/01/19/docker-guide-for-beginners-2.html ì°¸ê³  : ì•¼ë§ˆë‹¤ ì•„í‚¤ë…¸ë¦¬, ã€ë„ì»¤/ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ í™œìš©í•œ ì»¨í…Œì´ë„ˆ ê°œë°œ ì‹¤ì „ ì…ë¬¸ã€, ì‹¬íš¨ì„­ ì˜®ê¹€, ìœ„í‚¤ë¶ìŠ¤(2019) https://www.joinc.co.kr/w/man/12/docker/InfrastructureForDocker/about https://tech.ssut.me/what-even-is-a-container/]]></content>
      <categories>
        <category>docker</category>
      </categories>
      <tags>
        <tag>docker</tag>
        <tag>ë„ì»¤/ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ í™œìš©í•œ ì»¨í…Œì´ë„ˆ ê°œë°œ ì‹¤ì „ ì…ë¬¸</tag>
        <tag>ë„ì»¤</tag>
        <tag>ê°€ìƒí™”</tag>
        <tag>ì»¨í…Œì´ë„ˆ ê°€ìƒí™”</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[aws] VPC, subnet]]></title>
    <url>%2Faws%2FVPC-subnet%2F</url>
    <content type="text"><![CDATA[VPC ìš°ë¦¬ê°€ ê³µìœ ê¸° ê¹”ê³  ë„¤íŠ¸ì›Œí¬ êµ¬ì„±í•˜ë“¯ì´, VPCëŠ” AWS ë‚´ì—ì„œ ë…¼ë¦¬ì  ê°€ìƒ ë„¤íŠ¸ì›Œí¬ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ë§í•œë‹¤ EC2 ì¸ìŠ¤í„´ìŠ¤, RDS ì¸ìŠ¤í„´ìŠ¤ ê°™ì€ ë¦¬ì†ŒìŠ¤ë“¤ì€ ì „ë¶€ VPC ë‚´ì— ë“±ë¡í•˜ê²Œ ë˜ë©°, VPCì— ACL ì ìš©, Security Group ì ìš© ë“± ì—¬ëŸ¬ê°€ì§€ ë³´ì•ˆ ì •ì±…ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤ ì°¸ê³ ë¡œ VPC ë©”ë‰´ë¥¼ ê°€ë©´ ì´ë¯¸ VPCê°€ í•˜ë‚˜ ìƒì„±ë˜ì–´ ìˆëŠ”ê²ƒì„ ë³¼ ìˆ˜ ìˆëŠ”ë°, ì´ëŠ” AWS ê³„ì • ìƒì„±ì‹œ ìë™ìœ¼ë¡œ ìƒì„±ë˜ëŠ” default VPCì´ë‹¤ 172.31.0.0/16 ëŒ€ì—­ì„ ì‚¬ìš©í•˜ë©° ê° ë¦¬ì „ë§ˆë‹¤ 1ê°œì”© ìƒì„±ë˜ì–´ ìˆë‹¤(VPCëŠ” ë¦¬ì „ì„ ê¸°ì¤€ìœ¼ë¡œ ìƒì„±í•  ìˆ˜ ìˆë‹¤) default VPCëŠ” ë¦¬ì „ë§ˆë‹¤ 1ê°œë§Œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤ VPC ë©”ë‰´ë¡œ ê°€ì„œ Create VPC ë²„íŠ¼ì„ ëˆŒëŸ¬ ê°„ë‹¨í•˜ê²Œ ë“±ë¡í•  ìˆ˜ ìˆë‹¤ ë‚˜ë§Œì˜ ì‘ì€ IDC(í˜¹ì€ ê³µìœ ê¸° í™˜ê²½) ìƒì„±í•œë‹¤ê³  ìƒê°í•˜ë©´ í¸í•˜ë‹¤ VPC ì´ë¦„ê³¼ IP ëŒ€ì—­(CIDR í˜•ì‹)ì„ ì…ë ¥í•´ì¤˜ì„œ ê°„ë‹¨íˆ ìƒì„±í•  ìˆ˜ ìˆë‹¤ CIDR í˜•ì‹ ì„œë¸Œë„· ë§ˆìŠ¤í¬ë¥¼ 2ì§„ìˆ˜ë¡œ ë°”ê¿¨ì„ ë•Œ 1ì˜ ê°œìˆ˜ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤ e.g. 255.255.255.0 == 24 192.168.0.0 IP ëŒ€ì—­ì„ ì‚¬ìš©í•˜ê³ , 255.255.255.0 ì˜ ì„œë¸Œë„·ë§ˆìŠ¤í¬ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ 192.168.0.0/24ì™€ ê°™ì´ í‘œê¸°í•œë‹¤ IP ëŒ€ì—­ì—ëŠ” ê°€ìƒ ë„¤íŠ¸ì›Œí¬ë¥¼ êµ¬ì„±í•  ê²ƒì´ê¸° IP ëŒ€ì—­ì„ ì…ë ¥í•œë‹¤ RFC 1918ì— ì •ì˜ëœ ì‚¬ì„¤ IP ëŒ€ì—­ì„ ì…ë ¥í•´ì£¼ë©´ ëœë‹¤(10.0.0.0 ~ 10.255.255.255, 172.16.0.0 ~ 172.31.255.255, 192.168.0.0 ~ 192.168.255.255) AWSì—ì„œëŠ” ì´ì²˜ëŸ¼ RFC 1918ì— ì •ì˜ëœ ì‚¬ì„¤ IP ëŒ€ì—­ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤ê³  í•˜ëŠ”ë°, ê³µì¸ IP ëŒ€ì—­ì„ ì…ë ¥í•  ìˆ˜ ìˆê¸°ë‚˜ í•œê°€? ê³µì¸ IP ëŒ€ì—­ì„ ì‚¬ìš©í•˜ë©´ ê°™ì€ ê³µì¸ IPë¥¼ ë§Œë‚¬ì„ ë•Œ í†µì‹ ì´ ë¶ˆê°€ëŠ¥í•˜ì§€ ì•ŠëŠ”ê°€? ë§Œì•½ 192.168.0.0/16ì˜ í˜•íƒœë¡œ ì…ë ¥í–ˆë‹¤ê³  í•˜ë©´ í•´ë‹¹ VPCëŠ” 192.168.0.1 ~ 192.168.255.254 ê¹Œì§€ì˜ IP ëŒ€ì—­ì„ ê°€ì§€ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤ ë§Œì•½ ì´ IP ì˜ì—­ë‚´ì— AWSì—ì„œ ì‚¬ìš©í•˜ëŠ” ì˜ˆì•½ IPê°€ ìˆë‹¤ë©´ ì´ëŠ” ì œì™¸ëœë‹¤ ì„œë¸Œë„· ì•„ì‰½ê²Œë„ VPCì—ì„œ ë„¤íŠ¸ì›Œí¬ ëŒ€ì—­ì„ ì„¤ì •í–ˆë‹¤ê³  í•´ì„œ ë°”ë¡œ ê·¸ ëŒ€ì—­ì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ê²ƒì´ ì•„ë‹ˆë‹¤ ìƒì„±ëœ VPC ëŒ€ì—­ ë‚´ì—ì„œ ì‹¤ì œë¡œ ì‚¬ìš©í•  ëŒ€ì—­ì„ ì¶”ê°€ë¡œ ì„¤ì •í•˜ê³ , ì–´ë–¤ AZì— ìœ„ì¹˜ì‹œí‚¬ì§€ ì„¤ì •í•˜ëŠ” ì„œë¸Œë„·ì´ë¼ëŠ” ê²ƒì„ í•˜ìœ„ì— ì¶”ê°€ë¡œ ë§Œë“¤ì–´ì¤˜ì•¼ í•œë‹¤ ì„œë¸Œë„·ì€ ê°€ìš©ì˜ì—­ì„ ê¸°ì¤€ìœ¼ë¡œ ìƒì„±í•œë‹¤ ì•„ë˜ëŠ” AWS ê³„ì • ìƒì„± ì‹œ ìë™ìœ¼ë¡œ ìƒì„±ë˜ëŠ” default VPC ì•ˆì— ë“¤ì–´ìˆëŠ” default ì„œë¸Œë„· ëª©ë¡ì´ë‹¤ default VPCì˜ IP ëŒ€ì—­ëŒ€ëŠ” 172.31.0.0/16 ì´ì—ˆê³ (172.31.0.0 ~ 172.31.255.255), ì´ë¥¼ ë‹¤ì‹œ 3ê°œë¡œ ìª¼ê°œì„œ(CIDR 20) ê°ê° ë‹¤ë¥¸ AZì— í• ë‹¹í•œ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤ VPC ìƒì„±ì‹œì— 172.31.0.0/20 ìœ¼ë¡œ ìƒì„±í•˜ë©´ ìë™ìœ¼ë¡œ 3ê°œë¡œ ë‚˜ëˆ ì§ˆí…ë°, êµ³ì´ ì´ë ‡ê²Œ í•˜ëŠ” ì´ìœ ëŠ” AZë¥¼ ì„¤ì •í•˜ê¸° ìœ„í•¨ì¼ê¹Œ? ê·¸ë ‡ë‹¤ë©´ ìœ„ì—ì„œ CIDR ê°’ì„ ë°›ì„ í•„ìš”ê°€ ì—†ì§€ì•Šë‚˜? ì´ì œ AWS ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±í•  ë•Œ ì´ë ‡ê²Œ ìƒì„±ëœ VPCì™€ ì„œë¸Œë„· ëŒ€ì—­ì„ ì§€ì •í•´ì£¼ë©´ ì˜ì—­ ë‚´ì—ì„œì˜ IPê°€ private IPë¡œ ë¦¬ì†ŒìŠ¤ì— ë°•íˆê²Œ ëœë‹¤ ì²«ë²ˆì§¸ ì„œë¸Œë„·ì„ ì„ íƒí•˜ë©´ 172.31.0.1 ~ 172.31.15.255 ì‚¬ì´ì˜ IPê°€ private IPë¡œ ë°•íˆê²Œ ëœë‹¤ ë¦¬ì†ŒìŠ¤ ìì²´ì— public IPë¥¼ ë°•ì„ ìˆ˜ ìˆëŠ”ë°, ì´ëŠ” ì–´ë–»ê²Œ ì²˜ë¦¬ë˜ëŠ” ê²ƒì¸ì§€? VPCì—ì„œ NATë¥¼ ìˆ˜í–‰í•´ì„œ í†µì‹  ê°€ëŠ¥í•˜ê²Œë” í•´ì£¼ëŠ” ê²ƒì¸ì§€? ê²Œì´íŠ¸ì›¨ì´, ë¼ìš°íŒ…í…Œì´ë¸”ì„ ì½ì–´ë³´ë©´ ì´ ë¶€ë¶„ì´ í•´ì†Œë  ê²ƒ ê°™ë‹¤ ì¶”ê°€ë¡œ ACL, SG ì„¤ì •í•˜ëŠ” ë¶€ë¶„ë„ ë´ì•¼í•  ë“¯ https://bcho.tistory.com/779 private, public subnetì„ ë‚˜ëˆ„ëŠ” ê¸°ì¤€ì´ ë­”ê°€? ì™¸ë¶€ í†µì‹  ê¸°ì¤€ì¸ê°€? í†µì‹ ì€ ì–´ë–»ê²Œ í•˜ëŠ”ê°€? gatewayì— ipê°€ ë§ì€ ì´ìœ ëŠ” ë™ì í• ë‹¹ì„ ìœ„í•´ì„œ? VPC ì˜ CIDR ê°’ì€ ì„œë¸Œë„· ê°’ì„ ë” í¬ê²Œ ì„¤ì •í•˜ì§€ ëª»í•˜ê¸° ìœ„í•œ ì¼ì¢…ì˜ fence ê°™ì€ ê²ƒ AWS ê³„ì • ì „ìš© ê°€ìƒ ë„¤íŠ¸ì›Œí¬, AZê°€ ë‹¬ë¼ë„ ë…¼ë¦¬ì ìœ¼ë¡œ ë¬¶ì–´ì„œ VPC í˜•ì„± ê°€ëŠ¥ ë‹¤ë¥¸ ê°€ìƒ ë„¤íŠ¸ì›Œí¬ë“¤ê³¼ ë…¼ë¦¬ì ìœ¼ë¡œ ë¶„ë¦¬ ì„œë¸Œë„·ì€ VPC IP ì£¼ì†Œ ë²”ìœ„. AWS ë¦¬ì†ŒìŠ¤ ìƒì„±ì‹œì—ëŠ” VPCê°€ í•„ìš”í•¨ AWS ë¦¬ì†ŒìŠ¤ ë³´í˜¸ë¥¼ ìœ„í•´ ACL ë“±ë“±ì„ ì„œë¸Œë„·ì— ì„¤ì •í•  ìˆ˜ ìˆë‹¤ ê¸°ë³¸ VPCì—ëŠ” ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ê°€ í¬í•¨ëœë‹¤ í¼ë¸”ë¦­ IPë¥¼ ê°€ì§„ ì¸ìŠ¤í„´ìŠ¤ê°€ ìˆëŠ” ì„œë¸Œë„·ì˜ ê²½ìš° í¼ë¸”ë¦­ ì„œë¸Œë„·ì´ë¼ê³  ë¶€ë¥¸ë‹¤ ë¼ìš°í„°ëŠ” ê°ê° ì„œë¸Œë„· ì•ì— ìˆì–´ì•¼í•˜ì§€â€¦ ì•ŠëŠ”ê°€? ê·¸ëŸ¬ë¯€ë¡œ VPN ì—°ê²°ë˜ëŠ” ì„œë¸Œë„·ì„ VPN ì „ìš© ì„œë¸Œë„·ì´ë¼ê³  í•˜ëŠ”ê²ƒì€ ì´í•´ê°€ ê°„ë‹¤ í¼ë¸”ë¦­ IPì£¼ì†ŒëŠ” ì§ì ‘ ì§€ì •í•´ì¤˜ì•¼í•˜ê³ , í”„ë¼ì´ë¹— IP ì£¼ì†ŒëŠ” í•­ìƒ ìˆìŒ ê¸°ë³¸ì ì¸ ê³µìœ ê¸° í™˜ê²½ì—ì„œ NAT ë¥¼ íƒ€ê³  ì¸í„°ë„·ì— ì ‘ì†í•˜ëŠ”ê²ƒê³¼ëŠ” ë‹¤ë¥¸ êµ¬ì¡° VPC ë‚´ì˜ ë¼ìš°í„°ëŠ” VPC ë‚´ ì„œë¸Œë„·ê°„ì˜ í†µì‹ ë§Œì„ ë‹´ë‹¹í•œë‹¤ ì—¬ê¸° ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ë¥¼ ë¶™ì„ìœ¼ë¡œì¨ ì™¸ë¶€ í†µì‹ ì´ ê°€ëŠ¥í•´ì§„ë‹¤ ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ëŠ” ì™¸ë¶€ì™€ private IPë¥¼ ì´ì–´ì£¼ëŠ” ì—­í• ì¸ ê²ƒ ê°™ë‹¤ ì™¸ë¶€ì™€ í†µì‹ í•˜ë ¤ë©´ ë¬´ì¡°ê±´ ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ë¥¼ ì—°ê²°í•´ì•¼í•œë‹¤ ê·¸ëŸ¬ë¯€ë¡œ VPC ë‚´ì˜ ëª¨ë“  ì¸ìŠ¤í„´ìŠ¤ê°€ ì™¸ë¶€ í†µì‹ ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ë ¤ë©´ NAT ë””ë°”ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê³ , ì´ë¥¼ ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ì™€ ì—°ê²°ì‹œì¼œ ì¤˜ì•¼í•œë‹¤ ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ëŠ” private IP, public IPì˜ mapping ì •ë„ë¥¼ í•´ì£¼ëŠ” ì• ë¼ì„œ ê°€ì¥ ë°”ê¹¥ìª½(VPC)ì— ìˆë‹¤ ì„œë¸Œë„·ì€ ê°ê° ë¼ìš°í„°ë¥¼ ê°€ì§€ëŠ”ë°, ì—¬ê¸°ì— NATë¥¼ ë¶™ì´ê³  ë‹¤ì‹œ ì´ NATê°€ ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ì™€ ë¶™ì–´ì„œ ì„œë¸Œë„· ë‚´ì˜ ëª¨ë“  ë¦¬ì†ŒìŠ¤ë“¤ì˜ ì™¸ë¶€ í†µì‹ ì´ ê°€ëŠ¥í•´ì§„ë‹¤ VPC ìƒì„±í•˜ë©´ Route Table, ACL, SGê°€ ê¸°ë³¸ìœ¼ë¡œ ìƒê¸´ë‹¤ ê¸°ë³¸ì„¸íŒ…ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆìŒ ë¼ìš°íŠ¸í…Œì´ë¸”ì˜ ê²½ìš° local ì´ ë“¤ì–´ê°€ìˆëŠ”ë°, ì´ëŠ” ì„œë¸Œë„·ê°„ì˜ ë¦¬ì†ŒìŠ¤ë“¤ì€ ëª¨ë‘ í†µì‹ í•  ìˆ˜ ìˆìŒì„ ë§í•¨ Route Table VPC ë‚´ì˜ ì„œë¸Œë„·ê°„ì˜ í†µì‹ ? ëª¨ë“  ì„œë¸Œë„·ì€ ìƒì„±ì‹œ private ì„œë¸Œë„·ìœ¼ë¡œ ìƒì„±ë˜ê³ , ê¸°ë³¸ì ìœ¼ë¡œ ë‹¤ë¥¸ ì„œë¸Œë„·ê°„ì˜ ì—°ê²°ì„ ì œí•œí•¨ ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ë¥¼ ë§Œë“œë ¤ë©´ ë¬´ì¡°ê±´ ë¼ìš°íŠ¸í…Œì´ë¸”ì„ ìƒì„±í•˜ê³  ë“±ë¡í•´ì¤˜ì•¼í•œë‹¤ ì—¬ê¸°ì„œ ì¶”ê°€ì„¤ì •ìœ¼ë¡œ ì„œë¸Œë„·ê°„ í†µì‹ ì´ë‚˜ ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ ë“±ì„ ì—°ê²°í•  ìˆ˜ ìˆë‹¤]]></content>
      <categories>
        <category>aws</category>
      </categories>
      <tags>
        <tag>AWS</tag>
        <tag>VPC</tag>
        <tag>subnet</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[aws] region, az]]></title>
    <url>%2Faws%2Fregion-az%2F</url>
    <content type="text"><![CDATA[region AWSì˜ ëª¨ë“  ì„œë¹„ìŠ¤(ë¦¬ì†ŒìŠ¤)ê°€ ìœ„ì¹˜í•˜ê³  ìˆëŠ” ë¬¼ë¦¬ì ì¸ ì¥ì†Œ ì •í™•íˆ ë¬¼ë¦¬ì ì¸ ì¥ì†ŒëŠ” ì•„ë‹ˆê³  ì¡°ê¸ˆì€ ì¶”ìƒì  ê°œë… ë„¤íŠ¸ì›Œí¬ ê¸°ìˆ ì´ ì•„ë¬´ë¦¬ ë°œì „í–ˆë”ë¼ë„, ë¬¼ë¦¬ì ìœ¼ë¡œ ë¨¼ ê±°ë¦¬ëŠ” ì‹œê°„ì´ ë§ì´ ê±¸ë¦´ ìˆ˜ ë°–ì— ì—†ìŒ ê²½ìœ í•˜ëŠ” ë¼ìš°í„°ì˜ ê°œìˆ˜ê°€ ë§ê¸° ë–„ë¬¸ ì–´ë–»ê²Œë“  ë¬¼ë¦¬ì ì¸ ê±°ë¦¬ë¥¼ ì¢íˆëŠ”ê²Œ ìµœì ì˜ ë°©ë²•ì„ ë¦¬ì „ì„ ë°”ê¾¸ê³  í…ŒìŠ¤íŠ¸í•´ë³´ë©´ ì†ë„ì°¨ì´ë¥¼ í™•ì‹¤íˆ ëŠë‚„ ìˆ˜ ìˆìŒ https://dezang.github.io/aws-ping-latency-check/ ì „ ì„¸ê³„ ì£¼ìš” ì§€ì—­ì— ìœ„ì¹˜í•˜ê³  ìˆìŒ https://aws.amazon.com/ko/about-aws/global-infrastructure/ ì„œë¹„ìŠ¤ê°€ í¬ë‹¤ë©´ ìì—°ì¬í•´ ë“±ì„ ëŒ€ë¹„í•˜ì—¬ ì—¬ëŸ¬ ë¦¬ì „ì„ ì‚¬ìš©í•˜ëŠ”ê²ƒì„ ê¶Œì¥í•¨ seoul ë¦¬ì „ì´ ë§›íƒ±ì´ ê°”ì„ë•Œ ì¿ íŒ¡, ë°°ë¯¼ ë“±ì˜ ì„œë¹„ìŠ¤ê°€ ëª¨ë‘ ì¤‘ì§€ë˜ì—ˆì—ˆë‹¤ ì˜ì—… ì†ì‹¤ì´ ë³´í†µ ìˆ˜ì¤€ì´ ì•„ë‹ˆì—ˆì„ ê²ƒì´ë‹¤ ë¦¬ì „ê°„ ë¦¬ì†ŒìŠ¤ëŠ” ê³µìœ ë˜ì§€ ì•ŠìŒ ë¦¬ì „ê°„ ë¦¬ì†ŒìŠ¤ ë³µì‚¬ëŠ” ê°€ëŠ¥í•¨ ê³„ì •ë‹¹ ì•¡ì„¸ìŠ¤ í•  ìˆ˜ ìˆëŠ” ë¦¬ì „ì´ ì •í•´ì ¸ìˆë‹¤? í•œêµ­ì€ ì—¬ëŸ¬ê³³ì— ì—´ë ¤ìˆë‹¤? e.g. ì¤‘êµ­ì€ ëª‡ëª‡ ì§€ì—­ ì ‘ê·¼ ëª»í•¨ ê°ìê°€ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë¦¬ì „ê³¼ ê°€ìš©ì˜ì—­ì´ ìˆë‹¤ ê°€ìš©ì˜ì—­(AZ, Avaliability Zone) ì‹¤ì§ˆì ìœ¼ë¡œ IDC ì„¼í„°ê°€ ìœ„ì¹˜í•˜ëŠ” ì¥ì†Œ ë¦¬ì „ì€ ì—¬ëŸ¬ê°œì˜ AZë¥¼ ê°€ì§ Seoul ë¦¬ì „ì´ë¼ê³  í•´ì„œ ì„œìš¸ì— IDCê°€ ìˆëŠ”ê²ƒì´ ì•„ë‹˜ ìˆ˜ë„ì´ê¸° ë•Œë¬¸ì— ê·¸ë ‡ê²Œ í‘œê¸°í•œ ê²ƒì„ ê°€ìš©ì˜ì—­ì˜ ìœ„ì¹˜ê°€ ì‹¤ì œ IDCê°€ ìˆëŠ” ìœ„ì¹˜ì„ Seoul ë¦¬ì „ì˜ ê²½ìš° 3ê°œì˜ AZê°€ ìˆëŠ”ë°, ì´ëŠ” í•œêµ­ì— AWS IDCê°€ 3êµ°ë° ìˆìŒì„ ëœ»í•¨ ê°€ìš©ì˜ì—­ì˜ ìœ„ì¹˜ëŠ” ë¹„ê³µê°œì„ ë¬¼ë¦¬ì  í”¼í•´ë¥¼ ë§‰ê¸° ìœ„í•¨ ê°€ìš©ì˜ì—­ê°„ fail overë¥¼ elastic IPë¡œ í•´ê²°í•  ìˆ˜ ìˆë‹¤? ë¦¬ì†ŒìŠ¤ê°€ ë¦¬ì „ì˜ ê°€ìš© ì˜ì—­ì— ê±¸ì³ ë°°í¬ë  ìˆ˜ ìˆë„ë¡ AWSëŠ” ê° AWS ê³„ì •ì˜ ì´ë¦„ì— ê°€ìš© ì˜ì—­ì„ ë…ë¦½ì ìœ¼ë¡œ ë§¤í•‘í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ AWS ê³„ì •ì˜ us-east-1a ê°€ìš© ì˜ì—­ì€ ë‹¤ë¥¸ AWS ê³„ì •ì— ëŒ€í•œ us-east-1a ê°€ìš© ì˜ì—­ê³¼ ìœ„ì¹˜ê°€ ë™ì¼í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤ 1aê°€ íŠ¹ì • ìœ„ì¹˜ë¥¼ ëª…ì‹œí•˜ëŠ”ê²Œ ì•„ë‹ ìˆ˜ ìˆìŒì„ ë§í•˜ëŠ” ë“¯? AZ IDë¥¼ ì„¤ì •í•˜ë©´ íŠ¹ì • ìœ„ì¹˜ë¥¼ ì•„ì˜ˆ ì§€ì •í•  ìˆ˜ ìˆë‹¤ ì´ë²ˆ AZ ì¶”ê°€ê°€ í…Œë¼í¼ ì„¤ì •ì— ì™œ ë¬¸ì œê°€ ë˜ì—ˆì„ê¹Œ? AZê°„ í†µì‹ ì€ ê°€ëŠ¥í•œê°€? ë¦¬ì „ê°„ í†µì‹ ì€ ê°€ëŠ¥í•œê°€? AZê°„ VPCëŠ” ë¬¶ì§€ë§Œ, ë¦¬ì „ê°„ì€ ì•ˆëœë‹¤? ë¦¬ì „ê°„ failoverëŠ” ê°€ëŠ¥í•œê°€? ë¦¬ì „ê°„ ìŠ¤ìœ„ì¹­ì´ ê°€ëŠ¥í•œê°€?(seoul -&gt; tokyo) ìµœì¢… ë„ë©”ì¸ì— ì—°ê²°ë˜ëŠ” AWS ì£¼ì†Œë¥¼ ë°”ê¿”ì£¼ë©´ ë  ë“¯ í•˜ë‹¤ ë°ì´í„°ë² ì´ìŠ¤ ë™ê¸°í™”ëŠ” ì–´ë–»ê²Œí•˜ëŠ”ê°€? AZê°€ ë§ê°€ì§€ëŠ” ê²½ìš°? ë¦¬ì „ì´ ë§ê°€ì§€ëŠ” ê²½ìš°? ì»¨í…Œì´ë„ˆ 4ê°œë¥¼ ë„ìš´ë‹¤ê³  í•˜ë©´ 2ê°œëŠ” 2aì— 2ê°œëŠ” 2cì—? ê°€ìš©ì˜ì—­ì— ì˜í–¥ë°›ì„ ìˆ˜ ìˆëŠ” ë¦¬ì†ŒìŠ¤ë“¤ì€ ê°€ìš©ì˜ì—­ì„ ì„ íƒí•˜ì§€ ì•ŠëŠ”ë‹¤ ì•„ë§ˆë„ ëª¨ë“  ê°€ìš©ì˜ì—­ë¼ë¦¬ ë³µì‚¬ë˜ì–´ìˆì§€ ì•Šì„ê¹Œ? e.g. Elastic Beanstalk ë“± beanstalk ì€ ê°€ìš©ì˜ì—­ì´ ì—†ê³  ec2 ë¥¼ ê°€ìš©ì˜ì—­ì„ ì„ íƒí•´ì„œ ë„ìš´ë‹¤ loadbalancerì—ì„œ az ë²”ìœ„ ì„ íƒí•˜ê³  ê·¸ ë²”ìœ„ ë‚´ì—ì„œ ë¡œë“œë°¸ëŸ°ì‹±]]></content>
      <categories>
        <category>aws</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ë§¤ê°œë³€ìˆ˜ ì œê±°]]></title>
    <url>%2Frefactoring%2F%EB%A7%A4%EA%B0%9C%EB%B3%80%EC%88%98-%EC%A0%9C%EA%B1%B0%2F</url>
    <content type="text"><![CDATA[ë©”ì„œë“œê°€ ì–´ë–¤ ë§¤ê°œë³€ìˆ˜ë¥¼ ë” ì´ìƒ ì‚¬ìš©í•˜ì§€ ì•Šì„ ë• ê·¸ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚­ì œí•˜ì ë™ê¸° í”„ë¡œê·¸ë˜ë¨¸ëŠ” ë§¤ê°œë³€ìˆ˜ ì¶”ê°€ëŠ” ë¶€ë‹´ì—†ì´ í•˜ë©´ì„œë„ ë§¤ê°œë³€ìˆ˜ ì‚­ì œëŠ” êº¼ë¦°ë‹¤ ê»ë°ê¸°ë¿ì¸ ë§¤ê°œë³€ìˆ˜ë¥¼ ë†”ë‘”ë‹¤ê³  ë¬¸ì œê°€ ìƒê¸°ì§„ ì•Šì„í…Œê³ , í˜¹ì‹œ ë‚˜ì¤‘ì— ë‹¤ì‹œ í•„ìš”í• ìˆ˜ë„ ìˆë‹¤ëŠ” ìê¸°í•©ë¦¬í™” ë•Œë¬¸ì´ë‹¤ ë§¤ê°œë³€ìˆ˜ëŠ” í•„ìš”í•œ ì •ë³´ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤ í˜¸ì¶œ ë¶€ë¶„ì—ì„œ ë¬´ìŠ¨ ê°’ì„ ì „ë‹¬í• ì§€ ì‹ ì¤‘í•´ì•¼ í•œë‹¤ ë§¤ê°œë³€ìˆ˜ë¥¼ ì œê±°í•˜ì§€ ì•Šìœ¼ë©´ ê·¸ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ëª¨ë“ ê³³ì´ ë¶ˆí•„ìš”í•œ ì¶”ê°€ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê²Œ ëœë‹¤ ì´ëŠ” ë§¤ìš° í˜¹ë…í•œ ëŒ€ê°€ì´ê³ , ë§¤ê°œë³€ìˆ˜ ì œê±°ê°€ ì–´ë µì§€ ì•Šë‹¤ë¼ëŠ” ì‚¬ì‹¤ì„ ìƒê°í•˜ë©´ ë”ìš± í˜¹ë…í•œ ëŒ€ê°€ì´ë‹¤ ë°©ë²• ë©”ì„œë“œ ì‹œê·¸ë‹ˆì³ê°€ ìƒìœ„í´ë˜ìŠ¤ë‚˜ í•˜ìœ„í´ë˜ìŠ¤ì— ì„ ì–¸ë˜ì–´ ìˆëŠ”ì§€ ê²€ì‚¬í•œë‹¤ ì¬ì •ì˜ ëœ ê³³ì—ì„œ í•´ë‹¹ ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ì§€ í™•ì¸í•´ë´ì•¼ í•œë‹¤ ë©”ì„œë“œ ì¶”ê°€ë‚˜ ë©”ì„œë“œ ë³€ê²½ë³´ë‹¤ ì¢€ ë” ì‹ ì¤‘í•´ì•¼í•œë‹¤ ë§¤ê°œë³€ìˆ˜ë¥¼ ì œê±°í•œ ìƒˆ ë©”ì„œë“œë¥¼ ì„ ì–¸í•˜ê³ , ì›ë³¸ ë©”ì„œë“œì˜ ë‚´ìš©ì„ ë³µì‚¬í•œë‹¤ ì›ë³¸ ë©”ì„œë“œì—ì„œ ìƒˆ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë„ë¡ ìˆ˜ì •í•œë‹¤ ì°¸ì¡°í•˜ëŠ” ë¶€ë¶„ì´ ë³„ë¡œ ì—†ë‹¤ë©´ ìƒëµ ê°€ëŠ¥í•˜ë‹¤ ì›ë³¸ ë©”ì„œë“œ í˜¸ì¶œ ë¶€ë¶„ì„ ì „ë¶€ ì°¾ì•„ì„œ ìƒˆ ë©”ì„œë“œ í˜¸ì¶œë¡œ ë°”ê¾¼ë‹¤ ì›ë³¸ ë©”ì„œë“œë¥¼ ì‚­ì œí•œë‹¤ ì›ë³¸ ë©”ì„œë“œì˜ ëª¨ë“  í˜¸ì¶œ ë¶€ë¶„ì— ì ‘ê·¼í•  ìˆ˜ ì—†ë‹¤ë©´ @Deprecatedë¡œ í‘œì‹œí•œë‹¤ ì°¸ê³  : ë§ˆí‹´ íŒŒìš¸ëŸ¬, ã€ë¦¬íŒ©í† ë§ã€, ê¹€ì§€ì› ì˜®ê¹€, í•œë¹›ë¯¸ë””ì–´(2012)]]></content>
      <categories>
        <category>refactoring</category>
      </categories>
      <tags>
        <tag>ë¦¬íŒ©í† ë§</tag>
        <tag>remove parameter</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[ddd] ë¦¬í¬ì§€í„°ë¦¬ì™€ ëª¨ë¸êµ¬í˜„(JPA)]]></title>
    <url>%2Fddd%2F%EB%A6%AC%ED%8F%AC%EC%A7%80%ED%84%B0%EB%A6%AC%EC%99%80-%EB%AA%A8%EB%8D%B8%EA%B5%AC%ED%98%84-JPA%2F</url>
    <content type="text"><![CDATA[ë°ì´í„° ë³´ê´€ì†Œë¡œ RDBMSë¥¼ ì‚¬ìš©í•  ë•Œ ê°ì²´ ê¸°ë°˜ì˜ ë„ë©”ì¸ ëª¨ë¸ê³¼ ê´€ê³„í˜• ë°ì´í„° ëª¨ë¸ê°„ì˜ ë§¤í•‘ì„ ì²˜ë¦¬í•˜ëŠ” ê¸°ìˆ ë¡œ ORM ë§Œí•œ ê²ƒì´ ì—†ë‹¤ ë¦¬íŒŒì§€í† ë¦¬ êµ¬í˜„ ëª¨ë“ˆ ìœ„ì¹˜ ë¦¬í¬ì§€í„°ë¦¬ ì¸í„°í˜ì´ìŠ¤ëŠ” ì• ê·¸ë¦¬ê±°íŠ¸ì™€ ê°™ì´ ë„ë©”ì¸ ì˜ì—­ì— ì†í•˜ê³ , ë¦¬í¬ì§€í„°ë¦¬ë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤ëŠ” ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì³ ì˜ì—­ì— ì†í•œë‹¤ ë¦¬í¬ì§€í„°ë¦¬ êµ¬í˜„ í´ë˜ìŠ¤ë¥¼ domain.impl ê°™ì€ íŒ¨í‚¤ì§€ì— ìœ„ì¹˜ì‹œí‚¤ëŠ” ê²ƒì€ ì¢‹ì€ ì„¤ê³„ ë°©ë²•ì´ ì•„ë‹ˆë‹¤ ê¸°ë³¸ ê¸°ëŠ¥ êµ¬í˜„ ë¦¬í¬ì§€í„°ë¦¬ì˜ ê¸°ë³¸ ê¸°ëŠ¥ì€ ë‹¤ìŒ 2ê°€ì§€ ì´ë‹¤ ì•„ì´ë””ë¡œ ì• ê·¸ë¦¬ê±°íŠ¸ ì¡°íšŒ ì• ê·¸ë¦¬ê±°íŠ¸ ì €ì¥ ì´ë¥¼ ì œê³µí•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ì˜ í˜•ì‹ì€ ë‹¤ìŒê³¼ ê°™ë‹¤ 1234interface OrderRepository &#123; public Order findById(OrderNo no); public void save(Order order);&#125; ì¸í„°í˜ì´ìŠ¤ëŠ” ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì‘ì„±í•œë‹¤ ì• ê·¸ë¦¬ê±°íŠ¸ë¥¼ ì¡°íšŒí•˜ëŠ” ê¸°ëŠ¥ì˜ ì´ë¦„ì„ ì§€ì„ ë•Œ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ê·œì¹™ì€ findByí”„ë¡œí¼í‹°(í”„ë¡œí¼í‹° ê°’) ì˜ í˜•ì‹ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤ e.g. findById, findByName, findByOrdererId IDê°€ ì•„ë‹Œ ê°’ìœ¼ë¡œ ì¡°íšŒí• ë•ŒëŠ” JPQLì„ ì´ìš©í•œë‹¤ ì¡°íšŒì— í•´ë‹¹í•˜ëŠ” ì• ê·¸ë¦¬ê±°íŠ¸ê°€ ì¡´ì¬í•˜ë©´ ì• ê·¸ë¦¬ê±°íŠ¸ ë„ë©”ì¸(e.g. Order)ë¥¼ ë°˜í™˜í•˜ê³ , ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ nullì´ë‚˜ Optionalì„ ë°˜í™˜í•œë‹¤ 1ê±´ì´ìƒ ì¡´ì¬í•˜ë©´ List ì»¬ë ‰ì…˜ì„ ë°˜í™˜í•œë‹¤ JPAëŠ” íŠ¸ëœì­ì…˜ ë²”ìœ„ì—ì„œ ë³€ê²½í•œ ë°ì´í„°ë¥¼ ìë™ìœ¼ë¡œ DBì— ë°˜ì˜í•˜ë¯€ë¡œ ë”°ë¡œ ìˆ˜ì • ë©”ì„œë“œë¥¼ ì¶”ê°€í•  í•„ìš”ì—†ë‹¤ ì‚­ì œ ê¸°ëŠ¥ì„ êµ¬í˜„í•œë‹¤ë©´ ì‚­ì œí•  ì• ê·¸ë¦¬ê±°íŠ¸ ê°ì²´ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ë°›ê²Œë” í•œë‹¤ soft deleteë¡œ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤ ëª¨ë¸(ë§¤í•‘) êµ¬í˜„ ê¸°ë³¸ ë§¤í•‘ ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ëŠ” ì—”í‹°í‹°ì´ë¯€ë¡œ @Entityë¡œ ë§¤í•‘í•œë‹¤ 1234@Entityclass Order &#123; // ...&#125; ë²¨ë¥˜ëŠ” @Embeddableë¡œ ë§¤í•‘í•œë‹¤ 1234@Embeddableclass Orderer &#123; // ...&#125; ë°¸ë¥˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ê³³ì—ì„œëŠ” @Embeddedë¡œ ë§¤í•‘í•œë‹¤ 12345@Entityclass Order &#123; @Embedded private Orderer orderer;&#125; ë²¨ë¥˜ê°€ ë‹¤ë¥¸ ë²¨ë¥˜ë¥¼ í¬í•¨í•  ìˆ˜ ìˆë‹¤ 12345@Embeddableclass Orderer &#123; @Embedded private MemberId memberId;&#125; ë°ì´í„°ë² ì´ìŠ¤ ì»¬ëŸ¼ëª…ì´ ë‹¤ë¥¼ ê²½ìš° @AttributeOverride(s) ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•œë‹¤ 12345678910@Embeddableclass ShippigInfo &#123; @Embedded @AttributeOverrides(&#123; @AttributeOverride(name = "zipcode", column = @Column(name="shipping_zipcode")), @AttributeOverride(name = "address1", column = @Column(name="shipping_address1")), @AttributeOverride(name = "address2", column = @Column(name="shipping_address2")), &#125;) private Address address;&#125; ê¸°ë³¸ ìƒì„±ì ìƒì„±ìëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ í•„ìš”í•œ ê²ƒì„ ë°›ëŠ” ìš©ë„ë¡œ ì‚¬ìš©ë˜ëŠ” ê²ƒì´ë‹¤ ë²¨ë¥˜ ì˜¤ë¸Œì íŠ¸ì˜ ê²½ìš° ìƒì„± ì‹œì ì— ëª¨ë“  ê°’ì„ ì „ë‹¬ë°›ê³ , setterë¥¼ ì œê³µí•˜ì§€ ì•Šìœ¼ë¯€ë¡œ, ê¸°ë³¸ ìƒì„±ìê°€ í•„ìš”ì—†ë‹¤ í•˜ì§€ë§Œ JPAì˜ @Entityë‚˜ @Embeddableì„ ì‚¬ìš©í•˜ë ¤ë©´ ê¸°ë³¸ ìƒì„±ìë¥¼ ì œê³µí•´ì•¼í•œë‹¤ ê¸°ì¡´ ê°ì²´ë¥¼ ìƒì†í•œ í”„ë¡ì‹œ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì§€ì—°ë¡œë”© ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ë•Œë¬¸ì´ë‹¤ ì´ëŸ¬í•œ ì´ìœ  ë•Œë¬¸ì— ê¸°ë³¸ ìƒì„±ìë¥¼ ì¶”ê°€í•´ì¤˜ì•¼í•˜ëŠ”ë°, ì•Œë‹¤ì‹œí”¼ ê¸°ë³¸ ìƒì„±ìë¥¼ ì¶”ê°€í•˜ë©´ ê°ì²´ê°€ ì˜¨ì „í•˜ì§€ ëª»í•œ ìƒíƒœë¡œ ì œê³µë  ìˆ˜ ìˆê²Œëœë‹¤ ê·¸ëŸ¬ë¯€ë¡œ ê¸°ë³¸ ìƒì„±ìë¥¼ protectedë¡œ ì„ ì–¸í•´ì„œ ìƒì†í•œ í”„ë¡ì‹œ ê°ì²´ì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì•¼í•œë‹¤ í•„ë“œ ì ‘ê·¼ ë°©ì‹ ì‚¬ìš© JPAëŠ” ê¸°ë³¸ì ìœ¼ë¡œ í•„ë“œì™€ ë©”ì„œë“œ(í”„ë¡œí¼í‹°)ì˜ ë‘ê°€ì§€ ë°©ì‹ìœ¼ë¡œ ë§¤í•‘ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤ í•„ë“œ 1234567@Entity@Access(AccessType.FIELD)class Order &#123; @Column(name = "state") @Enumberated(EnumType.STRING) private OrderState state;&#125; ë©”ì„œë“œ(í”„ë¡œí¼í‹°) 12345678910111213@Entity@Access(AccessType.PROPERTY)class Order &#123; @Column(name = "state") @Enumerated(EnumType.STRING) public OrderState getState() &#123; return state; &#125; public void setState(OrderState state) &#123; this.state = state; &#125;&#125; í•˜ì´ë²„ë„¤ì´íŠ¸ëŠ” @Accessê°€ ì—†ìœ¼ë©´ @Idë‚˜ @EmbeddedIdë¥¼ ë³´ê³  ì ‘ê·¼ ë°©ì‹ì„ ê²°ì •í•œë‹¤ ê³µê°œ getter/setterë¥¼ ì¶”ê°€í•˜ëŠ” ë©”ì„œë“œ(í”„ë¡œí¼í‹°) ë°©ì‹ì„ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ë„ë©”ì¸ì˜ ì˜ë„ê°€ ì‚¬ë¼ì§€ê³ , ê°ì²´ê°€ ì•„ë‹Œ ë°ì´í„° ê¸°ë°˜ìœ¼ë¡œ ì—”í‹°í‹°ë¥¼ êµ¬í˜„í•  ê°€ëŠ¥ì„±ì´ ë†’ì•„ì§€ê²Œ ëœë‹¤ ê·¸ëŸ¬ë¯€ë¡œ ê°€ëŠ¥í•˜ë‹¤ë©´ í•„ë“œ ë°©ì‹ì„ ì‚¬ìš©í•´ì„œ ê°ì²´ê°€ ì œê³µí•  ê¸°ëŠ¥ ì¤‘ì‹¬ìœ¼ë¡œ êµ¬í˜„í•˜ê²Œë” í•´ì•¼í•œë‹¤ AttributeConverterë¥¼ ì´ìš©í•œ ë²¨ë¥˜ ë§¤í•‘ ê°œë°œí•˜ë‹¤ë³´ë©´ ê°€ë” ë²¨ë¥˜ í”„ë¡œí¼í‹° í•˜ë‚˜ë¥¼ í•œ ê°œ ì»¬ëŸ¼ì— ë§¤í•‘í•´ì•¼ í•  ë•Œê°€ ìˆë‹¤ 12345678/** * ì´ ë²¨ë¥˜ ì˜¤ë¸Œì íŠ¸ë¥¼ DB ì»¬ëŸ¼ "WIDTH VARCHAR(20)" ì— ë§¤í•‘ * e.g. 1000mm **/class Length &#123; private int value; private String unit;&#125; ì´ëŸ´ë• JPA 2.1 ì´í›„ë¡œ ì¶”ê°€ëœ AttributeConverterë¥¼ ì´ìš©í•˜ë©´ ëœë‹¤ 12345678910111213141516interface AttributeConverter&lt;X, Y&gt; &#123; // X = ë²¨ë¥˜ íƒ€ì…, Y = DB íƒ€ì… public Y convertToDatabaseColumn(X attribute); // ë²¨ë¥˜ íƒ€ì… -&gt; DB ì»¬ëŸ¼ ê°’ public Y convertToEntityAttribute(Y dbData); // DB ì»¬ëŸ¼ ê°’ -&gt; ë²¨ë¥˜ íƒ€ì…&#125;class MoneyConverter implements AttributeConverter&lt;Money, Integer&gt; &#123; @Override public Integer converToDatabaseColumn(Money money) &#123; return money.getValue(); &#125; @Override public Money convertToEntityAttribute(Integer value) &#123; return new Money(value); &#125;&#125; ì‘ì„±í•œ ì»¨ë²„í„°ë¥¼ ì ìš©ì‹œí‚¤ë ¤ë©´ ì•„ë˜ 2ê°€ì§€ ë°©ë²•ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤ (ì»¨ë²„í„°ë¥¼ ì‚¬ìš©í–ˆê¸° ë•Œë¬¸ì— @Embeddedë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  @Columnìœ¼ë¡œ ì§ì ‘ ë§¤í•‘í•œë‹¤) íŠ¹ì • ì‹œì ì—ë§Œ ì ìš© 12345class Order &#123; @Column(name = "totalAmounts") @Converter(converter = MoneyConverter.class) private Money totalAmounts;&#125; ë¦¬í¬ì§€í„°ë¦¬ë¡œ Order ë¥¼ handling í•  ë•Œ ì ìš©ëœë‹¤ ëª¨ë“  ë²¨ë¥˜ ì˜¤ë¸Œì íŠ¸ì— ì ìš© 1234@Converter(autoApply = true)class MoneyConverter implements AttributeConverter&lt;Money, Integer&gt; &#123; // ...&#125; ëª¨ë“  Money íƒ€ì… í”„ë¡œí¼í‹°ì— ìë™ ì ìš©ëœë‹¤]]></content>
      <categories>
        <category>ddd</category>
      </categories>
      <tags>
        <tag>DDD start!</tag>
        <tag>ë¦¬í¬ì§€í„°ë¦¬</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ë©”ì„œë“œëª… ë³€ê²½]]></title>
    <url>%2Frefactoring%2F%EB%A9%94%EC%84%9C%EB%93%9C%EB%AA%85-%EB%B3%80%EA%B2%BD%2F</url>
    <content type="text"><![CDATA[ë©”ì„œë“œëª…ì„ ë´ë„ ê¸°ëŠ¥ì„ ì•Œ ìˆ˜ ì—†ì„ë• ë©”ì„œë“œë¥¼ ì§ê´€ì ì¸ ì´ë¦„ìœ¼ë¡œ ë°”ê¾¸ì ë™ê¸° ë³µì¡í•œ ë©”ì„œë“œë¥¼ ì˜ê²Œ ìª¼ê°œëŠ” ê²ƒì€ ì¤‘ìš”í•˜ì§€ë§Œ, ì´ë¥¼ ì˜ëª» ì ìš©í•˜ë©´ ì˜¤íˆë ¤ ê·¸ ì‘ì€ ë©”ì„œë“œë“¤ì˜ ì—­í• ì„ íŒŒì•…í•˜ê¸° í˜ë“¤ì–´ì§ˆ ìˆ˜ë„ ìˆë‹¤ ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ë°©ì§€í•˜ë ¤ë©´ ë©”ì„œë“œëª…ì„ ì˜ ì§€ì–´ì•¼ í•œë‹¤ ë©”ì„œë“œëª…ë§Œ ë´ë„ ê·¸ ë©”ì„œë“œì˜ ì˜ë„ë¥¼ í•œëˆˆì— ì•Œ ìˆ˜ ìˆì–´ì•¼ í•œë‹¤ ë©”ì„œë“œëª…ì´ ì ì ˆì¹˜ ì•Šë‹¤ë©´ ë°˜ë“œì‹œ ë³€ê²½í•´ì•¼ í•œë‹¤ ì½”ë“œëŠ” ì»´í“¨í„°ë³´ë‹¤ ì¸ê°„ì´ ì•Œì•„ë³´ê¸° ì‰½ê²Œ ì‘ì„±í•´ì•¼ í•œë‹¤ ì´ë¦„ì„ ì˜ ì§“ê²Œ ë˜ëŠ” ê²ƒì´ì•¼ë§ë¡œ ì§„ì •ìœ¼ë¡œ ë…¸ë ¨í•œ í”„ë¡œê·¸ë˜ë¨¸ê°€ ë˜ëŠ” ì—´ì‡ ë‹¤ ë§¤ê°œë³€ìˆ˜ë¥¼ ì¬ì •ë ¬í•´ì„œ ì½”ë“œë¥¼ ì•Œì•„ë³´ê¸° ì‰¬ì›Œì§„ë‹¤ë©´ ë§¤ê°œë³€ìˆ˜ ì¬ì •ë ¬ì„ ì‹¤ì‹œí•´ì•¼í•œë‹¤ ë°©ë²• ë©”ì„œë“œ ì‹œê·¸ë‹ˆì³ê°€ ìƒìœ„í´ë˜ìŠ¤ë‚˜ í•˜ìœ„í´ë˜ìŠ¤ì— ì„ ì–¸ë˜ì–´ ìˆëŠ”ì§€ ê²€ì‚¬í•œë‹¤ êµ¬í˜„ë˜ì–´ ìˆë‹¤ë©´ ì´ ê³¼ì •ì„ ëª¨ë“  êµ¬í˜„ë¶€ë§ˆë‹¤ ì‹¤í–‰í•œë‹¤ ìƒˆ ì´ë¦„ìœ¼ë¡œ ë©”ì„œë“œë¥¼ ì„ ì–¸í•˜ê³ , ì›ë³¸ ì½”ë“œë¥¼ ë³µì‚¬í•œ ë’¤ ì ì ˆíˆ ìˆ˜ì •í•œë‹¤ ìƒˆ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê²Œ ì›ë³¸ ë©”ì„œë“œì˜ ë‚´ìš©ì„ ìˆ˜ì •í•œë‹¤ ì›ë³¸ ë©”ì„œë“œ í˜¸ì¶œ ë¶€ë¶„ì„ ì „ë¶€ ì°¾ì•„ì„œ ìƒˆ ë©”ì„œë“œ í˜¸ì¶œë¡œ ë°”ê¾¼ë‹¤ ì›ë³¸ ë©”ì„œë“œë¥¼ ì‚­ì œí•œë‹¤ ì›ë³¸ ë©”ì„œë“œì˜ ëª¨ë“  í˜¸ì¶œ ë¶€ë¶„ì— ì ‘ê·¼í•  ìˆ˜ ì—†ë‹¤ë©´ @Deprecatedë¡œ í‘œì‹œí•œë‹¤ ìš”ì¦˜ IDEì—ì„œëŠ” 2~5ë²ˆì´ í•„ìš”ì—†ì´ ë§¤ìš° ê°„ë‹¨íˆ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤ ì¸í…”ë¦¬ì œì´ ì§±ì§± ì°¸ê³  : ë§ˆí‹´ íŒŒìš¸ëŸ¬, ã€ë¦¬íŒ©í† ë§ã€, ê¹€ì§€ì› ì˜®ê¹€, í•œë¹›ë¯¸ë””ì–´(2012)]]></content>
      <categories>
        <category>refactoring</category>
      </categories>
      <tags>
        <tag>ë¦¬íŒ©í† ë§</tag>
        <tag>rename method</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ë§¤ê°œë³€ìˆ˜ ì¶”ê°€]]></title>
    <url>%2Frefactoring%2F%EB%A7%A4%EA%B0%9C%EB%B3%80%EC%88%98-%EC%B6%94%EA%B0%80%2F</url>
    <content type="text"><![CDATA[ë©”ì„œë“œê°€ ìì‹ ì„ í˜¸ì¶œí•œ ë¶€ë¶„ì˜ ì •ë³´ë¥¼ ë” ë§ì´ ì•Œì•„ì•¼ í•  ë• ê·¸ ì •ë³´ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆëŠ” ë§¤ê°œë³€ìˆ˜ë¥¼ ì¶”ê°€í•œë‹¤ ë™ê¸° ì‚¬ì‹¤ ì´ ë¦¬íŒ©í† ë§ì€ ìì£¼ ì‹¤í–‰ë˜ë©´ ì•ˆëœë‹¤ ë§¤ê°œë³€ìˆ˜ë¥¼ ì¶”ê°€í•˜ëŠ” ëŒ€ì‹  ë‹¤ë¥¸ ë°©ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ìˆì„ ë•Œë„ ë§ê³ , ê·¸ëŸ´ ë• ê°€ëŠ¥í•˜ë©´ ê·¸ ëŒ€ì•ˆì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë‚«ë‹¤ ë§¤ê°œë³€ìˆ˜ë¥¼ ì¶”ê°€í•˜ë©´ ë§¤ê°œë³€ìˆ˜ ì„¸íŠ¸ê°€ ë” ê¸¸ì–´ì§€ê³ , ê¸°ì–µí•˜ê±°ë‚˜ ì•Œì•„ë³´ê¸° í˜ë“¤ì–´ì§„ë‹¤ ëŒ€ì•ˆì´ ì—†ë‹¤ë©´ ì‹¤í–‰í•´ë„ ëœë‹¤ ê¸°ì¡´ ë§¤ê°œë³€ìˆ˜ ì„¸íŠ¸ë¥¼ ì‚´í´ë³´ë©´ì„œ ìƒˆ ë§¤ê°œë³€ìˆ˜ë¥¼ ì¶”ê°€í•˜ë©´ ì–´ë–»ê²Œ ë ì§€ ìƒê°í•´ë´ì•¼ í•œë‹¤ ë°©ë²• ë©”ì„œë“œ ì‹œê·¸ë‹ˆì³ê°€ ìƒìœ„í´ë˜ìŠ¤ë‚˜ í•˜ìœ„í´ë˜ìŠ¤ì— ì„ ì–¸ë˜ì–´ ìˆëŠ”ì§€ ê²€ì‚¬í•œë‹¤ êµ¬í˜„ë˜ì–´ ìˆë‹¤ë©´ ì´ ê³¼ì •ì„ ëª¨ë“  êµ¬í˜„ë¶€ë§ˆë‹¤ ì‹¤í–‰í•œë‹¤ ì¶”ê°€í•œ ë§¤ê°œë³€ìˆ˜ë¥¼ ì „ë‹¬ë°›ëŠ” ìƒˆ ë©”ì„œë“œë¥¼ ì„ ì–¸í•˜ê³ , ì›ë³¸ ë©”ì„œë“œì˜ ë‚´ìš©ì„ ë³µì‚¬í•œë‹¤ ìƒˆ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê²Œ ì›ë³¸ ë©”ì„œë“œì˜ ë‚´ìš©ì„ ìˆ˜ì •í•œë‹¤ 12345678public int originMethod(int a, int b) &#123; return newMethod(a, b, 0);&#125;public int newMethod(int a, int b, int c) &#123; // do somtehing return someVar;&#125; ìƒˆ ë§¤ê°œë³€ìˆ˜ê°€ ê°ì²´ì¼ ê²½ìš°ëŠ” ë³´í†µ nullì„ ì „ë‹¬í•œë‹¤ primitive íƒ€ì…ì¼ ê²½ìš°ëŠ” ëª…ë°±íˆ ì´ìƒí•œ ê°’ì„ ì „ë‹¬í•´ì„œ ì°¸ì¡°í•˜ëŠ” ë¶€ë¶„ì„ ì°¾ì•„ë‚¸ë‹¤(?) intì¼ ê²½ìš° ë³´í†µ 0ì„ ì „ë‹¬í•œë‹¤ ì°¸ì¡°í•˜ëŠ” ë¶€ë¶„ì´ ë³„ë¡œ ì—†ë‹¤ë©´ ìƒëµ ê°€ëŠ¥í•˜ë‹¤ ì›ë³¸ ë©”ì„œë“œ í˜¸ì¶œ ë¶€ë¶„ì„ ì „ë¶€ ì°¾ì•„ì„œ ìƒˆ ë©”ì„œë“œ í˜¸ì¶œë¡œ ë°”ê¾¼ë‹¤ ì›ë³¸ ë©”ì„œë“œë¥¼ ì‚­ì œí•œë‹¤ ì›ë³¸ ë©”ì„œë“œì˜ ëª¨ë“  í˜¸ì¶œ ë¶€ë¶„ì— ì ‘ê·¼í•  ìˆ˜ ì—†ë‹¤ë©´ @Deprecatedë¡œ í‘œì‹œí•œë‹¤ ì°¸ê³  : ë§ˆí‹´ íŒŒìš¸ëŸ¬, ã€ë¦¬íŒ©í† ë§ã€, ê¹€ì§€ì› ì˜®ê¹€, í•œë¹›ë¯¸ë””ì–´(2012)]]></content>
      <categories>
        <category>refactoring</category>
      </categories>
      <tags>
        <tag>ë¦¬íŒ©í† ë§</tag>
        <tag>add parameter</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ë§¤ê°œë³€ìˆ˜ ì„¸íŠ¸ë¥¼ ê°ì²´ë¡œ ì „í™˜]]></title>
    <url>%2Frefactoring%2F%EB%A7%A4%EA%B0%9C%EB%B3%80%EC%88%98-%EC%84%B8%ED%8A%B8%EB%A5%BC-%EA%B0%9D%EC%B2%B4%EB%A1%9C-%EC%A0%84%ED%99%98%2F</url>
    <content type="text"><![CDATA[ì°¸ê³  : ë§ˆí‹´ íŒŒìš¸ëŸ¬, ã€ë¦¬íŒ©í† ë§ã€, ê¹€ì§€ì› ì˜®ê¹€, í•œë¹›ë¯¸ë””ì–´(2012)]]></content>
      <categories>
        <category>refactoring</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[[ddd] ì• ê·¸ë¦¬ê±°íŠ¸]]></title>
    <url>%2Fddd%2F%EC%95%A0%EA%B7%B8%EB%A6%AC%EA%B1%B0%ED%8A%B8%2F</url>
    <content type="text"><![CDATA[ì• ê·¸ë¦¬ê±°íŠ¸ë€? ë„ë©”ì¸ ëª¨ë¸ì´ ë³µì¡í•´ì¡Œì„ ë•Œ, ê°œë³„ ê°ì²´ ìˆ˜ì¤€ì—ì„œ ëª¨ë¸ì„ ë°”ë¼ë³´ë©´ ì „ë°˜ì ì¸ êµ¬ì¡°ë‚˜ í° ìˆ˜ì¤€ì—ì„œ ë„ë©”ì¸ê°„ì˜ ê´€ê³„ë¥¼ ì´í•´í•˜ê¸° ì–´ë ¤ì›Œì§„ë‹¤ ì£¼ìš” ë„ë©”ì¸ ê°œë…ê°„ì˜ ê´€ê³„ë¥¼ íŒŒì•…í•˜ê¸° ì–´ë µë‹¤ëŠ” ê²ƒì€ ì½”ë“œë¥¼ ë³€ê²½í•˜ê³  í™•ì¥í•˜ëŠ” ê²ƒì´ ì–´ë ¤ì›Œì§„ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤ ìƒìœ„ ìˆ˜ì¤€ì—ì„œ ëª¨ë¸ì´ ì–´ë–»ê²Œ ì—®ì—¬ìˆëŠ”ì§€ ì•Œì•„ì•¼ ì „ì²´ ëª¨ë¸ì„ ë§ê°€ëœ¨ë¦¬ì§€ ì•Šìœ¼ë©´ì„œ ì¶”ê°€ ìš”êµ¬ì‚¬í•­ì„ ëª¨ë¸ì— ë°˜ì˜í•  ìˆ˜ ìˆëŠ”ë°, ì„¸ë¶€ì ì¸ ëª¨ë¸ë§Œ ì´í•´í•œ ìƒíƒœë¡œëŠ” ì½”ë“œë¥¼ ìˆ˜ì •í•˜ê¸°ê°€ ë‘ë µê¸° ë•Œë¬¸ì— ì½”ë“œ ë³€ê²½ì„ ìµœëŒ€í•œ íšŒí”¼í•˜ëŠ” ìª½ìœ¼ë¡œ ìš”êµ¬ì‚¬í•­ì„ í˜‘ì˜í•˜ê²Œ ëœë‹¤ ì¦‰, ì´ëŸ¬í•œ ë¬¸ì œì ì„ ì—†ì• ë ¤ë©´ ìƒìœ„ ìˆ˜ì¤€ì—ì„œ ëª¨ë¸ì„ ì¡°ë§í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ í•„ìš”í•˜ê³ , ê·¸ê²ƒì´ ë°”ë¡œ ì• ê·¸ë¦¬ê±°íŠ¸ ì´ë‹¤ ì• ê·¸ë¦¬ê±°íŠ¸ëŠ” ê´€ë ¨ëœ ëª¨ë¸ì„ í•˜ë‚˜ë¡œ ëª¨ì€ ê²ƒì´ê¸° ë•Œë¬¸ì— í•œ ì• ê·¸ë¦¬ê±°íŠ¸ì— ì†í•œ ê°ì²´ëŠ” ìœ ì‚¬í•˜ê±°ë‚˜ ë™ì¼í•œ ë¼ì´í”„ì‚¬ì´í´ì„ ê°–ëŠ”ë‹¤ ì• ê·¸ë¦¬ê±°íŠ¸ëŠ” ê²½ê³„ë¥¼ ê°–ëŠ”ë‹¤ í•œ ì• ê·¸ë¦¬ê±°íŠ¸ì— ì†í•œ ê°ì²´ëŠ” ë‹¤ë¥¸ ì• ê·¸ë¦¬ê±°íŠ¸ì— ì†í•˜ì§€ ì•ŠëŠ”ë‹¤ ê° ì• ê·¸ë¦¬ê±°íŠ¸ëŠ” ìê¸° ìì‹ ë§Œì„ ê´€ë¦¬í•  ë¿ ë‹¤ë¥¸ ì• ê·¸ë¦¬ê±°íŠ¸ë¥¼ ê´€ë¦¬í•˜ì§€ ì•ŠëŠ”ë‹¤ ê²½ê³„ë¥¼ ì„¤ì •í•  ë•Œ ê¸°ë³¸ì´ ë˜ëŠ” ê²ƒì€ ë„ë©”ì¸ ê·œì¹™ê³¼ ìš”êµ¬ì‚¬í•­ì´ë‹¤ ë„ë©”ì¸ ê·œì¹™ì— ë”°ë¼ í•¨ê»˜ ìƒì„±ë˜ëŠ” êµ¬ì„±ìš”ì†ŒëŠ” í•œ ì• ê·¸ë¦¬ê±°íŠ¸ì— ì†í•  ê°€ëŠ¥ì„±ì´ ë†’ë‹¤ Aê°€ Bë¥¼ ê°–ëŠ”ë‹¤ëŠ” ëŒ€ë¶€ë¶„ í•œ ì• ê·¸ë¦¬ê±°íŠ¸ì´ì§€ë§Œ, ë¬´ì¡°ê±´ í•œ ì• ê·¸ë¦¬ê±°íŠ¸ì¸ ê²ƒì€ ì•„ë‹ˆë‹¤ ìƒí’ˆê³¼ ë¦¬ë·°ê°€ ì¢‹ì€ ì˜ˆì‹œì´ë‹¤ ëŒ€ë¶€ë¶„ì˜ ì• ê·¸ë¦¬ê±°íŠ¸ëŠ” í•œ ê°œì˜ ì—”í‹°í‹° ê°ì²´ë§Œ ê°–ëŠ” ê²½ìš°ê°€ ë§ìœ¼ë©° ë‘ ê°œ ì´ìƒì˜ ì—”í‹°í‹°ë¡œ êµ¬ì„±ë˜ëŠ” ì• ê·¸ë¦¬ê±°íŠ¸ëŠ” ë“œë¬¼ê²Œ ì¡´ì¬í•œë‹¤ ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ ì• ê·¸ë¦¬ê±°íŠ¸ëŠ” ì—¬ëŸ¬ ê°ì²´ë¡œ êµ¬ì„±ë˜ê¸° ë•Œë¬¸ì— í•œ ê°ì²´ë§Œ ìƒíƒœê°€ ì •ìƒì´ì–´ì„œëŠ” ì•ˆëœë‹¤ ë„ë©”ì¸ ê·œì¹™ì„ ì§€í‚¤ë ¤ë©´ ì• ê·¸ë¦¬ê±°íŠ¸ì— ì†í•œ ëª¨ë“  ê°ì²´ê°€ ì •ìƒ ìƒíƒœë¥¼ ê°€ì ¸ì•¼í•œë‹¤ ì• ê·¸ë¦¬ê±°íŠ¸ì— ì†í•œ ëª¨ë“  ê°ì²´ê°€ ì¼ê´€ëœ ìƒíƒœë¥¼ ìœ ì§€í•˜ë ¤ë©´ ì• ê·¸ë¦¬ê±°íŠ¸ ì „ì²´ë¥¼ ê´€ë¦¬í•  ì£¼ì²´ê°€ í•„ìš”í•œë°, ì´ ì±…ì„ì„ ì§€ëŠ” ê²ƒì´ ë°”ë¡œ ì• ê·¸ë¦¬ê±°íŠ¸ì˜ ë£¨íŠ¸ ì—”í‹°í‹°ì´ë‹¤ ì• ê·¸ë¦¬ê±°íŠ¸ì— ì†í•œ ëª¨ë“  ì—”í‹°í‹°ëŠ” ë£¨íŠ¸ ì—”í‹°í‹°ì— ì§ì ‘ ë˜ëŠ” ê°„ì ‘ì ìœ¼ë¡œ ì†í•œë‹¤ ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ì˜ í•µì‹¬ ì—­í• ì€ ì• ê·¸ë¦¬ê±°íŠ¸ì˜ ì¼ê´€ì„±ì´ ê¹¨ì§€ì§€ ì•Šë„ë¡ í•˜ëŠ” ê²ƒì´ë‹¤ ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ëŠ” ì• ê·¸ë¦¬ê±°íŠ¸ê°€ ì œê³µí•´ì•¼ í•  ë„ë©”ì¸ ê¸°ëŠ¥ì„ êµ¬í˜„í•œë‹¤ ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ê°€ ì œê³µí•˜ëŠ” ë©”ì„œë“œëŠ” ë„ë©”ì¸ ê·œì¹™ì— ë”°ë¼ ì• ê·¸ë¦¬ê±°íŠ¸ì— ì†í•œ ê°ì²´ì˜ ì¼ê´€ì„±ì´ ê¹¨ì§€ì§€ ì•Šë„ë¡ êµ¬í˜„í•´ì•¼ í•œë‹¤ ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ê°€ ì•„ë‹Œ ë‹¤ë¥¸ ê°ì²´ê°€ ì• ê·¸ë¦¬ê±°íŠ¸ì— ì†í•œ ê°ì²´ë¥¼ ì§ì ‘ ë³€ê²½í•˜ë©´ ì•ˆëœë‹¤ ì´ëŸ¬ë©´ ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ê°€ ê°•ì œí•˜ëŠ” ê·œì¹™ì„ ì ìš©í•  ìˆ˜ ì—†ì–´ ëª¨ë¸ì˜ ì¼ê´€ì„±ì„ ê¹¨ëŠ” ì›ì¸ì´ ëœë‹¤ 12ShippingInfo si = order.getShippingInfo();si.setAddress(newAddress); ì´ëŠ” ë„ë©”ì¸ ê·œì¹™ì„ ë¬´ì‹œí•˜ê³  DB í…Œì´ë¸”ì—ì„œ ì§ì ‘ ë°ì´í„°ë¥¼ ìˆ˜ì •í•˜ëŠ” ê²ƒê³¼ ê°™ë‹¤ ê·¸ë ‡ë‹¤ê³  ì´ë¥¼ ë§‰ëŠ” ë¡œì§ì„ ì„œë¹„ìŠ¤ ë ˆì´ì–´ì—ì„œ êµ¬í˜„í•˜ê²Œ ë˜ë©´, í•´ë‹¹ ë¡œì§ì´ ì—¬ëŸ¬ ì„œë¹„ìŠ¤ ë ˆì´ì–´ì—ì„œ ì¤‘ë³µë  ê°€ëŠ¥ì„±ì´ ë†’ì•„ì§„ë‹¤ ìŠµê´€ì ìœ¼ë¡œ ì‘ì„±í•˜ëŠ” setter ë©”ì„œë“œë¥¼ í”¼í•´ì•¼í•œë‹¤ ë„ë©”ì¸ ë¡œì§ì„ ë„ë©”ì¸ ê°ì²´ê°€ ì•„ë‹Œ ì‘ìš©ì´ë‚˜ í‘œí˜„ ì˜ì—­ìœ¼ë¡œ ë¶„ì‚°ë˜ê²Œ ë§Œë“œëŠ” ì›ì¸ì´ ëœë‹¤ ì´ë ‡ê²Œ ë˜ë©´ ë„ë©”ì¸ ë¡œì§ì´ í•œê³³ì— ì‘ì§‘ë˜ì–´ ìˆì§€ ì•Šìœ¼ë¯€ë¡œ ì½”ë“œë¥¼ ìœ ì§€ë³´ìˆ˜í• ë•Œë„ ì‹œê°„ì´ í›¨ì”¬ ë§ì´ ë“¤ê²Œëœë‹¤ setterë§Œ ë„£ì§€ ì•Šì•„ë„ ì´ëŸ° ìƒí™©ì„ ëŒ€ë¶€ë¶„ ë°©ì§€í•  ìˆ˜ ìˆë‹¤ ë°¸ë¥˜ ê°ì²´ëŠ” ë¶ˆë³€ íƒ€ì…ìœ¼ë¡œ êµ¬í˜„í•œë‹¤ ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ì˜ ê¸°ëŠ¥ êµ¬í˜„ ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ëŠ” ë‹¤ë¥¸ ê°ì²´ë“¤ì„ ì¡°í•©í•´ì„œ ê¸°ëŠ¥ì„ ì™„ì„±í•œë‹¤ ê¸°ëŠ¥ ì‹¤í–‰ì„ ìœ„ì„í•˜ê¸°ë„ í•œë‹¤ 1234567891011121314151617class Order &#123; private OrderLines orderLines; private Long totalAmounts; public void changeOrderLines(List&lt;OrderLine&gt; newOrderLines) &#123; orderLines.changeOrderLines(newOrderLines); // delegate this.totalAmounts = orderLines.getTotalAmounts(); &#125;&#125;class OrderLines &#123; // first-level collection private List&lt;OrderLine&gt; orderLines; public void changeOrderLines(List&lt;OrderLine&gt; newOrderLines) &#123; this.orderLines = newOrderLines; &#125;&#125; Orderì— getOrderLines() ê°™ì€ ë©”ì„œë“œê°€ ì œê³µë  ê²½ìš°, ì™¸ë¶€ì—ì„œ OrderLinesì˜ ë©”ì„œë“œë¥¼ ì§ì ‘ í˜¸ì¶œí•˜ë©´ ë„ë©”ì¸ ë¡œì§ì´ ê¹¨ì§ˆ ìš°ë ¤ê°€ ìˆìœ¼ë¯€ë¡œ(totalAmountsê°€ ë°˜ì˜ì•ˆë¨), ì•„ë˜ì™€ ê°™ì´ ë³€ê²½í•´ì¤˜ì•¼ í•œë‹¤ OrderLinesë¥¼ ë¶ˆë³€ìœ¼ë¡œ ì„ ì–¸í•œë‹¤(OrderLinesì˜ changeOrderLinesì—ì„œ ìƒˆë¡œìš´ OrderLines ê°ì²´ ë°˜í™˜) OrderLinesë‚´ changeOrderLinesì˜ ì ‘ê·¼ ì œí•œìë¥¼ íŒ¨í‚¤ì§€ë‚˜ protected ë²”ìœ„ë¥¼ ì‚¬ìš©í•œë‹¤(ê°™ì€ ì• ê·¸ë¦¬ê±°íŠ¸ë¼ ê°™ì€ íŒ¨í‚¤ì§€ì— ì†í•˜ë¯€ë¡œ) íŠ¸ëœì­ì…˜ ë²”ìœ„ íŠ¸ëœì­ì…˜ì˜ ë²”ìœ„ëŠ” ì‘ì„ìˆ˜ë¡ ì¢‹ë‹¤ í•œ íŠ¸ëœì­ì…˜ì—ì„œ í•œ ì• ê·¸ë¦¬ê±°íŠ¸ë§Œ ìˆ˜ì •í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤ ì•„ë˜ì™€ ê°™ì€ ê²½ìš°ì—ëŠ” í•œ íŠ¸ëœì­ì…˜ì—ì„œ ë‘ ê°œ ì´ìƒì˜ ì• ê·¸ë¦¬ê±°íŠ¸ë¥¼ ìˆ˜ì •í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•´ë³¼ ìˆ˜ ìˆë‹¤ ë„ë©”ì¸ ì´ë²¤íŠ¸ì™€ ë¹„ë™ê¸°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ì„ ê²½ìš°(ë³´í†µ ë‘ ì• ê·¸ë¦¬ê±°íŠ¸ ìˆ˜ì •ì´ í•„ìš”í•˜ë©´ ì´ ë°©ì‹ì„ ì´ìš©í•œë‹¤) UI êµ¬í˜„ì˜ í¸ë¦¬(í•œ í™”ë©´ì—ì„œ ì—¬ëŸ¬ ìƒíƒœë¥¼ ë³€ê²½í•˜ê³  ì‹¶ì„ ë•Œ) í•œ íŠ¸ëœì­ì…˜ì—ì„œ ë‘ ê°œ ì´ìƒì˜ ì• ê·¸ë¦¬ê±°íŠ¸ë¥¼ ìˆ˜ì •í•´ì•¼ í•œë‹¤ë©´ ì• ê·¸ë¦¬ê±°íŠ¸ì—ì„œ ë‹¤ë¥¸ ì• ê·¸ë¦¬ê±°íŠ¸ë¥¼ ì§ì ‘ ìˆ˜ì •í•˜ì§€ ë§ê³  ì‘ìš© ì„œë¹„ìŠ¤ì—ì„œ ë‘ ì• ê·¸ë¦¬ê±°íŠ¸ë¥¼ ìˆ˜ì •í•˜ë„ë¡ êµ¬í˜„í•´ì•¼í•œë‹¤ 1234567891011121314151617181920212223// bad@Transactionalpublic void doSomething(boolean someFlag) &#123; // ì‘ìš© ê³„ì¸µ Order order = orderRepository.findOne(id); order.doSomething();&#125;public void doSomething(boolean someFlag) &#123; // ë„ë©”ì¸ ê³„ì¸µ if(someFlag) &#123; order.getProduct().doSomething(); // ë‹¤ë¥¸ ì• ê·¸ë¦¬ê±°íŠ¸ì˜ ë„ë©”ì¸ ë¡œì§ì„ ìˆ˜í–‰í•¨ &#125;&#125;// good@Transactionalpublic void doSomething(OrderId id, boolean someFlag) &#123; Order order = orderRepository.findOne(id); order.doSomething(); if(someFlag) &#123; order.getProduct().doSomething(); // ì‘ìš© ê³„ì¸µì—ì„œ ë‹¤ë¥¸ ë„ë©”ì¸ ë¡œì§ì„ ìˆ˜í–‰í•¨ &#125;&#125; ë¦¬í¬ì§€í„°ë¦¬ì™€ ì• ê·¸ë¦¬ê±°íŠ¸ ì• ê·¸ë¦¬ê±°íŠ¸ëŠ” ê°œë…ìƒ ì™„ì „í•œ í•œ ê°œì˜ ë„ë©”ì¸ ëª¨ë¸ì„ í‘œí˜„í•˜ë¯€ë¡œ, ê°ì²´ì˜ ì˜ì†ì„±ì„ ì²˜ë¦¬í•˜ëŠ” ë¦¬í¬ì§€í„°ë¦¬ëŠ” ì• ê·¸ë¦¬ê±°íŠ¸ ë‹¨ìœ„ë¡œ ì¡´ì¬í•œë‹¤ ë³„ë„ DB í…Œì´ë¸”ì— ì €ì¥í•œë‹¤ê³  í•´ì„œ ë¦¬í¬ì§€í„°ë¦¬ë¥¼ ë”°ë¡œ ë§Œë“¤ì§€ ì•ŠëŠ”ë‹¤ Orderê°€ ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ì´ê³ , OrderLineì€ ì• ê·¸ë¦¬ê±°íŠ¸ êµ¬ì„±ìš”ì†Œì´ë¯€ë¡œ ë¦¬í¬ì§€í„°ë¦¬ëŠ” Orderë§Œ ì¡´ì¬í•œë‹¤ ì• ê·¸ë¦¬ê±°íŠ¸ëŠ” ê°œë…ì ìœ¼ë¡œ í•˜ë‚˜ì´ë¯€ë¡œ ë¦¬í¬ì§€í„°ë¦¬ëŠ” ì• ê·¸ë¦¬ê±°íŠ¸ ì „ì²´ë¥¼ ì €ì¥ì†Œì— ì˜ì†í™”í•´ì•¼ í•œë‹¤ 12345// ì• ê·¸ë¦¬ê±°íŠ¸ ì „ì²´ ì˜ì†í™”orderRepository.save(order);// ì™„ì „í•œ ì• ê·¸ë¦¬ê±°íŠ¸ ì œê³µOrder order = orderRepository.findById(orderId); ì• ê·¸ë¦¬ê±°íŠ¸ ì „ì²´(OrderLine ë“± í¬í•¨)ë¥¼ ì˜ì†í™”í•´ì•¼ í•œë‹¤ ì™„ì „í•œ order ì• ê·¸ë¦¬ê±°íŠ¸ë¥¼ ì œê³µí•´ì•¼ í•œë‹¤ == OrderLine ë“±ì„ ì „ë¶€ ì œê³µí•´ì•¼ í•œë‹¤ ì™„ì „í•œ ì• ê·¸ë¦¬ê±°íŠ¸ê°€ ì•„ë‹ˆë¼ë©´ NullPointerException ê°™ì€ ë¬¸ì œê°€ ë°œìƒí•œë‹¤(OrderLineì´ ë¹„ì–´ìˆëŠ”ë‘¥) ì• ê·¸ë¦¬ê±°íŠ¸ë¥¼ ì˜ì†í™”í•˜ëŠ” ì €ì¥ì†Œë¡œ ë¬´ì—‡ì„ ì‚¬ìš©í•˜ë“ ì§€ê°„ì— ì• ê·¸ë¦¬ê±°íŠ¸ì˜ ìƒíƒœê°€ ë³€ê²½ë˜ë©´ ëª¨ë“  ë³€ê²½ì„ ì›ìì ìœ¼ë¡œ ì €ì¥ì†Œì— ë°˜ì˜í•´ì•¼í•œë‹¤ ì• ê·¸ë¦¬ê±°íŠ¸ê°„ ì°¸ì¡° ì• ê·¸ë¦¬ê±°íŠ¸ì˜ ê´€ë¦¬ ì£¼ì²´ëŠ” ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ì´ë¯€ë¡œ, ì• ê·¸ë¦¬ê±°íŠ¸ë¥¼ ì°¸ì¡°í•œë‹¤ëŠ” ê²ƒì€ ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ë¥¼ ì°¸ì¡°í•œë‹¤ëŠ” ê²ƒê³¼ ê°™ë‹¤ 12345678class Orderer &#123; // Order ì• ê·¸ë¦¬ê±°íŠ¸ êµ¬ì„±ìš”ì†Œ private Member member; private String name;&#125;class Member &#123; // ë‹¤ë¥¸ ì• ê·¸ë¦¬ê±°íŠ¸ì˜ ë£¨íŠ¸&#125; ì´ëŸ°ì‹ìœ¼ë¡œ ì§ì ‘ ë‹¤ë¥¸ ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ë¥¼ ì°¸ì¡°í•˜ëŠ” ê²ƒì´ í¸ë¦¬í•˜ê¸´í•˜ë‚˜, ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œì ì„ ì•¼ê¸°í•œë‹¤ í¸í•œ íƒìƒ‰ì˜ ì˜¤ìš© í•œ ì• ê·¸ë¦¬ê±°íŠ¸ ë‚´ë¶€ì—ì„œ ë‹¤ë¥¸ ì• ê·¸ë¦¬ê±°íŠ¸ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” í¸ë¦¬í•¨ ë•Œë¬¸ì— ë‹¤ë¥¸ ì• ê·¸ë¦¬ê±°íŠ¸ë¥¼ ìˆ˜ì •í•˜ê³ ì í•˜ëŠ” ìœ í˜¹ì— ë¹ ì§€ê¸° ì‰½ë‹¤ ì„±ëŠ¥ì— ëŒ€í•œ ê³ ë¯¼ JPAë¥¼ ì‚¬ìš©í•  ê²½ìš° ì¦‰ì‹œë¡œë”©ì„ ì‚¬ìš©í•´ì•¼í• ì§€ ì§€ì—°ë¡œë”©ì„ ì‚¬ìš©í•´ì•¼í• ì§€ ê³ ë¯¼í•´ì•¼ í•œë‹¤ í™•ì¥ ì–´ë ¤ì›€ íŠ¸ë˜í”½ì´ ì¦ê°€í•˜ì—¬ ë„ë©”ì¸ë³„ë¡œ ì‹œìŠ¤í…œì„ ë¶„ë¦¬í–ˆì„ë•Œ(ë‹¤ë¥¸ ì €ì¥ì†Œ ì‚¬ìš©, ë‹¤ë¥¸ ê¸°ìˆ  ì‚¬ìš© ë“±) ë¬¸ì œê°€ ëœë‹¤ ë¶„ë¦¬ëœ ì‹œìŠ¤í…œì—ì„œ ëª½ê³ DBë¥¼ ì‚¬ìš©í•  ê²½ìš° JPA ê°™ì€ ë‹¨ì¼ ê¸°ìˆ ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤ IDë¥¼ ì´ìš©í•˜ì—¬ ë‹¤ë¥¸ ì• ê·¸ë¦¬ê±°íŠ¸ë¥¼ ì°¸ì¡°í•˜ë©´ ìœ„ì˜ ë¬¸ì œì ì„ ì™„í™”í•  ìˆ˜ ìˆë‹¤ 123456789101112class Order &#123; private Orderer orderer; // ê°ì²´ ì°¸ì¡°&#125;class Orderer &#123; private MemberId memberId; // ID ì°¸ì¡° private String name;&#125;class Member &#123; private MemberId memberId;&#125; ì• ê·¸ë¦¬ê±°íŠ¸ë¼ë¦¬ëŠ” ID ì°¸ì¡°ë¡œ ì—°ê²°ë˜ê³ , ì• ê·¸ë¦¬ê±°íŠ¸ì— ì†í•œ ê°ì²´ë“¤ë¼ë¦¬ëŠ” ê°ì²´ ì°¸ì¡°ë¡œ ì—°ê²°ëœë‹¤ ì• ê·¸ë¦¬ê±°íŠ¸ê°„ ê²½ê³„ë¥¼ ëª…í™•íˆ í•˜ê³  ì• ê·¸ë¦¬ê±°íŠ¸ê°„ ë¬¼ë¦¬ì  ì—°ê²°ì„ ì œê±°í•˜ê¸° ë•Œë¬¸ì— ëª¨ë¸ì˜ ë³µì¡ë„ë¥¼ ë‚®ì¶°ì¤€ë‹¤ ì• ê·¸ë¦¬ê±°íŠ¸ê°„ ì˜ì¡´ì´ ì œê±°ë˜ë¯€ë¡œ ì‘ì§‘ë„ê°€ ë†’ì•„ì§€ëŠ” íš¨ê³¼ë„ ìˆë‹¤ ì´ì œ ë‹¤ë¥¸ ì• ê·¸ë¦¬ê±°íŠ¸ê°€ í•„ìš”í•˜ë©´ ì‘ìš© ì„œë¹„ìŠ¤ì—ì„œ ì•„ì´ë””ë¥¼ ì´ìš©í•´ì„œ ë¡œë”©í•˜ë©´ ëœë‹¤ 12345678910@Transactionalpublic void doSomething(OrderId id, boolean someFlag) &#123; Order order = orderRepository.findOne(id); order.doSomething(); if(someFlag) &#123; Member member = memberRepository.findById(order.getOrderer().getMemberId()); member.doSomething(); &#125;&#125; ì´ë ‡ê²Œ ë¨ìœ¼ë¡œì¨ í•œ ì• ê·¸ë¦¬ê±°íŠ¸ì—ì„œ ë‹¤ë¥¸ ì• ê·¸ë¦¬ê±°íŠ¸ë¥¼ ìˆ˜ì •í•˜ëŠ” ë¬¸ì œë¥¼ ì›ì²œì ìœ¼ë¡œ ë°©ì§€í•  ìˆ˜ ìˆê³  ì¦‰ì‹œ ë¡œë”©ì„ í• ì§€ ì§€ì—° ë¡œë”©ì„ í•  ì§€ ê±±ì •í•˜ì§€ ì•Šì•„ë„ ë˜ë©° ì• ê·¸ë¦¬ê±°íŠ¸ë³„ë¡œ ë‹¤ë¥¸ êµ¬í˜„ ê¸°ìˆ ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•´ì§„ë‹¤ IDë¥¼ ì´ìš©í•œ ì°¸ì¡°ì™€ ì¡°íšŒ ì„±ëŠ¥ // TODO ì´ ë¶€ë¶„ì€ ë³´ì™„ì´ í•„ìš”í•˜ë‹¤ ë™ê¸°ëŠ” ì´í•´í–ˆìœ¼ë‚˜ êµ¬í˜„ì„ ì´í•´í•˜ì§€ ëª»í•˜ê² ë‹¤ ViewëŠ” ì–´ëŠ ì˜ì—­ì´ë¼ê³  ë´ì•¼í•˜ëŠ”ê°€? ì• ê·¸ë¦¬ê±°íŠ¸ê°„ ì§‘í•© ì—°ê´€ 1:N ì—°ê´€ ê°œë…ì ìœ¼ë¡œëŠ” í•œìª½ ì• ê·¸ë¦¬ê±°íŠ¸ì— ì»¬ë ‰ì…˜ìœ¼ë¡œ ì—°ê´€ì„ ë§Œë“ ë‹¤ 123class Category &#123; private Set&lt;Product&gt; products;&#125; ê·¼ë° ì´ëŸ°ì‹ìœ¼ë¡œ 1:Nì„ êµ¬í˜„ì— ë°˜ì˜í•˜ëŠ” ê²ƒì´ ìš”êµ¬ì‚¬í•­ì„ ì¶©ì¡±í•˜ëŠ” ê²ƒê³¼ ìƒê´€ì—†ëŠ” ê²½ìš°ê°€ ì¢…ì¢… ìˆë‹¤ ìœ„ì˜ ê²½ìš°ë§Œ í•´ë„, ì¹´í…Œê³ ë¦¬ë‚´ì˜ ìƒí’ˆë“¤ì„ ë³´ì—¬ì£¼ëŠ” ê²½ìš° ë³´í†µ í˜ì´ì§•ì´ ë“¤ì–´ê°€ê²Œ ëœë‹¤ ì¦‰, ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„ëœë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤ 12345678class Category &#123; private Set&lt;Product&gt; products; public List&lt;Product&gt; getProducts(int page, int size) &#123; List&lt;Product&gt; sortedProducts = sortById(products); return sortedProducts.subList((page - 1) * size, page * size); &#125;&#125; ì´ë ‡ê²Œ êµ¬í˜„í•  ê²½ìš° Category ë‚´ì˜ ëª¨ë“  Productë¥¼ ë“¤ê³ ì™€ì„œ í•„í„°í•˜ëŠ” ê²ƒì´ ë˜ë¯€ë¡œ, ì„±ëŠ¥ìƒ ì‹¬ê°í•œ ë¬¸ì œê°€ ë°œìƒí•œë‹¤ ê·¸ëŸ¬ë¯€ë¡œ ë³´í†µ ì´ë ‡ê²Œ êµ¬í˜„í•˜ëŠ” ê²½ìš°ëŠ” ë“œë¬¼ê³ , ìƒí’ˆ ì…ì¥ì—ì„œ ìì‹ ì´ ì†í•œ ì¹´í…Œê³ ë¦¬ë¥¼ N:1ë¡œ ì—°ê´€ì§€ì–´ êµ¬í•œë‹¤ 123class Product &#123; private CategoryId categoryId;&#125; ê·¸ë¦¬ê³  ì‘ìš©ì„œë¹„ìŠ¤ì—ì„œ ì´ë¥¼ ì´ìš©í•˜ì—¬ Product ëª©ë¡ì„ êµ¬í•œë‹¤ 1234567class ProductService &#123; public Page&lt;Product&gt; getProductOfCategory(Long categoryId, int page, int size) &#123; Category category = categoryRepository.findById(new CategoryId(categoryId)); return productRepository.findByCategoryId(category.getId(), PageRequest.of(page, size)); // spring data jpa ê¸°ëŠ¥ ì‚¬ìš© &#125;&#125; ì—°ê´€ì€ í•„ìš”í•˜ì§€ë§Œ ì„±ëŠ¥ë•Œë¬¸ì— ë¦¬í¬ì§€í„°ë¦¬ì—ì„œ êµ¬í˜„í–ˆë‹¤ê³  ìƒê°í•˜ë©´ ë ê¹Œ? N:M ì—°ê´€ ê°œë…ì ìœ¼ë¡œëŠ” ì–‘ìª½ ì• ê·¸ë¦¬ê±°íŠ¸ì— ì»¬ë ‰ì…˜ìœ¼ë¡œ ì—°ê´€ì„ ë§Œë“ ë‹¤ í•˜ì§€ë§Œ ì´ê²ƒë„ 1:N ê´€ê³„ì²˜ëŸ¼ ìš”êµ¬ì‚¬í•­ì„ ê³ ë ¤í•œ ë’¤ ì´ êµ¬í˜„ì„ í¬í•¨ì‹œí‚¬ì§€ ë§ì§€ë¥¼ ê²°ì •í•´ì•¼ í•œë‹¤ ë³´í†µ íŠ¹ì • ì¹´í…Œê³ ë¦¬ì— ì†í•œ ìƒí’ˆ ëª©ë¡ì„ ë³´ì—¬ì¤„ ë•Œ ëª©ë¡ í™”ë©´ì—ì„œ ê° ìƒí’ˆì´ ì†í•œ ëª¨ë“  ì¹´í…Œê³ ë¦¬ë¥¼ í‘œì‹œí•˜ì§€ ì•Šê³  (==ì¹´í…Œê³ ë¦¬ì—ì„œ ìƒí’ˆìœ¼ë¡œì˜ ì§‘í•© ì—°ê´€ì€ í•„ìš”ì—†ë‹¤) ìƒí’ˆ ìƒì„¸ì—ì„œ ì œí’ˆì´ ì†í•œ ëª¨ë“  ì¹´í…Œê³ ë¦¬ë¥¼ ë³´ì—¬ì¤€ë‹¤ (==ìƒí’ˆì—ì„œ ì¹´í…Œê³ ë¦¬ë¡œì˜ ì§‘í•© ì—°ê´€ì€ í•„ìš”í•˜ë‹¤) ì´ë¶€ë¶„ ë˜í•œ ì„±ëŠ¥ë•Œë¬¸ì— ì¹´í…Œê³ ë¦¬ì—ì„œ ìƒí’ˆìœ¼ë¡œì˜ ì—°ê´€ì€ ê³ ë ¤í•˜ì§€ ì•ŠëŠ”ë‹¤ ì¦‰, ì¹´í…Œê³ ë¦¬ë¡œì˜ ë‹¨ë°©í–¥ N:M ì—°ê´€ë§Œ ì ìš©í•˜ë©´ ëœë‹¤ 1234567891011class Product &#123; @EmbeddedId private ProductId id; @ElementCollection @CollectionTable( name = "product_category", joinColumns = @JoinColumn(name = "product_id") ) private Set&lt;CategoryId&gt; categoryIds; // ID ì°¸ì¡°&#125; ê·¼ë° ì´ë ‡ê²Œí•˜ë©´ Productì—ì„œ Categoryë¥¼ ì¡°íšŒí•˜ëŠ”(ìƒí’ˆ ìƒì„¸) ë¶€ë¶„ì—ì„œëŠ” N+1ì´ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ê°€? Product ëª©ë¡ì„ êµ¬í•´ì˜¤ëŠ” ë¦¬í¬ì§€í„°ë¦¬ ë¶€ë¶„ë§Œ N:Mì— ë§ê²Œ ë³€ê²½í•´ì£¼ë©´ ëœë‹¤ ë‚˜ëŠ” Spring Data Jpaë¥¼ ì¼ë‹¤ê³  ê°€ì •í•˜ë¯€ë¡œ ë©”ì„œë“œëª…ë§Œ ìˆ˜ì •í•˜ì˜€ë‹¤ 1234567class ProductService &#123; public Page&lt;Product&gt; getProductOfCategory(Long categoryId, int page, int size) &#123; Category category = categoryRepository.findById(new CategoryId(categoryId)); return productRepository.findByCategoryIdsIn(category.getId(), PageRequest.of(page, size)); // spring data jpa ê¸°ëŠ¥ ì‚¬ìš© &#125;&#125; ì• ê·¸ë¦¬ê±°íŠ¸ë¥¼ íŒ©í† ë¦¬ë¡œ ì‚¬ìš©í•˜ê¸° ì •ì§€ëœ ìƒì ì´ ì•„ë‹ ê²½ìš° ìƒí’ˆì„ ì¶”ê°€í•´ì£¼ëŠ” ë¡œì§ì´ë‹¤ 1234567891011121314class ProductService &#123; public ProductId registerNewProduct(NewProductRequest req) &#123; Store store = storeRepository.findById(req.getStoreId()); if(store.isBlocked()) &#123; throw new IllegalStateException(); &#125; Product product = new Product(store.getId(), /** ì†ì„±ë“¤ **/); productRepository.save(product); return product.getId(); &#125;&#125; ë‹¤ì‹œë³´ë©´ ë„ë©”ì¸ ê¸°ëŠ¥ì´ ì‘ìš© ì„œë¹„ìŠ¤ì— ë…¸ì¶œë˜ì–´ ìˆìŒì„ ì•Œ ìˆ˜ ìˆë‹¤ ìƒì ì´ ìƒí’ˆì„ ìƒì„±í•  ìˆ˜ ìˆëŠ”ì§€ ì—¬ë¶€ë¥¼ íŒë‹¨í•˜ê³  ìƒí’ˆì„ ìƒì„±í•˜ëŠ” ê²ƒì€ ë…¼ë¦¬ì ìœ¼ë¡œ í•˜ë‚˜ì˜ ë„ë©”ì¸ ê¸°ëŠ¥ì´ê¸° ë•Œë¬¸ì´ë‹¤ ì´ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸°ì— ë” ì¢‹ì€ ì¥ì†ŒëŠ” Store ì• ê·¸ë¦¬ê±°íŠ¸ì´ë‹¤ 1234567891011121314151617181920class Store &#123; public Product createProduct(/** ì†ì„±ë“¤ **/) &#123; if(isBlocked()) &#123; throw new IllegalStateException(); &#125; return new Product(/** ì†ì„±ë“¤ **/); &#125;&#125;class ProductService &#123; public ProductId registerNewProduct(NewProductRequest req) &#123; Store store = storeRepository.findById(req.getStoreId()); Product product = store.createProduct(/** ì†ì„±ë“¤ **/); productRepository.save(product); return product.getId(); &#125;&#125; ì´ë¡œì¨ Product ìƒì„± ê°€ëŠ¥ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ëŠ” ë„ë©”ì¸ ë¡œì§ì„ ë³€ê²½í•´ë„ ë„ë©”ì¸ ì˜ì—­ì˜ Storeë§Œ ë³€ê²½í•˜ë©´ ë˜ê³  ì‘ìš© ì„œë¹„ìŠ¤ëŠ” ì˜í–¥ì„ ë°›ì§€ ì•Šê²Œ ëœë‹¤ == ë„ë©”ì¸ì˜ ì‘ì§‘ë„ê°€ ë†’ì•„ì¡Œë‹¤ ì• ê·¸ë¦¬ê±°íŠ¸ë¥¼ íŒ©í† ë¦¬ë¡œ ì‚¬ìš©í•  ë•Œ ì–»ì„ ìˆ˜ ìˆëŠ” ì¥ì ì´ë‹¤ ì´ì²˜ëŸ¼ ì• ê·¸ë¦¬ê±°íŠ¸ê°€ ê°–ê³  ìˆëŠ” ë°ì´í„°ë¥¼ ì´ìš©í•´ì„œ ë‹¤ë¥¸ ì• ê·¸ë¦¬ê±°íŠ¸ë¥¼ ìƒì„±í•´ì•¼ í•œë‹¤ë©´ ì• ê·¸ë¦¬ê±°íŠ¸ì— íŒ©í† ë¦¬ ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•´ë³´ëŠ” ê²ƒì´ ì¢‹ë‹¤ Productì˜ ê²½ìš° Storeì˜ ì‹ë³„ìì™€ ì†ì„±ë“¤ì„ í•„ìš”ë¡œ í•˜ëŠ”ë°, Storeì—ì„œ ì´ë¥¼ íŒ©í† ë¦¬ ë©”ì„œë“œë¡œ êµ¬í˜„í•¨ìœ¼ë¡œì¨ í•„ìš”í•œ ë°ì´í„°ì˜ ì¼ë¶€ë¥¼ ì§ì ‘ ì œê³µí•˜ë©´ì„œ ì¤‘ìš”í•œ ë„ë©”ì¸ ë¡œì§ì„ êµ¬í˜„í•  ìˆ˜ ìˆì—ˆë‹¤ ì°¸ê³  : ìµœë²”ê· , ã€DDD Start!ã€, ì§€ì•¤ì„ (2016)]]></content>
      <categories>
        <category>ddd</category>
      </categories>
      <tags>
        <tag>DDD start!</tag>
        <tag>ë¦¬í¬ì§€í„°ë¦¬</tag>
        <tag>ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ë©”ì„œë“œ ì´ë™]]></title>
    <url>%2Frefactoring%2F%EB%A9%94%EC%84%9C%EB%93%9C-%EC%9D%B4%EB%8F%99%2F</url>
    <content type="text"><![CDATA[ë©”ì„œë“œê°€ ìì‹ ì´ ì†í•œ í´ë˜ìŠ¤ë³´ë‹¤ ë‹¤ë¥¸ í´ë˜ìŠ¤ì˜ ê¸°ëŠ¥ì„ ë” ë§ì´ ì´ìš©í•  ë• ê·¸ ë©”ì„œë“œê°€ ì œì¼ ë§ì´ ì´ìš©í•˜ëŠ” í´ë˜ìŠ¤ ì•ˆì—ì„œ ë¹„ìŠ·í•œ ë‚´ìš©ì˜ ìƒˆ ë©”ì„œë“œë¥¼ ì‘ì„±í•˜ì ê¸°ì¡´ ë©”ì„œë“œëŠ” ê°„ë‹¨íˆ ëŒ€ë¦¬(ìœ„ì„) ë©”ì„œë“œë¡œ ì „í™˜í•˜ë“ ì§€ ì•„ì˜ˆ ì‚­ì œí•˜ì ë™ê¸° í´ë˜ìŠ¤ì— ê¸°ëŠ¥ì´ ë„ˆë¬´ ë§ê±°ë‚˜ í´ë˜ìŠ¤ê°€ ë‹¤ë¥¸ í´ë˜ìŠ¤ì™€ ê³¼í•˜ê²Œ ì—°ë™ë˜ì–´ ì˜ì¡´ì„±ì´ ì§€ë‚˜ì¹  ê²½ìš°ì—ëŠ” ë©”ì„œë“œë¥¼ ì˜®ê¸°ëŠ” ê²ƒì´ ì¢‹ë‹¤ ë©”ì„œë“œê°€ ìì‹ ì´ ì†í•œ ê°ì²´ë³´ë‹¤ ë‹¤ë¥¸ ê°ì²´ë¥¼ ë” ë§ì´ ì°¸ì¡°í•˜ëŠ” ê²½ìš°ì—ë„ ë©”ì„œë“œë¥¼ ì˜®ê¸°ëŠ” ê²ƒì´ ì¢‹ë‹¤ ì˜®ê¸¸ë§Œí•œ ë©”ì„œë“œê°€ ë°œê²¬ë˜ë©´ ê·¸ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ë©”ì„œë“œ, ê·¸ ë©”ì„œë“œê°€ í˜¸ì¶œí•˜ëŠ” ë©”ì„œë“œ, ìƒì† ê³„ì¸µì—ì„œ ê·¸ ë©”ì„œë“œë¥¼ ì¬ì •ì˜í•˜ëŠ” ë©”ì„œë“œë¥¼ ì‚´í´ë³¸ë‹¤ íŒë‹¨ì´ í˜ë“¤ë‹¤ë©´ ì§ê°ì— ë”°ë¼ íŒë‹¨í•˜ê³ , ë‚˜ì¤‘ì— íŒë‹¨ì„ ë³€ê²½í•´ë„ ëœë‹¤ ë°©ë²• ì›ë³¸ í´ë˜ìŠ¤ì˜ ì›ë³¸ ë©”ì„œë“œì— ì‚¬ìš©ëœ ëª¨ë“  ê¸°ëŠ¥ì„ ê²€ì‚¬í•´ì„œ ê·¸ ê¸°ëŠ¥ë“¤ë„ ì „ë¶€ ì˜®ê²¨ì•¼í• ì§€ íŒë‹¨í•œë‹¤ ì˜®ê¸¸ ë©”ì„œë“œì—ë§Œ ì‚¬ìš©ë˜ëŠ” ê¸°ëŠ¥ì¼ ê²½ìš° ê·¸ ë©”ì„œë“œì™€ í•¨ê»˜ ì˜®ê²¨ì•¼í•œë‹¤ ì›ë³¸ í´ë˜ìŠ¤ì˜ í•˜ìœ„ í´ë˜ìŠ¤ì™€ ìƒìœ„ í´ë˜ìŠ¤ì—ì„œ ê·¸ ë©”ì„œë“œì— ëŒ€í•œ ë‹¤ë¥¸ ì„ ì–¸ì´ ìˆëŠ”ì§€ ê²€ì‚¬í•˜ì ì˜¤ë²„ë¼ì´ë”© ë“± ê·¸ ë©”ì„œë“œë¥¼ ëŒ€ìƒ í´ë˜ìŠ¤ì•ˆì— ì„ ì–¸í•˜ê³ , ì›ë³¸ ë©”ì„œë“œì˜ ì½”ë“œë¥¼ ë³µì‚¬í•˜ê³ , ì˜ ëŒì•„ê°€ê²Œë” ìˆ˜ì •í•œë‹¤ ë©”ì„œë“œ ì´ë¦„ì„ ì ì ˆíˆ ë°”ê¿”ë„ ëœë‹¤ ì›ë³¸ í´ë˜ìŠ¤ì˜ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ë§¤ê°œë³€ìˆ˜ë¡œ ë˜ì ¸ì£¼ë„ë¡ í•œë‹¤ ì˜®ê¸¸ ì›ë³¸ í´ë˜ìŠ¤ë‚´ì— ì›ë³¸ í´ë˜ìŠ¤ì˜ ë‹¤ë¥¸ ë©”ì„œë“œê°€ ë“¤ì–´ìˆê±°ë‚˜ ì›ë³¸ í´ë˜ìŠ¤ì˜ ë³€ìˆ˜ë¥¼ 2ê°œ ì´ìƒ ì‚¬ìš©í•œë‹¤ë©´, ì›ë³¸ í´ë˜ìŠ¤ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë˜ì§„ë‹¤ ê·¼ë° ì´ ìƒíƒœë©´ ë©”ì„œë“œë¥¼ ì´ë™í•˜ëŠ”ê²Œ ë§ëŠ”ì§€ ë‹¤ì‹œ í•œë²ˆ ìƒê°í•´ë´ì•¼í•œë‹¤ ì˜ˆì™¸ì²˜ë¦¬ ì½”ë“œê°€ ë“¤ì–´ìˆë‹¤ë©´ ì˜ˆì™¸ë¥¼ ë…¼ë¦¬ì ìœ¼ë¡œ ì–´ëŠ í´ë˜ìŠ¤ê°€ ì²˜ë¦¬í•  ì§€ ì •í•´ì•¼í•œë‹¤ ì›ë³¸ í´ë˜ìŠ¤ì—ì„œ ì˜®ê²¨ì§„ ëŒ€ìƒ í´ë˜ìŠ¤ ë©”ì„œë“œë¥¼ ì°¸ì¡°í•  ë°©ë²•ì„ ì •í•œë‹¤ ì›ë³¸ ë©”ì„œë“œë¥¼ ì‚­ì œí•œë‹¤ ì°¾ì•„ë°”ê¾¸ê¸° ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ ë¹ ë¥´ê²Œ í•  ìˆ˜ ìˆë‹¤ ìœ„ì„ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•œë‹¤ ì°¸ì¡°ê°€ ë§ì„ë• ì´ ë°©ë²•ì´ ë” í¸í•˜ë‹¤ ì˜ˆì‹œ ì•„ë˜ì—ì„œ moveMethodë¥¼ B í´ë˜ìŠ¤ë¡œ ì˜®ê²¨ì•¼ í•˜ëŠ” ìƒí™©ì´ë¼ê³  ê°€ì •í•œë‹¤ 123456789101112131415161718class A &#123; private int someVar; private B b; public void moveMethod() &#123; if(b.someCondition()) &#123; // do something someVar; // do something &#125; &#125; public void someMethod() &#123; // do something moveMethod(); // do something &#125;&#125; moveMethodë¥¼ B í´ë˜ìŠ¤ë¡œ ì˜®ê¸°ê³  ì ì ˆíˆ ìˆ˜ì •í•œë‹¤ 123456789class B &#123; public void moveMethod(int someVar) &#123; if(b.someCondition()) &#123; // do something someVar; // do something &#125; &#125;&#125; ì—¬ê¸°ì„œ ì ì ˆí•œ ìˆ˜ì •ì´ë€, moveMethodë¥¼ B í´ë˜ìŠ¤ë¡œ ì˜®ê²¼ì„ ë–„ ì—¬ì „íˆ í•„ìš”í•œ A í´ë˜ìŠ¤ì˜ ê¸°ëŠ¥ì— ëŒ€í•œ ê²ƒì´ë‹¤ ì—¬ê¸°ì„  A í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¡œ ìˆì—ˆë˜ someVarê°€ ëœë‹¤ ì´ëŸ´ê²½ìš° ì›ë³¸ í´ë˜ìŠ¤(A í´ë˜ìŠ¤)ì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë ¤ë©´ ì•„ë˜ 4ê°€ì§€ ì¤‘ í•˜ë‚˜ë¥¼ ì‹¤ì‹œí•˜ë©´ ëœë‹¤ ê·¸ ê¸°ëŠ¥ì„ ëŒ€ìƒ í´ë˜ìŠ¤ë¡œ ì˜®ê¸´ë‹¤ ëŒ€ìƒ í´ë˜ìŠ¤ì—ì„œ ì›ë³¸ í´ë˜ìŠ¤ë¡œì˜ ì°¸ì¡°ë¥¼ ìƒì„±í•˜ì—¬ ì‚¬ìš©í•œë‹¤ ì›ë³¸ ê°ì²´ë¥¼ ëŒ€ìƒ ê°ì²´ ë©”ì„œë“œì˜ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í•œë‹¤ ê·¸ ê¸°ëŠ¥ì´ ë³€ìˆ˜ë¼ë©´ ë³€ìˆ˜ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í•œë‹¤ ì§€ê¸ˆì€ ê·¸ ê¸°ëŠ¥ì´ ë³€ìˆ˜ì˜€ê¸° ë•Œë¬¸ì— 4ë²ˆì§¸ ë°©ë²•ì„ ì‚¬ìš©í–ˆë‹¤ ë§Œì•½ A í´ë˜ìŠ¤ì˜ ë‹¤ë¥¸ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ì•¼í•˜ê±°ë‚˜ ì°¸ì¡°í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ê°€ 2ê°œ ì´ìƒì´ë¼ë©´ í´ë˜ìŠ¤ ìì²´ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í•´ì•¼í•œë‹¤ ì´ì œ A í´ë˜ìŠ¤ì—ì„œ ì›ë³¸ ë©”ì„œë“œë¥¼ ì‚­ì œí•˜ê±°ë‚˜ ìœ„ì„í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë³€ê²½í•œë‹¤ 123456789101112131415161718192021222324252627class A &#123; private int someVar; private B b; public void moveMethod() &#123; b.moveMethod(someVar); &#125; public void someMethod() &#123; // do something moveMethod(); // do something &#125;&#125;// ë˜ëŠ” class A &#123; private int someVar; private B b; public void someMethod() &#123; // do something b.moveMethod(someVar); // do something &#125;&#125; ì°¸ê³  : ë§ˆí‹´ íŒŒìš¸ëŸ¬, ã€ë¦¬íŒ©í† ë§ã€, ê¹€ì§€ì› ì˜®ê¹€, í•œë¹›ë¯¸ë””ì–´(2012)]]></content>
      <categories>
        <category>refactoring</category>
      </categories>
      <tags>
        <tag>ë¦¬íŒ©í† ë§</tag>
        <tag>move method</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[spring] AOP]]></title>
    <url>%2Fspring%2FAOP%2F</url>
    <content type="text"><![CDATA[ë©”ì„œë“œ ì „ë°˜ì ìœ¼ë¡œ ê³µí†µê¸°ëŠ¥ì„ ë„£ê³ ì‹¶ë‹¤ íŠ¹ì • ë©”ì„œë“œë“¤ì— ê³µí†µëœ ê¸°ëŠ¥ì„ ë„£ê³  ì‹¶ì„ ê²½ìš°(ë¡œê¹…, íŠ¸ëœì­ì…˜ ë“±ë“±)ê°€ ìˆë‹¤ í•´ë‹¹ ê¸°ëŠ¥ë“¤ì„ ì§ì ‘ ë©”ì„œë“œì— ë„£ìœ¼ë©´ í´ë˜ìŠ¤ì˜ ê´€ì‹¬ì‚¬ê°€ 1ê°œ ì´ìƒì´ ë˜ëŠ” ë¬¸ì œê°€ ìˆìœ¼ë‹ˆ ì´ë¥¼ ë¶„ë¦¬í•´ì•¼ í•œë‹¤ https://jojoldu.tistory.com/69?category=635883 ìƒì† ì ìš© ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì¶”ìƒë©”ì„œë“œë¡œ ê°€ì§€ëŠ” ë¶€ëª¨í´ë˜ìŠ¤ë¥¼ ìƒì„±í•¨ ì¶”ìƒí´ë˜ìŠ¤ ì• ë’¤ë¡œ before(), after() ê°™ì€ ë©”ì„œë“œë“¤ì„ ì‹¤í–‰í•¨ í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ì¶”ìƒ ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë“œ í•œë‹¤ ë‹¨ì¼ ì±…ì„ ì›ì¹™ì„ ì§€í‚¬ ìˆ˜ ìˆê²Œ ë¨ ê´œì°®ì€ ë°©ë²•ì´ê¸´ í•˜ì§€ë§Œ ìƒì†ì˜ ê³ ì§ˆì ì¸ ë¬¸ì œì ì„ ê·¸ëŒ€ë¡œ ê°€ì ¸ê°€ê²Œ ë¨ https://jojoldu.tistory.com/70?category=635883 ë°ì½”ë ˆì´í„° íŒ¨í„´ ì ìš© ì¸í„°í˜ì´ìŠ¤ë¥¼ í•˜ë‚˜ ë§Œë“¦(e.g. UserService) UserServiceë¥¼ êµ¬í˜„í•˜ê³ , ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ êµ¬í˜„í•˜ëŠ” êµ¬í˜„ì²´ë¥¼ ë§Œë“¦(e.g. UserServiceImpl) UserServiceë¥¼ êµ¬í˜„í•˜ê³ , ê³µí†µ ê¸°ëŠ¥ì„ ìœ„í•œ êµ¬í˜„ì²´ë¥¼ ë§Œë“¦(e.g. UserPerformenceServiceImpl) 3ë²ˆ ê°ì²´ì˜ ì¸ìë¡œ 2ë²ˆ ê°ì²´ë¥¼ ê°€ì§ UserPerformanceServiceImplì—ì„œ UserServiceImplì„ DI ë°›ìŒ UserServiceë¡œ DIë°›ìœ¼ë©´ UserPerformanceImplì´ injection ë¨ UserController -&gt; UserService(UserPerformanceServiceImpl -&gt; UserServiceImpl) ì˜ í˜•íƒœë¡œ ìˆ˜í–‰ë¨ ì´í›„ ì—¬ëŸ¬ê°€ì§€ ë°©ì‹ì´ ì‹œë„ë¨ AOPë€? https://jojoldu.tistory.com/71?category=635883 AOP = Aspect Oriented Programming(ê´€ì  ì§€í–¥ í”„ë¡œê·¸ë˜ë°) ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ì— ê±¸ì³ ì‚¬ìš©ë˜ëŠ” ê¸°ëŠ¥ì„ ì¬ì‚¬ìš©í•˜ë„ë¡ ì§€ì›í•˜ëŠ” ê²ƒ ë¶€ê°€ê¸°ëŠ¥(ë¡œê¹…, íŠ¸ëœì­ì…˜)ì´ë¼ëŠ” ê´€ì ì—ì„œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë°”ë¼ë³´ê³ , íš¡ë‹¨ ê´€ì‹¬ì‚¬ë¥¼ ì˜ë¼ëƒ„(í¬ë¡œìŠ¤ ì»·íŒ…) ê·¸ë¦¬ê³  ì´ë¥¼ ëª¨ë“ˆí™”í•˜ì—¬ ì¬ì‚¬ìš©í•˜ê³ ì í•¨ AOP ìš©ì–´ íƒ€ê²Ÿ ë¶€ê°€ê¸°ëŠ¥ì„ ë¶€ì—¬í•  ëŒ€ìƒ ì• ìŠ¤í™íŠ¸ ë¶€ê°€ê¸°ëŠ¥ ëª¨ë“ˆì„ ëœ»í•¨ ì–´ë“œë°”ì´ìŠ¤ + í¬ì¸íŠ¸ì»· ì–´ë“œë°”ì´ìŠ¤ ì‹¤ì§ˆì ì¸ ë¶€ê°€ê¸°ëŠ¥ì„ ê°€ì§€ê³  ìˆëŠ” ëª¨ë“ˆ ë¬´ì—‡ì„, ì–¸ì œë¥¼ í¬í•¨í•˜ê³  ìˆìŒ íŠ¹ì • ì˜¤ë¸Œì íŠ¸ì— ì¢…ì†ë˜ì§€ ì•ŠìŒ í¬ì¸íŠ¸ì»· ë¶€ê°€ê¸°ëŠ¥(ì–´ë“œë°”ì´ìŠ¤)ê°€ ì ìš©ë  ëŒ€ìƒì„ ì„ ì •í•˜ëŠ” ë£° ì¡°ì¸í¬ì¸íŠ¸ ì–´ë“œë°”ì´ìŠ¤ê°€ ì ìš©ë  ìœ„ì¹˜ ìŠ¤í”„ë§ì€ ê¸°ë³¸ì ìœ¼ë¡œ ë©”ì„œë“œ ì¡°ì¸í¬ì¸íŠ¸ë§Œ ì§€ì›í•¨(í”„ë¡ì‹œ ë°©ì‹ì´ê¸° ë–„ë¬¸) ë‹¤ë¥¸ ì¡°ì¸í¬ì¸íŠ¸ë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ AspectJ ê°™ì€ ê²ƒì„ ì¨ì•¼í•¨(byte instrument?) ìœ„ë¹™ íƒ€ê²Ÿì— ì• ìŠ¤í™íŠ¸ê°€ ì ìš©ë˜ì–´ í”„ë¡ì‹œ ê°ì²´ê°€ ìƒì„±ë˜ëŠ” ê³¼ì • ì ìš© 123456789101112131415161718@Aspectpublic class Performance &#123; @Around("execution(* com.blogcode.board.BoardService.getBoards(..))") public Object calculatePerformanceTime(ProceedingJoinPoint proceedingJoinPoint) &#123; Object result = null; try &#123; long start = System.currentTimeMillis(); result = proceedingJoinPoint.proceed(); long end = System.currentTimeMillis(); System.out.println("ìˆ˜í–‰ ì‹œê°„ : "+ (end - start)); &#125; catch (Throwable throwable) &#123; System.out.println("exception! "); &#125; return result; &#125;&#125; ìŠ¤í”„ë§ ë¶€íŠ¸ì—ì„œëŠ” ëª‡ê°€ì§€ ì„¤ì •ì„ ì¶”ê°€í•œ í›„ ì´ë ‡ê²Œ ì• ìŠ¤í™íŠ¸ë¥¼ ì •ì˜í•˜ë©´ ê°„ë‹¨íˆ ì ìš©ê°€ëŠ¥í•˜ë‹¤ ì–´ë“œë°”ì´ìŠ¤ @Before (ì´ì „) @After (ì´í›„) @AfterReturning (ì •ìƒì  ë°˜í™˜ ì´í›„) @AfterThrowing (ì˜ˆì™¸ ë°œìƒ ì´í›„) @Around (ë©”ì†Œë“œ ì‹¤í–‰ ì „í›„) procceed()ë¥¼ ê¼­ í˜¸ì¶œí•´ì¤˜ì•¼í•¨ í¬ì¸íŠ¸ì»· ì¢…ë¥˜ëŠ” ìœ„ ê¸€ ë§ˆì§€ë§‰ ë¶€ë¶„ ì°¸ì¡° expression ì‚¬ìš©ë²•ì€ ì•„ë˜ì™€ ê°™ë‹¤ 1execution([ì ‘ê·¼ì œí•œì] ë¦¬í„´íƒ€ì… [í´ë˜ìŠ¤íƒ€ì…(íŒ¨í‚¤ì§€í¬í•¨).]ë©”ì„œë“œì´ë¦„(íƒ€ì… | &quot;..&quot;, ...) [throws ì˜ˆì™¸]) ë©”ì„œë“œì˜ í’€ ì‹œê·¸ë‹ˆì²˜ë¥¼ ë¬¸ìì—´ë¡œ ë¹„êµí•œë‹¤ê³  ë³´ë©´ ëœë‹¤. getMethodë¥¼ í†µí•´ ë©”ì„œë“œ í’€ ì‹œê·¸ë‹ˆì³ë¥¼ ë½‘ì•„ë³´ë©´ ì•„ë˜ì™€ ê°™ë‹¤. 1public int springbook.learningtest.spring.pointcut.Target.minus(int,int) throws java.lang.RuntimeException í™•ì¥ https://jojoldu.tistory.com/72?category=635883 @PointCut ì–´ë…¸í…Œì´ì…˜ì„ ì´ìš©í•´ì„œ ì–´ë…¸í…Œì´ì…˜ì„ ë©”ì„œë“œë¡œ ì •ì˜í•˜ê³ , ì¬ì‚¬ìš©í•  ìˆ˜ ìˆìŒ]]></content>
      <categories>
        <category>spring</category>
      </categories>
      <tags>
        <tag>spring aop</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[linux] íŒŒì¼ ë‚ ì§œ ë³€ê²½]]></title>
    <url>%2Flinux%2F%ED%8C%8C%EC%9D%BC-%EB%82%A0%EC%A7%9C-%EB%B3%80%EA%B2%BD%2F</url>
    <content type="text"><![CDATA[https://webdir.tistory.com/151 í˜„ì¬ì‹œê°„ : touch -c ì§€ì •ì‹œê°„ : touch -t YYYYMMDDhhmm ë™ê¸°í™” : touch -r oldfile newfile]]></content>
      <categories>
        <category>linux</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[í•„ë“œ ìì²´ ìº¡ìŠí™”]]></title>
    <url>%2Frefactoring%2F%ED%95%84%EB%93%9C-%EC%9E%90%EC%B2%B4-%EC%BA%A1%EC%8A%90%ED%99%94%2F</url>
    <content type="text"><![CDATA[í•„ë“œì— ì§ì ‘ ì ‘ê·¼í•˜ë˜ ì¤‘ ê·¸ í•„ë“œë¡œì˜ ê²°í•©ì— ë¬¸ì œê°€ ìƒê¸¸ ë•, ê·¸ í•„ë“œìš© ì½ê¸°/ì“°ê¸° ë©”ì„œë“œë¥¼ ì‘ì„±í•´ì„œ ë‘ ë©”ì„œë“œë¥¼ í†µí•´ì„œë§Œ í•„ë“œì— ì ‘ê·¼í•˜ê²Œ ë§Œë“¤ì ë™ê¸° ë³€ìˆ˜ ì§ì ‘ ì ‘ê·¼íŒŒ VS ë³€ìˆ˜ ê°„ì ‘ ì ‘ê·¼íŒŒ ì§ì ‘ ì ‘ê·¼íŒŒ : ë³€ìˆ˜ê°€ ì •ì˜ë˜ì–´ ìˆëŠ” í´ë˜ìŠ¤ ì•ˆì—ì„œëŠ” ë³€ìˆ˜ì— ììœ ë¡­ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤ ê°„ì ‘ ì ‘ê·¼íŒŒ : í´ë˜ìŠ¤ ì•ˆì—ì„œë¼ë„ ë°˜ë“œì‹œ ì ‘ê·¼ ë©”ì„œë“œë¥¼ í†µí•´ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥í•´ì•¼ í•œë‹¤ ì§ì ‘ ì ‘ê·¼ì˜ ì¥ì  ì½”ë“œë¥¼ ì•Œì•„ë³´ê¸° ì‰½ë‹¤ ê°„ì ‘ ì ‘ê·¼ì˜ ì¥ì  í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ í•´ë‹¹ ì†ì„±ì„ ê°€ì ¸ì˜¤ëŠ” ë°©ì‹ì„ ì¬ì •ì˜ í•  ìˆ˜ ìˆë‹¤(getter override) ì†ì„± ì´ˆê¸°í™”ë¥¼ ì‚¬ìš© ì‹œì ìœ¼ë¡œ ë¯¸ë£° ìˆ˜ ìˆë‹¤ ì²˜ìŒì—ëŠ” ì§ì ‘ ì ‘ê·¼ì„ ì‚¬ìš©í•˜ë‹¤ê°€ ì´ìƒí•œ ì ì´ ìƒê¸¸ ë•Œ ê°„ì ‘ ì ‘ê·¼ìœ¼ë¡œ ë°”ê¾¸ëŠ”ê²Œ ì¢‹ë‹¤ ìƒìœ„ í´ë˜ìŠ¤ì˜ ë³€ìˆ˜ë¥¼ í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ê³„ì‚°ëœ ê°’ìœ¼ë¡œ ì¬ì •ì˜ í•´ì•¼í•œë‹¤ê±°ë‚˜ ì‚¬ìš©í•˜ëŠ” ì‹œì ì— ì†ì„±ì„ ì´ˆê¸°í™”í•˜ê³  ì‹¶ë‹¤ê±°ë‚˜ ë“±ë“±ë“± ë°©ë²• í•„ë“œì˜ ì½ê¸° ë©”ì„œë“œì™€ ì“°ê¸° ë©”ì„œë“œë¥¼ ì‘ì„±í•œë‹¤ í•„ë“œë¥¼ ì°¸ì¡°í•˜ëŠ” ë¶€ë¶„ì„ ì „ë¶€ ì°¾ì•„ì„œ ì½ê¸° ë©”ì„œë“œì™€ ì“°ê¸° ë©”ì„œë“œë¡œ ê³ ì¹œë‹¤ í•„ë“œë¥¼ privateìœ¼ë¡œ ë§Œë“ ë‹¤ ì˜ˆì‹œ 1234567891011121314151617class SomeClass &#123; private int a; private int b; private int c; public void doSomething() &#123; setC(getA() + getB()); &#125; public int returnSomething(boolean flag) &#123; if(flag) &#123; return getA() + getB(); &#125; return getC(); &#125;&#125; í•„ë“œ ìì²´ ìº¡ìŠí™”ë¥¼ í•  ë•ŒëŠ” ìƒì„±ì ì•ˆì— ì“°ê¸° ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì£¼ì˜í•´ì•¼í•œë‹¤ ëŒ€ì²´ë¡œ ì“°ê¸° ë©”ì„œë“œëŠ” ê°ì²´ê°€ ìƒì„±ëœí›„ì— ì‚¬ìš©í•˜ë¯€ë¡œ, ì“°ê¸° ë©”ì„œë“œì— ì´ˆê¸°í™” ì‹œì ê³¼ ë‹¤ë¥¸ ê¸°ëŠ¥ì´ ì¶”ê°€ëì„ ìˆ˜ ìˆë‹¤ê³  ì „ì œí•˜ëŠ” ê²½ìš°ê°€ ë§ê¸° ë•Œë¬¸ì´ë‹¤ ì°¸ê³  : ë§ˆí‹´ íŒŒìš¸ëŸ¬, ã€ë¦¬íŒ©í† ë§ã€, ê¹€ì§€ì› ì˜®ê¹€, í•œë¹›ë¯¸ë””ì–´(2012)]]></content>
      <categories>
        <category>refactoring</category>
      </categories>
      <tags>
        <tag>ë¦¬íŒ©í† ë§</tag>
        <tag>self encapsulate field</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[ddd] ì•„í‚¤í…ì³]]></title>
    <url>%2Fddd%2F%EC%95%84%ED%82%A4%ED%85%8D%EC%B3%90%2F</url>
    <content type="text"><![CDATA[4ê°œì˜ ì˜ì—­ ì•„í‚¤í…ì³ë¥¼ ì„¤ê³„í•  ë•Œ ì¶œí˜„í•˜ëŠ” ì „í˜•ì ì¸ ì˜ì—­ì€ ì•„ë˜ì™€ ê°™ë‹¤ í‘œí˜„ HTTP ìš”ì²­ì„ ì‘ìš© ì˜ì—­ì´ í•„ìš”ë¡œ í•˜ëŠ” í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•´ì„œ ì‘ìš© ì˜ì—­ì— ì „ë‹¬í•˜ê³ , ì‘ìš© ì˜ì—­ì˜ ì‘ë‹µì„ HTTP ì‘ë‹µìœ¼ë¡œ ë³€í™˜í•´ì„œ ì „ì†¡í•œë‹¤ e.g. ìš”ì²­ íŒŒë¼ë¯¸í„°ë¥¼ ê°ì²´ë¡œ ë°›ê³  ê²°ê³¼ë¥¼ JSONìœ¼ë¡œ ë¦¬í„´ ì‘ìš© ì‹œìŠ¤í…œì´ ì‚¬ìš©ìì—ê²Œ ì œê³µí•´ì•¼ í•  ê¸°ëŠ¥ì„ êµ¬í˜„í•œë‹¤ ì‘ìš© ì˜ì—­ì€ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ ë„ë©”ì¸ ì˜ì—­ì˜ ë„ë©”ì¸ ëª¨ë¸ì„ ì‚¬ìš©í•œë‹¤ ì‘ìš© ì„œë¹„ìŠ¤ëŠ” ë¡œì§ì„ ì§ì ‘ ìˆ˜í–‰í•˜ê¸°ë³´ë‹¤ëŠ” ë„ë©”ì¸ ëª¨ë¸ì— ë¡œì§ ìˆ˜í–‰ì„ ìœ„ì„í•œë‹¤ ë„ë©”ì¸ ë„ë©”ì¸ì˜ í•µì‹¬ ë¡œì§ì„ êµ¬í˜„í•œë‹¤ e.g. ì£¼ë¬¸ ë„ë©”ì¸ì˜ ê²½ìš° â€˜ë°°ì†¡ì§€ ë³€ê²½â€™, â€˜ê²°ì œ ì™„ë£Œâ€™ ê°™ì€ í•µì‹¬ ë¡œì§ì„ ë„ë©”ì¸ ëª¨ë¸ì—ì„œ êµ¬í˜„í•œë‹¤ ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì³ êµ¬í˜„ ê¸°ìˆ ì— ëŒ€í•œ ê²ƒì„ ë‹¤ë£¬ë‹¤ e.g. RDBMS ì—°ë™, ëª½ê³  DB, ë©”ì‹œì§€ í ì „ì†¡ ë“± ê³„ì¸µ êµ¬ì¡° ì•„í‚¤í…ì³ 1234567 í‘œí˜„ â†“ ì‘ìš© â†“ ë„ë©”ì¸ â†“ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì³ ê³„ì¸µ êµ¬ì¡°ëŠ” ìƒìœ„ ê³„ì¸µì—ì„œ í•˜ìœ„ ê³„ì¸µìœ¼ë¡œì˜ ì˜ì¡´ë§Œ ì¡´ì¬í•˜ê³  í•˜ìœ„ ê³„ì¸µì—ì„œ ìƒìœ„ ê³„ì¸µì— ì˜ì¡´í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤ ê³„ì¸µ êµ¬ì¡°ë¥¼ ì—„ê²©í•˜ê²Œ ì ìš©í•˜ë©´ ìƒìœ„ ê³„ì¸µì€ ë°”ë¡œ ì•„ë˜ ê³„ì¸µì—ë§Œ ì˜ì¡´ì„ ê°€ì ¸ì•¼í•˜ì§€ë§Œ, êµ¬í˜„ì˜ í¸ë¦¬í•¨ì„ ìœ„í•´ ê³„ì¸µ êµ¬ì¡°ë¥¼ ìœ ì—°í•˜ê²Œ ì ìš©í•œë‹¤ ì´ ë§ì¸ ì¦‰, í‘œí˜„, ì‘ìš©, ë„ë©”ì¸ ê³„ì¸µì´ ìƒì„¸í•œ êµ¬í˜„ ê¸°ìˆ ì„ ë‹¤ë£¨ëŠ” ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì³ì— ì˜ì¡´í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ë‹¤ ì˜ˆë¥¼ ë“¤ë©´ ì•„ë˜ì²˜ëŸ¼ ë  ìˆ˜ ìˆë‹¤ 12345678910111213141516171819class CalculateDiscountService &#123; private DroolsRuleEngine ruleEngine = new DroolsRuleEngine(); public Money calculateDiscount(List&lt;OrderLine&gt; orderLines, String customerId) &#123; Customer customer = findCustomer(customerId); // ì´ˆê¸° ëˆ MutableMoney money = new MutableMoney(0); // ì¡°ê±´ë“¤ ì¶”ê°€í•˜ê³  List&lt;?&gt; facts = Arrays.asList(customer, money); facts.addAll(orderLines); // DroolsRulsEngineì„ ì´ìš©í•´ í• ì¸ìœ¨ ì ìš© ruleEngine.evaluate("discountCalculation", facts); return money.toImmutableMoney(); &#125;&#125; ìœ„ ì²˜ëŸ¼ ë„ë©”ì¸ì— ë©”ì‹œì§€ë¥¼ ë³´ë‚´ëŠ” ê²ƒ ì™¸ì— íŠ¹ì • ì—”ì§„ì„ ì‚¬ìš©í•´ì•¼í•˜ëŠ” ìƒí™©ì´ë‹¤ (íŠ¹ì • ì—”ì§„ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ë‚˜ì€ ìƒí™©) í•˜ì§€ë§Œ ìœ„ ì½”ë“œëŠ” ì•„ë˜ 2ê°€ì§€ ë¬¸ì œì ì„ ê°€ì§€ê³  ìˆë‹¤ í…ŒìŠ¤íŠ¸í•˜ê¸° ì–´ë µë‹¤ DroolsRuleEngineì´ ì™„ë²½í•˜ê²Œ ë™ì‘í•´ì•¼ë§Œ CalculateDiscountServiceë¥¼ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë‹¤ êµ¬í˜„ ë°©ì‹ì„ ë³€ê²½í•˜ê¸° ì–´ë µë‹¤ DroolsRuleEngineì´ ì•„ë‹ˆë¼ ë‹¤ë¥¸ ì—”ì§„ì„ ì‚¬ìš©í•˜ë„ë¡ ë³€ê²½í•˜ê³ ì í•œë‹¤ë©´ ë§ì€ ë¶€ë¶„ì´ ë³€ê²½ë˜ì–´ì•¼ í•  ê²ƒì´ë‹¤ ê³ ìˆ˜ì¤€ ëª¨ë‘˜ì´ ì œëŒ€ë¡œ ë™ì‘í•˜ë ¤ë©´ ì €ìˆ˜ì¤€ ëª¨ë“ˆì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ”ë°, ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì³ì˜ ê²½ìš° íŠ¹ì • ê¸°ìˆ ì„ ì§ì ‘ êµ¬í˜„í•˜ë¯€ë¡œ ì´ëŸ° ë¬¸ì œì ì´ ë°œìƒí•˜ê²Œ ëœë‹¤. ì´ë¥¼ ì–´ë–»ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆì„ê¹Œ? DIP ì •ë‹µì€ ì €ìˆ˜ì¤€ ëª¨ë¸ì´ ê³ ìˆ˜ì¤€ ëª¨ë¸ì— ì˜ì¡´í•˜ë„ë¡ ë°”ê¾¸ëŠ” ê²ƒì´ë‹¤ ë‹¤ì‹œ í•œë²ˆ CalculateDiscountServiceë¥¼ ì‚´í´ë³´ë©´, discountë¥¼ ì–»ëŠ”ë° ì–´ë–¤ ì—”ì§„ì„ ì‚¬ìš©í–ˆëŠëƒëŠ” ì¤‘ìš”í•˜ì§€ ì•Šë‹¤ ë‹¨ì§€ ê³ ê°ì •ë³´ì™€ êµ¬ë§¤ì •ë³´ì— ë£°ì„ ì ìš©í•´ì„œ í• ì¸ ê¸ˆì•¡ì„ êµ¬í•œë‹¤ëŠ” ê²ƒì´ ì¤‘ìš”í•  ë¿ì´ë‹¤ ì´ ë¶€ë¶„ì„ ì¶”ìƒí™”í•´ì„œ ì¸í„°í˜ì´ìŠ¤ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤ 123interface RuleDiscounter &#123; public Money applyRules(Customer customer, List&lt;OrderLine&gt; orderLines);&#125; ì´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ CalculateDiscountServiceì—ì„œ DroolsRuleEngineì„ ì œê±°í•  ìˆ˜ ìˆë‹¤ 12345678910111213141516class CalculateDiscountService &#123; private RuleDiscounter ruleDiscounter; public CalculateDiscountService(RuleDiscounter ruleDiscounter) &#123; this.ruleDiscounter = ruleDiscounter; &#125; public Money calculateDiscount(List&lt;OrderLine&gt; orderLines, String customerId) &#123; Customer customer = findCustomer(customerId); return ruleDiscounter.applyRules(customer, orderLines); &#125;&#125;class DroolsRuleDiscounter implements RuleDiscounter &#123; // ...&#125; CalculateDiscountServiceëŠ” ë” ì´ìƒ êµ¬í˜„ê¸°ìˆ ì¸ Drools(ì €ìˆ˜ì¤€)ì— ì˜ì¡´í•˜ì§€ ì•Šê³ , ë£°ì„ ì´ìš©í•œ í• ì¸ ê¸ˆì•¡ ê³„ì‚° ì„ í‘œí˜„í•˜ëŠ” RuleDiscounter ì¸í„°í˜ì´ìŠ¤(ê³ ìˆ˜ì¤€)ì— ì˜ì¡´í•œë‹¤ ê·¸ë¦¼ì—ì„œ ë³´ì´ë‹¤ì‹œí”¼ ê³ ìˆ˜ì¤€ ëª¨ë“ˆì´ ì €ìˆ˜ì¤€ ëª¨ë“ˆì„ ì‚¬ìš©í•¨ì—ë„ ë¶ˆêµ¬í•˜ê³  ì €ìˆ˜ì¤€ ëª¨ë“ˆì´ ê³ ìˆ˜ì¤€ ëª¨ë“ˆì— ì˜ì¡´í•˜ê³  ìˆë‹¤ ì´ë¥¼ DIP(Dependency Inversion Principle, ì˜ì¡´ ì—­ì „ ì›ì¹™) ì´ë¼ê³  ë¶€ë¥¸ë‹¤ ê·¸ë¦¬ê³  ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ ì €ìˆ˜ì¤€ ëª¨ë“ˆì€ ì™¸ë¶€ì—ì„œ ìƒì„±í•´ ì£¼ì…(Dependency Injection) í•´ì£¼ê²Œ ëœë‹¤ ì´ì™€ ê°™ì´ DIPë¥¼ ì ìš©í•¨ìœ¼ë¡œì¨ ê¸°ì¡´ì˜ ê³ ìˆ˜ì¤€ ëª¨ë“ˆì—ì„œ ì €ìˆ˜ì¤€ ëª¨ë“ˆ ì‚¬ìš©ì—ì„œ ì˜¤ë˜ ë¬¸ì œì ë“¤ì„ í•´ê²°í•  ìˆ˜ ìˆê²Œ ëœë‹¤ í…ŒìŠ¤íŠ¸í•˜ê¸° ì‰¬ì›Œì§„ë‹¤ íŠ¹ì • í´ë˜ìŠ¤ê°€ ì•„ë‹ˆë¼ ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´í•˜ë¯€ë¡œ mockitoë¥¼ ì‚¬ìš©í•œ stub ë“±ì„ ì‚¬ìš©í•œë‹¤ë©´ ì§ì ‘ êµ¬í˜„ì²´ë¥¼ êµ¬í˜„í•˜ì§€ ì•Šê³ ë„ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•  ìˆ˜ ìˆê²Œ ëœë‹¤ êµ¬í˜„ ë°©ì‹ì„ ë³€ê²½í•˜ê¸° ìˆ´ì›Œì§„ë‹¤ ì €ìˆ˜ì¤€ ëª¨ë“ˆì— ê°•í•˜ê²Œ ê²°í•©ë˜ì–´ ìˆëŠ” êµ¬ì¡°ê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì—, êµ¬í˜„ ë°©ì‹ì„ ë³€ê²½í•˜ê³  ì‹¶ë‹¤ë©´ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ êµ¬í˜„ì²´ë¥¼ í•˜ë‚˜ ë” ë§Œë“¤ì–´ì„œ DI í•´ì£¼ë©´ CalculateDiscountServiceì˜ ì½”ë“œë³€ê²½ ì—†ì´ êµ¬í˜„ ë°©ì‹ì„ ë³€ê²½í•  ìˆ˜ ìˆë‹¤(OCP) DIP ì£¼ì˜ì‚¬í•­ DIP ê²°ê³¼ êµ¬ì¡°ë§Œ ë³´ê³  ì¸í„°í˜ì´ìŠ¤ë¥¼ ì˜ëª» ì¶”ì¶œí•œ ê²°ê³¼ì´ë‹¤ RuleEngineì€ ê³ ìˆ˜ì¤€ ëª¨ë¸ì¸ ë„ë©”ì¸ ê´€ì ì´ ì•„ë‹ˆë¼ ì—”ì§„ì´ë¼ëŠ” ì €ìˆ˜ì¤€ ëª¨ë“ˆ ê´€ì ì—ì„œ ë„ì¶œëœ ê²ƒì´ë‹¤ ì¦‰, ì—¬ì „íˆ ê³ ìˆ˜ì¤€ ëª¨ë“ˆì´ ì €ìˆ˜ì¤€ ëª¨ë“ˆì— ì˜ì¡´í•˜ê³  ìˆëŠ” ì…ˆì´ë‹¤ DIPë¥¼ ì ìš©í•  ë•Œ í•˜ìœ„ ê¸°ëŠ¥ì„ ì¶”ìƒí™”í•œ ì¸í„°í˜ì´ìŠ¤ëŠ” ê³ ìˆ˜ì¤€ ëª¨ë“ˆ ê´€ì ì—ì„œ ë„ì¶œí•´ì•¼ í•œë‹¤ ë„ë©”ì¸ ì˜ì—­ì˜ ì£¼ìš” êµ¬ì„±ìš”ì†Œ ì—”í‹°í‹° ê³ ìœ ì˜ ì‹ë³„ìë¥¼ ê°€ì§€ê³  ìì‹ ì˜ ë¼ì´í”„ ì‚¬ì´í´ì„ ê°–ëŠ” ê°ì²´ ë°ì´í„°ì™€ ë°ì´í„°ì™€ ê´€ë ¨ëœ ê¸°ëŠ¥ì„ í•¨ê»˜ ì œê³µí•œë‹¤ ë²¨ë¥˜ ê³ ìœ ì˜ ì‹ë³„ìë¥¼ ê°–ì§€ ì•Šê³  ì£¼ë¡œ ë„ë©”ì¸ ê°ì²´ì˜ ì†ì„±ì„ í‘œí˜„í•  ë–„ ì‚¬ìš©ë˜ëŠ” ê°ì²´ ë‹¤ë¥¸ ë²¨ë¥˜ íƒ€ì…ì˜ ì†ì„±ìœ¼ë¡œë„ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤ ì• ê·¸ë¦¬ê±°íŠ¸ ê´€ë ¨ëœ ì—”í‹°í‹°ì™€ ë²¨ë¥˜ ê°ì²´ë¥¼ ê°œë…ì ìœ¼ë¡œ í•˜ë‚˜ë¡œ ë¬¶ì€ ê²ƒ ë¦¬í¬ì§€í„°ë¦¬ ë„ë©”ì¸ ëª¨ë¸ì˜ ì˜ì†ì„±ì„ ì²˜ë¦¬í•¨ ë„ë©”ì¸ ì„œë¹„ìŠ¤ íŠ¹ì • ì—”í‹°í‹°ì— ì†í•˜ì§€ ì•Šì€ ë„ë©”ì¸ ë¡œì§ì„ ì œê³µí•¨ ë„ë©”ì¸ ë¡œì§ì´ ì—¬ëŸ¬ ì—”í‹°í‹°ì™€ ë²¨ë¥˜ë¥¼ í•„ìš”ë¡œ í•  ê²½ìš° ì—¬ê¸°ì—ì„œ ë¡œì§ì„ êµ¬í˜„í•œë‹¤ ì—”í‹°í‹°ì™€ ë²¨ë¥˜ ë„ë©”ì¸ ëª¨ë¸ì˜ ì—”í‹°í‹°ì™€ DB ëª¨ë¸ì˜ ì—”í‹°í‹°ëŠ” ë‹¤ë¥´ë‹¤ ë„ë©”ì¸ ëª¨ë¸ì˜ ì—”í‹°í‹°ëŠ” ë‹¨ìˆœíˆ ë°ì´í„°ë¥¼ ë‹´ê³  ìˆëŠ” ë°ì´í„° êµ¬ì¡°ë¼ê¸°ë³´ë‹¤ëŠ” ë°ì´í„°ì™€ í•¨ê»˜ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ê°ì²´ì´ë‹¤ ë„ë©”ì¸ ê´€ì ì—ì„œ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê³  ê¸°ëŠ¥ êµ¬í˜„ì„ ìº¡ìŠí™”í•´ì„œ ë°ì´í„°ê°€ ì„ì˜ë¡œ ë³€ê²½ë˜ëŠ” ê²ƒì„ ë§‰ëŠ”ë‹¤ ë„ë©”ì¸ ëª¨ë¸ì˜ ì—”í‹°í‹°ëŠ” ë‘ ê°œ ì´ìƒì˜ ë°ì´í„°ê°€ ê°œë…ì ìœ¼ë¡œ í•˜ë‚˜ì¸ ê²½ìš° ë²¨ë¥˜ íƒ€ì…ì„ ì´ìš©í•´ì„œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤ RDBMSëŠ” ë²¨ë¥˜ë¥¼ ì œëŒ€ë¡œ í‘œí˜„í•˜ê¸° í˜ë“¤ë‹¤ ORDER_NAME, ORDER_EMAIL í•„ë“œë¡œ í‘œì‹œí•˜ê±°ë‚˜ ë˜ëŠ” ORDER_ORDERER í…Œì´ë¸”ë¡œ í‘œì‹œí•˜ë”ë¼ë„ ë”±íˆ ë²¨ë¥˜ íƒ€ì…ì˜ ëŠë‚Œì„ ì£¼ì§€ ëª»í•œë‹¤ ì• ê·¸ë¦¬ê±°íŠ¸ ë„ë©”ì¸ì´ ì»¤ì§ˆìˆ˜ë¡ ê°œë°œí•  ë„ë©”ì¸ ëª¨ë¸ë„ ì»¤ì§€ê²Œ ë˜ê³ , ë§ì€ ì—”í‹°í‹°ì™€ ë²¨ë¥˜ê°€ ìƒê¸°ë©´ì„œ ëª¨ë¸ì´ ì ì  ë” ë³µì¡í•´ì§„ë‹¤ ì´ë ‡ê²Œ ë„ë©”ì¸ ëª¨ë¸ì´ ë³µì¡í•´ì§€ë©´ ê°œë°œìê°€ ì „ì²´ êµ¬ì¡°ê°€ ì•„ë‹Œ í•œê°œ ì—”í‹°í‹°ì™€ ë²¨ë¥˜ì— ì§‘ì¤‘í•˜ê²Œ ë˜ëŠ” ê²½ìš°ê°€ ë°œìƒí•œë‹¤ ì§€ë„ë¥¼ ë³¼ ë•Œ ë§¤ìš° ìƒì„¸í•˜ê²Œ ë‚˜ì˜¨ ëŒ€ì¶•ì  ì§€ë„ë¥¼ ë³´ë©´ í° ìˆ˜ì¤€ì—ì„œ ì–´ë””ì— ìœ„ì¹˜í•˜ê³  ìˆëŠ”ì§€ ì´í•´í•˜ê¸° ì–´ë ¤ìš°ë¯€ë¡œ í° ìˆ˜ì¤€ì—ì„œ ë³´ì—¬ì£¼ëŠ” ì†Œì¶•ì  ì§€ë„ë¥¼ í•¨ê¼ ë´ì•¼ í˜„ì¬ ìœ„ì¹˜ë¥¼ ë³´ë‹¤ ë” ì •í™•í•˜ê²Œ ì´í•´í•  ìˆ˜ ìˆë‹¤ ì´ì™€ ë¹„ìŠ·í•˜ê²Œ ë„ë©”ì¸ ëª¨ë¸ë„ ê°œë³„ ê°ì²´ê°€ ì•„ë‹ˆë¼ ìƒìœ„ ìˆ˜ì¤€ì—ì„œ ëª¨ë¸ì„ ë³¼ ìˆ˜ ìˆì–´ì•¼ ì „ì²´ ëª¨ë¸ê³¼ ê°œë³„ ëª¨ë¸ì„ ì´í•´í•˜ëŠ”ë° ë„ì›€ì´ ëœë‹¤ ì´ê²Œ ë°”ë¡œ ì• ê·¸ë¦¬ê±°íŠ¸(AGGREGATE) ì´ë‹¤ ì£¼ë¬¸ ì• ê·¸ë¦¬ê±°íŠ¸ëŠ” ì£¼ë¬¸, ì£¼ë¬¸ì, ë°°ì†¡ì •ë³´ ë“±ì„ í¬í•¨í•œë‹¤ ì• ê·¸ë¦¬ê±°íŠ¸ëŠ” êµ°ì§‘ì— ì†í•œ ê°ì²´ë“¤ì„ ê´€ë¦¬í•˜ëŠ” ë£¨íŠ¸ ì—”í‹°í‹°ë¥¼ ê°€ì§„ë‹¤ ë£¨íŠ¸ ì—”í‹°í‹°ëŠ” ì• ê·¸ë¦¬ê±°íŠ¸ì— ì†í•´ ìˆëŠ” ì—”í‹°í‹°ì™€ ë²¨ë¥˜ ê°ì²´ë¥¼ ì´ìš©í•´ì„œ ì• ê·¸ë¦¬ê±°íŠ¸ê°€ êµ¬í˜„í•´ì•¼ í•  ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤ ì• ê·¸ë¦¬ê±°íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ì½”ë“œëŠ” ì• ê·¸ë¦¬ê±°íŠ¸ê°€ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì„ ì‹¤í–‰í•˜ê³  ì• ê·¸ë¦¬ê±°íŠ¸ ë£¨íŠ¸ë¥¼ í†µí•´ì„œ ê°„ì ‘ì ìœ¼ë¡œ ì• ê·¸ë¦¬ê±°íŠ¸ ë‚´ì˜ ì—”í‹°í‹°ë‚˜ ë²¨ë¥˜ ê°ì²´ì— ì ‘ê·¼í•˜ê²Œ ëœë‹¤ ì• ê·¸ë¦¬ê±°íŠ¸ë¥¼ êµ¬í˜„í•  ë•ŒëŠ” ê³ ë ¤í•  ê²ƒì´ ë§ë‹¤ ë¦¬í¬ì§€í„°ë¦¬ ë„ë©”ì¸ ê°ì²´ë¥¼ ì§€ì†ì ìœ¼ë¡œ ì‚¬ìš©í•˜ë ¤ë©´ RDBMS ê°™ì€ ë¬¼ë¦¬ì  ì €ì¥ì†Œì— ë„ë©”ì¸ ê°ì²´ë¥¼ ë³´ê´€í•´ì•¼ í•˜ê³ , ì´ë¥¼ ìœ„í•œ ë„ë©”ì¸ ëª¨ë¸ì´ ë¦¬í¬ì§€í„°ë¦¬ ì´ë‹¤ ë¦¬í¬ì§€í† ë¦¬ëŠ” ì• ê·¸ë¦¬ê±°íŠ¸ ë‹¨ìœ„ë¡œ ë„ë©”ì¸ ê°ì²´ë¥¼ ì¡°íšŒí•˜ê³  ì €ì¥í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤ ë¦¬í¬ì§€í„°ë¦¬ëŠ” ë„ë©”ì¸ ê°ì²´ë¥¼ ì˜ì†í™”í•˜ëŠ”ë° í•„ìš”í•œ ê¸°ëŠ¥ì„ ì¶”ìƒí™” í•œ ê²ƒì´ê¸° ë–„ë¬¸ì— ê³ ìˆ˜ì¤€ ëª¨ë“ˆì— ì†í•˜ê³ , ì‹¤ì œ êµ¬í˜„ í´ë˜ìŠ¤ëŠ” ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì³ ì˜ì—­ì— ì†í•œë‹¤ ë¦¬í¬ì§€í„°ë¦¬ì˜ ì‚¬ìš© ì£¼ì²´ëŠ” ì‘ìš© ì„œë¹„ìŠ¤ì´ë‹¤ ì‘ìš© ì„œë¹„ìŠ¤ëŠ” í•„ìš”í•œ ë„ë©”ì¸ ê°ì²´ë¥¼ êµ¬í•˜ê±°ë‚˜ ì €ì¥í•  ë•Œ ë¦¬í¬ì§€í„°ë¦¬ë¥¼ ì´ìš©í•œë‹¤ ê·¸ëŸ¬ë¯€ë¡œ ì‘ìš© ì„œë¹„ìŠ¤ê°€ í•„ìš”ë¡œ í•˜ëŠ” ë©”ì„œë“œë¥¼ ì œê³µí•œë‹¤ ê¸°ë³¸ì€ ì €ì¥ê³¼ ì‹ë³„ìë¡œ ì¡°íšŒ ë©”ì„œë“œì´ë‹¤ ìš”ì²­ ì²˜ë¦¬ íë¦„ ì‘ìš© ì„œë¹„ìŠ¤ëŠ” ë„ë©”ì¸ ëª¨ë¸ì„ ì´ìš©í•´ì„œ ê¸°ëŠ¥ì„ êµ¬í˜„í•œë‹¤ ë„ë©”ì¸ ê°ì²´ë¥¼ ì¡°íšŒí•´ì•¼í•˜ê±°ë‚˜ ìƒˆë¡œ ìƒì„±í•´ì•¼ í•  ê²½ìš° ë¦¬í¬ì§€í„°ë¦¬ë¥¼ ì´ìš©í•œë‹¤ ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì³ í‘œí˜„, ì‘ìš©, ë„ë©”ì¸ ì˜ì—­ì„ ëª¨ë‘ ì§€ì›í•˜ëŠ” ì˜ì—­ì´ë‹¤ DIPì—ì„œ ì–¸ê¸‰í–ˆë“¯ì´ ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì³ë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ëŠ” ê²ƒ ë³´ë‹¨ ê°ìì˜ ì˜ì—­ì—ì„œ ì •ì˜í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì³ ì˜ì—­ì—ì„œ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ì‹œìŠ¤í…œì„ ë” ìœ ì—°í•˜ê³  í…ŒìŠ¤íŠ¸í•˜ê¸° ì‰½ê²Œ ë§Œë“¤ì–´ì¤€ë‹¤ í•˜ì§€ë§Œ ë¬´ì¡°ê±´ ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì³ì— ëŒ€í•œ ì˜ì¡´ì„ ì—†ì• ëŠ” ê²ƒì´ ì¢‹ì€ ê²ƒì€ ì•„ë‹ˆë‹¤ ì˜ˆë¥¼ ë“¤ë©´ ìŠ¤í”„ë§ì˜ @Transactionalì´ ìˆë‹¤ ì½”ë“œì—ì„œ ìŠ¤í”„ë§ì— ëŒ€í•œ ì˜ì¡´ì„ ì—†ì• ë ¤ë©´ ë³µì¡í•œ ìŠ¤í”„ë§ ì„¤ì •ì„ ì‚¬ìš©í•´ì•¼í•˜ëŠ”ë°, ì´ëŸ´ë•ŒëŠ” êµ³ì´ ì˜ì¡´ì„ ì—†ì• ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ë‹¤ êµ¬í˜„ì˜ í¸ë¦¬í•¨ ë˜í•œ ë‹¤ë¥¸ ì¥ì ë“¤ë§Œí¼ ì¤‘ìš”í•œ ë¶€ë¶„ì´ê¸° ë•Œë¬¸ì´ë‹¤ í‘œí˜„ ì˜ì—­ ë˜í•œ ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì³ì™€ ìŒì„ ì´ë£¬ë‹¤. ê·¸ê²ƒë„ í•­ìƒ. ëª¨ë“ˆ êµ¬ì„± ê¸°ë³¸ì ìœ¼ë¡œ ìš°ë¦¬ëŠ” í•­ìƒ ì•„í‚¤í…ì³ê°€ ê° ì˜ì—­ì˜ ë³„ë„ íŒ¨í‚¤ì§€ì— ìœ„ì¹˜í•˜ëŠ” í˜•íƒœë¡œ êµ¬ì„±í•œë‹¤ 1234com.bookstore.uicom.bookstore.applicationcom.bookstore.domaincom.bookstore.infrastructure ì• ê·¸ë¦¬ê±°íŠ¸ì˜ ëª¨ë¸ê³¼ ë¦¬í¬ì§€í„°ë¦¬ëŠ” ê°™ì€ íŒ¨í‚¤ì§€ì— ìœ„ì¹˜ì‹œí‚¨ë‹¤ í•˜ì§€ë§Œ íŒ¨í‚¤ì§€ êµ¬ì„± ë°©ì‹ì— ì •ë‹µì´ ìˆëŠ”ê²ƒì€ ì•„ë‹ˆë‹¤ ë„ë©”ì¸ì´ í¬ë©´ í•˜ìœ„ ë„ë©”ì¸ë§ˆë‹¤ ë³„ë„ íŒ¨í‚¤ì§€ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤ 1234567891011com.bookstore.catelog.uicom.bookstore.catelog.applicationcom.bookstore.catelog.domaincom.bookstore.catelog.infrastructurecom.bookstore.order.uicom.bookstore.order.applicationcom.bookstore.order.domaincom.bookstore.order.infrastructure... ë§Œì•½ ì¹´íƒˆë¡œê·¸ ë„ë©”ì¸ì´ ìƒí’ˆ ì• ê·¸ë¦¬ê±°íŠ¸ì™€ ì¹´í…Œê³ ë¦¬ ì• ê·¸ë¦¬ê±°íŠ¸ë¡œ êµ¬ì„±ëœë‹¤ë©´ domainì—ì„œ íŒ¨í‚¤ì§€ë¥¼ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤ 12345com.bookstore.catelog.uicom.bookstore.catelog.applicationcom.bookstore.catelog.domain.productcom.bookstore.catelog.domain.categorycom.bookstore.catelog.infrastructure ë§Œì•½ ë„ë©”ì¸ ì„œë¹„ìŠ¤ ê³„ì¸µì´ ë”°ë¡œ ìˆìœ¼ë©´ ì•„ë˜ì™€ ê°™ì´ ë‚˜ëˆŒìˆ˜ë„ ìˆë‹¤ 123com.bookstore.catelog.domain.productcom.bookstore.catelog.domain.categorycom.bookstore.catelog.domain.service serviceëŠ” productì™€ category ì˜ ë„ë©”ì¸ ì„œë¹„ìŠ¤ ê³„ì¸µì´ë‹¤ ì´ëŸ¬í•œ ë£°ë“¤ì€ domain ë¿ë§Œì´ ì•„ë‹ˆë¼ ë‹¤ë¥¸ ê³„ì¸µì—ë„ ì ìš©ë  ìˆ˜ ìˆë‹¤ ê·¸ë¦¬ê³  ì•Œë‹¤ì‹œí”¼, ëª¨ë“ˆ êµ¬ì„±ì— ì •ë‹µì€ ì—†ë‹¤ í•˜ì§€ë§Œ ê°€ëŠ¥í•˜ë©´ í•œ íŒ¨í‚¤ì§€ë‚´ì— 10ê°œ ë¯¸ë§Œìœ¼ë¡œ íƒ€ì… ê°œìˆ˜ë¥¼ ìœ ì§€í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤ ì°¸ê³  : ìµœë²”ê· , ã€DDD Start!ã€, ì§€ì•¤ì„ (2016)]]></content>
      <categories>
        <category>ddd</category>
      </categories>
      <tags>
        <tag>DDD start!</tag>
        <tag>ê³„ì¸µ êµ¬ì¡°</tag>
        <tag>DIP</tag>
        <tag>DI</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[í•„ë“œ ìº¡ìŠí™”]]></title>
    <url>%2Frefactoring%2F%ED%95%84%EB%93%9C-%EC%BA%A1%EC%8A%90%ED%99%94%2F</url>
    <content type="text"><![CDATA[public í•„ë“œê°€ ìˆì„ ë• ê·¸ í•„ë“œë¥¼ privateë¡œ ë§Œë“¤ê³  í•„ë“œìš© ì½ê¸° ë©”ì„œë“œì™€ ì“°ê¸° ë©”ì„œë“œë¥¼ ì‘ì„±í•˜ì ë™ê¸° ê°ì²´ì§€í–¥ì˜ ì£¼ìš” ì›ì¹™ ì¤‘ í•˜ë‚˜ëŠ” ìº¡ìŠí™”ì´ë‹¤ ê·¸ëŸ¬ë¯€ë¡œ ë°ì´í„°ëŠ” ì ˆëŒ€ public íƒ€ì…ìœ¼ë¡œ ì„ ì–¸ë˜ë©´ ì•ˆëœë‹¤ ë°ì´í„°ë¥¼ public íƒ€ì…ìœ¼ë¡œ ë§Œë“¤ë©´ ë°ì´í„°ê°€ ìˆëŠ” ê°ì²´ê°€ ëª¨ë¥´ëŠ” ì‚¬ì´ì— ë‹¤ë¥¸ ê°ì²´ê°€ ë°ì´í„° ê°’ì„ ì½ê³  ë³€ê²½í•  ìˆ˜ ìˆë‹¤ ì´ë¡œ ì¸í•´ ë°ì´í„°ì™€ ê¸°ëŠ¥ì´ ë¶„ë¦¬ëœë‹¤ ë°ì´í„°ì™€ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ëŠ” ê¸°ëŠ¥ì´ í•œ ê³³ì— ëª¨ì—¬ìˆìœ¼ë©´ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ê¸° ì‰½ë‹¤ ë°©ë²• ìº¡ìŠí™” í•  í•„ë“œë¥¼ ìœ„í•œ ì½ê¸° ë©”ì„œë“œ(getter)ì™€ ì“°ê¸° ë©”ì„œë“œ(setter)ë¥¼ ì‘ì„±í•œë‹¤ í´ë˜ìŠ¤ ì™¸ë¶€ì—ì„œ ê·¸ í•„ë“œë¥¼ ì°¸ì¡°í•˜ëŠ” ëª¨ë“  ë¶€ë¶„ì„ ì°¾ì•„ì„œ 1ì—ì„œ ì‘ì„±í•œ ë©”ì„œë“œë¡œ ëŒ€ì²´í•œë‹¤ ì°¸ì¡°í•˜ëŠ” ë¶€ë¶„ì„ ëª¨ë‘ ìˆ˜ì •í–ˆë‹¤ë©´ í•„ë“œë¥¼ privateìœ¼ë¡œ ë³€ê²½í•œë‹¤ ì‚¬ì‹¤ìƒ getter, setterë¥¼ ì ìš©í•˜ëŠ” ê²ƒì€ public ë©”ì„œë“œë¥¼ ì“¸ë•Œì™€ ë³„ ë‹¤ë¥¼ê²ƒì´ ì—†ê³ , ë¬¸ì œë„ í•´ê²°ë˜ì§€ ì•ŠëŠ”ë‹¤ ì¼ë‹¨ ì´ëŸ°ì‹ìœ¼ë¡œ í•„ë“œ ì§ì ‘ ì ‘ê·¼ì„ ë§‰ì€ ë‹¤ìŒ, ë¶ˆí•„ìš”í•œ ì½ê¸°/ì“°ê¸° ë©”ì„œë“œ í˜¸ì¶œ ë¶€ë¶„ì„ ì œê±°í•´ì•¼í•œë‹¤ ì°¸ê³  : ë§ˆí‹´ íŒŒìš¸ëŸ¬, ã€ë¦¬íŒ©í† ë§ã€, ê¹€ì§€ì› ì˜®ê¹€, í•œë¹›ë¯¸ë””ì–´(2012)]]></content>
      <categories>
        <category>refactoring</category>
      </categories>
      <tags>
        <tag>ë¦¬íŒ©í† ë§</tag>
        <tag>encapsulate field</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[í•„ë“œ ì´ë™]]></title>
    <url>%2Frefactoring%2F%ED%95%84%EB%93%9C-%EC%9D%B4%EB%8F%99%2F</url>
    <content type="text"><![CDATA[ì–´ë–¤ í•„ë“œê°€ ìì‹ ì´ ì†í•œ í´ë˜ìŠ¤ë³´ë‹¤ ë‹¤ë¥¸ í´ë˜ìŠ¤ì—ì„œ ë” ë§ì´ ì‚¬ìš©ë  ë•ŒëŠ” ëŒ€ìƒ í´ë˜ìŠ¤ ì•ˆì— ìƒˆ í•„ë“œë¥¼ ì„ ì–¸í•˜ê³  ê·¸ í•„ë“œ ì°¸ì¡° ë¶€ë¶„ì„ ì „ë¶€ ìƒˆ í•„ë“œ ì°¸ì¡°ë¡œ ìˆ˜ì •í•˜ì ë™ê¸° ì–´ë–¤ í•„ë“œê°€ ìì‹ ì´ ì†í•œ í´ë˜ìŠ¤ë³´ë‹¤ ë‹¤ë¥¸ í´ë˜ìŠ¤ì— ìˆëŠ” ë©”ì„œë“œì—ì„œ ë” ë§ì´ ì°¸ì¡°í•œë‹¤ë©´, ê·¸ í•„ë“œë¥¼ ì˜®ê¸°ëŠ” ê²ƒì„ ìƒê°í•´ë´ì•¼ í•œë‹¤ ë§Œì•½ í´ë˜ìŠ¤ ì¶”ì¶œì„ í•  ê²½ìš° í•„ë“œ ì¶”ì¶œì´ ìš°ì„ ì´ê³ , ë©”ì„œë“œ ì¶”ì¶œì´ ê·¸ ë‹¤ìŒì´ë‹¤ ë°©ë²• ì±…ì˜ ì˜ˆì œì—ëŠ” ì˜ ì•ˆë‚˜ì™€ìˆëŠ”ë°, ë‚œ ì•„ë˜ì™€ ê°™ì´ ì´í•´í–ˆë‹¤ A í´ë˜ìŠ¤ì•ˆì—ì„œ B í´ë˜ìŠ¤ì˜ field í•„ë“œë¥¼ ìì£¼ ì´ìš©í•œë‹¤ë©´ B í´ë˜ìŠ¤ì˜ fieldë¥¼ A í´ë˜ìŠ¤ë¡œ ì˜®ê²¨ë²„ë¦´ ìˆ˜ ìˆë‹¤ 12345678910111213141516171819202122232425262728293031class A &#123; private B b; public void someMethod1() &#123; // do something b.getField(); // ì´ëŸ°ì‹ìœ¼ë¡œ ìì£¼ ì‚¬ìš©ëœë‹¤ë©´ // do something &#125; public void someMethod2() &#123; // do something b.getField(); // ì´ëŸ°ì‹ìœ¼ë¡œ ìì£¼ ì‚¬ìš©ëœë‹¤ë©´ // do something &#125; public void someMethod3() &#123; // do something b.getField(); // ì´ëŸ°ì‹ìœ¼ë¡œ ìì£¼ ì‚¬ìš©ëœë‹¤ë©´ // do something &#125;&#125;class B &#123; private int field; // getter/setter public void someMethod() &#123; // do something; field; // do something; &#125;&#125; í•˜ì§€ë§Œ B í´ë˜ìŠ¤ì˜ field í•„ë“œë„ B í´ë˜ìŠ¤ë‚´ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë¶€ë¶„ì´ ì–´ëŠì •ë„ ìˆë‹¤(ê³  ê°€ì •í•œë‹¤). ì´ëŸ´ë• í•„ë“œ ì´ë™ìœ¼ë¡œ ì¸í•œ ë³€ê²½ì„ ìµœì†Œí™” í•˜ê¸° ìœ„í•´ ì´ë™ ëŒ€ìƒ í´ë˜ìŠ¤ í•„ë“œ(Bì˜ field)ì— í•„ë“œ ìì²´ ìº¡ìŠí™”ë¥¼ ì ìš©í•œë‹¤ 1234567891011121314class A &#123; // ...&#125;class B &#123; private int field; // getter/setter public void someMethod() &#123; // do something; getField(); // í•„ë“œ ìì²´ ìº¡ìŠí™” // do something; &#125;&#125; A í´ë˜ìŠ¤ì— field í•„ë“œì™€ getter/setterë¥¼ ì‘ì„±í•˜ê³ , B í´ë˜ìŠ¤ë¥¼ ì°¸ì¡°í•˜ë˜ ë¶€ë¶„ì„ ë³€ê²½í•œë‹¤ í•„ë“œ ì´ë™ ì‹œ getter/setterëŠ” ì„¸íŠ¸ë¡œ ê°™ì´ ì˜®ê¸´ë‹¤ 12345678910111213141516171819202122class A &#123; private int field; // getter/setter public void someMethod1() &#123; // do something field; // do something &#125; public void someMethod2() &#123; // do something field; // do something &#125; public void someMethod3() &#123; // do something field; // do something &#125;&#125; B í´ë˜ìŠ¤ì—ì„œ A í´ë˜ìŠ¤ì˜ fieldë¥¼ ì°¸ì¡°í•  ë°©ë²•ì„ ì •í•œë‹¤ ì°¸ì¡°í•˜ëŠ” ë¶€ë¶„ì—ì„œ ì§ì ‘ a.getField(), a.setField() ë¡œ ì ‘ê·¼í•˜ëŠ” ë°©ë²• í•„ë“œ ìì²´ ìº¡ìŠí™”í•œ ë©”ì„œë“œë§Œ ë³€ê²½í•˜ëŠ” ë°©ë²• 2ë²ˆì—ì„œ ì´ë¯¸ ìˆ˜í–‰í–ˆê³ , ì´ ë°©ì‹ì´ ë³€ê²½ì„ ê°€ì¥ ìµœì†Œí™” í•  ìˆ˜ ìˆë‹¤ 12345678910111213class B &#123; private A a; public int getField() &#123; return a.getField(); &#125; public void someMethod() &#123; // do something; getField(); // ë³€ê²½ ì—†ìŒ // do something; &#125;&#125; B í´ë˜ìŠ¤ì—ì„œ field í•„ë“œë¥¼ ì‚­ì œí•œë‹¤ ì°¸ê³  : ë§ˆí‹´ íŒŒìš¸ëŸ¬, ã€ë¦¬íŒ©í† ë§ã€, ê¹€ì§€ì› ì˜®ê¹€, í•œë¹›ë¯¸ë””ì–´(2012)]]></content>
      <categories>
        <category>refactoring</category>
      </categories>
      <tags>
        <tag>ë¦¬íŒ©í† ë§</tag>
        <tag>move field</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[í´ë˜ìŠ¤ ì¶”ì¶œ]]></title>
    <url>%2Frefactoring%2F%ED%81%B4%EB%9E%98%EC%8A%A4-%EC%B6%94%EC%B6%9C%2F</url>
    <content type="text"><![CDATA[ë‘ í´ë˜ìŠ¤ê°€ ì²˜ë¦¬í•´ì•¼ í•  ê¸°ëŠ¥ì´ í•˜ë‚˜ì˜ í´ë˜ìŠ¤ì— ë“¤ì–´ ìˆì„ ë•(í•˜ë‚˜ì˜ í´ë˜ìŠ¤ì—ì„œ 2ê°€ì§€ ì¼ ì´ìƒì„ ìˆ˜í–‰í•  ë•) ìƒˆ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê³  ê¸°ì¡´ í´ë˜ìŠ¤ì˜ ê´€ë ¨ í•„ë“œì™€ ë©”ì„œë“œë¥¼ ìƒˆ í´ë˜ìŠ¤ë¡œ ì˜®ê¸°ì ë™ê¸° í´ë˜ìŠ¤ëŠ” í™•ì‹¤í•˜ê²Œ ì¶”ìƒí™”ë˜ì–´ì•¼ í•˜ë©°, ë‘ì„¸ ê°€ì§€ì˜ ëª…í™•í•œ ê¸°ëŠ¥ì„ ë‹´ë‹¹í•´ì•¼ í•œë‹¤ í•˜ì§€ë§Œ ê°œë°œìëŠ” í´ë˜ìŠ¤ì— ì ì¦ì ìœ¼ë¡œ ì–´ë–¤ ê¸°ëŠ¥ì´ë‚˜ ë°ì´í„°ë¥¼ ì¶”ê°€í•˜ê¸° ë•Œë¬¸ì—, í´ë˜ìŠ¤ëŠ” ì‹œê°„ì´ ê°ˆìˆ˜ë¡ ë°©ëŒ€í•´ì§€ê¸° ë§ˆë ¨ì´ë‹¤ ì´ëŸ° í´ë˜ìŠ¤ëŠ” ë„ˆë¬´ ë§ì€ ë©”ì„œë“œì™€ ë°ì´í„°ê°€ ë“¤ì–´ìˆì–´ ì´í•´í•˜ê¸° í˜ë“œë¯€ë¡œ, ë¶„ë¦¬í•  ë¶€ë¶„ì„ ê¶ë¦¬í•´ì„œ ë–¼ì–´ë‚´ì•¼ í•œë‹¤ ë°ì´í„°ì˜ ì¼ë¶€ë¶„ê³¼ ë©”ì„œë“œì˜ ì¼ë¶€ë¶„ì´ í•œ ë©ì–´ë¦¬ì´ê±°ë‚˜, ì£¼ë¡œ í•¨ê»˜ ë³€í™”í•˜ê±°ë‚˜ ì„œë¡œ ìœ ë‚œíˆ ì˜ì¡´ì ì¸ ë°ì´í„°ì˜ ì¼ë¶€ë¶„ì¼ ê²½ìš° í´ë˜ìŠ¤ë¡œ ë–¼ì–´ë‚´ê¸° ì¢‹ë‹¤ ë°©ë²• ìœ„ì˜ ë™ê¸°ë¥¼ ì°¸ì¡°í•´ì„œ í´ë˜ìŠ¤ì˜ ê¸°ëŠ¥ ë¶„ë¦¬ ë°©ë²•ì„ ì •í•œë‹¤ ë¶„ë¦¬í•  ê¸°ëŠ¥ì„ ë„£ì„ ìƒˆ í´ë˜ìŠ¤ë¥¼ ì‘ì„±í•œë‹¤ ê¸°ëŠ¥ì´ ë¶„ë¦¬ë¨ìœ¼ë¡œì¨ ì›ë³¸ í´ë˜ìŠ¤ì˜ ì´ë¦„ì´ ë³€ê²½ë  ìˆ˜ ìˆë‹¤ ì›ë³¸ í´ë˜ìŠ¤ì—ì„œ ìƒˆ í´ë˜ìŠ¤ë¡œì˜ ë§í¬ë¥¼ ë§Œë“ ë‹¤ í•„ìš”í•  ë•Œ ê¹Œì§€ ì—­ë°©í–¥ ë§í¬ë¥¼ ë§Œë“¤ì§€ ì•ŠëŠ”ë‹¤ ì˜®ê¸¸ í•„ë“œë§ˆë‹¤ í•„ë“œ ì´ë™ì„ ì ìš©í•œë‹¤ ë©”ì„œë“œ ì´ë™ì„ ì ìš©í•œë‹¤ ê° í´ë˜ìŠ¤ë¥¼ ë‹¤ì‹œ ê²€ì‚¬í•´ì„œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì¤„ì¸ë‹¤ ì–‘ë°©í–¥ ë§í¬ë¥¼ ë‹¨ë°©í–¥ ë§í¬ë¡œ ë°”ê¿€ ìˆ˜ ìˆëŠ”ì§€ ë“± ì¶”ì¶œ ëœ í´ë˜ìŠ¤ì˜ ê³µê°œ ë²”ìœ„ë¥¼ ê²°ì •í•œë‹¤ ê³µê°œí•  ê²½ìš° ëª‡ê°€ì§€ ì˜ˆì‹œ ì•„ë˜ì™€ ê°™ì€ ì½”ë“œê°€ ìˆë‹¤ 12345678910class Person &#123; private String name; private String officeAreaCode; private String officeNumber; // getter/setter public String getTelephoneNumber() &#123; return "(" + officeAreaCode + ")" + officeNumber; &#125;&#125; officeAreaCodeì™€ officeNumberë¥¼ í•©ì³ì„œ TelephoneNumberë¡œ ë¶„ë¦¬í•˜ê¸°ë¡œ í•œë‹¤ í•„ë“œ ì´ë™ì„ ì ìš©í•˜ê¸° ì „ì— í•„ë“œ ìì²´ ìº¡ìŠí™”ë¥¼ ì ìš©í•œë‹¤ 12345678910class Person &#123; private String name; private String officeAreaCode; private String officeNumber; // getter/setter public String getTelephoneNumber() &#123; return "(" + getOfficeAreaCode() + ")" + getOfficeNumber(); &#125;&#125; ìƒˆë¡œ ìƒì„±í•œ í´ë˜ìŠ¤ì— í•„ë“œ ì´ë™ì„ ì ìš©í•œë‹¤ 12345class TelephoneNumber &#123; private String areaCode; private String number; // getter/setter&#125; Personì—ì„œ officeAreaCode, officeNumberë¥¼ ì‚­ì œí•œë‹¤ ì´ë•Œ getterëŠ” ìœ„ì„ ì½”ë“œë¡œ ì „í™˜í•œë‹¤ 12345678910111213141516class Person &#123; private TelephoneNumber officeTelephone; private String name; public String getOfficeAreaCode() &#123; return officeTelephone.getAreaCode(); &#125; public String getOfficeNumber() &#123; return officeTelephone.getNumber(); &#125; public String getTelephoneNumber() &#123; return "(" + getOfficeAreaCode() + ")" + getOfficeNumber(); &#125;&#125; getTelephoneNumber()ì— ë©”ì„œë“œ ì´ë™ì„ ì ìš©í•œë‹¤ 123456789class TelephoneNumber &#123; private String areaCode; private String number; // getter/setter public String getTelephoneNumber() &#123; return "(" + areaCode + ")" + number; &#125;&#125; Personì„ ì •ë¦¬í•œë‹¤ 12345678class Person &#123; private TelephoneNumber officeTelephone; private String name; public String getTelephoneNumber() &#123; return officeTelephone.getTelephoneNumber(); &#125;&#125; ì—¬ê¸°ì„œ TelephoneNumberì— ëŒ€í•œ ê³µê°œ ì—¬ë¶€ì— ëŒ€í•œ ì´ì•¼ê¸°ê°€ ë‚˜ì˜¤ëŠ”ë° ì˜ ì´í•´ê°€ ê°€ì§€ ì•ŠëŠ”ë‹¤ ì™¸ë¶€ì— ê³µê°œí•˜ë©´ ë¶ˆë³€ ê°ì²´ë¡œ ë§Œë“¤ì–´ì„œ ìˆ˜ì •ì´ ë¶ˆê°€ëŠ¥í•˜ê²Œë” í•´ì•¼í•˜ê³ , ì°¸ì¡° ê°ì²´ë¡œ ë§Œë“œë ¤ë©´ ì™¸ë¶€ì— ê³µê°œí•˜ì§€ ì•Šì•„ì•¼ í•˜ëŠ”ê²ƒì´ ì•„ë‹ê¹Œ? ëª¨ë¥´ê² ë‹¹â€¦ ì°¸ê³  : ë§ˆí‹´ íŒŒìš¸ëŸ¬, ã€ë¦¬íŒ©í† ë§ã€, ê¹€ì§€ì› ì˜®ê¹€, í•œë¹›ë¯¸ë””ì–´(2012)]]></content>
      <categories>
        <category>refactoring</category>
      </categories>
      <tags>
        <tag>ë¦¬íŒ©í† ë§</tag>
        <tag>extract class</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[DI(Dependency Injection)]]></title>
    <url>%2Fetc%2FDI-Dependency-Injection%2F</url>
    <content type="text"><![CDATA[https://www.slideshare.net/baejjae93/dependency-injection-36867592 OOPëŠ” ì›ë˜ ê°ì²´ê°„ ë©”ì‹œì§€ ì „ë‹¬ì„ í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì§„í–‰ë˜ëŠ” í”„ë¡œê·¸ë˜ë° ë°©ì‹ì•„ë¯€ë¡œ, í´ë˜ìŠ¤ê°„ ì˜ì¡´ì€ ì–´ì©Œí”¼ ì¡´ì¬í•œë‹¤. ìš°ë¦¬ì˜ ëª©ì ì€ ì˜ì¡´ì„ ì—†ì• ì•¼í•˜ëŠ”ê²Œ ì•„ë‹ˆë¼ ê²°í•©ì„ ì•½í•˜ê²Œ í•´ì•¼í•˜ëŠ” ê²ƒì´ë‹¤. í´ë˜ìŠ¤ì—ì„œ íŠ¹ì • í´ë˜ìŠ¤ì— ì§ì ‘ ì˜ì¡´í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, í–‰ìœ„(ì¸í„°í˜ì´ìŠ¤)ì— ì˜ì¡´í•´ì•¼ í•œë‹¤ (í´ë˜ìŠ¤ì— ì§ì ‘ ì˜ì¡´í•˜ë©´ í´ë˜ìŠ¤ì— ëŒ€í•´ ë” ë§ì´ ê°€ì •í•´ì•¼ í•˜ë¯€ë¡œ ê°•í•œ ê²°í•©ì´ í˜•ì„±ëœë‹¤) í–‰ìœ„ë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤ë“¤ì€ ì™¸ë¶€ì—ì„œ ìƒì„±í•´ì„œ ì£¼ì…í•˜ë„ë¡ í•œë‹¤ ê·¼ë° ë§¤ë²ˆ ì´ë ‡ê²Œ ì™¸ë¶€ì—ì„œ êµ¬í˜„ì²´ë¥¼ ìƒì„±í•´ì„œ ë„£ì–´ì£¼ëŠ”ê²Œ ê·€ì°®ê³  ë¶ˆí¸í•˜ë¯€ë¡œ, ì´ëŸ°ê±¸ ì œê³µí•´ì£¼ëŠ” í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤ == ìŠ¤í”„ë§ ìŠ¤í”„ë§ì˜ ìµœëŒ€ ì¥ì ì€ DIì´ë‹¤]]></content>
      <categories>
        <category>etc</category>
      </categories>
      <tags>
        <tag>DI</tag>
        <tag>ì˜ì¡´ì„± ì£¼ì…</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[millisecond, microsecond, nanosecond]]></title>
    <url>%2Fetc%2Fmillisecond-microsecond-nanosecond%2F</url>
    <content type="text"><![CDATA[1 second == 1,000 millisecond 1 millisecond == 1,000 microsecond 1 microsecond == 1,000 nanosecond 1 second == 1,000,000,000 nanosecond]]></content>
      <categories>
        <category>etc</category>
      </categories>
      <tags>
        <tag>millisecond</tag>
        <tag>microsecond</tag>
        <tag>nanosecond</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ì•Œê³ ë¦¬ì¦˜ ì „í™˜]]></title>
    <url>%2Frefactoring%2F%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98-%EC%A0%84%ED%99%98%2F</url>
    <content type="text"><![CDATA[ì•Œê³ ë¦¬ì¦˜ì„ ë” ë¶„ëª…í•œ ê²ƒìœ¼ë¡œ êµì²´í•´ì•¼ í•  ë• í•´ë‹¹ ë©”ì„œë“œì˜ ë‚´ìš©ì„ ìƒˆ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ë°”ê¾¼ë‹¤ íŠ¹ì§• ì–´ë–¤ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ ë¹„êµì  ê°„ë‹¨í•œ ë°©ë²•ì´ ìˆë‹¤ë©´, ë³µì¡í•œ ë°©ë²•ì„ ë” ê°„ë‹¨í•œ ë°©ë²•ìœ¼ë¡œ êµì²´í•´ì•¼í•œë‹¤ ê¸°ë³¸ì ìœ¼ë¡œ ë©”ì„œë“œë¥¼ ì˜ê²Œ ìª¼ê°œë†”ì•¼ ê°€ëŠ¥í•˜ë‹¤ ê¸¸ê³  ë³µì¡í•œ ì•Œê³ ë¦¬ì¦˜ì€ ìˆ˜ì •í•˜ê¸° ì–´ë µê¸° ë•Œë¬¸ì´ë‹¤ ë°©ë²• í…ŒìŠ¤íŠ¸ê°€ ê¼­ í•„ìš”í•˜ë‹¤ ê¸°ì¡´ ì•Œê³ ë¦¬ì¦˜ì„ ê°„ê²°í•œ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ë°”ê¾¸ë©´ì„œ ê³„ì†í•´ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•œë‹¤ ëª¨ë“  í…ŒìŠ¤íŠ¸ ê²°ê³¼ê°€ ê°™ìœ¼ë©´ ì„±ê³µì´ë‹¤ ë‹¤ë¥´ë‹¤ë©´ ë””ë²„ê¹…ì„ ì‹¤ì‹œí•´ ë¹„êµí•´ë³¸ë‹¤ ê¸°ì¡´ ì•Œê³ ë¦¬ì¦˜ê³¼ ìƒˆë¡œìš´ ì•Œê³ ë¦¬ì¦˜ì˜ ì¶œë ¥ê°’ì„ ë¹„êµí•˜ë©´ì„œ ì§„í–‰í•˜ëŠ” ê²ƒë„ ì¢‹ì€ ë°©ë²•ì´ë‹¤ ì°¸ê³  : ë§ˆí‹´ íŒŒìš¸ëŸ¬, ã€ë¦¬íŒ©í† ë§ã€, ê¹€ì§€ì› ì˜®ê¹€, í•œë¹›ë¯¸ë””ì–´(2012)]]></content>
      <categories>
        <category>refactoring</category>
      </categories>
      <tags>
        <tag>ë¦¬íŒ©í† ë§</tag>
        <tag>substitute algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[í…œí”Œë¦¿ ë©”ì„œë“œ í˜•ì„±]]></title>
    <url>%2Frefactoring%2F%ED%85%9C%ED%94%8C%EB%A6%BF-%EB%A9%94%EC%84%9C%EB%93%9C-%ED%98%95%EC%84%B1%2F</url>
    <content type="text"><![CDATA[í•˜ìœ„í´ë˜ìŠ¤ ì•ˆì˜ ë‘ ë©”ì„œë“œê°€ ê±°ì˜ ë¹„ìŠ·í•œ ë‹¨ê³„ë“¤ì„ ê°™ì€ ìˆœì„œë¡œ ìˆ˜í–‰í•  ë• ê·¸ ë‹¨ê³„ë“¤ì„ ì‹œê·¸ë‹ˆì²˜ê°€ ê°™ì€ ë‘ ê°œì˜ ë©”ì„œë“œë¡œ ë§Œë“¤ì–´ì„œ ë‘ ì›ë³¸ ë©”ì„œë“œë¥¼ ê°™ê²Œ ë§Œë“  í›„, ë‘ ë©”ì„œë“œë¥¼ ìƒìœ„í´ë˜ìŠ¤ë¡œ ì˜®ê¸´ë‹¤ ë™ê¸° í•˜ìœ„ í´ë˜ìŠ¤ì— ìˆëŠ” ë‘ ë©”ì„œë“œê°€ ë¹„ìŠ·í•˜ë‹¤ë©´ ë‘˜ì„ í•©ì³ì„œ í•˜ë‚˜ì˜ ìƒìœ„ í´ë˜ìŠ¤ë¡œ ë§Œë“œëŠ”ê²ƒì´ ì¢‹ë‹¤ ë‘ ë©”ì„œë“œê°€ ì™„ì „íˆ ë˜‘ê°™ì§€ ì•Šë‹¤ë©´, ì¤‘ë³µëœ ë¶€ë¶„ì€ ê°€ëŠ¥í•œ í•œ ì „ë¶€ ì—†ì• ê³  ì°¨ì´ê°€ ìˆëŠ” í•„ìˆ˜ ë¶€ë¶„ë§Œ ê·¸ëŒ€ë¡œ ë‘¬ì•¼í•œë‹¤ ë°©ë²• ë¹„ìŠ·í•´ë³´ì´ëŠ” ê°™ì€ í´ë˜ìŠ¤ì— ìˆë‹¤ë©´, ë‘ ë©”ì„œë“œê°€ ì–´ë–¤ ê³µí†µ ìƒìœ„í´ë˜ìŠ¤ì˜ í•˜ìœ„í´ë˜ìŠ¤ê°€ ë˜ê²Œ ì •ë¦¬í•´ì•¼ í•œë‹¤ 123456789class Printer &#123; public String textPrint() &#123; // ... &#125; public String imagePrint() &#123; // ... &#125;&#125; ë¥¼ ì•„ë˜ì˜ êµ¬ì¡°ë¡œ ë³€ê²½í•œë‹¤ 12345678910111213141516171819class Printer &#123; public String textPrint() &#123; return new TextPrinter().print(); &#125; public String imagePrint() &#123; return new ImagePrinter().print(); &#125;&#125;class TextPrinter extends Printer &#123; public String print() &#123; // ... &#125;&#125;class ImagePrinter extends Printer &#123; public String print() &#123; // ... &#125;&#125; ë¦¬íŒ©í† ë§ì€ ì‘ê²Œì‘ê²Œ ì§„í–‰í•´ì•¼í•˜ë¯€ë¡œ, í•˜ìœ„í´ë˜ìŠ¤ì— ìœ„ì„í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í–ˆë‹¤ ë©”ì„œë“œìƒí–¥ì´ ìš©ì´í•˜ë„ë¡ ë‘ í•˜ìœ„í´ë˜ìŠ¤ì˜ ë©”ì„œë“œëª…ì„ ê°™ê²Œí–ˆë‹¤ ë‘ ë©”ì„œë“œë¥¼ ì˜ê²Œ ë¶„ë¦¬í•˜ëŠ”ë°, ê³µí†µëœ ë¶€ë¶„ê³¼ ê³µí†µë˜ì§€ ì•Šì€ ë¶€ë¶„ì´ ë‚˜ì˜¤ê²Œë” ë¶„ë¦¬í•œë‹¤ 1234567891011121314151617181920class TextPrinter extends Printer &#123; public String print() &#123; // ... printBody(); // ... &#125; public String printBody() &#123; // ë‹¤ë¥¸ ë¶€ë¶„ &#125;&#125;class ImagePrinter extends Printer &#123; public String print() &#123; // ... printBody(); // ... &#125; public String printBody() &#123; // ë‹¤ë¥¸ ë¶€ë¶„ &#125;&#125; ì´ ê¸°ë²•ì˜ í•µì‹¬ì´ë‹¤ í•˜ë‚˜ì˜ í´ë˜ìŠ¤ì— ëŒ€í•´ ë©”ì„œë“œ ìƒí–¥ì„ ì‹¤ì‹œí•˜ì 12345678910111213abstract class Printer &#123; public String print() &#123; // ... printBody(); // ... &#125; public abstract String printBody(); // ë‹¬ëë˜ ë¶€ë¶„&#125;class TextPrinter extends Printer &#123; public String printBody() &#123; // ë‹¤ë¥¸ ë¶€ë¶„ &#125;&#125; ë‹¬ëë˜ ë¶€ë¶„ì€ abstractë¡œ ì„ ì–¸í•˜ê³ , í•˜ìœ„í´ë˜ìŠ¤ì—ì„œ êµ¬í˜„í•˜ë„ë¡ í•œë‹¤ ìœ„ì„í•˜ë˜ ì½”ë“œëŠ” ì‚­ì œí•œë‹¤ ë‚˜ë¨¸ì§€ í•˜ë‚˜ì˜ í´ë˜ìŠ¤ì—ë„ ë™ì¼í•˜ê²Œ ì ìš©í•œë‹¤ ì°¸ê³  : ë§ˆí‹´ íŒŒìš¸ëŸ¬, ã€ë¦¬íŒ©í† ë§ã€, ê¹€ì§€ì› ì˜®ê¹€, í•œë¹›ë¯¸ë””ì–´(2012)]]></content>
      <categories>
        <category>refactoring</category>
      </categories>
      <tags>
        <tag>ë¦¬íŒ©í† ë§</tag>
        <tag>form template method</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[git] git pull request checkout]]></title>
    <url>%2Fgit%2Fgit-pull-request-checkout%2F</url>
    <content type="text"><![CDATA[ì§ì ‘ checkout git config ì¶”ê°€ 1$ git config --add remote.origin.fetch "+refs/pull/*/head:refs/remotes/origin/pr/*" fetchë¡œ ê°€ì ¸ì˜¬ ë•Œ origin ë§ê³  prë„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆê²Œí•¨ 12$ git fetch origin$ git checkout origin/pr/[PR number] intellij ì—ì„œ checkout https://blog.jetbrains.com/idea/2018/10/intellij-idea-2018-3-eap-github-pull-requests-and-more/ shift 2ë²ˆ ëˆŒëŸ¬ì„œ search everywhere ì‹¤í–‰ì‹œí‚¨ ë’¤ view pull request í´ë¦­ ìƒì„±ëœ prì—ì„œ ë³´ê³  ì‹¶ì€ prì„ ì„ íƒí•˜ì—¬ local branch ë§Œë“¤ê³  checkout]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>github PR</tag>
        <tag>pull request</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[git] travis cië¡œ github blog ìë™ ë°°í¬]]></title>
    <url>%2Fgit%2Ftravis-ci%EB%A1%9C-github-blog-%EC%9E%90%EB%8F%99-%EB%B0%B0%ED%8F%AC%2F</url>
    <content type="text"><![CDATA[github appì—ì„œ travis CI ì„¤ì¹˜ github setting - developer settingì—ì„œ personal access token ë°œê¸‰ .travis_ci, _config.yml ì„¤ì • pushí•˜ê³  travisì—ì„œ ë¹Œë“œ ì˜ ë˜ëŠ”ì§€ í™•ì¸ theme í…Œë§ˆëŠ” submoduleë¡œ ì €ì¥í•´ì¤˜ì•¼í•˜ê³ , í…Œë§ˆì—ì„œ _config.ymlì„ ìˆ˜ì •í•  ê²ƒì´ë¯€ë¡œ theme forkí•œê²ƒì„ submoduleì— ë„£ì–´ì•¼í•¨ travis ci app ì„¤ì¹˜ ë° ì§„í–‰ ë°©ì‹ https://okky.kr/article/515352 .travis.yml, _config.ymlì€ ì—¬ê¸°ë¥¼ ì°¸ì¡°í•˜ë©´ ë¨ https://medium.com/@changjoopark/travis-cië¥¼-ì´ìš©í•œ-github-pages-hexo-ë¸”ë¡œê·¸-ìë™-ë°°í¬í•˜ê¸°-6a222a2013e6]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>github</tag>
        <tag>travis ci</tag>
        <tag>hexo travis ci</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[git] git submodule]]></title>
    <url>%2Fgit%2Fgit-submodule%2F</url>
    <content type="text"><![CDATA[https://www.git-scm.com/book/ko/v1/Git-ë„êµ¬-ì„œë¸Œëª¨ë“ˆ]]></content>
      <categories>
        <category>git</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[[ddd] ë„ë©”ì¸ ëª¨ë¸]]></title>
    <url>%2Fddd%2F%EB%8F%84%EB%A9%94%EC%9D%B8-%EB%AA%A8%EB%8D%B8%2F</url>
    <content type="text"><![CDATA[ë„ë©”ì¸ì´ë€? ì˜¨ë¼ì¸ ì„œì  ì‹œìŠ¤í…œì„ êµ¬í˜„í•œë‹¤ê³  í•  ë•Œ, ì†Œí”„íŠ¸ì›¨ì–´ë¡œ í•´ê²°í•˜ê³ ì í•˜ëŠ” ë¬¸ì œì˜ ì˜ì—­ì¸ ì˜¨ë¼ì¸ ì„œì ì´ ë„ë©”ì¸ì´ ëœë‹¤ í•œ ë„ë©”ì¸ì€ ë‹¤ì‹œ ì—¬ëŸ¬ê°œì˜ í•˜ìœ„ ë„ë©”ì¸ìœ¼ë¡œ ë‚˜ë‰  ìˆ˜ ìˆë‹¤ ì˜¨ë¼ì¸ ì„œì ì˜ í•˜ìœ„ ë„ë©”ì¸ : ìƒí’ˆ, íšŒì›, ì£¼ë¬¸, ì •ì‚°, ë°°ì†¡ ë“±ë“± ëª¨ë“  ë„ë©”ì¸ë§ˆë‹¤ ê³ ì •ëœ í•˜ìœ„ ë„ë©”ì¸ì´ ì¡´ì¬í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤. ìƒí™©ì— ë”°ë¼ ë‹¬ë¼ì§„ë‹¤ ëŒ€ìƒì´ ê¸°ì—…ì¸ì§€, ì‚¬ìš©ìì¸ì§€ ë“±ë“± íŠ¹ì • ë„ë©”ì¸ì„ ìœ„í•œ ì†Œí”„íŠ¸ì›¨ì–´ë¼ê³  í•´ì„œ ë„ë©”ì¸ì´ ì œê³µí•´ì•¼ í•  ëª¨ë“  ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤ ì™¸ë¶€ ì—…ì²´ì˜ ë°°ì†¡ ì‹œìŠ¤í…œì´ë‚˜, ê²°ì œ ì‹œìŠ¤í…œ ê°™ì€ê²ƒë“¤ì„ ì´ìš©í•œë‹¤ ë„ë©”ì¸ ëª¨ë¸ íŠ¹ì • ë„ë©”ì¸ì„ ê°œë…ì ìœ¼ë¡œ í‘œí˜„í•œ ê²ƒì´ë‹¤ ì´ë¥¼ ì‚¬ìš©í•˜ë©´ ì—¬ëŸ¬ ê´€ê³„ìë“¤ì´ ë™ì¼í•œ ëª¨ìŠµìœ¼ë¡œ ë„ë©”ì¸ì„ ì´í•´í•˜ê³ , ë„ë©”ì¸ ì§€ì‹ì„ ê³µìœ í•˜ëŠ”ë° ë„ì›€ì´ ëœë‹¤ ë„ë©”ì¸ì„ ì´í•´í•˜ë ¤ë©´ ë„ë©”ì¸ì´ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ê³¼ ì£¼ìš” ë°ì´í„° êµ¬ì„±ì„ íŒŒì•…í•´ì•¼ í•œë‹¤ ë³´í†µì€ ê¸°ëŠ¥ê³¼ ë°ì´í„°ë¥¼ í•¨ê¼ ë³´ì—¬ì£¼ëŠ” í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ì´ ì í•©í•˜ë‹¤ ê¼­ UMLë§Œ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤. ë„ë©”ì¸ì„ ì´í•´í•˜ëŠ”ë° ë„ì›€ì´ ëœë‹¤ë©´ í‘œí˜„ë°©ì‹ì´ ë¬´ì—‡ì¸ì§€ëŠ” ì¤‘ìš”í•˜ì§€ ì•Šë‹¤ ì—¬ëŸ¬ í•˜ìœ„ ë„ë©”ì¸ì„ í•˜ë‚˜ì˜ ë‹¤ì´ì–´ê·¸ë¨ì— ëª¨ë¸ë§í•˜ë©´ ì•ˆëœë‹¤ ê° í•˜ìœ„ ë„ë©”ì¸ë§ˆë‹¤ ë³„ë„ë¡œ ëª¨ë¸ì„ ë§Œë“¤ì–´ì•¼ í•œë‹¤ ëª¨ë¸ì˜ ê° êµ¬ì„±ìš”ì†ŒëŠ” íŠ¹ì • ë„ë©”ì¸ì„ í•œì •í•  ë•Œ ë¹„ë¡œì†Œ ì˜ë¯¸ê°€ ì™„ì „í•´ì§€ê¸° ë•Œë¬¸ì´ë‹¤ ì¹´íƒˆë¡œê·¸ì˜ ìƒí’ˆê³¼ ë°°ì†¡ì˜ ìƒí’ˆì€ ë‹¤ë¥´ë‹¤ ë„ë©”ì¸ ëª¨ë¸ íŒ¨í„´(â˜…â˜…â˜…) ì¼ë°˜ì ì¸ ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ì•„í‚¤í…ì³ëŠ” ì•„ë˜ì˜ 4ê³„ì¸µìœ¼ë¡œ êµ¬ì„±ëœë‹¤ Presentation(í‘œí˜„) ì‚¬ìš©ìì˜ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê³  ì‚¬ìš©ìì—ê²Œ ì •ë³´ë¥¼ ë³´ì—¬ì¤€ë‹¤ ì™¸ë¶€ ì‹œìŠ¤í…œë„ ì‚¬ìš©ìê°€ ë  ìˆ˜ ìˆë‹¤ Application(ì‘ìš©) ì‚¬ìš©ìê°€ ìš”ì²­í•œ ê¸°ëŠ¥ì„ ì‹¤í–‰í•œë‹¤ ì—…ë¬´ ë¡œì§ì„ ì§ì ‘ êµ¬í˜„í•˜ì§€ ì•Šìœ¼ë©° ë„ë©”ì¸ ê³„ì¸µì„ ì¡°í•©í•´ì„œ ê¸°ëŠ¥ì„ ì‹¤í–‰í•œë‹¤ Domain(ë„ë©”ì¸) ì‹œìŠ¤í…œì´ ì œê³µí•  ë„ë©”ì¸ì˜ ê·œì¹™ì„ êµ¬í˜„í•œë‹¤ Intrastructure(ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì³) ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ì˜ ì—°ë™ì„ ì²˜ë¦¬í•œë‹¤(DB, Messaging ë“±) ì—¬ê¸°ì„œ ë„ë©”ì¸ ì˜ì—­ì— í•´ë‹¹í•˜ëŠ”, ë„ë©”ì¸ì˜ ê·œì¹™ì„ ê°ì²´ì§€í–¥ ê¸°ë²•ìœ¼ë¡œ êµ¬í˜„í•˜ëŠ” íŒ¨í„´ì´ ë„ë©”ì¸ ëª¨ë¸ íŒ¨í„´ì´ë‹¤ e.g. ì£¼ë¬¸ ìƒíƒœ ë³€ê²½ì— ëŒ€í•œ ê·œì¹™ì„ ì²˜ë¦¬í•˜ëŠ” Order class 1234567891011class Order &#123; // ... public void changeShippingInfo(ShippingInfo newShippingInfo) &#123; if(!isShippingChangeable()) &#123; throw new IllegalStateException(); &#125; // ... &#125;&#125; ì£¼ë¬¸ ìƒíƒœ ë³€ê²½ ë¡œì§ì„ ë„ë©”ì¸ì—ì„œ ì§ì ‘ ì²˜ë¦¬í•˜ê³  ìˆë‹¤ ì´ì²˜ëŸ¼ í•µì‹¬ ê·œì¹™ì„ êµ¬í˜„í•œ ì½”ë“œê°€ ë„ë©”ì¸ ëª¨ë¸ì—ë§Œ ìœ„ì¹˜í•˜ê¸° ë•Œë¬¸ì— ê·œì¹™ì´ ë°”ë€Œê±°ë‚˜ ê·œì¹™ì„ í™•ì¥í•´ì•¼ í•  ë•Œ ë‹¤ë¥¸ ì½”ë“œì— ì˜í–¥ì„ ëœ ì£¼ê³  ë³€ê²½ ë‚´ì—­ì„ ëª¨ë¸ì— ë°˜ì˜í•  ìˆ˜ ìˆê²Œ ëœë‹¤ ëª¨ë¸ ì‘ì„±ì‹œ ì£¼ì˜ì‚¬í•­ ê°œë… ëª¨ë¸ì„ ë§Œë“¤ë•Œ ì²˜ìŒë¶€í„° ì™„ë²½í•˜ê²Œ ë„ë©”ì¸ì„ í‘œí˜„í•˜ëŠ” ëª¨ë¸ì„ ë§Œë“œëŠ” ì‹œë„ë¥¼ í•  ìˆ˜ ìˆì§€ë§Œ ì‹¤ì œë¡œ ì´ëŠ” ë¶ˆê°€ëŠ¥ì— ê°€ê¹ë‹¤ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ê°œë°œí•˜ëŠ” ë™ì•ˆ ë„ë©”ì¸ì„ ì ì  ë” ì´í•´í•˜ê²Œ ë˜ê¸° ë•Œë¬¸ì—, ì‹œê°„ì´ ì§€ë‚˜ê°ì— ë”°ë¼ ëª¨ë¸ì„ ìˆ˜ì •í•˜ëŠ” ê²½ìš°ê°€ ë§ê¸° ë•Œë¬¸ì´ë‹¤ (ì§€ì‹ì´ ìŒ“ì´ë©´ì„œ ì™„ì „íˆ ë‹¤ë¥¸ ì˜ë¯¸ë¡œ í•´ì„ë˜ì–´ì§€ëŠ” ìƒí™©ë„ ì¡´ì¬í•œë‹¤) ê·¸ëŸ¬ë¯€ë¡œ ì²˜ìŒì—ëŠ” ê°œìš” ìˆ˜ì¤€ì˜ ê°œë… ëª¨ë¸ì„ ì‘ì„±í•˜ì—¬ ë„ë©”ì¸ì— ëŒ€í•œ ì „ì²´ ìœ¤ê³½ì„ ì´í•´í•˜ëŠ”ë° ì§‘ì¤‘í•˜ê³ , êµ¬í˜„í•˜ëŠ” ê³¼ì •ì—ì„œ ê°œë… ëª¨ë¸ì„ êµ¬í˜„ ëª¨ë¸ë¡œ ì ì§„ì ìœ¼ë¡œ ë°œì „ì‹œì¼œ ë‚˜ê°€ì•¼í•œë‹¤ ë„ë©”ì¸ ëª¨ë¸ ë„ì¶œ ì•„ë¬´ë¦¬ ì²œì¬ ê°œë°œìë¼ë„ ë„ë©”ì¸ì— ëŒ€í•œ ì´í•´ì—†ì´ ì½”ë”©ì„ ì‹œì‘í• ìˆ˜ëŠ” ì—†ë‹¤ ê¸°íšì„œ, ìœ ìŠ¤ ì¼€ì´ìŠ¤, ìœ ì € ìŠ¤í† ë¦¬ ê°™ì€ ìš”êµ¬ì‚¬í•­ê³¼ ê´€ë ¨ìì™€ì˜ ëŒ€í™”ë¥¼ í†µí•´ ë„ë©”ì¸ì„ ì´í•´í•˜ê³ , ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë„ë©”ì¸ ëª¨ë¸ ì´ˆì•ˆì„ ë§Œë“¤ì–´ì•¼ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤ ë„ë©”ì¸ì„ ëª¨ë¸ë§í•  ë•Œ ê¸°ë³¸ì´ ë˜ëŠ” ì‘ì—…ì€ ëª¨ë¸ì„ êµ¬ì„±í•˜ëŠ” í•µì‹¬ êµ¬ì„±ìš”ì†Œ, ê·œì¹™, ê¸°ëŠ¥ì„ ì°¾ëŠ” ê²ƒì´ë‹¤. ì´ëŠ” ëª¨ë‘ ìš”êµ¬ì‚¬í•­ì„ ë¶„ì„í•˜ë©´ì„œ ì°¾ì•„ë‚¼ ìˆ˜ ìˆë‹¤ ìš”êµ¬ì‚¬í•­ì„ í†µí•´ ì œê³µí•´ì•¼ í•˜ëŠ” ê¸°ëŠ¥ì„ ë„ì¶œí•´ë‚¼ ìˆ˜ ìˆë‹¤ ì¶œê³  ìƒíƒœë¡œ ë³€ê²½í•˜ê¸°, ë°°ì†¡ì§€ ì •ë³´ ë³€ê²½í•˜ê¸° ë“± ìš”êµ¬ì‚¬í•­ì„ í†µí•´ íŠ¹ì • í•­ëª©ì´ ì–´ë–¤ ë°ì´í„°ë¡œ êµ¬ì„±ë˜ì–´ì•¼ í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ìˆë‹¤ e.g. í•œ ìƒí’ˆì„ í•œê°œ ì´ìƒ ì£¼ë¬¸í•  ìˆ˜ ìˆë‹¤ ìš”êµ¬ì‚¬í•­ì„ í†µí•´ ê° í•­ëª©ê°„ì˜ ê´€ê³„ë¥¼ ì•Œ ìˆ˜ ìˆë‹¤ e.g. ìµœì†Œ í•œ ì¢…ë¥˜ ì´ìƒì˜ ìƒí’ˆì„ ì£¼ë¬¸í•´ì•¼ í•œë‹¤ íŠ¹ì • ì¡°ê±´ì´ë‚˜ ìƒíƒœì— ë”°ë¼ ì œì•½ì´ë‚˜ ê·œì¹™ì´ ë‹¬ë¦¬ ì ìš©ë˜ëŠ” ê²½ìš°ë„ ë§ë‹¤ e.g. ì¶œê³ ë¥¼ í•˜ë©´ ë°°ì†¡ì§€ ì •ë³´ë¥¼ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤ ìš”êµ¬ì‚¬í•­ì„ ì´í•´í•˜ë‹¤ë³´ë©´ ì„¤ê³„ê°€ ë°”ë€ŒëŠ” ê²½ìš°ê°€ ì¢…ì¢… ìƒê¸´ë‹¤ ë¬¸ì„œí™” ì½”ë“œëŠ” ìƒì„¸í•œ ëª¨ë“  ë‚´ìš©ì„ ë‹¤ë£¨ê³  ìˆê¸° ë•Œë¬¸ì— ì½”ë“œë¥¼ ì´ìš©í•´ì„œ ì „ì²´ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ë¶„ì„í•˜ë ¤ë©´ ë§ì€ ì‹œê°„ì„ íˆ¬ìí•´ì•¼í•œë‹¤ ì „ë°˜ì ì¸ ê¸°ëŠ¥ ëª©ë¡ì´ë‚˜ ëª¨ë“ˆ êµ¬ì¡°ëŠ” ìƒìœ„ ìˆ˜ì¤€ì—ì„œ ì •ë¦¬ëœ ë¬¸ì„œë¥¼ ì°¸ì¡°í•˜ëŠ” ê²ƒì´ ì†Œí”„íŠ¸ì›¨ì–´ ì „ë°˜ì„ ë¹ ë¥´ê²Œ ì´í•´í•˜ëŠ”ë° ë„ì›€ì´ ëœë‹¤ ì½”ë“œ ìì²´ë„ ë¬¸ì„œí™”ì˜ ëŒ€ìƒì´ ë  ìˆ˜ ìˆë‹¤ ë„ë©”ì¸ ì§€ì‹ì´ ì˜ ë¬»ì–´ë‚˜ê³ , ë„ë©”ì¸ì„ ì˜ í‘œí˜„í•˜ë„ë¡ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ ì½”ë“œì˜ ê°€ë…ì„±ì´ ë†’ì•„ì§€ë©´ì„œ ì½”ë“œê°€ ë¬¸ì„œë¡œì„œì˜ ì˜ë¯¸ë„ ê°€ì§€ê²Œ ëœë‹¤ ì—”í‹°í‹°ì™€ ë²¨ë¥˜ ëª¨ë¸ì€ í¬ê²Œ ì—”í‹°í‹°ì™€ ë²¨ë¥˜ë¡œ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤ ì´ ë‘˜ì˜ ì°¨ì´ë¥¼ ì œëŒ€ë¡œ êµ¬ë¶„í•´ì•¼ ë„ë©”ì¸ì„ ì˜¬ë°”ë¥´ê²Œ ì„¤ê³„í•˜ê³  êµ¬í˜„í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì°¨ì´ë¥¼ ëª…í™•í•˜ê²Œ ì´í•´í•´ì•¼ í•œë‹¤ ì—”í‹°í‹° íƒ€ì… ê°€ì¥ í° íŠ¹ì§•ì€ ì‹ë³„ìë¥¼ ê°–ëŠ”ë‹¤ëŠ” ê²ƒì´ë‹¤ ì‹ë³„ìëŠ” ì—”í‹°í‹°ë§ˆë‹¤ ê³ ìœ í•´ì„œ ê° ì—”í‹°í‹°ëŠ” ì„œë¡œ ë‹¤ë¥¸ ì‹ë³„ìë¥¼ ê°€ì§„ë‹¤ ì—”í‹°í‹°ë¥¼ ìƒì„±í•˜ê³  ì—”í‹°í‹°ì˜ ì†ì„±ì„ ë°”ê¾¸ê³  ì—”í‹°í‹°ë¥¼ ì‚­ì œí•  ë•Œ ê¹Œì§€ ì‹ë³„ìëŠ” ìœ ì§€ëœë‹¤ ë‘ ì—”í‹°í‹°ì˜ ì‹ë³„ìê°€ ê°™ìœ¼ë©´ ë‘ ì—”í‹°í‹°ëŠ” ê°™ë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤ equalsì™€ hashCodeë¥¼ ì‹ë³„ìë¥¼ ê¸°ì¤€ìœ¼ë¡œ êµ¬í˜„í•œë‹¤ í•­ìƒ ë³€í™”í•˜ê³ , ì¶”ì  ê°€ëŠ¥í•´ì•¼ í•œë‹¤ ì‹ë³„ì ìƒì„± ì—”í‹°í‹° ì‹ë³„ì ìƒì„±ì€ ë„ë©”ì¸ì˜ íŠ¹ì§•ê³¼ ì‚¬ìš©í•˜ëŠ” ê¸°ìˆ ì— ë”°ë¼ ë‹¬ë¼ì§„ë‹¤ í”íˆ ì‹ë³„ìëŠ” ì•„ë˜ ë°©ì‹ìœ¼ë¡œ ìƒì„±í•œë‹¤ íŠ¹ì • ê·œì¹™ì— ë”°ë¼ ìƒì„± í”íˆ ì‚¬ìš©í•˜ëŠ” ê·œì¹™ì€ í˜„ì¬ ì‹œê°„ê³¼ ë‹¤ë¥¸ ê°’ì„ í•¨ê»˜ ì¡°í•©í•˜ëŠ” ê²ƒì´ë‹¤ ì—¬ê¸°ì„œ ì£¼ì˜í•  ì ì€ ê°™ì€ ì‹œê°„ì— ë™ì‹œì— ì‹ë³„ìë¥¼ ìƒì„±í•  ë•Œ ê°™ì€ ì‹ë³„ìê°€ ë§Œë“¤ì–´ì§€ë©´ ì•ˆëœë‹¤ëŠ” ê²ƒì´ë‹¤ UUID ë§ˆë•…í•œ ê·œì¹™ì´ ì—†ì„ë•Œ ì‚¬ìš©í•˜ë©´ ì¢‹ë‹¤ ëŒ€ë¶€ë¶„ì˜ ê°œë°œ ì–¸ì–´ëŠ” UUID ìƒì„±ê¸°ë¥¼ ì œê³µí•˜ê³  ìˆë‹¤ ê°’ ì§ì ‘ ì…ë ¥ íšŒì› id, email ê°™ì€ ê²ƒì´ë‹¤ ì§ì ‘ ì…ë ¥í•˜ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— ì¤‘ë³µë˜ì§€ ì•Šë„ë¡ ì‚¬ì „ì— ë°©ì§€í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤ ì¼ë ¨ë²ˆí˜¸ ì‚¬ìš© ì£¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì œê³µí•˜ëŠ” ìë™ ì¦ê°€ ê¸°ëŠ¥ì„ ì‚¬ìš©í•œë‹¤ ë²¨ë¥˜ íƒ€ì… ê°œë…ì ìœ¼ë¡œ ì™„ì „í•œ í•˜ë‚˜ë¥¼ í‘œí˜„í•  ë•Œ ì‚¬ìš©í•œë‹¤ ìš°í¸ë²ˆí˜¸, ì£¼ì†Œ, ìƒì„¸ì£¼ì†Œ ëŠ” ë¬¶ì–´ì„œ í•˜ë‚˜ì˜ ì£¼ì†Œë¡œ í‘œí˜„ë  ìˆ˜ ìˆë‹¤ ë³´ë‹¤ ëª…í™•í•˜ê²Œ í‘œí˜„í•  ìˆ˜ ìˆê²Œë˜ê³ , ì½”ë“œì˜ ê°€ë…ì„±ë„ ì˜¬ë¼ê°„ë‹¤ ë²¨ë¥˜ íƒ€ì… ìì²´ë§Œ ë´ë„ ì˜ë¯¸ë¥¼ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆë‹¤ ë²¨ë¥˜ íƒ€ì…ìœ¼ë¡œ êµ¬ì„±ëœ í´ë˜ìŠ¤ ë˜í•œ ì‰½ê²Œ ì´í•´ ê°€ëŠ¥í•´ì§„ë‹¤ ë²¨ë¥˜ íƒ€ì…ì´ ê¼­ 2ê°œ ì´ìƒì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì•¼í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤ ì˜ë¯¸ë¥¼ ëª…í™•í•˜ê²Œ í•˜ê¸° ìœ„í•´ int ëŒ€ì‹  Moneyë¥¼ ì“¸ ìˆ˜ ìˆë‹¤ ë°¸ë¥˜ íƒ€ì…ì„ ìœ„í•œ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ë„ ìˆë‹¤ Addressë¥¼ ì‚¬ìš©í•˜ë©´ ì£¼ì†Œë¥¼ ìœ„í•œ ê¸°ëŠ¥ì„ Address í´ë˜ìŠ¤ì— ì¶”ê°€í•  ìˆ˜ ìˆë‹¤ ë‘ ë²¨ë¥˜ ê°ì²´ê°€ ê°™ì€ì§€ ë¹„êµí• ë•ŒëŠ” ëª¨ë“  ì†ì„±ì´ ê°™ì€ì§€ ë¹„êµí•´ì•¼í•œë‹¤ ë²¨ë¥˜ íƒ€ì…ì„ ë¶ˆë³€ìœ¼ë¡œ ì„ ì–¸í•˜ê¸° ëª¨ë“  í•„ë“œë¥¼ final privateë¡œ ë§Œë“¦ ê°’ì˜ ë³€ê²½ì´ ìˆì„ë–„ë§ˆë‹¤ í•´ë‹¹ í•„ë“œì˜ ê°’ì„ ë³€ê²½í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë³€ê²½ëœ ê°’ì„ ê°€ì§„ìƒíƒœì˜ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í•´ì„œ ë°˜í™˜ ì¶”ì ì„±ê³¼ ë³„ì¹­ ë¬¸ì œì— ëŒ€í•´ ë¶€ë‹´ì´ ì—†ì–´ì§ ì¼ë°˜ì ìœ¼ë¡œ ë‚ ì§œ, ê¸ˆì•¡ ë“±ì˜ ì‘ì€ ê°œë…ì„ ì˜ë¯¸í•˜ë¯€ë¡œ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ë§Œë“¤ì–´ë„ ì˜¤ë²„í—¤ë“œê°€ ì ê³ , ì¶”ì ì„±ì—ë„ ê´€ì‹¬ì„ ê°€ì§ˆ í•„ìš”ê°€ ì—†ê¸° ë–„ë¬¸ì— êµ³ì´ ë™ì¼ ê°ì²´ë¥¼ ìœ ì§€í•  í•„ìš”ê°€ ì—†ë‹¤ ê¸°ì¡´ ê°ì²´ëŠ” ê°€ë¹„ì§€ì»¬ë ‰ì…˜ì˜ ëŒ€ìƒì´ ë¨ ì—”í‹°í‹° ì‹ë³„ìì— ë²¨ë¥˜ íƒ€ì… ì‚¬ìš© ì—”í‹°í‹°ì˜ ì‹ë³„ìëŠ” ë‹¨ìˆœí•œ ë¬¸ìì—´ì´ ì•„ë‹ˆë¼ ë„ë©”ì¸ì—ì„œ íŠ¹ë³„í•œ ì˜ë¯¸ë¥¼ ì§€ë‹ˆëŠ” ê²½ìš°ê°€ ë§ê¸° ë•Œë¬¸ì—, ì‹ë³„ìë¥¼ ìœ„í•œ ë²¨ë¥˜ íƒ€ì…ì„ ì‚¬ìš©í•´ì„œ ì˜ë¯¸ê°€ ì˜ ë“œëŸ¬ë‚˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤ 123class Order &#123; private OrderNo no;&#125; ê·¸ëƒ¥ String no ë¼ê³  ì¼ë‹¤ë©´ ì´ê²Œ ì£¼ë¬¸ ë²ˆí˜¸ì¸ì§€ ì•Œì•„ë³´ê¸° í˜ë“¤ì—ˆì„ ê²ƒì´ë‹¤ í˜¹ì€ ë³€ìˆ˜ëª…ìœ¼ë¡œ ë‚˜íƒ€ë‚´ì•¼ í–ˆì„í…ë°, ë²¨ë¥˜ íƒ€ì…ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢€ ë” í™•ì‹¤í•˜ë‹¤ ì°¸ê³ ë¡œ ì‘ìš© ì„œë¹„ìŠ¤ ê³„ì¸µì—ì„œ Orderë¥¼ ì¡°íšŒí•˜ëŠ” ë©”ì„œë“œë¥¼ ë§Œë“¤ë•Œ, íŒŒë¼ë¯¸í„°ë¥¼ OrderNo ëŒ€ì‹  Stringìœ¼ë¡œ ë°›ëŠ”ë‹¤ ì‘ìš© ì„œë¹„ìŠ¤ ê³„ì¸µì„ í˜¸ì¶œí•˜ëŠ” í”„ë ˆì  í…Œì´ì…˜ ê³„ì¸µì—ì„œ ë„ë©”ì¸ ê³„ì¸µì˜ ìš”ì†Œë¥¼ ì•Œì§€ ëª»í•˜ê²Œ í•˜ê¸° ìœ„í•¨ì¼ê¹Œ? e.g. orderRepository.findById(new OrderNo(orderNo)) set ì‚¬ìš©í•˜ì§€ ì•Šê¸° ë„ë©”ì¸ ëª¨ë¸ì— ë¬´ì¡°ê±´ getter/setterë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì€ ì¢‹ì§€ì•Šì€ ë²„ë¦‡ì´ë‹¤ íŠ¹íˆ setterëŠ” ë„ë©”ì¸ì˜ í•µì‹¬ ê°œë…ì´ë‚˜ ì˜ë„ë¥¼ ì½”ë“œì—ì„œ ì‚¬ë¼ì§€ê²Œ í•œë‹¤ changeShippingInfo()ëŠ” ë°°ì†¡ì§€ ì •ë³´ë¥¼ ìƒˆë¡œ ë³€ê²½í•œë‹¤ëŠ” ì˜ë¯¸ë¥¼ ê°€ì§€ì§€ë§Œ, setShippingInfo()ëŠ” ë‹¨ìˆœíˆ ë°°ì†¡ì§€ ê°’ì„ ì„¤ì •í•œë‹¤ëŠ” ê²ƒì„ ëœ»í•œë‹¤ êµ¬í˜„í• ë•Œì—ë„ setterì— ì¶”ê°€ì  ì²˜ë¦¬ë¥¼ í•˜ê¸°ê°€ ì• ë§¤í•´ì§„ë‹¤ ìŠµê´€ì ìœ¼ë¡œ setterëŠ” í•„ë“œê°’ë§Œ ë³€ê²½í•˜ê³  ëë‚˜ëŠ” ê²½ìš°ê°€ ë§ì•˜ê¸° ë•Œë¬¸ì´ë‹¤ ì´ëŸ¬í•œ íŠ¹ì§•ìœ¼ë¡œ ì¸í•´ ë„ë©”ì¸ ì§€ì‹ì´ ì½”ë“œì—ì„œ ì‚¬ë¼ì§€ê²Œ ë˜ëŠ”ê²ƒì´ë‹¤ setter ëŠ” ë„ë©”ì¸ ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ ì™„ì „í•œ ìƒíƒœê°€ ì•„ë‹ìˆ˜ë„ ìˆê²Œë” í•œë‹¤ 12345678Order order = new Order();order.setOrderLine(lines);order.setShippingInfo(shippingInfo);// ...// ì£¼ë¬¸ìë¥¼ ì„¤ì •í•˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ ì£¼ë¬¸ ì™„ë£Œ ì²˜ë¦¬ê°€ ë˜ì–´ë²„ë ¸ë‹¤// ê·¸ë ‡ë‹¤ê³  ì—¬ê¸°ë‹¤ê°€ ì£¼ë¬¸ì null ì²´í¬ë¥¼ ë„£ëŠ”ê²ƒ ë˜í•œ ì´ìƒí•˜ë‹¤order.setState(OrderState.PREPARING); ë„ë©”ì¸ ê°ì²´ê°€ ë¶ˆì™„ì „í•œ ìƒíƒœë¡œ ì‚¬ìš©ë˜ëŠ”ê²ƒì„ ë§‰ìœ¼ë ¤ë©´ ìƒì„±ì‹œì ì— í•„ìš”í•œ ê²ƒì„ ëª¨ë‘ ì „ë‹¬í•´ì¤˜ì•¼ í•œë‹¤ DTOëŠ” ê´œì°®ë‹¤ ë„ë©”ì¸ ë¡œì§ì„ ê°€ì§€ê³  ìˆì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤ í”„ë ˆì„ì›Œí¬ì—ì„œ setter ì—†ì´ë„ ê°’ì„ í• ë‹¹í•˜ê²Œë” í•´ì£¼ê¸°ë„ í•˜ëŠ”ë°, ì´ëŸ´ê²½ìš° ê·¸ ê¸°ëŠ¥ì„ ìµœëŒ€í•œ í™œìš©í•´ì„œ DTOê¹Œì§€ VOì˜ íŠ¹ì§•ì„ ê°€ì§€ê²Œ í•˜ëŠ”ê²ƒì´ ì¢‹ë‹¤ ë„ë©”ì¸ ìš©ì–´ ë„ë©”ì¸ ìš©ì–´ë¥¼ ì½”ë“œì— ë°˜ì˜í•˜ì§€ ì•Šìœ¼ë©´ ê°œë°œìê°€ ì½”ë“œì˜ ì˜ë¯¸ë¥¼ í•´ì„í•´ì•¼ í•˜ëŠ” ë¶€ë‹´ì´ ìƒê¸´ë‹¤ 123public enum OrderState &#123; STEP1, STEP2, STEP3, STEP4 ..&#125; ê°ê°ì˜ STEPì´ ì–´ëŠ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ”ì§€ ëˆ„êµ°ê°€ì—ê²Œ ë¬¼ì–´ì„œ ì•Œì•„ë‚´ì•¼í•˜ê³ , ê·¸ ìƒíƒœë¡œ ë§¤ë²ˆ ë³€í™˜í•˜ëŠ”(ë¨¸ë¦¬ì†ì—ì„œ) ê³¼ì •ì´ ì¶”ê°€ë˜ê²Œ ëœë‹¤ ê·¸ëŸ¬ë¯€ë¡œ ë˜ë„ë¡ ë„ë©”ì¸ ìš©ì–´ë¥¼ ì½”ë“œì— ì§ì ‘ ì‚¬ìš©í•´ì„œ ì´ëŸ° ë¶ˆí•„ìš”í•œ ê³¼ì •ì„ ì¤„ì´ê³ , ì½”ë“œê°€ ë°”ë¡œ ì´í•´ë  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤ ì°¸ê³ ë¡œ ìš°ë¦¬ëŠ” í•œêµ­ì¸ì´ë¼ ë„ë©”ì¸ ìš©ì–´ë¥¼ ì˜ì–´ë¡œ ë‚˜íƒ€ë‚´ëŠ”ë° ë§ì€ ì–´ë ¤ì›€ì´ ìˆë‹¤ í•˜ì§€ë§Œ ì—¬ê¸° ì‹œê°„ì„ íˆ¬ìí•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì½”ë“œê°€ ì ì  ë„ë©”ì¸ì—ì„œ ë©€ì–´ì§€ê²Œ ë˜ë‹ˆ, ë„ë©”ì¸ ìš©ì–´ì— ì•Œë§ì€ ë‹¨ì–´ë¥¼ ì°¾ëŠ” ì‹œê°„ì„ ì•„ê¹Œì›Œí•˜ì§€ ë§ì•„ì•¼ í•œë‹¤ ì°¸ê³  : ìµœë²”ê· , ã€DDD Start!ã€, ì§€ì•¤ì„ (2016)]]></content>
      <categories>
        <category>ddd</category>
      </categories>
      <tags>
        <tag>DDD start!</tag>
        <tag>ë„ë©”ì¸</tag>
        <tag>ë„ë©”ì¸ ëª¨ë¸ íŒ¨í„´</tag>
        <tag>Entity</tag>
        <tag>VO</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ë©”ì„œë“œ ìƒí–¥]]></title>
    <url>%2Frefactoring%2F%EB%A9%94%EC%84%9C%EB%93%9C-%EC%83%81%ED%96%A5%2F</url>
    <content type="text"><![CDATA[ì´ë¦„ì´ ê°™ì€ ë©”ì„œë“œê°€ ì—¬ëŸ¬ í•˜ìœ„í´ë˜ìŠ¤ì— ë“¤ì–´ ìˆì„ ë•, ê·¸ ë©”ì„œë“œë¥¼ ìƒìœ„ í´ë˜ìŠ¤ë¡œ ì˜®ê¸´ë‹¤ íŠ¹ì§• ë‹¤ë¥¸ ë¦¬íŒ©í† ë§ ë‹¨ê³„ë¥¼ ë§ˆì¹œ í›„ ì ìš©í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë‹¤ ë‹¤ë¥¸ í´ë˜ìŠ¤ì— ìˆëŠ” ë‘ ê°œì˜ ë©”ì„œë“œê°€ ë§¤ê°œë³€ìˆ˜ë¡œ ì „í™˜ë˜ì–´ ê²°êµ­ ê°™ì€ ë©”ì„œë“œê°€ ë  ìˆ˜ë„ ìˆë‹¤ í•˜ìœ„í´ë˜ìŠ¤ê°€ ìƒìœ„ í´ë˜ìŠ¤ ê¸°ëŠ¥ì„ ì¬ì •ì˜í–ˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³  ê¸°ëŠ¥ì´ ê°™ë‹¤ë©´, ë°”ë¡œ ì‹¤ì‹œí•´ì•¼ í•œë‹¤ ë‘ ë©”ì„œë“œê°€ ë˜‘ê°™ì§„ ì•Šê³  ë¹„ìŠ·í•œ ë¶€ë¶„ì´ ìˆë‹¤ë©´ í…œí”Œë¦¿ ë©”ì„œë“œ í˜•ì„±ì„ ì‹¤ì‹œí•˜ëŠ” ë°©ë²•ë„ ìˆë‹¤ ë°©ë²• ë©”ì„œë“œê°€ ì„œë¡œ ê°™ì€ì§€ ê²€ì‚¬í•œë‹¤ ê±°ì˜ ë¹„ìŠ·í•œë° ë˜‘ê°™ì§„ ì•Šë‹¤ë©´ ì•Œê³ ë¦¬ì¦˜ ì „í™˜ì„ ì ìš©í•´ì„œ ë©”ì„œë“œë¥¼ ë˜‘ê°™ê²Œ ë§Œë“ ë‹¤ ë©”ì„œë“œ ì‹œê·¸ë‹ˆì²˜ê°€ ì„œë¡œ ë‹¤ë¥´ë‹¤ë©´ ëª¨ë“  ì‹œê·¸ë‹ˆì²˜ë¥¼ ìƒìœ„í´ë˜ìŠ¤ì—ì„œ ì‚¬ìš©í•˜ê³ ì í•˜ëŠ” ì‹œê·¸ë‹ˆì²˜ë¡œ ìˆ˜ì •í•œë‹¤ ìƒìœ„í´ë˜ìŠ¤ì— ìƒˆ ë©”ì„œë“œë¥¼ ì‘ì„±í•˜ê³ , í•˜ìœ„í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë¥¼ ë³µì‚¬í•´ì„œ ë„£ì€ ë’¤ ì ì ˆíˆ ìˆ˜ì •í•˜ê³  ì»´íŒŒì¼í•œë‹¤ ë©”ì„œë“œê°€ í•˜ìœ„í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ìƒìœ„í´ë˜ìŠ¤ì— abstract íƒ€ì… ë©”ì„œë“œë¥¼ ì„ ì–¸í•œë‹¤ ë©”ì„œë“œê°€ í•˜ìœ„í´ë˜ìŠ¤ì˜ í•„ë“œë¥¼ ì‚¬ìš©í•œë‹¤ë©´ í•„ë“œ ìƒí–¥ì´ë‚˜ í•„ë“œ ìì²´ ìº¡ìŠí™”ë¥¼ ì ìš©í•œë‹¤ í•˜ìœ„í´ë˜ìŠ¤ ë©”ì„œë“œë¥¼ í•˜ë‚˜ ì‚­ì œí•˜ê³  ì»´íŒŒì¼ê³¼ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤ì‹œí•œë‹¤ 4ë²ˆê³¼ ê°™ì€ ì‹ìœ¼ë¡œ ìƒìœ„í´ë˜ìŠ¤ ë©”ì„œë“œë§Œ ë‚¨ì„ë•Œê¹Œì§€ ë©”ì„œë“œë¥¼ ê³„ì† ì‚­ì œí•œë‹¤ ë©”ì„œë“œ í˜¸ì¶œí•˜ëŠ” ë¶€ë¶„ì„ ìƒìœ„í´ë˜ìŠ¤ë¡œ ëŒ€ì²´í•  ìˆ˜ ìˆëŠ”ì§€ íŒŒì•…í•˜ê³ , ìˆ˜ì •í•  ìˆ˜ ìˆìœ¼ë©´ ìˆ˜ì •í•œë‹¤ ì°¸ê³  : ë§ˆí‹´ íŒŒìš¸ëŸ¬, ã€ë¦¬íŒ©í† ë§ã€, ê¹€ì§€ì› ì˜®ê¹€, í•œë¹›ë¯¸ë””ì–´(2012)]]></content>
      <categories>
        <category>refactoring</category>
      </categories>
      <tags>
        <tag>ë¦¬íŒ©í† ë§</tag>
        <tag>pull up method</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[VirtualBoxì—ì„œ ê³µì¸ì¸ì¦ì„œ ì¸ì‹ì‹œí‚¤ê¸°]]></title>
    <url>%2Fetc%2FVirtualBox%EC%97%90%EC%84%9C-%EA%B3%B5%EC%9D%B8%EC%9D%B8%EC%A6%9D%EC%84%9C-%EC%9D%B8%EC%8B%9D%EC%8B%9C%ED%82%A4%EA%B8%B0%2F</url>
    <content type="text"><![CDATA[VirtualBoxì—ì„œ ê³µì¸ì¸ì¦ì„œ ì¸ì‹ì‹œí‚¨ ë°©ì‹ì— ëŒ€í•´ ê³µìœ í•˜ê³ ì í•¨ VirtualBox í•˜ë“œë””ìŠ¤í¬ì— ìœ„ì¹˜ì‹œí‚¤ëŠ” ë°©ë²•ì€ ì•ˆëœë‹¤ ë‚´ VirtualBoxëŠ” ìœˆë„ìš° 7ì´ì—ˆìœ¼ë¯€ë¡œ, ì¸í„°ë„·ì—ì„œ ì°¾ì•„ë³´ê³  ê³µì¸ì¸ì¦ì„œë¥¼ C://Users/{userId}/AppData/LocalLow/NPKI ë¡œ ìœ„ì¹˜ì‹œì¼°ëŠ”ë°ë„ ì „í˜€ ì¸ì‹í•˜ì§€ ëª»í–ˆë‹¤ C://Program Files/NPKI, C://Program Files(x86)/NPKI ë˜í•œ ë§ˆì°¬ê°€ì§€ì˜€ë‹¤ VirtualBoxë¼ì„œ ê²½ë¡œë¥¼ ë‹¤ë¥´ê²Œ ì¸ì‹í•˜ëŠ” ê²ƒ ê°™ì•˜ë‹¤ ì•„ë§ˆë„ mac íŒŒì¼ì‹œìŠ¤í…œìœ¼ë¡œ ì¸ì‹í–ˆê² ì§€â€¦ ~/VirtualBox/cdrive ì´ëŸ°ì‹ìœ¼ë¡œâ€¦(ì™œ ì´ ìƒê°ì„ ëª»í–ˆì„ê¹Œ ã… ã… ) ì–´ì°Œë¬ë“  ì´ëŸ° ë¬¸ì œë•Œë¬¸ì— USBë¡œ ê³µì¸ì¸ì¦ì„œë¥¼ ë¶ˆëŸ¬ì˜¤ê²Œë” í•´ì•¼í•œë‹¤ VirtualBoxì—ì„œ usb ì¸ì‹ì‹œí‚¤ê¸° https://imitator.kr/Windows/2826 ì—¬ê¸° ë”°ë¼ì„œ VirtualBoxì—ì„œ USBë¥¼ ì¸ì‹ì‹œí‚¤ê²Œ í•˜ë©´ ëœë‹¤ https://www.virtualbox.org/wiki/Download_Old_Builds ì—¬ê¸°ì„œ ìê¸° VirtualBox ë²„ì „ì— ë§ì¶° ë“¤ì–´ê°„ë‹¤ìŒ, Extension Packì„ ì„ íƒí•´ì„œ ì„¤ì¹˜í•œë‹¤ ìœ„ ë¸”ë¡œê·¸ëŒ€ë¡œ ìˆ˜í–‰í•˜ë©´ ê°€ìƒë¨¸ì‹ ì•ˆì—ì„œë„ USB ì¸ì‹ì´ ê°€ëŠ¥í•´ì§€ê³ , ê³µì¸ì¸ì¦í™”ë©´ì—ì„œ USBë¡œ ê³µì¸ì¸ì¦ì„œë¥¼ ì°¾ì„ ìˆ˜ ìˆë‹¤ ë§í• ë†ˆì˜ ê³µì¸ì¸ì¦ì„œ _]]></content>
      <categories>
        <category>etc</category>
      </categories>
      <tags>
        <tag>virtualbox NPKI</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[tdd] TDDë¡œ í™”í ê°œë°œí•˜ê¸°(3)]]></title>
    <url>%2Ftdd%2FTDD%EB%A1%9C-%ED%99%94%ED%8F%90-%EA%B0%9C%EB%B0%9C%ED%95%98%EA%B8%B0-3%2F</url>
    <content type="text"><![CDATA[ë‹¤ì‹œ í•œë²ˆ ì‘ì€ í…ŒìŠ¤íŠ¸ë¡œ ì‹œì‘ ì´ì œ ë”í•˜ê¸°ë¥¼ êµ¬í˜„í•´ì•¼í•˜ëŠ”ë°, ì•„ì§ê¹Œì§„ $5 + 10CHF = $10ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ê¸°ê°€ ì–´ë µë‹¤ ê·¸ë˜ì„œ ì¢€ ë” ì‘ì€ ë‹¨ìœ„($5 + $5 = $10)ë¡œ ì¤„ì—¬ì„œ ì‹œì‘í•´ë³¸ë‹¤ 1234public void testSimpleAddiction() &#123; Money sum = Money.dollar(5).plus(Money.dollar(5)); assertThat(sum).isEqualTo(Money.dollar(10));&#125; ì–´ë–»ê²Œ êµ¬í˜„í•´ì•¼í• ì§€ ëª…í™•í•˜ë¯€ë¡œ ë°”ë¡œ ì‘ì„±í•´ë³¸ë‹¤ 1234// MoneyMoney plus(Money addend) &#123; return new Money(amount + addened.amount, currency);&#125; TDDë¥¼ í•˜ë©´ì„œ ì´ëŸ°ì‹ì˜ ë‹¨ê³„ì¡°ì ˆì„ ê³„ì†í•´ì„œ ë°°ì›Œì•¼í•œë‹¤ ì§€ê¸ˆì²˜ëŸ¼ êµ¬í˜„ì´ ëª…ë°±íˆ ë– ì˜¤ë¥¼ë•ŒëŠ” ì¡°ê¸ˆ ì„±í¼ì„±í¼ ë‚˜ê°€ë„ ë˜ê³ , ì‚¬ë ¤ê¹Šê²Œ ê³ ë¯¼í•´ì•¼í• ë•ŒëŠ” ì²œì²œíˆ ë‚˜ê°€ëŠ” ê²ƒì´ ì¢‹ë‹¤ ìš°ë¦¬ëŠ” ë‹¤ì¤‘ í†µí™” ì‚¬ìš©ì— ëŒ€í•œ ë‚´ìš©ì„ ì‹œìŠ¤í…œì˜ ë‚˜ë¨¸ì§€ ì½”ë“œì—ê²Œ ìˆ¨ê²¨ì•¼í•˜ëŠ”ë°(ì„¤ê³„ìƒ ê°€ì¥ ì–´ë ¤ìš´ ì œì•½), í˜„ì¬ì˜ Money ê°ì²´ë¡œëŠ” ê·¸ í–‰ìœ„ê°€ ë¶ˆê°€ëŠ¥í•˜ë‹¤ ì´ì²˜ëŸ¼ ì‚¬ìš©í•˜ëŠ” ê°ì²´ê°€ ìš°ë¦¬ê°€ ì›í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë™ì‘í•˜ì§€ ì•Šì„ ê²½ìš°ì—”, ê·¸ ê°ì²´ì™€ ì™¸ë¶€ í”„ë¡œí† ì½œì´ ê°™ìœ¼ë©´ì„œ ë‚´ë¶€ êµ¬í˜„ì€ ë‹¤ë¥¸ ìƒˆë¡œìš´ ê°ì²´(imposter)ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤ TDDëŠ” ì ì ˆí•œë•Œì— ë²ˆëœ©ì´ëŠ” í†µì°°ì„ ë³´ì¥í•˜ì§€ëŠ” ëª»í•œë‹¤(ìš°ë¦¬ê°€ ë‹¤ ìƒê°í•´ì•¼í•¨) ê·¸ë ‡ì§€ë§Œ í™•ì‹ ì„ ì£¼ëŠ” í…ŒìŠ¤íŠ¸ì™€ ì¡°ì‹¬ìŠ¤ëŸ½ê²Œ ì •ë¦¬ëœ ì½”ë“œë¥¼ í†µí•´, í†µì°°ì— ëŒ€í•œ ì¤€ë¹„ì™€ í•¨ê»˜ í†µì°°ì´ ë²ˆëœ©ì¼ë•Œ ê·¸ê±¸ ì ìš©í•  ì¤€ë¹„ë¥¼ í•  ìˆ˜ ìˆë‹¤ ìš°ë¦¬ëŠ” Moneyì™€ ë¹„ìŠ·í•˜ê²Œ ë™ì‘í•˜ì§€ë§Œ ì‚¬ì‹¤ì€ ë‘ Moneyì˜ í•©ì„ ë‚˜íƒ€ë‚´ëŠ” imposterë¥¼ ë§Œë“¤ê²ƒì´ë‹¤ imposterê°€ ë  ìˆ˜ ìˆëŠ” í›„ë³´ë¡œ ìƒê°í•´ë³¸ê²ƒë“¤ì€ ì•„ë˜ì™€ ê°™ë‹¤ ì§€ê°‘ ê°™ì€ ê°ì²´. ì—¬ëŸ¬ í™”íë“¤ì´ ë“¤ì–´ê°ˆ ìˆ˜ ìˆë‹¤. (2 + 3) x 5 ê°™ì€ ìˆ˜ì‹ ê°ì²´. 2$ì™€ ê°™ì€ Moneyê°€ ìˆ˜ì‹ì˜ ê°€ì¥ ì‘ì€ ë‹¨ìœ„ê°€ ë˜ê³ , ìˆ˜ì‹ë“¤ì„ ì—°ì‚°í•œ ê²°ê³¼ë„ ìˆ˜ì‹ì´ ë‚˜ì˜¨ë‹¤ ìµœì¢…ì ìœ¼ë¡œ ìˆ˜ì‹ì— í™˜ìœ¨ì„ ì ìš©í•˜ì—¬ ë‹¨ì¼í†µí™”ë¥¼ ì–»ê²Œëœë‹¤ (ì–´ë–»ê²Œ ì´ëŸ° ìƒê°ì„ ë„ì¶œí•´ëƒˆëŠ”ì§€ ì˜ ë– ì˜¤ë¥´ì§€ë¥¼ ì•ŠëŠ”ë‹¤â€¦) 2ë²ˆì„ íƒí•˜ê¸°ë¡œ í•˜ê³ , í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ë³¸ë‹¤ 1234public void testSimpleAddiction() &#123; Money reduced = // ... assertThat(reduced).isEqualTo(Money.dollar(10));&#125; reducedëŠ” ìˆ˜ì‹ì— í™˜ìœ¨ì„ ì ìš©í•˜ì—¬ ë‚˜ì˜¨ ë‹¨ì¼í†µí™”(Money)ê°€ ëœë‹¤ reducedë¥¼ ì–»ëŠ” ê³¼ì •ì„ ì¢€ ë” ì‘ì„±í•˜ë©´ ì•„ë˜ì™€ ê°™ë‹¤ 12345678public void testSimpleAddiction() &#123; Money five = Money.dollar(5); Expression sum = five.plus(five); Money reduced = bank.reduce(sum, "USD"); assertThat(reduced).isEqualTo(Money.dollar(10));&#125; ë§ì…ˆì˜ ê³¼ì •ìœ¼ë¡œ ìˆ˜ì‹(Expression)ì´ ë‚˜ì˜¤ê²Œë˜ê³ , ì—¬ê¸°ì— í™˜ìœ¨ì„ ì ìš©í•˜ì—¬ ë‹¨ì¼í†µí™”ë¥¼ ì–»ê²Œë” í–ˆë‹¤ ì‚¬ì‹¤ìƒ í˜„ì¬ê³¼ì •ì—ì„œ ì€í–‰ ì—†ì´ ìˆ˜ì‹ì—ì„œ reduceë¥¼ êµ¬í˜„í• ìˆ˜ë„ ìˆì§€ë§Œ ê·¸ë ‡ê²Œ í•˜ì§€ ì•Šì€ ì´ìœ ëŠ”, Expressionì´ ìš°ë¦¬ê°€ í•˜ë ¤ëŠ” ì¼ì˜ í•µì‹¬ì´ê¸° ë•Œë¬¸ì—, ë‹¤ë¥¸ ë¶€ë¶„(í™˜ìœ¨ ì ìš©)ì— ëŒ€í•´ì„œëŠ” ìµœëŒ€í•œ ëª¨ë¥´ê²Œ í•˜ê¸° ìœ„í•¨ì´ë‹¤ ê·¸ë ‡ê²Œ í•´ì•¼ í•µì‹¬ ê°ì²´ê°€ ê°€ëŠ¥í•œ ì˜¤ë˜ ìœ ì§€ë˜ê³ , í…ŒìŠ¤íŠ¸í•˜ê¸° ì‰½ê³ , ì¬í™œìš©í•˜ê¸° ì‰¬ìš´ ìƒíƒœë¡œ ë‚¨ì„ ìˆ˜ ìˆê²Œëœë‹¤ í™˜ìœ¨ì ìš© ì™¸ì—ë„ Expressionê³¼ ê´€ë ¨ìˆëŠ” ì˜¤í¼ë ˆì´ì…˜ì´ ë§ì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤ ê·¸ë•Œë§ˆë‹¤ ëª¨ë“  ì˜¤í¼ë ˆì´ì…˜ì„ Expressionì—ë§Œ ì¶”ê°€í•˜ë©´ë‹¤ë©´ Expressionì€ ë¬´í•œíˆ ì»¤ì§ˆ ê²ƒì´ë‹¤ ì´ì œ ì»´íŒŒì¼ ì—ëŸ¬ë¥¼ ì¡ì•„ì•¼í•œë‹¤ ë¨¼ì € plus ë©”ì„œë“œê°€ Expressionì„ ë°˜í™˜í•´ì•¼ í•œë‹¤ 1234// MoneyExpression plus(Money addend) &#123; return new Money(amount + addened.amount, currency);&#125; í´ë˜ìŠ¤ë¡œ ë§Œë“¤ ìˆ˜ ìˆì§€ë§Œ ë” ê°€ë²¼ìš´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì„ íƒí•œë‹¤ 123456interface Expression &#123;&#125;class Money implements Expression &#123; // ...&#125; Bank stubì„ ê°€ë³ê²Œ ì‘ì„±í•´ì„œ í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼ì‹œí‚¨ë‹¤ 12345class Bank &#123; Money reduce(Expression source, String to) &#123; return Money.dollar(10); &#125;&#125; ë©”íƒ€í¬ë¥¼ ì„ íƒí•˜ê³  ë¹ ë¥´ê²Œ í…ŒìŠ¤íŠ¸ ì‘ì„±í•˜ê³ , ê·¸ë¥¼ í†µê³¼ì‹œí‚¤ëŠ” ê³¼ì •? ìˆœë°©í–¥ ì§„í–‰ ì´ì œ bank.reduce()ì— ì‘ì„±í•œ ê°€ì§œ êµ¬í˜„ì„ ì œê±°í•´ì¤˜ì•¼í•˜ëŠ”ë°, ì´ë²ˆ ê²½ìš°ëŠ” ì–´ë–»ê²Œ (ê±°ê¾¸ë¡œ)ì‘ì—…í•´ì•¼ í• ì§€ê°€ ëª…í™•í•˜ì§€ê°€ ì•Šë‹¤ ê·¸ë˜ì„œ ì´ë²ˆì—ëŠ” ìˆœë°©í–¥(?)ìœ¼ë¡œ ì‘ì—…í•´ë³´ê¸°ë¡œ í•œë‹¤ ë¨¼ì € í˜„ì¬ bank.reduce() ë©”ì„œë“œëŠ” ì¸ìë¡œ ë„˜ê¸°ëŠ” sourceì™€ ë°˜í™˜í•˜ëŠ” Moneyì˜ ê°’ì´ ì¤‘ë³µì´ë‹¤. sourceì— ë„˜ê²¨ì£¼ëŠ” ê°’ê³¼ ë¦¬í„´í•˜ëŠ” Moneyì˜ ê°’ì´ ì‚¬ì‹¤ìƒ ë™ì¼í•œ ê°’ì´ê¸° ë•Œë¬¸ì´ë‹¤(ì‚¼ê°ì¸¡ëŸ‰ì„ ì´ìš©í•´ì„œ ê°€ì§œêµ¬í˜„ì„ ì œê±°í•˜ë”ë¼ë„ ë™ì¼í•˜ë‹¤) ì´ ì‹œì ì—ì„œ ìš°ë¦¬ê°€ Expressionì„ ë§Œë“¤ë•Œ ìƒê°í–ˆë˜, êµ¬í˜„ì²´ì¸ Sumì„ ë“±ì¥ì‹œì¼œë³´ì Money.plus()ê°€ Moneyê°€ ì•„ë‹Œ Expression(Sum)ì„ ë°˜í™˜í•˜ë„ë¡ ë³€ê²½í•´ì£¼ë„ë¡ í•˜ì í…ŒìŠ¤íŠ¸ ë¨¼ì € ì‘ì„±í•´ë³¸ë‹¤ 123456789@Testpublic void testPlusReturnsSum() &#123; Money five = Money.dollar(5); Expression result = five.plus(five); Sum sum = (Sum) result; assertThat(sum.augend).isEqualTo(five); assertThat(sum.addend).isEqualTo(five);&#125; ì´ í…ŒìŠ¤íŠ¸ëŠ” ë„ˆë¬´ êµ¬í˜„ ì¢…ì†ì ì´ë¼ ì˜¤ë˜ê°€ì§€ ëª»í• ê²ƒì´ë‹¤) ì´ì œ ì •í™•í•œ expected/actual í˜•íƒœê°€ ë‚˜ì˜¤ë„ë¡ ìˆ˜ì •í•´ì•¼í•œë‹¤ Money.plusì—ì„œ Sumì„ ë°˜í™˜í•˜ë„ë¡ ìˆ˜ì •í•˜ê³ , Sum í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ì•¼í•œë‹¤ 1234567891011121314// MoneyExpression plus(Money addend) &#123; return new Sum(this, addend);&#125;public class Sum implements Expression &#123; public Money augend; public Money addend; public Sum(Money augend, Money addend) &#123; this.augend = augend; this.addend = addend; &#125;&#125; ì¢€ ë¹ ë¥¸ê°ì´ ìˆì§€ë§Œ êµ¬í˜„ì´ ëª…ë°±í•˜ê²Œ ë– ì˜¤ë¥´ë‹ˆ ë°”ë¡œë°”ë¡œ ì§„í–‰í•œë‹¤ Sumì„ ì‘ì„±í•˜ê³  ë‚˜ë‹ˆ ì¶”ê°€ì ì¸ í…ŒìŠ¤íŠ¸ê°€ ë°”ë¡œ ë– ì˜¤ë¥¸ë‹¤ Sumì— ì „ë‹¬í•œ Money í†µí™”ê°€ ëª¨ë‘ ë™ì¼í•˜ê³ , reduceë¥¼ í†µí•´ ì–»ì–´ë‚´ê³ ì í•˜ëŠ” í†µí™” ì—­ì‹œ ê°™ë‹¤ë©´ ê²°ê³¼ëŠ” Sum ë‚´ì˜ amountë¥¼ í•©ì¹œ ê°’ì„ ê°–ëŠ” Money ê°ì²´ì—¬ì•¼í•œë‹¤ 123456public void testReduceSum() &#123; Expression sum = new Sum(Money.dollar(3), Money.dollar(4)); Bank bank = new Bank(); Money result = bank.reduce(sum, "USD"); assertThat(result).isEqualTo(Money.dollar(7));&#125; í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼ì‹œí‚¨ë‹¤ 12345public Money reduce(Expression source, String to) &#123; Sum sum = (Sum) source; int amount = sum.augend.amount + sum.addend.amount; return new Money(amount, to);&#125; ì´ ì½”ë“œëŠ” í˜„ì¬ 2ê°€ì§€ ì´ìœ ë¡œ ì§€ì €ë¶„í•˜ë‹¤ í˜•ë³€í™˜. reduce()ëŠ” ëª¨ë“  Expressionì— ëŒ€í•´ ë™ì‘í•´ì•¼ í•œë‹¤ Sumì˜ public í•„ë“œì™€ sum.augend.amount ê°™ì´ 2ë‹¨ê³„ì— ê±¸ì¹œ ë ˆí¼ëŸ°ìŠ¤ 2ë²ˆ ë¬¸ì œëŠ” ê°„ë‹¨íˆ ê³ ì¹  ìˆ˜ ìˆë‹¤. ë©”ì„œë“œ ì¼ë¶€ë¥¼ Sum í´ë˜ìŠ¤ ë‚´ë¶€ë¡œ ì˜®ê²¨ë²„ë¦¬ë©´ ëœë‹¤ 1234567891011// Sumpublic Money reduce(String to) &#123; int amount = augend.amount + addend.amount; return new Money(amount, to);&#125;// Bankpublic Money reduce(Expression source, String to) &#123; Sum sum = (Sum) source; return sum.reduce(to);&#125; ë§ì…ˆì€ ëìœ¼ë‹ˆ í™˜ìœ¨ ì ìš©ì— ëŒ€í•´ ìƒê°í•´ë³´ì ê·¸ëƒ¥ Moneyê°€ ì¸ìë¡œ ì™”ì„ ê²½ìš° í™˜ìœ¨ì„ ì ìš©ì‹œí‚¨ Moneyë¥¼ ë‚´ë³´ë‚´ì•¼ í•œë‹¤ ê·¼ë° ìš°ë¦° ì§€ê¸ˆ Money ë¶€í„° ë°›ì„ìˆ˜ê°€ ì—†ì–´ì„œ, ì´ë¥¼ ë¨¼ì € í†µê³¼ì‹œì¼œì•¼ í•œë‹¤ í…ŒìŠ¤íŠ¸ë¥¼ ë°”ë¡œ ì‘ì„±í•´ë³´ì 123456@Testpublic void testReduceMoney() &#123; Bank bank = new Bank(); Money result = bank.reduce(Money.dollar(1), "USD"); assertThat(result).isEqualTo(Money.dollar(1));&#125; 12345678// Bankpublic Money reduce(Expression source, String to) &#123; if(source instanceof Money) &#123; return (Money) source; &#125; Sum sum = (Sum) source; return sum.reduce(to);&#125; ì½”ë“œê°€ ë„ˆë¬´ ì§€ì €ë¶„í•´ì¡Œë‹¤ ë‹¤ë¥¸ í™˜ìœ¨ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ê¸° ì „ì—, ì§€ì €ë¶„í•œ ì½”ë“œë“¤ë¶€í„° ì •ë¦¬í•˜ê³  ê°€ëŠ”ê²ƒì´ ì¢‹ê² ë‹¤ ì´ëŸ°ì‹ìœ¼ë¡œ í´ë˜ìŠ¤ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ê²€ì‚¬í•˜ëŠ” ì½”ë“œê°€ ìˆì„ë–„ëŠ” í•­ìƒ ë‹¤í˜•ì„±ì„ ì ìš©í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤ Moneyì—ë„ reduce()ë¥¼ êµ¬í˜„í•´ì¤€ë‹¤ 1234@Overridepublic Money reduce(String to) &#123; return this;&#125; ì´ì œ Expressionì„ êµ¬í˜„í•˜ëŠ” Money, Sumì— reduce() ë©”ì„œë“œê°€ ìˆìœ¼ë‹ˆ ì¸í„°í˜ì´ìŠ¤ì—ë„ ì„ ì–¸í•  ìˆ˜ ìˆë‹¤ 123public interface Expression &#123; Money reduce(String to);&#125; ì´ë¡œì¨ ë¶ˆí•„ìš”í•œ ìºìŠ¤íŒ… ì½”ë“œë¥¼ ëª¨ë‘ ì œê±°í•  ìˆ˜ ìˆë‹¤ 123public Money reduce(Expression source, String to) &#123; return source.reduce(to);&#125; í™˜ìœ¨ ì ìš©! ì´ì œ ë‹¤ë¥¸ í†µí™”ê°„ í™˜ìœ¨ì„ ì ìš©í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ë³¸ë‹¤ 1234567@Testpublic void testReduceMoneyDifferentCurrency() &#123; Bank bank = new Bank(); bank.addRate("CHF", "USD", 2); Money result = bank.reduce(Money.franc(2), "USD"); assertThat(result).isEqualTo(Money.dollar(1));&#125; Moneyì—ì„œ ì§ì ‘ í™˜ìœ¨ì„ ê´€ì¥í• ìˆ˜ë„ ìˆì§€ë§Œ, ë³„ë¡œ ì¢‹ì€ ë°©ì‹ì´ ì•„ë‹ˆë‹¤ í™˜ìœ¨ì— ê´€í•œê±´ Bankê°€ ì²˜ë¦¬í•˜ê²Œ í•´ì•¼í•œë‹¤ reduce() í•˜ê¸°ì „ì— Bankì— í™˜ìœ¨ ê´€ë ¨ëœ ë¶€ë¶„ì„ ë¬¼ì–´ë³´ê²Œë” ì²˜ë¦¬í•˜ë©´ ë  ê²ƒ ê°™ë‹¤ Bankë¥¼ ì¸ìë¡œ ì „ë‹¬í•˜ê²Œë” íŒŒë¼ë¯¸í„°ë¥¼ ë³€ê²½í•˜ì 12345public interface Expression &#123; Money reduce(Bank bank, String to);&#125;// Money, Sum ì ìš© í™˜ìœ¨ì„ ë¬¼ì–´ë³¼ ë©”ì„œë“œë¥¼ ì‘ì„±í•œë‹¤ 1234567// Bankpublic int rate(String from, String to) &#123; if(from.equals("CHF") &amp;&amp; to.equals("USD")) &#123; return 2; &#125; return 1;&#125; Moneyì—ì„œ rate()ì— í™˜ìœ¨ì„ ë¬¼ì–´ë³¸ë‹¤ 12345@Overridepublic Money reduce(Bank bank, String to) &#123; int rate = bank.rate(currency, to); return new Money(amount / rate, to);&#125; ë³´ë‹¤ì‹œí”¼ ì•„ì§ ì¢‹ì€ ë°©ë²•ì´ ì•„ë‹ˆë‹¤. ê²Œë‹¤ê°€ addRate()ë¡œ í™˜ìœ¨ ì¶”ê°€í•˜ëŠ” ë©”ì„œë“œê¹Œì§€ ë§Œë“¤ì–´ë†“ê³  ì „í˜€ í™œìš©í•˜ì§€ ì•Šê³  ìˆë‹¤. addRate()ë¡œ í•´ì‹œí…Œì´ë¸” ê°™ì€ ê³³ì— í™˜ìœ¨ì„ ì¶”ê°€í•˜ê³ (í™˜ìœ¨í‘œ), í•„ìš”í•  ë•Œ ë§¤ë²ˆ ì°¾ì•„ë³´ê²Œ í•˜ë©´ ë  ê²ƒ ê°™ë‹¤ í•´ì‹œí…Œì´ë¸”ì—ì„œ ë°”ë¡œ ì°¾ê¸° ìœ„í•´ í™˜ìœ¨ì˜ fromê³¼ toë¥¼ ìœ„í•œ ê°ì²´ë¥¼ ë”°ë¡œ ë§Œë“ ë‹¤ ê·¸ë¦¬ê³  ì´ Pair í´ë˜ìŠ¤ëŠ” í‚¤ë¡œ ì‚¬ìš©ë  ê²ƒì´ë¯€ë¡œ equalsì™€ hashCodeë¥¼ êµ¬í˜„í•´ì¤€ë‹¤ (í˜„ì¬ëŠ” ë¦¬íŒ©í† ë§ ê³¼ì •ì¤‘ì´ë¯€ë¡œ ë”°ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ì§€ ì•ŠëŠ”ë‹¤. ë¦¬íŒ©í† ë§ì´ ëë‚œ í›„ ëª¨ë“  í…ŒìŠ¤íŠ¸ê°€ ì˜ í†µê³¼í•œë‹¤ë©´ ë¦¬íŒ©í† ë§ì´ ì˜ ë˜ì—ˆë‹¤ê³  íŒë‹¨í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.) 1234567891011121314151617181920class Pair &#123; String from; String to; public Pair(String from, String to) &#123; this.from = from; this.to = to; &#125; @Override public boolean equals(Object obj) &#123; Pair pair = (Pair) obj; return from.equals(pair.from) &amp;&amp; to.equals(pair.to); &#125; @Override public int hashCode() &#123; return 0; &#125;&#125; 0ì€ ìµœì•…ì˜ í•´ì‹œì½”ë“œì§€ë§Œ, ì§€ê¸ˆì€ ë¹ ë¥´ê²Œ ë‹¬ë ¤ì•¼í•˜ë‹ˆê¹Œ ê·¸ëƒ¥ ì €ë ‡ê²Œ ì‘ì„±í•œë‹¤ ë‚˜ì¤‘ì— ë§ì€ í†µí™”ë¥¼ ë‹¤ë£¨ê²Œ ë  ê²½ìš° ì¶”ê°€ì ìœ¼ë¡œ ìˆ˜ì •í•œë‹¤ ì´ì œ ì´ í™˜ìœ¨í‘œë¥¼ ì‚¬ìš©í•˜ë„ë¡ Bankë¥¼ ìˆ˜ì •í•œë‹¤ 12345678910// BankMap&lt;Pair, Integer&gt; rateTable = new Hashtable&lt;&gt;();public void addRate(String from, String to, int rate) &#123; rateTable.put(new Pair(from, to), rate);&#125;public int rate(String from, String to) &#123; return rateTable.get(new Pair(from, to));&#125; ì˜ ë™ì‘í•  ì¤„ ì•Œì•˜ëŠ”ë° í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•œë‹¤! ì‚´í´ë³´ë‹ˆ ê°™ì€ í†µí™”ì¼ë–„ê°€ ë¬¸ì œì˜€ë‹¤. ì´ë ‡ê²Œ ëœ»ë°–ì§€ ëª»í•˜ê²Œ ë°œê²¬í•œ ì¼ì˜ ê²½ìš° í…ŒìŠ¤íŠ¸ë¥¼ ì¶”ê°€í•´ì„œ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì´ ì•Œê²Œë” í•´ì¤˜ì•¼ í•œë‹¤ 12345@Testpublic void testIdentityRate() &#123; Bank bank = new Bank(); assertThat(bank.rate("USD", "USD")).isEqualTo(1);&#125; ì´ë ‡ê²Œ ë¦¬íŒ©í† ë§í•˜ë‹¤ê°€ ì‹¤ìˆ˜í•œ ê²½ìš° ì´ ë¬¸ì œë¥¼ ë¶„ë¦¬í•˜ê¸° ìœ„í•´ ë˜ ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ê³ , ì „ì§„í•´ë‚˜ê°„ë‹¤ ì´ì œ rate() ë¥¼ ìˆ˜ì •í•˜ì 1234567public int rate(String from, String to) &#123; if(from.equals(to)) &#123; return 1; &#125; return rateTable.get(new Pair(from, to));&#125; ë‹¤ë¥¸ í†µí™”ê°„ ë”í•˜ê¸° ë“œë””ì–´ 5$ + 10CHF = 10$ ë¥¼ í…ŒìŠ¤íŠ¸ í•´ë³¼ ë–„ê°€ ì™”ë‹¤ ì•„ë˜ê°€ ìš°ë¦¬ê°€ ìµœì¢…ì ìœ¼ë¡œ ì›í•˜ëŠ” í…ŒìŠ¤íŠ¸ì˜ ëª¨ìŠµì´ë‹¤ 1234567891011@Testpublic void testMixedAddition() &#123; Expression dollar = Money.dollar(5); Expression franc = Money.franc(10); Bank bank = new Bank(); bank.addRate("CHF", "USD", 2); Money result = bank.reduce(dollar.plus(franc), "USD"); assertThat(result).isEqualTo(Money.dollar(10));&#125; í•˜ì§€ë§Œ ì•ˆíƒ€ê¹ê²Œë„ ì»´íŒŒì¼ ì—ëŸ¬ê°€ ë‚œë‹¤ ì¢€ ë” ì²œì²œíˆ ì§„í–‰í•´ë³´ê¸°ë¡œ í•˜ê³ (ëª¨ë“  ì—ëŸ¬ë¥¼ ì»´íŒŒì¼ëŸ¬ê°€ ì¡ì•„ì¤„ê²ƒì´ë¼ëŠ” ê¸°ëŒ€?), í•œ ë‹¨ê³„ë§Œ ë’¤ë¡œ ë¬¼ëŸ¬ë‚˜ë³´ì ë¨¼ì € testMixedAddition() ìƒë‹¨ì˜ Expressionì„ Moneyë¡œ ë°”ê¿”ì„œ ì»´íŒŒì¼ ì—ëŸ¬ë¥¼ ì œê±°í•˜ê³ , í…ŒìŠ¤íŠ¸ë¥¼ ëŒë ¤ë³´ì 123456@Testpublic void testMixedAddition() &#123; Money dollar = Money.dollar(5); Money franc = Money.franc(10); // ...&#125; í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•œë‹¤. 10$ ëŒ€ì‹  15$ê°€ ë‚˜ì˜¤ëŠ” ê²ƒì´ ì¶•ì•½ì„ í•˜ì§€ ì•ŠëŠ” ê²ƒ ì²˜ëŸ¼ ë³´ì¸ë‹¤. 123456@Overridepublic Money reduce(Bank bank, String to) &#123; int amount = augend.reduce(bank, to).amount + addend.reduce(bank, to).amount; return new Money(amount, to);&#125; í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í–ˆìœ¼ë‹ˆ, ì²˜ìŒ ì»´íŒŒì¼ ì˜¤ë¥˜ì—ì„œ ë´¤ë˜ ë‚´ìš©ì„ ë‹¤ì‹œ ìƒê°í•´ë³´ì ì‚¬ì‹¤ìƒ ëª¨ë“  MoneyëŠ” Expressionì´ì–´ì•¼ í•œë‹¤. ì´ì œ ì´ë¥¼ ì¡°ê¸ˆì”© ì—†ì• ë„ë¡ í•˜ì. íŒŒê¸‰íš¨ê³¼ë¥¼ í”¼í•˜ê¸° ìœ„í•´ ê°€ì¥ìë¦¬ë¶€í„° ì‘ì—…í•´ ë‚˜ê°€ê¸° ì‹œì‘í•´ì„œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê¹Œì§€ ê±°ìŠ¬ëŸ¬ ì˜¬ë¼ê°€ë„ë¡ í•œë‹¤ ë¨¼ì € Sum ë¶€í„° ê³ ì¹œë‹¤ 12345678910111213public class Sum implements Expression &#123; // 1 public Expression augend; public Expression addend; // 2 public Sum(Expression augend, Expression addend) &#123; this.augend = augend; this.addend = addend; &#125; // ...&#125; ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ íƒ€ì…ì„ ê³ ì¹˜ê³ , íŒŒë¼ë¯¸í„° íƒ€ì…ë„ ë°”ê¾¼ë‹¤ ì´ì œ Sumì„ ì‚¬ìš©í•˜ëŠ” ê³³ì—ì„œëŠ” Expressionì„ ë°›ì„ ìˆ˜ ìˆë‹¤ Money.plus()ì˜ íŒŒë¼ë¯¸í„°ë¥¼ Expressionìœ¼ë¡œ ë°”ê¾¼ë‹¤. ë°”ê¾¸ëŠ” ê¹€ì— times()ì˜ ë°˜í™˜ íƒ€ì…ë„ ë°”ê¾¼ë‹¤ 1234567public Expression plus(Expression addend) &#123; return new Sum(this, addend);&#125;public Expression times(int multiplier) &#123; return new Money(amount * multiplier, currency);&#125; ì´ì œ ë‹¤ì‹œ testMixedAddition()ì˜ ì°¸ì¡°ë³€ìˆ˜ë“¤ì„ ë°”ê¾¼ë‹¤ 123456@Testpublic void testMixedAddition() &#123; Expression dollar = Money.dollar(5); Expression franc = Money.franc(10); // ...&#125; ì»´íŒŒì¼ëŸ¬ê°€ Expressionì— plus()ë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤ê³  ì•Œë ¤ì£¼ê³  ìˆë‹¤ ì»´íŒŒì¼ëŸ¬ì˜ ì§€ì‹œëŒ€ë¡œ ë”°ë¼ê°€ì 1234567891011121314// Expressionpublic interface Expression &#123; // ... Expression plus(Expression addend);&#125;// Money// ì´ë¯¸ êµ¬í˜„ë˜ì–´ ìˆìŒ// Sum@Overridepublic Expression plus(Expression addend) &#123; return null; // stub&#125; ì¶”ìƒí™” Expression.plus()ë¥¼ ëë§ˆì¹˜ë ¤ë©´ Sum.plusë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•œë‹¤ 12345678910111213@Testpublic void testSumPlusMoney() &#123; Expression dollar = Money.dollar(5); Expression franc = Money.franc(10); Bank bank = new Bank(); bank.addRate("CHF", "USD", 2); Expression sum = new Sum(dollar, franc).plus(dollar); Money result = bank.reduce(sum, "USD"); assertThat(result).isEqualTo(Money.dollar(15));&#125; í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í•˜ê²Œë” ì‘ì„±í•œë‹¤ 1234@Overridepublic Expression plus(Expression addend) &#123; return new Sum(this, addend);&#125; Moneyì™€ í˜•íƒœê°€ ë˜‘ê°™ì•„ì ¸ì„œ, ì¶”ìƒí´ë˜ìŠ¤ë¡œ ë¶„ë¦¬í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤ ì´ì œ Expression.timesë¥¼ ì‘ì„±í•´ì•¼ í•œë‹¤ Sum.timesë¥¼ ì‘ì„±í•œë‹¤ë©´ Expression.timesë¥¼ ì„ ì–¸í•˜ëŠ” ì¼ì€ ì–´ë µì§€ ì•Šì„ ê²ƒ ê°™ë‹¤ Sum.timesì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•œë‹¤ 12345678910111213@Testpublic void testSumTimes() &#123; Expression dollar = Money.dollar(5); Expression franc = Money.franc(10); Bank bank = new Bank(); bank.addRate("CHF", "USD", 2); Expression sum = new Sum(dollar, franc).times(2); Money result = bank.reduce(sum, "USD"); assertThat(result).isEqualTo(Money.dollar(20));&#125; Expressionì— times ë©”ì„œë“œë¥¼ ì„ ì–¸í•˜ê³ , Sumì—ë„ timesë¥¼ ì‘ì„±í•œë‹¤ 123456789interface Expression &#123; // ... Expression times(int multiplier);&#125;@Overridepublic Expression times(int multiplier) &#123; return new Sum(augend.times(multiplier), addend.times(multiplier));&#125; ë‚œ ì‚¬ì‹¤ ì´ ì¥ì´ ì˜ ì´í•´ë˜ì§€ ì•ŠëŠ”ë‹¤â€¦]]></content>
      <categories>
        <category>tdd</category>
      </categories>
      <tags>
        <tag>í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[tdd] TDDë¡œ í™”í ê°œë°œí•˜ê¸°(2)]]></title>
    <url>%2Ftdd%2FTDD%EB%A1%9C-%ED%99%94%ED%8F%90-%EA%B0%9C%EB%B0%9C%ED%95%98%EA%B8%B0-2%2F</url>
    <content type="text"><![CDATA[ì´ë²ˆ ì˜ˆì œëŠ” ì•„ë˜ì˜ ê²ƒë“¤ì„ ì„¤ëª…í•´ì£¼ê³  ìˆë‹¤ í° ë‹¨ìœ„ì˜ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ê²Œ ì ‘ê·¼í•˜ëŠ” ë°©ë²• í…ŒìŠ¤íŠ¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìˆ˜ì›”í•˜ê²Œ ë¦¬íŒ©í† ë§ í•˜ëŠ” ë°©ë²• ì¤‘ë³µë˜ëŠ” ë‘ í´ë˜ìŠ¤ì˜ í˜•íƒœë¥¼ ë™ì¼í•˜ê²Œ ë°”ê¾¼ ë’¤ ìƒìœ„ í´ë˜ìŠ¤ë¡œ ì˜¬ë¦¬ê¸°(push up) í•´ê²°ë²•ì´ ë³´ì´ì§€ ì•Šì„ë•Œ ë‹¤ì‹œ ë˜ëŒì•„ê°€ì„œ ì‹œë„í•˜ëŠ” ë°©ë²• í° ë‹¨ìœ„ì˜ ì‘ì—…ì— ì ‘ê·¼í•˜ê¸° ì´ì œ ì²˜ìŒì— ë³µì¡í•´ë³´ì—¬ì„œ ì‹œë„í•˜ì§€ ëª»í–ˆë˜ $5 + 10CHF = $10(í™˜ìœ¨ì´ 2:1ì¼ ê²½ìš°) ì„ ì‘ì„±í•´ë³´ì ì•Œë‹¤ì‹œí”¼ ì´ ìš”êµ¬ì‚¬í•­ì˜ ê²½ìš° í…ŒìŠ¤íŠ¸ ë‹¨ìœ„ê°€ í¬ë‹¤ ìš°ë¦¬ëŠ” ì´ë ‡ê²Œ í° í…ŒìŠ¤íŠ¸ë¥¼ ê³µëµí•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ì§„ì „ì„ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆëŠ” ì‘ì€ í…ŒìŠ¤íŠ¸ë¥¼ ë§Œë“¤ì–´ì•¼ í•œë‹¤ ì¼ë‹¨ ë­ ì˜ ëª¨ë¥´ê² ê³ , ë‹¤ì‹œ ë³´ë‹ˆ Dollarì™€ ë¹„ìŠ·í•˜ê²Œ Francì´ í•„ìš”í•´ë³´ì´ë‹ˆ ì¶”ê°€í•´ë³´ì 1234567891011121314// FrancTest@Testpublic void testMultiplication() &#123; Franc five = new Franc(5); assertThat(five.times(2)).isEqaulTo(new Franc(10)); assertThat(five.times(3)).isEqaulTo(new Franc(15));&#125;@Testpublic void testEquality() &#123; assertThat(new Franc(5)).isEqualTo(new Franc(5)); assertThat(new Franc(5)).isNotEqualTo(new Franc(6));&#125; ì•Œë‹¤ì‹œí”¼ ì´ í…ŒìŠ¤íŠ¸ë¥¼ ë¹¨ë¦¬ ì´ˆë¡ë§‰ëŒ€ì— ë„ë‹¬í•˜ê²Œ í•´ì•¼í•œë‹¤ ê°€ì¥ ë¹ ë¥¸ ë°©ë²•ì€ Dollarë¥¼ ë³µì‚¬íˆì—¬ Francì„ ë§Œë“œëŠ” ê²ƒì´ë‹¤(ë­ í…ŒìŠ¤íŠ¸ë„ ë³µì‚¬í•œ ë§ˆë‹¹ì—â€¦) ë³µì‚¬ ë¶™ì—¬ë„£ê¸°ë¼ë‹ˆ, êµ‰ì¥íˆ ì´ìƒí•´ë³´ì¼ ìˆ˜ ìˆë‹¤ í•˜ì§€ë§Œ ì•Œë‹¤ì‹œí”¼ 5ë‹¨ê³„(ì¤‘ë³µì œê±°)ì—ì„œ ë‹¤ ìˆ˜ì •í•˜ë©´ ëœë‹¤ 4ë‹¨ê³„ê¹Œì§€ëŠ” ì„¤ê³„ë³´ë‹¤ ì†ë„ê°€ ë” ì¤‘ìš”í•˜ê³ , ê·¸ê²ƒì„ ìœ„í•´ì„  ì–´ë–¤ ì£„ì•…ë„ ì €ì§€ë¥¼ ìˆ˜ ìˆë‹¤ ë¬¼ë¡  5ë‹¨ê³„ì—ì„œ ì´ ì£„ì•…ì„ ìˆ˜ìŠµí•˜ì§€ ì•Šê³ ëŠ” ë‹¤ìŒ ë‹¨ê³„ë¡œ ë‚˜ì•„ê°ˆ ìˆ˜ ì—†ë‹¤ ì—¬ê¸°ì„œ ì ì ˆí•œ ì„¤ê³„ë¥¼ í•˜ê³ , ëŒì•„ê°€ê²Œ ë§Œë“¤ê³ , ì˜¬ë°”ë¥´ê²Œ ë§Œë“¤ì–´ì•¼ í•œë‹¤ ì£„ë¥¼ ìˆ˜ìŠµí•˜ì ì¤‘ë³µì„ ì œê±°í•˜ê¸° ìœ„í•œ ë°©ë²•ì€ ë­ê°€ ìˆì„ê¹Œ? ë‘ í´ë˜ìŠ¤ì˜ ê³µí†µëœ ìƒìœ„ í´ë˜ìŠ¤ë¥¼ ì¶”ì¶œí•´ë³´ëŠ”ê±´ ì–´ë–¨ê¹Œ? ë¨¼ì € Dollar ë¶€í„° ì ìš©ì‹œì¼œë³´ì ë¨¼ì € Dollarì™€ Francì˜ ê³µí†µ í´ë˜ìŠ¤ë¡œ Moneyë¼ëŠ” ì• ë¥¼ ë§Œë“¤ê³ , ì´ë¥¼ ìƒì†ë°›ê²Œ í•œë‹¤ 123456class Money&#123;&#125;class Dollar extends Money &#123; private int amount; // ...&#125; amount ë³€ìˆ˜ë¥¼ Moneyë¡œ ì˜¬ë¦¬ê³ (protected), Dollarì—ì„œ amount ë³€ìˆ˜ë¥¼ ì œê±°í•  ìˆ˜ ìˆë‹¤ 1234567class Money&#123; protected int amount;&#125;class Dollar extends Money &#123; // ...&#125; ì´ì œ equals ë¶€ë¶„ì„ Moneyë¡œ ì˜¬ë ¤ë³¼ ìˆ˜ ìˆë‹¤ ìš°ì„  equals ë¶€ë¶„ì„ Moneyì— ë§ì¶° ë³€ê²½í•˜ê³  1234public boolean equals(Object object) &#123; Money money = (Money) object; return amount == money.amount;&#125; Money í´ë˜ìŠ¤ë¡œ ì˜¬ë¦°ë‹¤ Dollarì—ì„œ equalsëŠ” ì‚­ì œí•œë‹¤ ê° ê³¼ì •ì„ ì§„í–‰í• ë•Œë§ˆë‹¤ ê³„ì† í…ŒìŠ¤íŠ¸ë¥¼ ëŒë¦¬ë©´ì„œ ì§„í–‰í–ˆê³ , ìˆ˜ì›”í•˜ê²Œ ë¦¬íŒ©í† ë§ í•  ìˆ˜ ìˆì—ˆë‹¤ ì´ì œ Francë„ ë˜‘ê°™ì´ ì§„í–‰í•  ê²ƒì´ë‹¤ ì•„ê¹Œ DollerTestë¥¼ ë³µì‚¬í•´ì„œ FranTestë¥¼ ë§Œë“¤ì–´ì¤¬ê¸° ë•Œë¬¸ì— Franc ë˜í•œ Dollar ì²˜ëŸ¼ ìˆ˜ì›”í•˜ê²Œ ë¦¬íŒ©í† ë§ì´ ê°€ëŠ¥í•˜ë‹¤ ë§Œì•½ Francì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ë¥¼ ì¶”ê°€í•˜ì§€ ì•Šì•˜ë‹¤ë©´ ë¼íŒ©í† ë§ ì „ì— ì¶”ê°€í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤ (ì´ ì™¸ì—ë„ ìˆì–´ì•¼ í•  ê²ƒ ê°™ì€ í…ŒìŠ¤íŠ¸ê°€ ìˆë‹¤ë©´ ì‘ì„±í•´ì¤˜ì•¼ í•œë‹¤) ê·¸ë ‡ê²Œ í•˜ì§€ ì•Šìœ¼ë©´ ë¦¬íŒ©í† ë§ í•˜ë‹¤ê°€ ê²°êµ­ ë­”ê°€ êº íŠ¸ë¦´ ê²ƒì´ê³ , ë¦¬íŒ©í† ë§ì— ëŒ€í•´ ì•ˆì¢‹ì€ ëŠë‚Œì„ ê°–ê²Œ ë˜ê³ , ë¦¬íŒ©í† ë§ì„ ëœ í•˜ê²Œ ë˜ê³ , ì½”ë“œì˜ ì§ˆì´ ë–¨ì–´ì§€ê²Œ ë˜ê³ , í•´ê³ ë‹¹í•œë‹¤(!!!) ë˜ í•œë²ˆ ì°¾ì•„ì˜¨ ë¶ˆê¸¸í•œ ëŠë‚Œ ìš°ë¦¬ëŠ” ì• ë‹¨ê³„ì—ì„œ ë°°ì› ë‹¤ ë¶€ì‘ìš©ì— ëŒ€í•œ í˜ì˜¤ê°ì´ ìƒê¸°ëŠ” ê²½ìš°, ì¦‰ì‹œ í…ŒìŠ¤íŠ¸ë¥¼ ì¶”ê°€í•´ì„œ ê²°ê³¼ë¥¼ í™•ì¸í•´ë´ì•¼ í•œë‹¤ 123public void testEquality() &#123; assertThat(new Dollar(5)).isNotEqualTo(new Franc(5));&#125; í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•œë‹¤! ê·¸ë˜ë„ ë¶ˆì•ˆê°ì„ ëˆˆìœ¼ë¡œ í™•ì¸í•´ë³´ë‹ˆ ë§ˆìŒì´ í•œê²° í¸í•´ì¡Œë‹¤ ì´ ë¶€ë¶„ì€ ê°ì²´ì˜ í´ë˜ìŠ¤ë¥¼ ë¹„êµí•¨ìœ¼ë¡œì¨ ê°„ë‹¨í•˜ê²Œ êµ¬í˜„ê°€ëŠ¥í•˜ë‹¤ 12345public boolean equals(Object object) &#123; Money money = (Money) object; return amount == money.amount &amp;&amp; getClass() == money.getClass();&#125; ê°„ë‹¨í•˜ê²Œ í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼ì‹œì¼°ë‹¤ í´ë˜ìŠ¤ íƒ€ì… ë¹„êµë¡œ í†µí™”ë¥¼ ë¹„êµí•œë‹¤ëŠ”ê²Œ ì¡°ê¸ˆ ê·¸ë ‡ê¸´í•˜ì§€ë§Œ ì¼ë‹¨ì€ ê·¸ëƒ¥ ë„˜ì–´ê°„ë‹¤ ë” ë§ì€ ë™ê¸°ê°€ ìˆê¸° ì „ì—ëŠ” ë” ë§ì€ ì„¤ê³„ë¥¼ í•˜ì§€ ì•ŠëŠ”ê²ƒì´ ì¢‹ë‹¤ í•˜ìœ„í´ë˜ìŠ¤ë¥¼ ì—†ì• ê¸° ìœ„í•œ ì‹œë„ - ì§ì ‘ ì°¸ì¡° ì œê±° ìƒìœ„ í´ë˜ìŠ¤ ì¶”ì¶œì´ ì„±ê³µí–ˆìœ¼ë‹ˆ, ë‚¨ì•„ìˆëŠ” times() ë©”ì„œë“œì˜ ë¦¬í„´íƒ€ì…ë„ ìƒìœ„ í´ë˜ìŠ¤ë¡œ ë³€ê²½í•´ë„ ê´œì°®ê² ë‹¤ 1234567891011class Dollar &#123; Money times(int multiplier) &#123; return new Dollar(amount * multiplier); &#125;&#125;class Franc &#123; Money times(int multiplier) &#123; return new Franc(amount * multiplier); &#125;&#125; ì´ì¯¤ë˜ë‹ˆ ë‘ í•˜ìœ„ í´ë˜ìŠ¤ì˜ í˜•íƒœê°€ ë§ì´ ë¹„ìŠ·í•´ì¡Œë‹¤ ë°”ë¡œ ì œê±°í•˜ëŠ” í…Œí¬ë¥¼ íƒ€ê³  ì‹¶ê¸´í•˜ì§€ë§Œ, ê·¸ë ‡ê²Œ í•œë²ˆì— í° stepì„ ë°ŸëŠ”ê²ƒì€ ì¢€ ìœ„í—˜í•˜ê³  TDDì—ë„ ë§ì§€ ì•Šìœ¼ë‹ˆ ë‹¨ê³„ì ìœ¼ë¡œ ì§„í–‰í•˜ë„ë¡ í•œë‹¤ ì²«ë²ˆì§¸ ë‹¨ê³„ëŠ” í•˜ìœ„í´ë˜ìŠ¤ì— ëŒ€í•œ ì§ì ‘ì ì¸ ì°¸ì¡°ë“¤ì„ ì œê±°í•˜ëŠ” ê²ƒì´ë‹¤ new Dollar(5) ì™€ ê°™ì€ ê°•ë ¥í•œ ì§ì ‘ ì°¸ì¡°ë“¤ì„ ë¨¼ì € ì œê±°í•´ë³´ì ì§ì ‘ ì°¸ì¡°ë¥¼ ì œê±°í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ íŒ©í† ë¦¬ ë©”ì„œë“œë¥¼ ì¨ë³´ë©´ ì¢‹ì„ ê²ƒ ê°™ë‹¤ 123456789101112// DollarTest@Testpublic void testEquality() &#123; assertThat(Money.dollar(5)).isEqualTo(new Dollar(5)); assertThat(Money.dollar(5)).isNotEqualTo(new Dollar(6));&#125;public void testMultiplication() &#123; Dollar dollar = Money.dollar(5); assertThat(Money.dollar(10)).isEqualTo(dollar.times(2)); assertThat(Money.dollar(15)).isEqualTo(dollar.times(3));&#125; íŒ©í† ë¦¬ ë©”ì„œë“œëŠ” ì•„ë˜ì™€ ê°™ì´ ë§Œë“ ë‹¤ 123static Dollar dollar(int amount) &#123; return new Dollar(amount);&#125; times()ì˜ ì§ì ‘ ì°¸ì¡°ë„ ì œê±°í•˜ê³ , 123public Money times(Integer multiplier) &#123; return Money.dollar(amount * multiplier);&#125; Dollarì— ëŒ€í•œ ì°¸ì¡°ê¹Œì§€ ì œê±°í•´ì£¼ì 1234public void testMultiplication() &#123; Money money = Money.dollar(5); // ...&#125; Moneyì— timesê°€ ì—†ê¸° ë•Œë¬¸ì— ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤ ì´ë¥¼ ìœ„í•´ ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ í•˜ë‚˜ ì¶”ê°€í•´ì¤€ë‹¤(ë” ë¨¼ì €í•´ì•¼ í–ˆì„ìˆ˜ë„ ìˆì—ˆë‹¤) 123abstract class Money &#123; abstract Money times(int multiplier);&#125; ì´ì œ ì™„ë²½í•˜ê²Œ new Dollar()ë¥¼ íŒ©í† ë¦¬ ë©”ì„œë“œë¡œ ëŒ€ì²´í•  ìˆ˜ ìˆë‹¤ í•˜ìœ„ í´ë˜ìŠ¤ì˜ ì¡´ì¬ë¥¼ í…ŒìŠ¤íŠ¸ ë©”ì„œë“œì—ì„œ ë¶„ë¦¬(decoupling)í—€ìœ¼ë¯€ë¡œ, ì´ì œ í…ŒìŠ¤íŠ¸ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šê³  ìƒì†êµ¬ì¡°ë¥¼ ë§ˆìŒê» ë³€ê²½í•  ìˆ˜ ìˆê²Œ ëœë‹¤ í…ŒìŠ¤íŠ¸ ë©”ì„œë“œë¿ ì•„ë‹ˆë¼ ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ ì½”ë“œì—ì„œë„ ì´ëŸ°ì‹ìœ¼ë¡œ ê²°í•©ë„ë¥¼ ë‚®ì¶”ë©´ ë³€í™”ì— ìœ ì—°í•´ì§„ë‹¤ ì´ì œ Francì— ëŒ€í•´ì„œë„ ë˜‘ê°™ì´ ì‘ì—…í•´ì¤€ë‹¤ ë˜‘ê°™ì´ ë³€ê²½í•´ë†“ê³  ë³´ë‹ˆ, DollarTestì™€ FrancTestì˜ í…ŒìŠ¤íŠ¸ë“¤ì˜ í˜•íƒœê°€ ë§¤ìš° ì¤‘ë³µë˜ì–´ ë³´ì¸ë‹¤ ë‚˜ëŠ” ì´ ì‹œì ì—ì„œ ë‘ í…ŒìŠ¤íŠ¸ë¥¼ í•©ì³ì„œ MoneyTestë¡œ ë§Œë“¤ì—ˆë‹¤ ì´ëŸ°ì‹ìœ¼ë¡œ í•˜ìœ„í´ë˜ìŠ¤ê°€ ë¶„ë¦¬ë˜ë‹¤ë³´ë©´ ëª‡ëª‡ í…ŒìŠ¤íŠ¸ê°€ ë¶ˆí•„ìš”í•œ ì—¬ë¶„ì˜ ê²ƒì´ ëœë‹¤ í•˜ìœ„í´ë˜ìŠ¤ë¥¼ ì—†ì• ê¸° ìœ„í•œ ì‹œë„ - ì¶”ìƒí™” times()ì˜ ëª¨ì–‘ì„ ê°™ê²Œ í•˜ë ¤ë©´ Money.dollarì™€ Money.francì„ ê°™ê²Œ ë§Œë“¤ì–´ì•¼í•œë‹¤ ê·¸ëŸ¬ë¯€ë¡œ ë‘˜ì„ ì¶”ìƒí™” í• ìˆ˜ìˆëŠ” ë­”ê°€ê°€ í•„ìš”í•˜ë‹¤ í†µí™”ë¼ëŠ” ê°œë…ì„ ë„ì…í•˜ë©´ ë­”ê°€ í•˜ìœ„ í´ë˜ìŠ¤ ì œê±°ì— ì¢€ ë” ê°€ê¹Œì›Œì§ˆ ê²ƒ ê°™ë‹¤ ë¨¼ì € í†µí™” ê°œë…ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ë³¸ë‹¤ 1234public void testCurrency() &#123; assertThat(Money.dollar(1).currency()).isEqualTo("USD"); assertThat(Money.franc(1).currency()).isEqualTo("CHF");&#125; í†µí™”ë¥¼ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ì— ì €ì¥í•˜ê³  ë©”ì„œë“œì—ì„œ ê·¸ê±¸ ë°˜í™˜í•´ì£¼ë©´ ë  ê²ƒ ê°™ë‹¤ (ì¢€ ë” step by stepìœ¼ë¡œ ê°ˆìˆ˜ë„ ìˆê¸´ í•˜ì§€ë§Œ ë°”ë¡œ ë– ì˜¤ë¥´ë‹ˆê¹ ë­) 1234567891011121314151617181920212223// Dollarprivate Strnig currency;public Dollar(int amount) &#123; this.amount = amount; currency = "USD";&#125;public String currency() &#123; return currency;&#125;// Francprivate String currency;public Franc(int amount) &#123; this.amount = amount; currecny = "CHF";&#125;public String currency() &#123; return currency;&#125; ë³€ìˆ˜ ì„ ì–¸ê³¼ currency() ë©”ì„œë“œê°€ ë™ì¼í•˜ë¯€ë¡œ, ì´ë¥¼ ìœ„ë¡œ ì˜¬ë¦´(push up) ìˆ˜ ìˆë‹¤(ì•¼í˜¸!) 123456// Moneyprotected String currency;String currency() &#123; return currency;&#125; Dollarì™€ Francì˜ ìƒì„±ìì—ì„œ currency ì„¸íŒ…í•˜ëŠ” ë¶€ë¶„ì„ íŒŒë¼ë¯¸í„°ë¡œ ë°›ê²Œí•˜ë©´ ë‘ ìƒì„±ìì˜ í˜•íƒœê°€ ë˜‘ê°™ì•„ì§ˆìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤ 123456// Dollarpublic Dollar(int amount, String currency) &#123; this.amount = amount; this.currency = currency;&#125;// Francë„ ë™ì¼ ì´ë ‡ê²Œ ë°”ê¿¨ë”ë‹ˆ ì•„ë˜ì˜ ë©”ì„œë“œê°€ ê¹¨ì§„ë‹¤(ã… ã… ) 1234567public static Dollar dollar(Integer amount) &#123; return new Dollar(amount);&#125;public static Franc franc(Integer amount) &#123; return new Franc(amount);&#125; ìš°ë¦° í•˜ìœ„í´ë˜ìŠ¤ì˜ í˜•íƒœë¥¼ ë§ì¶”ê³  push upì„ ì§„í–‰í•˜ëŠ” ì¤‘ì´ì—ˆëŠ”ë°, êµ¬ì¡°ìƒì˜ ë³€ê²½ìœ¼ë¡œ ì¸í•´ ì´ëŸ°ì‹ì˜ ìƒí™©ì´ ì¢…ì¢… ë°œìƒí• ë–„ê°€ ìˆë‹¤ ì´ëŸ´ë•ŒëŠ”, ì´ê±¸ ì§€ê¸ˆ ê³ ì³ì•¼í• ê¹Œ, ì•„ë‹ˆë©´ ë‚˜ì¤‘ì— ê³ ì³ì•¼í• ê¹Œ? êµë¦¬ìƒì€ í•˜ë˜ì¼ì„ ì¤‘ë‹¨í•˜ì§€ ì•Šê³  ë‹¤ ëë‚¸ ë‹¤ìŒì— ê³ ì¹˜ëŠ”ê²ƒì´ ë§ì§€ë§Œ, ì´ì •ë„ì˜ ì§§ì€ ì¤‘ë‹¨ì€ ê·¸ëƒ¥ ë°›ì•„ë“¤ì´ê³  ê°€ë„ ê´œì°®ë‹¤ ì¤‘ìš”í•œê²ƒì€ í•˜ë˜ ì¼ì„ ì¤‘ë‹¨í•˜ê³  ë‹¤ë¥¸ ì¼ì„ í•˜ëŠ” ìƒíƒœì—ì„œ ë˜ ê·¸ ì¼ì„ ì¤‘ë‹¨í•˜ë©´ ì•ˆëœë‹¤ëŠ” ê²ƒì´ë‹¤(Jim Coplien) 12345// Moneypublic static Money dollar(int amount) &#123; return new Dollar(amount, "USD");&#125;// Francë„ ë™ì¼ ì»´íŒŒì¼ ì—ëŸ¬ë¥¼ í•´ê²°í–ˆìœ¼ë‹ˆ ìœ„ë¡œ ì˜¬ë¦¬ì. 1234567891011121314// Moneypublic Money(int amount, String currency) &#123; this.amount = amount; this.currency = currency;&#125;// Dollarpublic Dollar(int amount, String currency) &#123; super(amount, currency);&#125;// Francpublic Franc(int amount, String currency) &#123; super(amount, currency);&#125; ìƒì„±ìë¥¼ ë°”ë¡œ ì œê±°í•˜ê³  ì‹¶ì—ˆìœ¼ë‚˜ ì•„ì§ Moneyê°€ ì¶”ìƒ í´ë˜ìŠ¤ë¼ ë¶ˆê°€ëŠ¥í•˜ë‹¤ timesë¥¼ ë¨¼ì € ì†ë´ì•¼í•œë‹¤ ì´ëŸ°ì‹ìœ¼ë¡œ ë‹¨ê³„ì ìœ¼ë¡œ ë°Ÿì•„ê°€ëŠ” ê³¼ì •ì´ ë‹µë‹µí• ìˆ˜ë„ ìˆë‹¤ ì¤‘ìš”í•œ ê²ƒì€ ì´ëŸ°ì‹ìœ¼ë¡œ ì¼í•´ì•¼ í•œë‹¤ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ì´ëŸ°ì‹ìœ¼ë¡œ ì¼í• ìˆ˜ë„ ìˆì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì´ë‹¤ ì¢…ì¢…ê±¸ìŒ stepì´ ë‹µë‹µí•˜ë©´ ì¡°ê¸ˆ ë³´í­ì„ ëŠ˜ë ¤ë„ ë˜ê³ , ì„±í¼ì„±í¼ ê±·ëŠ”ê²ƒì´ ë¶ˆì•ˆí•˜ë©´ ì¡°ê¸ˆ ë³´í­ì„ ì¤„ì´ë©´ ëœë‹¤ TDDë€ ì¡°ì¢…í•´ë‚˜ê°€ëŠ” ê³¼ì •ì´ë‹¤. ì˜¬ë°”ë¥¸ ë³´í­ì´ë€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ ë‹¤ì‹œ ëŒì•„ê°€ì„œ ìƒê°ì„â€¦ times() ë©”ì„œë“œë¥¼ ë°”ë¡œ ìœ„ë¡œ ì˜¬ë ¤ë³´ë ¤ê³  í–ˆëŠ”ë°, ìƒê¹€ìƒˆê°€ ì¢€ ë§‰ë§‰í•˜ë‹¤ 123456789// Dollarpublic Money times(Integer multiplier) &#123; return Money.dollar(amount * multiplier);&#125;// Francpublic Money times(Integer multiplier) &#123; return Money.franc(amount * multiplier);&#125; ì˜ ëª¨ë¥´ê² ìœ¼ë‹ˆ íŒ©í† ë¦¬ ë©”ì„œë“œë¥¼ ë‹¤ì‹œ ìƒì„±ìë¡œ ëŒë ¤ë³´ì (ì´ë ‡ê²Œ ë°©ë²•ì´ ì—†ì„ë• ì ì‹œ í›„í‡´í•´ì„œ ë³´ëŠ”ê²ƒë„ ë°©ë²•ì´ë‹¤) (+ ì—¬ê¸°ì„œ currencyëŠ” í´ë˜ìŠ¤ì— ìˆëŠ” ê°’ì„ ë°”ë¡œ ì“°ë„ë¡ í•œë‹¤. êµ³ì´ íŒŒë¼ë¯¸í„°ë¡œ ë˜ ì „ë‹¬í•  í•„ìš” ì—†ë‹¤) 123456789// Dollarpublic Money times(Integer multiplier) &#123; return new Dollar(amount * multiplier, currency);&#125;// Francpublic Money times(Integer multiplier) &#123; return new Franc(amount * multiplier, currency);&#125; ì´ë ‡ê²Œ ëŒë ¤ë†“ìœ¼ë‹ˆ ì¢€ ë³´ì´ëŠ”ê²ƒ ê°™ë‹¤ Dollarë‚˜ Francìœ¼ë¡œ ìƒì„±í•˜ëŠëƒëŠ” ë³„ë¡œ ì¤‘ìš”í•œ ê²ƒ ê°™ì§€ê°€ ì•Šë‹¤. ì–´ì©Œí”¼ currencyê°€ ìˆëŠ”ë° êµ³ì´ ë­í•˜ëŸ¬. ì €ê±¸ Moneyë¡œ ë°”ê¿”ë³´ì. 12345// Dollarpublic Money times(Integer multiplier) &#123; return new Money(amount * multiplier, "CHF");&#125;// Franc Moneyë¥¼ êµ¬í˜„ í´ë˜ìŠ¤ë¡œ ë§Œë“¤ì–´ì•¼ í•˜ë¯€ë¡œ, ì¶”ìƒ ë©”ì„œë“œë¥¼ ì œê±°í•œë‹¤ 1234// Moneypublic Money times(Integer multiplier) &#123; return null;&#125; ì´ë ‡ê²Œ í•˜ê³  í…ŒìŠ¤íŠ¸ë¥¼ ëŒë ¸ë”ë‹ˆ, Money í´ë˜ìŠ¤ê°€ Dollar í´ë˜ìŠ¤ê°€ ì•„ë‹ˆë¼ëŠ”ë‘¥, Money í´ë˜ìŠ¤ê°€ Franc í´ë˜ìŠ¤ê°€ ì•„ë‹ˆë¼ëŠ” ë‘¥ì˜ ê²°ê³¼ê°€ ì¶œë ¥ëœë‹¤ ì´ ë§ì¸ ì¦‰, ë¬¸ì œëŠ” equalsì— ìˆì—ˆë˜ ê²ƒì´ë‹¤. ë¹„êµí•´ì•¼ ë  ê²ƒì€ í´ë˜ìŠ¤ê°€ ì•„ë‹ˆë¼ currencyì´ë‹¤ ì´ë¥¼ ìœ„í•´ ì¶”ê°€ì ì¸ í…ŒìŠ¤íŠ¸ê°€ ì‘ì„±ë˜ì–´ì•¼í•˜ëŠ”ë°, í˜„ì¬ ë¹¨ê°„ë§‰ëŒ€ ìƒíƒœì´ë‹¤ ë¹¨ê°„ ë§‰ëŒ€ ìƒíƒœì¼ë•ŒëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ì¶”ê°€í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ë‹¤ ì¢€ ë³´ìˆ˜ì ì´ê¸´ í•˜ì§€ë§Œ, ë‹¤ì‹œ Dollarì™€ Francì˜ new Moneyë¥¼ new Dollar, new Francìœ¼ë¡œ ëŒë¦°ë‹¤ ê·¸ë¦¬ê³  í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•œë‹¤ 1234@Testpublic void testDifference() &#123; assertThat(new Money(5, "USD")).isEqualTo(new Dollar(5, "USD"));&#125; ì´ í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼ì‹œí‚¤ê¸° ìœ„í•´ equalsë¥¼ ë³€ê²½í•œë‹¤ 12345public boolean equals(Object obj) &#123; Money money = (Money) obj; return amount.equals(money.amount) &amp;&amp; currency().equals(money.currency());&#125; í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í•˜ë‹ˆ, ë‹¤ì‹œ timesì˜ new Dollar, new Francì„ new Moneyë¡œ ë°”ê¾¼ë‹¤ ì´ í…ŒìŠ¤íŠ¸ ë˜í•œ ì˜ í†µê³¼í•˜ê³ , ì´ì œ timesì˜ í˜•íƒœê°€ ê°™ì•„ì¡Œìœ¼ë‹ˆ push up í•  ìˆ˜ ìˆë‹¤!! ë’¤ë¡œ ëŒì•„ê°€ì§€ ì•Šì•˜ë‹¤ë©´ ì´ì²˜ëŸ¼ íŒ©í† ë¦¬ ë©”ì„œë“œ ì‚¬ìš©ì„ ì œê±°í•  ìˆ˜ ìˆë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œê¸° í˜ë“¤ì—ˆì„ ê²ƒì´ë‹¤ í•˜ìœ„í´ë˜ìŠ¤ë¥¼ ì—†ì• ê¸° ìœ„í•œ ì‹œë„ - ë‚˜ë¨¸ì§€ ë¶€ë¶„ ì œê±° ì´ì œ ë‘ í´ë˜ìŠ¤ì— ë‚¨ì€ê±´ ìƒì„±ìë°–ì— ì—†ë‹¤ ë‹¨ì§€ ìƒì„±ì ë•Œë¬¸ì— í•˜ìœ„í´ë˜ìŠ¤ë¥¼ ë‚¨ê²¨ë†“ì„ìˆ˜ëŠ” ì—†ìœ¼ë‹ˆ, ì œê±°í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤ ìœ ì¼í•˜ê²Œ ë‚¨ì•„ìˆëŠ” í•˜ìœ„ í´ë˜ìŠ¤ ì§ì ‘ ì°¸ì¡°ì¸ ì •ì  íŒ©í† ë¦¬ ë©”ì„œë“œë¥¼ ìˆ˜ì •í•˜ì 1234567public static Money dollar(Integer amount) &#123; return new Money(amount, "USD");&#125;public static Money franc(Integer amount) &#123; return new Money(amount, "CHF");&#125; ì´ì œ ì™„ë²½í•˜ê²Œ ì œê±°í•˜â€¦ë ¤ê³  í•˜ëŠ”ë°, ìƒê°í•´ë³´ë‹ˆ ì•„ì§ ì§ì ‘ ì°¸ì¡°ê°€ í•œêµ°ë° ë” ë‚¨ì•„ìˆë‹¤ 1234@Testpublic void testDifference() &#123; assertThat(new Money(5, "USD")).isEqualTo(new Dollar(5, "USD"));&#125; ë³´ë‹ˆê¹Œ ì´ í…ŒìŠ¤íŠ¸ëŠ” ì´ë¯¸ ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ì—ì„œ ìˆ˜í–‰í•˜ê³  ìˆëŠ” ì‘ì—…ë“¤ì´ë‹¤. ì œê±°í•˜ì. ì´ë¡œ ì¸í•´ ìµœì¢…ì ìœ¼ë¡œ í•˜ìœ„ í´ë˜ìŠ¤ë¥¼ ì „ë¶€ ì œê±°í•  ìˆ˜ ìˆê²Œëœë‹¤!!]]></content>
      <categories>
        <category>tdd</category>
      </categories>
      <tags>
        <tag>í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[tdd] TDDë¡œ í™”í ê°œë°œí•˜ê¸°(1)]]></title>
    <url>%2Ftdd%2FTDD%EB%A1%9C-%ED%99%94%ED%8F%90-%EA%B0%9C%EB%B0%9C%ED%95%98%EA%B8%B0-1%2F</url>
    <content type="text"><![CDATA[ì´ë²ˆ ì˜ˆì œëŠ” ì•„ë˜ì˜ ê²ƒë“¤ì„ ì„¤ëª…í•´ì£¼ê³  ìˆë‹¤ ì²˜ìŒ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ê³ , ì£¼ê¸°ë¥¼ ì™„ì„±í•˜ëŠ” ë°©ë²• ë¶ˆê¸¸í•œ ì˜ˆê°ì„ ì¶”ê°€í•´ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ë‹¨ë‹¨í•˜ê²Œ í•˜ëŠ” ë°©ë²• í”„ë¡œë•ì…˜ êµ¬í˜„ì„ ì–´ë–»ê²Œ í•´ì•¼í• ì§€ ëª¨ë¥´ê² ì„ ë•Œ ì‚¼ê°ì¸¡ëŸ‰ì„ ì´ìš©í•˜ëŠ” ë°©ë²• ì½”ë“œë‚˜ í…ŒìŠ¤íŠ¸ê°€ ë¦¬íŒ©í† ë§ë˜ë©´ì„œ ê°ì¶°ë„ ë˜ëŠ” ë³€ìˆ˜ë¥¼ private ìœ¼ë¡œ ê°ì¶”ëŠ” ë°©ë²• TDD ì£¼ê¸° ë§Œë“¤ê¸° ìš”êµ¬ì‚¬í•­(ì‘ì—…í•´ì•¼ í•  ëª©ë¡)ì„ ë‚˜ì—´í•œë‹¤ í†µí™”ê°€ ë‹¤ë¥¸ ë‘ ê¸ˆì•¡ì„ ë”í•œ ê¸ˆì•¡(ì£¼ì–´ì§„ í™˜ìœ¨ì— ë§ê²Œ)ì„ ê²°ê³¼ë¡œ ì–»ì„ ìˆ˜ ìˆì–´ì•¼í•œë‹¤ ì–´ë–¤ ê¸ˆì•¡ì„ ì–´ë–¤ ìˆ˜ì— ê³±í•œ ê¸ˆì•¡ì„ ê²°ê³¼ë¡œ ì–»ì„ ìˆ˜ ìˆì–´ì•¼í•œë‹¤ ìš”êµ¬ì‚¬í•­ì„ ë³´ê³  í• ì¼ ëª©ë¡ì„ ì‘ì„±í•œë‹¤ $5 + 10CHF = $10(í™˜ìœ¨ì´ 2:1ì¼ ê²½ìš°) $5 x 2 = $10 Dollar ë¶€ì‘ìš©(side effect?) ë“±ë“±ë“± ì´ì¤‘ ê°„ë‹¨í•œ ê²ƒ ë¶€í„° ì‹œì‘í•œë‹¤ ë³µì¡í•œ ê²ƒì€ ì‘ê²Œ ë‚˜ëˆ ì„œ ì‹œì‘í•˜ë˜ì§€, ì•„ì˜ˆ ì†ì„ ëŒ€ì§€ ì•ŠëŠ”ê²ƒì´ ì¢‹ë‹¤ ì—¬ê¸°ì„œëŠ” $5 x 2 = $10 ë¶€í„° ì‹œì‘í•œë‹¤ í•„ìš”í•  í…ŒìŠ¤íŠ¸ë¥¼ ìƒê°í•´ë³´ê³ , ì‘ì„±í•œë‹¤ ì´ë•Œ í…ŒìŠ¤íŠ¸í•  ë©”ì„œë“œì˜ ì™„ë²½í•œ ì¸í„°í˜ì´ìŠ¤(í˜•íƒœ)ì— ëŒ€í•´ ìƒìƒí•´ë³´ëŠ” ê²ƒì´ ì¢‹ë‹¤ ê°€ëŠ¥í•œ ìµœì„ ì˜ APIì—ì„œ ì‹œì‘í•´ì„œ ê±°ê¾¸ë¡œ ì‘ì—…í•˜ëŠ” ê²ƒì´ ì• ì´ˆë¶€í„° ì¼ì„ ë³µì¡í•˜ê³  ë³´ê¸° í‰í•˜ë©° í˜„ì‹¤ì ì´ê²Œ í•˜ëŠ” ê²ƒë³´ë‹¤ ë‚«ë‹¤ 123456@Testpublic void testMultiplication() &#123; Dollar five = new Dollar(5); five.times(2); assertThat(five.amount).isEqaulTo(10);&#125; Dollar í´ë˜ìŠ¤, ë‚´ë¶€ ë©”ì„œë“œë“¤ì´ êµ¬í˜„ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ì»´íŒŒì¼ë¶€í„° ì‹¤íŒ¨í•˜ë¯€ë¡œ, ì´ë¥¼ í•´ê²°í•œë‹¤ Dollar í´ë˜ìŠ¤ ìƒì„± ìƒì„±ì ìƒì„± times(int) ìƒì„± amount í•„ë“œ ìƒì„± 1int amount; ì»´íŒŒì¼ë§Œ ë  ìˆ˜ ìˆê²Œ ìµœì†Œí•œì˜ êµ¬í˜„ë§Œ í•´ì„œ, expected/actual ì„ ë°˜í™˜í•˜ëŠ” í˜•íƒœê°€ ë˜ë„ë¡ ë¹¨ë¦¬ ë§Œë“ ë‹¤ í˜„ì¬ ìƒíƒœì—ì„œëŠ” exptected : 10, actual : 0 ì„ ë°˜í™˜í•˜ë©° í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•˜ì§€ë§Œ, ì´ê²ƒë„ ì§„ì²™ì´ë‹¤(ì •í™•íˆ ë§Œì¡±ì‹œì¼œì•¼ í•  ìƒí™©ì„ ì•Œê²Œë˜ê¸° ë•Œë¬¸ì´ë‹¤) ì´ì œ ìŠ¤í…êµ¬í˜„(ë”ì°í•œ ì£„ì•…!)ì„ í†µí•´ í…ŒìŠ¤íŠ¸ë¥¼ ë§Œì¡±ì‹œí‚¨ë‹¤ 1int amount = 10; í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í•˜ë‹ˆ, ì´ì œ ë¦¬íŒ©í† ë§(ì¤‘ë³µ ì œê±°)í•´ì•¼í•œë‹¤ 10ì´ë¼ëŠ” ìˆ«ìëŠ” ì‚¬ì‹¤ ì´ˆê¸°ê°’ê³¼ ê³±í•˜ê³ ì í•˜ëŠ” ìˆ˜ê°€ ê°™ì´ ë“¤ì–´ê°€ìˆëŠ”, ì¤‘ë³µ ë°ì´í„°ì´ë‹¤ ì´ë¥¼ ë¶„ë¦¬í•œë‹¤ 1int amount = 5 * 2; ê·¸ë¦¬ê³  ë­â€¦ ì´ë ‡ê²Œ ì €ë ‡ê²Œí•´ì„œ ì•„ë˜ì™€ ê°™ì´ ì§„í–‰í•œë‹¤ 12345678// constructorDollar(int amount) &#123; this.amount = amount;&#125;void times(int multiplier) &#123; amount *= multiplier;&#125; ë‹¨ê³„ë“¤ì´ êµ‰ì¥íˆ ì‘ë‹¤ê³  ëŠê»´ì§ˆ ìˆ˜ ìˆëŠ”ë°, TDDì˜ í•µì‹¬ì€ ì‘ì€ ë‹¨ê³„ë¥¼ ë°Ÿì•„ì•¼ í•œë‹¤ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ì´ëŸ° ì‘ì€ ë‹¨ê³„ë¥¼ ë°Ÿì„ ëŠ¥ë ¥ì„ ê°–ì¶”ì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì´ë‹¤ ì‘ì€ ë‹¨ê³„ë¡œ ì‘ì—…í•˜ëŠ” ë°©ë²•ì„ ë°°ìš°ë©´, ì €ì ˆë¡œ ì ì ˆí•œ í¬ê¸°ì˜ ë‹¨ê³„ë¡œ ì‘ì—…í•  ìˆ˜ ìˆê²Œ ëœë‹¤ í•˜ì§€ë§Œ í° ë‹¨ê³„ë¡œë§Œ ì‘ì—…í–ˆë‹¤ë©´, ë” ì‘ì€ ë‹¨ê³„ê°€ ì ì ˆí•œ ê²½ìš°ì— ëŒ€í•´ ê²°ì½” ì•Œì§€ ëª»í•˜ê²Œ ëœë‹¤ ìœ„ ê³¼ì •ì—ì„œ ë³¼ ìˆ˜ ìˆëŠ” ì¼ë°˜ì ì¸ TDDì˜ ì£¼ê¸°ëŠ” ì•„ë˜ì™€ ê°™ë‹¤ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•œë‹¤ ë©”ì„œë“œ í˜•íƒœê°€ ì–´ë–¤ì‹ìœ¼ë¡œ ë‚˜íƒ€ë‚˜ê¸¸ ì›í•˜ëŠ”ì§€ ìƒê°í•´ë³¸ë‹¤ ì‹¤í–‰ ê°€ëŠ¥í•˜ê²Œ ë§Œë“ ë‹¤ ë‹¤ë¥¸ ë¬´ì—‡ë³´ë‹¤ë„ ì¤‘ìš”í•œ ê²ƒì€ ë¹¨ë¦¬ ì´ˆë¡ ë§‰ëŒ€ë¥¼ ë³´ëŠ” ê²ƒì´ë‹¤ ì—¬ê¸°ì„œ ì–´ë– í•œ ì£„ì•…ì„ ì €ì§ˆëŸ¬ë„ ìƒê´€ì—†ë‹¤ ë§Œì•½ ê¹”ë”í•˜ê³  ë‹¨ìˆœí•œ í•´ë²•ì´ ëª…ë°±íˆ ë³´ì¸ë‹¤ë©´ ê·¸ê²ƒì„ ì…ë ¥í•œë‹¤ êµ³ì´ ëŒì•„ê°ˆ í•„ìš”ëŠ” ì—†ë‹¤ ì˜¬ë°”ë¥´ê²Œ ë§Œë“ ë‹¤ ì´ì œ ì‹œìŠ¤í…œì´ ì‘ë™í•˜ë¯€ë¡œ(ì´ˆë¡ ë§‰ëŒ€!) ê·¸ ì „ì— ì €ì§ˆë €ë˜ ì£„ì•…ì„ ìˆ˜ìŠµí•´ì•¼ í•œë‹¤ ì£„ì•…ì„ ìˆ˜ìŠµí•˜ëŠ” ê³¼ì •ì€ ëŒ€ë¶€ë¶„ ì¤‘ë³µ ì œê±°ì´ë‹¤ ìš°ë¦¬ì˜ ëª©ì ì€ ë™ì‘í•˜ëŠ” ê¹”ë”í•œ ì½”ë“œë¥¼ ì–»ëŠ” ê²ƒì´ë‹¤ í•˜ì§€ë§Œ ì´ëŠ” ìµœê³ ì˜ í”„ë¡œê·¸ë˜ë¨¸ë“¤ë„ ë„ë‹¬í•˜ê¸° í˜ë“  ëª©í‘œì´ê³ , ìš°ë¦¬ê°™ì€ ì¼ë°˜ì ì¸ ì‚¬ëŒë“¤ì€ ê±°ì˜ ë¶ˆê°€ëŠ¥í•œ ì¼ì´ë‹¤ ê·¸ë˜ì„œ ë¶„í• í•˜ì—¬ ì •ë³µ(Divide and Conquer)ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤ ì¼ë‹¨ ì‘ë™í•˜ëŠ” ë¶€ë¶„ì„ ë¨¼ì € í•´ê²°í•˜ê³ , ê¹”ë”í•œ ì½”ë“œ ë¶€ë¶„ì„ í•´ê²°í•˜ëŠ” ê²ƒì´ë‹¤ ì•„í‚¤í…ì³ ì£¼ë„ ê°œë°œê³¼ ì • ë°˜ëŒ€ë‹¤ ë­”ê°€ ì´ìƒí•œ ê²ƒ ê°™ì€ë°? ë­”ê°€ ê¸°ì¡´ ì½”ë“œì— ì‚¬ì´ë“œ ì´í™íŠ¸ê°€ ìˆëŠ” ê²ƒ ê°™ìœ¼ë‹ˆ, ë¹ ë¥´ê²Œ í…ŒìŠ¤íŠ¸ë¥¼ ì¶”ê°€í•´ì„œ í™•ì¸í•´ë³´ì!! 12345678@Testpublic void testMultiplication() &#123; Dollar five = new Dollar(5); five.times(2); assertThat(five.amount).isEqaulTo(10); five.times(3); assertThat(five.amount).isEqaulTo(15);&#125; í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•œë‹¤. ì•Œë‹¤ì‹œí”¼ times ìˆ˜í–‰ë•Œë§ˆë‹¤ ë‚´ë¶€ amountê°€ ë³€ê²½ë˜ê¸° ë–„ë¬¸ì´ë‹¤ times() ë©”ì„œë“œì—ì„œ ë§¤ë²ˆ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ë°˜í™˜í•˜ê²Œ í•˜ë©´ ì´ ë¬¸ì œë¥¼ í•´ê²°ê°€ëŠ¥í•  ê²ƒ ê°™ë‹¤ ê·¼ë° ì´ë ‡ê²Œ ë³€ê²½í•˜ë ¤ë‹ˆ, í”„ë¡œë•ì…˜ ì½”ë“œì™€ í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ë‘˜ ë‹¤ ë³€ê²½ë˜ì–´ì•¼ í•œë‹¤ ë­”ê°€ ì£„ë¥¼ ì €ì§€ë¥¸ë“¯í•œ ê¸°ë¶„ì´ì§€ë§Œ, ê´œì°®ë‹¤ ì–´ë–¤ êµ¬í˜„ì´ ì˜¬ë°”ë¥¸ì§€ì— ëŒ€í•œ ìš°ë¦¬ ì¶”ì¸¡ì´ ì™„ë²½í•˜ì§€ ëª»í•œ ê²ƒê³¼ ë§ˆì°¬ê°€ì§€ë¡œ, ì˜¬ë°”ë¥¸ ì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•œ ì¶”ì¸¡ ì—­ì‹œ ì ˆëŒ€ ì™„ë²½í•˜ì§€ ëª»í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ê´œì°®ë‹¤. í…ŒìŠ¤íŠ¸ë¥¼ ë³€ê²½í•˜ì 123456789@Testpublic void testMultiplication() &#123; Dollar five = new Dollar(5); Dollar product = five.times(2); assertThat(product.amount).isEqaulTo(10); product = five.times(3); assertThat(product.amount).isEqaulTo(15);&#125; ê·¸ë¦¬ê³  ì˜¬ë°”ë¥´ë‹¤ê³  ìƒê°ë˜ëŠ” ì½”ë“œë¥¼ ë„£ê³ , í…ŒìŠ¤íŠ¸ë¥¼ ëŒë¦°ë‹¤ (ì§€ê¸ˆì€ ìš´ì´ ì¢‹ì•„ ëª…ë°±íˆ ì˜¬ë°”ë¥¸ ì½”ë“œê°€ ë– ì˜¬ëì§€ë§Œ, ë°”ë¡œ ë– ì˜¤ë¥´ì§€ ì•Šì„ë–„ëŠ” ìŠ¤í…ìœ¼ë¡œ êµ¬í˜„í•œë‹¤) 123Dollar times(int multiplier) &#123; return new Dollar(amount * multiplier);&#125; ì´ì²˜ëŸ¼ ëŠë‚Œ(ë¶€ì‘ìš©ì— ëŒ€í•œ í˜ì˜¤ê°)ì„ í…ŒìŠ¤íŠ¸ë¡œ ë³€í™˜í•˜ëŠ” ê²ƒì€ TDDì˜ ì¼ë°˜ì ì¸ ì£¼ì œì´ë‹¤ ì´ëŸ° ì‘ì—…ì„ ì˜¤ë˜ í• ìˆ˜ë¡ ëŠë‚Œ(ë¯¸ì  íŒë‹¨)ì„ í…ŒìŠ¤íŠ¸ë¡œ ë‹´ì•„ë‚´ëŠ” ê²ƒì— ì ì  ìµìˆ™í•´ì§€ê²Œ ëœë‹¤ ì‚¼ê°ì¸¡ëŸ‰ì„ ì´ìš©í•œ VO êµ¬í˜„ êµ¬í˜„í•´ë†“ê³  ë³´ë‹ˆ, new Dollar(5)ì™€ new Dollar(5)ê°€ ê°™ì•„ì•¼ í•  ê²ƒ ê°™ë‹¤ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•œë‹¤ 1234@Testpublic void testEquality() &#123; assertThat(new Dollar(5)).isEqualTo(new Dollar(5));&#125; ë¹ ë¥´ê²Œ í†µê³¼ì‹œì¼œë³´ì 1234@Overridepublic boolean equals(Object obj) &#123; return true;&#125; ì•Œë‹¤ì‹œí”¼ ì´ëŠ” ë”ì°í•œ ì£„ì•…ì´ë‹¤ ì–¼ë¥¸ ìˆ˜ì •í•´ì•¼í•˜ëŠ”ë°, ì–´ë–»ê²Œ êµ¬í˜„í•´ì•¼í• ì§€ ì˜ ëª¨ë¥´ê² ë‹¤(ì‚¬ì‹¤ì€ ì—¬ê¸°ëŠ” ë„ˆë¬´ ê°„ë‹¨í•´ì„œ ì˜ ì•Œì§€ë§Œ, ë­”ê°€ ë³µì¡í•œ ì½”ë“œë¼ê³  ìƒê°í•´ë³´ì) ì—¬ê¸°ì„œ ì‚¼ê°ì¸¡ëŸ‰ì„ ì´ìš©í•´ì„œ ë‹µì„ ë„ì¶œí•´ë‚¼ ìˆ˜ ìˆë‹¤ ì‚¼ê°ì¸¡ëŸ‰ì€ ì–´ë–¤ í•œ ì ì˜ ì¢Œí‘œì™€ ê±°ë¦¬ë¥¼ ì‚¼ê°í˜•ì˜ ì„±ì§ˆì„ ì´ìš©í•˜ì—¬ ì•Œì•„ë‚´ëŠ” ë°©ë²•ì´ë‹¤ ê°„ë‹¨í•˜ê²Œ ë§í•´ 2ê°œë¥¼ í†µí•´ ë‚˜ë¨¸ì§€ 1ê°œë¥¼ ì•Œì•„ë‚´ëŠ” ê²ƒ ì´ë‹¤ í…ŒìŠ¤íŠ¸ì— ì‚¼ê°ì¸¡ëŸ‰ì„ ë„ì…í•´ë³¸ë‹¤ 12345@Testpublic void testEquality() &#123; assertThat(new Dollar(5)).isEqualTo(new Dollar(5)); assertThat(new Dollar(5)).isNotEqualTo(new Dollar(6));&#125; amount 5ë¥¼ ê°€ì§„ Dollarì™€ amount 6ì„ ê°€ì§„ DollarëŠ” ê°™ì•„ì„œëŠ” ì•ˆëœë‹¤ amountë¥¼ ëŒ€ìƒìœ¼ë¡œ ë¹„êµí•˜ë©´ ë  ê²ƒ ê°™ë‹¤ 1234567@Overridepublic boolean equals(Object obj) &#123; Dollar dollar = (Dollar) obj; return amount == dollar.amount;&#125;// nullì´ë‚˜ ë‹¤ë¥¸ ê°ì²´ì— ëŒ€í•œ ê²€ì¦ë„ í•„ìš”í•˜ì§€ë§Œ // ë‹¹ì¥ì€ í•„ìš”í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ, ê°„ë‹¨íˆ ì–´ë””ì— ë©”ëª¨ë§Œ í•´ë‘ê³  ë„˜ì–´ê°„ë‹¤ ë³´ë‹¤ì‹œí”¼ 2ê°œì˜ í…ŒìŠ¤íŠ¸ë¥¼ ì´ìš©í•´ ì˜¬ë°”ë¥¸ í”„ë¡œë•ì…˜ ì½”ë“œë¥¼ ì•Œì•„ëƒˆë‹¤ ì‚¬ì‹¤ìƒ ìœ„ì˜ equals ì²˜ëŸ¼ ì‹œì‘ë¶€í„° ì¼ë°˜ì ì¸ í•´ë²•ì´ ë³´ì¼ ê²½ìš° ê·¸ëƒ¥ ê·¸ ë°©ë²•ëŒ€ë¡œ êµ¬í˜„í•˜ë©´ ëœë‹¤ ì´ ë°©ë²•ì€ ì„¤ê³„ë¥¼ ì–´ë–»ê²Œ í• ì§€ ë– ì˜¤ë¥´ì§€ ì•Šì„ë–„ ì‚¬ìš©í•´ë³´ë©´ ì¡°ê¸ˆ ë‹¤ë¥¸ ë°©í–¥ì—ì„œ ìƒê°í•´ë³¼ ê¸°íšŒë¥¼ ì œê³µí•´ì£¼ëŠ” ì—­í• ì„ í•œë‹¤ í…ŒìŠ¤íŠ¸ ë¦¬íŒ©í† ë§ Dollarì˜ ë™ì¹˜ì„±ì„ êµ¬í˜„í•˜ê³  ê¸°ì¡´ í…ŒìŠ¤íŠ¸ë¥¼ ë³´ë‹ˆ, í…ŒìŠ¤íŠ¸ê°€ ê·¸ê²ƒì„ ì •í™•íˆ ì–˜ê¸°í•´ì£¼ê³  ìˆì§€ ì•ŠëŠ”ê²ƒ ê°™ë‹¤ ë°”ê¿”ì£¼ì 123456789@Testpublic void testMultiplication() &#123; Dollar five = new Dollar(5); Dollar product = five.times(2); assertThat(product).isEqaulTo(new Dollar(10)); product = five.times(3); assertThat(product).isEqaulTo(new Dollar(15));&#125; ë¶ˆí•„ìš”í•œ ì„ì‹œë³€ìˆ˜(product)ë¥¼ ì¸ë¼ì¸ ì‹œí‚¤ëŠ” ë¦¬íŒ©í† ë§ì„ ì‹¤ì‹œí•œë‹¤ 1234567@Testpublic void testMultiplication() &#123; Dollar five = new Dollar(5); assertThat(five.times(2)).isEqaulTo(new Dollar(10)); assertThat(five.times(3)).isEqaulTo(new Dollar(15));&#125; ì´ì œ amount ë³€ìˆ˜ëŠ” Dollar ì—ì„œ ë°–ì— ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë‹ˆ privateìœ¼ë¡œ ì„ ì–¸í•œë‹¤ 1private int amount; ìœ„ ê³¼ì •ì—ì„œ ìš°ë¦¬ëŠ” ìœ„í—˜í•œ ìƒí™©ì„ ë§Œë“¤ì—ˆë‹¤ë¼ëŠ” ì ì„ ì¸ì§€í•´ì•¼ í•œë‹¤ Dollarì— ëŒ€í•œ ë™ì¹˜ì„± í…ŒìŠ¤íŠ¸(testEquality)ê°€ ì‹¤íŒ¨í•˜ë©´ ê³±í•˜ê¸° í…ŒìŠ¤íŠ¸(testMultiplication) ì—­ì‹œ ì‹¤íŒ¨í•˜ê²Œ ëœë‹¤ëŠ” ì ì´ë‹¤(í…ŒìŠ¤íŠ¸ê°„ ì˜ì¡´) ì´ê²ƒì€ TDDë¥¼ í•˜ë©´ì„œ ì ê·¹ì ìœ¼ë¡œ ê´€ë¦¬í•´ì•¼í•  ìœ„í—˜ ìš”ì†Œì´ë‹¤ ê·¼ë° ë­ ì–´ë–»ê²Œ í•˜ë¼ëŠ”ì§€ëŠ” ë”±íˆ ì•Œë ¤ì£¼ê³  ìˆì§„ ì•Šë„¤â€¦]]></content>
      <categories>
        <category>tdd</category>
      </categories>
      <tags>
        <tag>í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ</tag>
        <tag>TDD ì£¼ê¸°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[aws] AWS í”„ë¦¬í‹°ì–´(free-tier) ê³¼ê¸ˆ]]></title>
    <url>%2Faws%2FAWS-%ED%94%84%EB%A6%AC%ED%8B%B0%EC%96%B4-free-tier-%EA%B3%BC%EA%B8%88%2F</url>
    <content type="text"><![CDATA[ì–´ì œ ë°¤ì— ê°‘ìê¸° AWSì—ì„œ 29ë‹¬ëŸ¬ ì •ë„ê°€ ê²°ì œë˜ì–´ì„œ ê¸‰í•˜ê²Œ í™•ì¸í–ˆë”ë‹ˆ, í”„ë¦¬í‹°ì–´ ê¸°ê°„ì´ ëë‚˜ì„œ ê³¼ê¸ˆì´ ë˜ì—ˆì—ˆë‹¤â€¦ ì•„ë†”â€¦ ê·¸ë˜ì„œ ê·¸ ë‚´ìš©ì„ ì •ë¦¬í•˜ê³ ì í•œë‹¤ í”„ë¦¬í‹°ì–´? AWSëŠ” ê°€ì…ì‹œ 1ë…„ê°„ íŠ¹ì • ë¦¬ì†ŒìŠ¤ë“¤ì„ ë¬´ë£Œë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í”„ë¦¬ í‹°ì–´ ê¶Œí•œì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤ í”„ë¦¬í‹°ì–´ì—ì„œ 1ë…„ê°„ ë¬´ë£Œë¡œ ì‚¬ìš©ê°€ëŠ¥í•œ ë¦¬ì†ŒìŠ¤ë“¤ì€ ì•„ë˜ì™€ ê°™ë‹¤ https://aws.amazon.com/ko/free/?awsf.Free Tier Typeasdasds=categories%2312monthsfree&amp;awsm.page-all-free-tier=2 í”„ë¦¬í‹°ì–´ì¸ì§€ í™•ì¸í•˜ëŠ” ë²• AWS ë¡œê·¸ì¸ - ë‚´ ê²°ì œ ëŒ€ì‹œë³´ë“œ ë¡œ ì ‘ì†í•œë‹¤ ì²­êµ¬ì„œ íƒ­ì—ì„œ ë‚ ì§œ ë“œë¡­ë°•ìŠ¤ë¥¼ ë³´ê³  ì–¸ì œ ê°€ì…í–ˆëŠ”ì§€ ì•Œ ìˆ˜ ìˆë‹¤. ì—¬ê¸°ì„œ 1ë…„ì´ ì•„ì§ ì•ˆ ì§€ë‚¬ëŠ”ì§€ë¥¼ ì²´í¬í•´ë³´ë©´ ëœë‹¤. ëŒ€ì‹œë³´ë“œ í™ˆì—ì„œ ê²½ê³  ë° ì•ŒëŒ ë¶€ë¶„ì— free tier ê´€ë ¨ ë‚´ìš©ì´ ì¨ì ¸ìˆìœ¼ë©´ ì•„ì§ free tierë¼ëŠ” ì˜ë¯¸ì´ë‹¤ https://docs.aws.amazon.com/ko_kr/awsaccountbilling/latest/aboutv2/free-tier-eligibility.html ê³¼ê¸ˆì„ í•´ê²°í•˜ëŠ”ë²• í”„ë¦¬í‹°ì–´ ê¸°ê°„ì´ ì§€ë‚¬ìœ¼ë©´(í˜¹ì€ í”„ë¦¬í‹°ì–´ë¼ë„ ì¼ì • ìˆ˜ì¤€ ë„˜ìœ¼ë©´ ê³¼ê¸ˆë  ìˆ˜ ìˆìŒ) ê³¼ê¸ˆì´ ë  ë¦¬ì†ŒìŠ¤ë¥¼ ì •ë¦¬í•´ì•¼í•¨ ìœ„ì˜ 1ë…„ê°„ ë¬´ë£Œë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë¦¬ì†ŒìŠ¤ì™€ ì•„ë˜ ì •ë³´ë“¤ì„ ì¡°í•©í•´ì„œ ê³¼ê¸ˆ ëŒ€ìƒì¸ ë¦¬ì†ŒìŠ¤ë“¤ì„ ë‹¤ ì •ë¦¬í•´ì•¼í•¨ https://docs.aws.amazon.com/ko_kr/awsaccountbilling/latest/aboutv2/checklistforunwantedcharges.html ë‚´ ê²½ìš° EC2ì™€ RDSì—ì„œ ê³¼ê¸ˆì´ ë˜ê³  ìˆì—ˆìŒ RDS ë“¤ì–´ê°€ì„œ í•´ë‹¹ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚­ì œì‹œì¼°ê³ , EC2ì—ì„œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ terminated ì‹œì¼°ìŒ]]></content>
      <categories>
        <category>aws</category>
      </categories>
      <tags>
        <tag>AWS</tag>
        <tag>AWS í”„ë¦¬í‹°ì–´</tag>
        <tag>AWS í”„ë¦¬í‹°ì–´ ê³¼ê¸ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[tdd] ê°ì²´ì§€í–¥ ìŠ¤íƒ€ì¼]]></title>
    <url>%2Ftdd%2F%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5-%EC%8A%A4%ED%83%80%EC%9D%BC%2F</url>
    <content type="text"><![CDATA[ìš°ë¦¬ëŠ” ì‘ì„±í•˜ê¸° ì‰¬ìš´ ì½”ë“œë³´ë‹¤ëŠ” ìœ ì§€ë³´ìˆ˜í•˜ê¸° ì‰¬ìš´ ì½”ë“œë¥¼ ë†’ì´ í‰ê°€í•œë‹¤ ê°€ì¥ ì§ì ‘ì ì¸ ë°©ì‹ìœ¼ë¡œ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë©´ ì‹œìŠ¤í…œì˜ ìœ ì§€ë³´ìˆ˜ì„±ì´ ë–¨ì–´ì§ˆ ìˆ˜ ìˆê³ , ê·¸ëŸ¬ë©´ ì½”ë“œë¥¼ ì´í•´í•˜ê¸° ì–´ë ¤ì›Œì§€ê³  ì»´í¬ë„ŒíŠ¸ê°„ì— ë³´ì´ì§€ ì•ŠëŠ” ì˜ì¡´ì„±ì´ ìƒê¸°ê²Œ ëœë‹¤ í•˜ì§€ë§Œ ì•Œë‹¤ì‹œí”¼ ë‹¹ë©´í•œ ê´€ì‹¬ì‚¬ì™€ ì¥ê¸°ì ì¸ ê´€ì‹¬ì‚¬ê°„ì˜ ê· í˜•ì„ ìœ ì§€í•˜ëŠ” ì¼ì€ ê¹Œë‹¤ë¡œìš´ ë¬¸ì œì´ë‹¤ ìœ ì§€ ë³´ìˆ˜ì„±ì„ ê³ ë ¤í•œ ì„¤ê³„ ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬ ê´€ë ¨ëœ ë³€ê²½ì‚¬í•­ì´ ì „ë¶€ ì½”ë“œì˜ ì–´ëŠ í•œêµ°ë°ì— ë“¤ì–´ìˆë‹¤ë©´, ë­”ê°€ ë³€ê²½í•  ë•Œ ì½”ë“œì˜ ì—¬ëŸ¬ê³³ì„ ë³€ê²½í•˜ì§€ ì•Šì•„ë„ ëœë‹¤ í•˜ë‚˜ì˜ í´ë˜ìŠ¤ê°€ ì—¬ëŸ¬ ê´€ì‹¬ì‚¬ë¥¼ ê°€ì§€ê³  ìˆë‹¤ë©´, ë‹¤ë¥¸ í´ë˜ìŠ¤ì—ì„œë„ í•´ë‹¹ ê´€ì‹¬ì‚¬ë“¤ì„ ê°€ì§€ê³  ìˆì„ í™•ë¥ ì´ ë§¤ìš° ë†’ë‹¤ ì´ëŠ” ê°ê° íŠ¹ì • ê´€ì‹¬ì‚¬ë¡œ ë¶„ë¦¬ë˜ì–´ì•¼ í•˜ê³ , ë¶„ë¦¬ëœ ê´€ì‹¬ì‚¬ë“¤ì´ ì—¬ëŸ¬ê³³ì—ì„œ ì¬ì‚¬ìš© ë˜ì–´ì•¼ í•œë‹¤ ê·¸ëŸ¬ë©´ íŠ¹ì • ë³€ê²½ì‚¬í•­ì„ ì ìš©í•˜ê¸° ìœ„í•´ ì½”ë“œì˜ ì—¬ëŸ¬ê³³ì„ ìˆ˜ì •í•˜ëŠ” ìƒí™©ì„ ë§‰ì„ ìˆ˜ ìˆë‹¤ ìš°ë¦¬ëŠ” ë³€ê²½ì‚¬í•­(ìš”êµ¬ì‚¬í•­)ì„ ì˜ˆì¸¡í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ, ê°™ì€ ê´€ì‹¬ì‚¬ë“¤ì„ í•˜ë‚˜ì˜ í´ë˜ìŠ¤ë¡œ ëª¨ìœ¼ëŠ” ì—°ìŠµì„ ê³„ì†í•´ì„œ í•´ì•¼í•œë‹¤ e.g. ì¸í„°ë„· í‘œì¤€ í”„ë¡œí† ì½œë¡œ ì „ë‹¬ëœ ë©”ì‹œì§€ë¥¼ í‘¸ëŠ” ì½”ë“œëŠ” ê·¸ ë©”ì‹œì§€ë¥¼ í•´ì„í•˜ëŠ” ì½”ë“œì™€ ë˜‘ê°™ì€ ì´ìœ ë¡œ ë³€ê²½ë˜ì–´ì„œëŠ” ì•ˆë˜ë¯€ë¡œ, ë‘ ê°œë…ì„ ê°ê¸° ë‹¤ë¥¸ íŒ¨í‚¤ì§€ë¡œ ë‚˜ì›Œì•¼ í•œë‹¤ ë” ë†’ì€ ìˆ˜ì¤€ì˜ ì¶”ìƒí™” íë¦„ì„ ì§ì ‘ ì œì–´í•˜ê¸°ë³´ë‹¤ëŠ” í´ë˜ìŠ¤ë“¤ì„ ì¡°í•©í•˜ëŠ” ì‹ìœ¼ë¡œ í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ë©´ ë” ë§ì€ ì¼ì„ í•´ë‚¼ ìˆ˜ ìˆë‹¤ ì´ëŠ” ì‚¬ëŒë“¤ì´ ì‹ë‹¹ì—ì„œ ìŒì‹ì„ ì£¼ë¬¸í•  ë•Œ ì„¸ì„¸í•œ ì¡°ë¦¬ë²•ì„ ì„¤ëª…í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë©”ë‰´ë¥¼ ë³´ê³  ìŒì‹ì„ ì£¼ë¬¸í•˜ëŠ” ê²ƒê³¼ ê°™ë‹¤ ports &amp; adapter pattern http://getoutsidedoor.com/2018/09/03/ports-adapters-architecture/ https://dzone.com/articles/hexagonal-architecture-for-java ê¸°ìˆ ì ì¸ ë¶€ë¶„ì„ ì¸í„°í˜ì´ìŠ¤ë¡œ ë¶„ë¦¬í•´ì„œ ë³€ê²½ì„ ìš©ì´í•˜ê²Œ í•œë‹¤ ì •ë„ë¡œë§Œ ì´í•´í–ˆê³ , ì‹¤ì œ ì˜ˆì œë¥¼ ë³´ì§€ ëª»í•´ì„œ ì •í™•íˆ ì´í•´í•˜ì§€ ëª»í•˜ê² ë‹¤ ìº¡ìŠí™”ì™€ ì •ë³´ì€ë‹‰ ìº¡ìŠí™”ì™€ ì •ë³´ì€ë‹‰ì€ ë¹„ìŠ·í•´ë³´ì´ì§€ë§Œ ì„¤ê³„ì˜ í’ˆì§ˆì„ ë‚˜íƒ€ë‚¼ë•ŒëŠ” ë³„ê°œì˜ ê°œë…ì´ë‹¤ ìº¡ìˆ í™” https://javacan.tistory.com/entry/EncapsulationExcerprtFromJavaBook í•´ë‹¹ ê°ì²´ì˜ APIë¥¼ í†µí•´ì„œë§Œ ê°ì²´ì˜ í–‰ìœ„ë¥¼ ì¢Œìš°í•  ìˆ˜ ìˆë‹¤ ì™¸ë¶€ì—ì„œ ê°ì²´ì˜ ìƒíƒœë¥¼ ì§ì ‘ ì ‘ê·¼í•´ ë³€ê²½í•˜ê±°ë‚˜, ë¬´ì–¸ê°€ í–‰ìœ„ë¥¼ í•˜ëŠ”ê²ƒì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤ ì˜ˆìƒì¹˜ ëª»í•œ ì˜ì¡´ì„±ì´ ì—†ìŒì„ ë³´ì¥í•´ì¤Œìœ¼ë¡œì¨, í•œ ê°ì²´ì— ëŒ€í•œ ë³€ê²½ì´ ì‹œìŠ¤í…œì˜ ë‹¤ë¥¸ ë¶€ë¶„ì— ì˜í–¥ì„ ëœ ì£¼ê²Œë” í†µì œí•  ìˆ˜ ìˆë‹¤ ì˜ëª» ìº¡ìŠí™”ëœ ì½”ë“œë¥¼ í™œìš©í•  ê²½ìš° í•´ë‹¹ ì½”ë“œë¥¼ ì–´ë””ì„œ ì°¸ì¡°í•˜ëŠ”ì§€ ì°¾ì•„ë³´ê³ , ì ì¬ì  ì˜í–¥ë ¥ì„ ì¶”ì í•˜ëŠ”ë° êµ‰ì¥íˆ ë§ì€ ì‹œê°„ì„ ë³´ë‚´ê²Œ ëœë‹¤ ì •ë³´ ì€ë‹‰ í•´ë‹¹ ê°ì²´ì˜ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ ì¶”ìƒí™”ëœ API ë„ˆë¨¸ë¡œ ê°ì¶˜ë‹¤ e.g. ì •ë ¬ì´ë¼ëŠ” ë©”ì„œë“œê°€ ìˆìœ¼ë©´, ë‚´ë¶€ì—ì„œ ì–´ë–»ê²Œ ì •ë ¬ì„ ìˆ˜í–‰í•˜ëŠ”ì§€ ì™¸ë¶€ì—ì„œëŠ” ì•Œ í•„ìš”ê°€ ì—†ê²Œë” í•œë‹¤ í•˜ì§€ë§Œ ëŒ€ë¶€ë¶„ì˜ ê°ì²´ì§€í–¥ ì–¸ì–´ì—ì„œ ì œê³µí•˜ëŠ” ë³„ì¹­(aliasing)ì„ í†µí•´ ìº¡ìŠí™”ë¥¼ ìœ„ë°˜í•  ìˆ˜ ìˆë‹¤ ê´€ë ¨ì´ ì—†ëŠ” ë‘ í´ë˜ìŠ¤ë¥¼ ë¬¶ê±°ë‚˜, íŠ¹ì • í´ë˜ìŠ¤ë¥¼ wrapingí•œ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê³ , ê·¸ í´ë˜ìŠ¤ë¥¼ í†µí•´ ìì‹í´ë˜ìŠ¤ì— í–‰ìœ„ë“¤ì„ ìˆ˜í–‰í•´ë²„ë¦´ ìˆ˜ ìˆë‹¤ 1234567class A &#123; private B b; public void doManything(B b) &#123; // aliasing b.doSomething(); // ìº¡ìŠí™” ìœ„ë°˜ &#125;&#125; Aë¥¼ í†µí•´ì„œ Bë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆê²Œ ë˜ë¯€ë¡œ, ì´ëŠ” ìº¡ìˆ í™”ë¥¼ ìœ„ë°˜í•œ ê²ƒì´ë‹¤ ìœ„ì™€ ê°™ì´ doManythingë¥¼ í˜¸ì¶œ í•œ í›„ bì˜ ê°’ì´ ë³€ê²½ë˜ì–´ ë²„ë¦¬ëŠ” í˜„ìƒì´ ì¼ì–´ë‚˜ì„œëŠ” ì•ˆëœë‹¤ ì´ëŸ¬í•œ ìƒí™©ë“¤ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ì•„ë˜ì™€ ê°™ì€ ê´€ë¡€ë¥¼ ë”°ë¼ì•¼ í•œë‹¤ê³  ë§í•œë‹¤ ë³€ê²½ ë¶ˆê°€ëŠ¥í•œ ê°’ íƒ€ì…ì„ ì •ì˜í•˜ê³  ê°’ íƒ€ì…ì€ ë‚´ë¶€ ê°’ì´ ìˆ˜ì • ë¶ˆê°€ëŠ¥í•œ finalì´ê³ , ê°’ì— íŠ¹ì •í•œ í–‰ìœ„ë¥¼ ìˆ˜í–‰í•´ë„ ìƒˆë¡œìš´ ê°ì²´ë¡œ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì— ìœ„ì™€ ê°™ì€ ìƒí™©ì—ì„œ ì•ˆì „í•˜ë‹¤ ì „ì—­ë³€ìˆ˜ì™€ ì‹±ê¸€í„´ì€ ìì œí•˜ë©° ì»¬ë ‰ì…˜ê³¼ ë³€ê²½ ê°€ëŠ¥í•œ ê°’ì„ ê°ì²´ê°„ì— ì „ë‹¬í• ë•ŒëŠ” ê·¸ê²ƒì„ ë³µì‚¬í•´ì•¼í•œë‹¤ ê°ì²´ë¥¼ ë³µì‚¬í•œë‹¤ë©´ ìœ„ì™€ ê°™ì€ ìƒí™©ì— ì•ˆì „í•  ê²ƒì´ë‹¤ ì €ëŸ°ì‹ìœ¼ë¡œ í˜‘ë ¥ê°ì²´ì˜ íŠ¹ì • ì´ ê°™ì€ ê²°ì •ì´ ì¤‘ìš”í•œ ì´ìœ ëŠ” ì–´ë–¤ ê°ì²´ë¥¼ ì–¼ë§ˆë‚˜ ì‰½ê²Œ ì“¸ìˆ˜ ìˆëŠ”ì§€ì— ì˜í–¥ì„ ì£¼ê³ , ì‹œìŠ¤í…œ ë‚´ë¶€ í’ˆì§ˆì— ê¸°ì—¬í•˜ê¸° ë•Œë¬¸ì´ë‹¤ ë‹¨ì¼ ì±…ì„ ì›ì¹™ ëª¨ë“  ê°ì²´ëŠ” ë°˜ë“œì‹œ ë‹¨ í•œê°€ì§€ ëª…í™•íˆ ê·œì •ëœ ì±…ì„ì„ ì§€ë…€ì•¼ í•œë‹¤ ê·¸ë¦¬ê³  ê·¸ëŸ¬í•œ ê°ì²´ë“¤ì´ ì¬ì‚¬ìš©ë˜ì–´ì•¼ í•œë‹¤ í•œ ê°ì²´ì˜ ì—­í• ì„ ì„¤ëª…í• ë•ŒëŠ” ì ‘ì†ì‚¬(ì™€,ë‚˜ ë“±)ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ ë„ í•´ë‹¹ ê°ì²´ì˜ ì—­í• ì„ ì„¤ëª…í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤ ì ‘ì†ì‚¬ë¡œ êµ¬ë¶„ë˜ëŠ” ì• ë“¤ì´ ê°ê° ê°ì²´ë¡œ ë‚˜ë‰  ìˆ˜ ìˆì„ê²ƒì´ë‹¤? ê°ì²´ ì´ì›ƒì˜ ìœ í˜• ê°ì²´ê°€ ë‹¨ì¼ ì±…ì„ì„ ì§€ë…”ê³ , ëª…ë£Œí•œ APIë¥¼ í†µí•´ ì´ì›ƒ ê°ì²´ì™€ í†µì‹ í•œë‹¤ë©´, ì„œë¡œ ë¬´ìŠ¨ ì–˜ë¼ë¥¼ í• ê¹Œ? í•œ ê°ì²´ê°€ ì§€ë‹ ìˆ˜ ìˆëŠ” ê´€ê³„ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤]]></content>
      <categories>
        <category>tdd</category>
      </categories>
      <tags>
        <tag>í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œë¡œ ë°°ìš°ëŠ” ê°ì²´ì§€í–¥ ì„¤ê³„ì™€ ì‹¤ì²œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[tdd] TDD ì£¼ê¸°ì˜ ìœ ì§€]]></title>
    <url>%2Ftdd%2FTDD-%EC%A3%BC%EA%B8%B0%EC%9D%98-%EC%9C%A0%EC%A7%80%2F</url>
    <content type="text"><![CDATA[TDD í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹œì‘í•˜ê³  ë‚˜ë©´, ê·¸ í”„ë¡œì„¸ìŠ¤ë¥¼ ë§¤ë„ëŸ½ê²Œ ìœ ì§€í•´ì•¼ í•œë‹¤ ê·¸ ìƒì„¸í•œ ë°©ë²• ì‹œìŠ¤í…œì„ êµ¬ì¶•í•  ë•Œ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ëŠ” ë°©ë²• í…ŒìŠ¤íŠ¸ë¥¼ ì´ìš©í•´ ë‚´ì™¸ì ì¸ í’ˆì§ˆ ë¬¸ì œì— ì¼ì° í”¼ë“œë°±ì„ ë°›ëŠ” ë°©ë²• í…ŒìŠ¤íŠ¸ê°€ ê³„ì† ë³€í™”ë¥¼ ë’·ë°›ì¹¨í•˜ê³ , ì´í›„ ê°œë°œì— ê±¸ë¦¼ëŒì´ ë˜ì§€ ì•Šê²Œ í•˜ëŠ” ë°©ë²• ê° ê¸°ëŠ¥ì„ ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ë¡œ ì‹œì‘í•˜ë¼ ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ëŠ” ìš°ë¦¬ê°€ ì‘ì„±í•˜ë ¤ëŠ” ê¸°ëŠ¥ì´ ì•„ì§ ì‹œìŠ¤í…œì—ì„œ ê°–ì¶”ì§€ ëª»í–ˆë‹¤ëŠ” ì‚¬ì‹¤ì„ ë³´ì—¬ì£¼ê³ , ê·¸ ê¸°ëŠ¥ì´ ì™„ì„±ë˜ê¸°ê¹Œì§€ ì§„í–‰ ìƒí™©ì„ ë°˜ì˜í•œë‹¤ ì¸ìˆ˜í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í• ë•ŒëŠ” ê¸°ë°˜ ê¸°ìˆ (ë°ì´í„°ë² ì´ìŠ¤ë‚˜ ì›¹ ì„œë²„ ê°™ì€)ì˜ ìš©ì–´ê°€ ì•„ë‹Œ ì‘ìš© ë„ë©”ì¸ì—ì„œ ë‚˜ì˜¨ ìš©ì–´ë§Œ ì´ìš©í•œë‹¤. ì´ë ‡ê²Œí•˜ë©´ ì‹œìŠ¤í…œì—ì„œ í•´ì•¼ í•  ì¼ì´ ë­”ì§€ ì´í•´í•˜ëŠ”ë° ë³´íƒ¬ì´ ë˜ê³ , êµ¬í˜„ì— ê´€í•œ ì´ˆê¸° ê°€ì •ì— ì–½ë§¤ì´ì§€ë„ ì•Šì„ ë¿ë”ëŸ¬ í…ŒìŠ¤íŠ¸ê°€ ê¸°ìˆ ì ì¸ ì„¸ë¶€ì‚¬í•­ìœ¼ë¡œ ë³µì¡í•´ì§€ì§€ë„ ì•ŠëŠ”ë‹¤ ì´ë¿ ì•„ë‹ˆë¼ ì‹œìŠ¤í…œì˜ ê¸°ìˆ  ê¸°ë°˜ êµ¬ì¡°ê°€ ë°”ë€Œì—ˆì„ ë•Œë„ ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ë¥¼ ë³´í˜¸í•  ìˆ˜ ìˆë‹¤ ì½”ë”©ì„ ì‹œì‘í•˜ê¸° ì „ì— í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ë©´ ë‹¬ì„±í•˜ê³ ì í•˜ëŠ” ë°”ê°€ ëª…í™•í•´ì§„ë‹¤ ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ë•ì— ìš”êµ¬ì‚¬í•­ì„ ì¶©ì¡±í•˜ëŠ”ë° í•„ìš”í•œë§Œí¼ì˜ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ”ë° ì§‘ì¤‘í•  ìˆ˜ ìˆì–´ ê¸°ëŠ¥ì„ ì™„ì„±í•  í™•ë¥ ì´ ë†’ì•„ì§„ë‹¤ í…ŒìŠ¤íŠ¸ë¡œ ì‹œì‘í•˜ê²Œ ë˜ë©´ ì‚¬ìš©ì ê´€ì ì—ì„œ ì‹œìŠ¤í…œì„ ë°”ë¼ë³´ê²Œ ë˜ì–´ êµ¬í˜„ì ê´€ì ì—ì„œ ê¸°ëŠ¥ì„ ì§ì‘í•˜ì§€ ì•Šê³  ì‚¬ìš©ìê°€ í•„ìš”ë¡œ í•˜ëŠ” ê²ƒì„ ì´í•´í•˜ê²Œ ëœë‹¤ ë°˜ë©´ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” ê°ì²´ ì§‘í•©ì„ ê²©ë¦¬ëœ ìƒíƒœì—ì„œ ì‹œí—˜í•˜ë¯€ë¡œ, ê·¸ í´ë˜ìŠ¤ê°€ ì‹œìŠ¤í…œì˜ ë‚˜ë¨¸ì§€ ë¶€ë¶„ê³¼ ì¡°í™”ë¡­ê²Œ ë™ì‘í• ì§€ì— ëŒ€í•´ì„œëŠ” ì•„ë¬´ê²ƒë„ ë‹´ë³´í•˜ì§€ ì•ŠëŠ”ë‹¤ ì¸ìˆ˜í…ŒìŠ¤íŠ¸ëŠ” ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ê±°ì¹œ ê°ì²´ë¥¼ ëŒ€ìƒìœ¼ë¡œ í†µí•© í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•  ë¿ ì•„ë‹ˆë¼, í”„ë¡œì íŠ¸ë¥¼ ì•ìœ¼ë¡œ ë‚˜ì•„ê°€ê²Œ í•œë‹¤ íšŒê·€ë¥¼ í¬ì‘í•˜ëŠ” í…ŒìŠ¤íŠ¸ì™€ ì§„í–‰ìƒí™©ì„ ì¸¡ì •í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ë¶„ë¦¬í•˜ë¼ ìƒˆ ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ëŠ” ì§„í–‰ì¤‘ì¸ ì‘ì—…ì„ ë‚˜íƒ€ë‚´ê³ , ê¸°ëŠ¥ì´ ì¤€ë¹„ë  ë•Œ ê¹Œì§€ëŠ” í†µê³¼í•˜ì§€ ì•Šì„ ê²ƒì´ë‹¤ ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•˜ë©´ í•´ë‹¹ í…ŒìŠ¤íŠ¸ëŠ” ì™„ë£Œëœ ê¸°ëŠ¥ì„ ë‚˜íƒ€ë‚´ê³ , ë‹¤ì‹œëŠ” ì‹¤íŒ¨í•´ì„œëŠ” ì•ˆëœë‹¤ (ì‹¤íŒ¨ëŠ” ì´ì „ ìƒíƒœë¡œ íšŒê·€í–ˆê³ , ê¸°ì¡´ ì½”ë“œë¥¼ ë§ê°€ëœ¨ë ¸ìŒì„ ì˜ë¯¸í•œë‹¤) ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ë¥¼ ë¹¨ê°„ìƒ‰ì—ì„œ ë…¹ìƒ‰ìœ¼ë¡œ ë°”ê¾¸ëŠ” í™œë™ìœ¼ë¡œ ìš°ë¦¬ëŠ” ì§„í–‰ìƒíƒœë¥¼ ì¸¡ì •í•  ìˆ˜ ìˆë‹¤ ì •ê¸°ì ì¸ ì¸ìˆ˜í…ŒìŠ¤íŠ¸ í†µê³¼ ì£¼ê¸°ëŠ” ì¤‘ì²©ëœ í”¼ë“œë°± ê³ ë¦¬ë¥¼ êµ¬ë™í•˜ëŠ” ì—”ì§„ì— í•´ë‹¹í•œë‹¤ ì¦‰ ìš°ë¦¬ëŠ” ì§„í–‰ì¤‘ì¸ í…ŒìŠ¤íŠ¸ì™€ ì™„ë£Œëœ í…ŒìŠ¤íŠ¸(íšŒê·€ í…ŒìŠ¤íŠ¸)ë¥¼ í•­ìƒ ë¶„ë¦¬í•´ì•¼ í•œë‹¤ ë§Œì•½ ìš”êµ¬ì‚¬í•­ì´ ë°”ë€ë‹¤ë©´ ê±°ê¸°ì— ì˜í–¥ì„ ë°›ì€ ì¸ìˆ˜í…ŒìŠ¤íŠ¸ë¥¼ íšŒê·€ í…ŒìŠ¤íŠ¸ ê·¸ë£¹ì—ì„œ ë¹¼ë‚´ì–´ì„œ ì§„í–‰ì¤‘ì¸ í…ŒìŠ¤íŠ¸ ê·¸ë£¹ìœ¼ë¡œ ì˜®ê¸´ í›„ ìƒˆ ìš”êµ¬ì‚¬í•­ì„ ë°˜ì˜í† ë¡ ìˆ˜ì •í•œ ë‹¤ìŒ, í•´ë‹¹ í…ŒìŠ¤íŠ¸ë¥¼ ë‹¤ì‹œ í†µê³¼í•˜ê²Œë” ì‹œìŠ¤í…œì„ ë³€ê²½í•´ì•¼ í•œë‹¤ í…ŒìŠ¤íŠ¸ë¥¼ ê°€ì¥ ê°„ë‹¨í•œ ì„±ê³µ ì¼€ì´ìŠ¤ë¡œ ì‹œì‘í•˜ë¼ ê°„ë‹¨í•œì„ ì§€ë‚˜ì¹˜ê²Œ ë‹¨ìˆœí•œìœ¼ë¡œ í•´ì„í•´ì„œëŠ” ì•ˆëœë‹¤ ì§€ë‚˜ì¹˜ê²Œ ë‹¨ìˆœí•œ ì¼€ì´ìŠ¤ëŠ” ì‹œìŠ¤í…œì— ê°€ì¹˜ë¥¼ ë³„ë°˜ ë”í•˜ì§€ ì•Šìœ¼ë©°, ë” ì¤‘ìš”í•œ ì ì€ ì•„ì´ë””ì–´ì˜ ìœ íš¨ì„±ì— ê´€í•´ ì¶©ë¶„í•œ í”¼ë“œë°±ì„ ì „í•´ì£¼ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì´ë‹¤ ê·¸ë˜ì„œ ê°€ì¥ ê°„ë‹¨í•œ ì„±ê³µ ì¼€ì´ìŠ¤ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹œì‘í•´ë³´ëŠ” ê²ƒì´ ì¢‹ë‹¤ í•´ë‹¹ í…ŒìŠ¤íŠ¸ê°€ ë™ì‘í•˜ë©´ ì†”ë£¨ì…˜ì˜ ì‹¤ì œ êµ¬ì¡°ì— ê´€í•´ ë” ì¢‹ì€ ìƒê°ì´ ë– ì˜¤ë¥¼í…Œê³ , ê·¸ ê³¼ì •ì—ì„œ ë°œê²¬í•œ ë°œìƒ ê°€ëŠ¥í•œ ì‹¤íŒ¨ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê²ƒê³¼ ì´í›„ì˜ ì„±ê³µ ì¼€ì´ìŠ¤ ì‚¬ì´ì—ì„œ ìš°ì„ ìˆœìœ„ë¥¼ ê°€ëŠ í•´ë³¼ ìˆ˜ ìˆë‹¤. ì²˜ë¦¬í•´ì•¼ í•  ì‹¤íŒ¨ ì¼€ì´ìŠ¤, ë¦¬íŒ©í„°ë§, ê¸°íƒ€ ì‘ì—…ë“¤ì„ ë©”ëª¨ì¥ ê¹‰ì€ ê³³ì— ê¸°ë¡í•´ë‘ë©´ í…ŒìŠ¤íŠ¸ ì‘ì„±ì— ë„ì›€ì´ ë§ì´ ëœë‹¤ ê¸°ëŠ¥ êµ¬í˜„ì„ í•  ë•Œ ì‹¤íŒ¨ ì¼€ì´ìŠ¤ì—ë§Œ ì§‘ì¤‘í•˜ë©´ ì˜ìš•ì„ ì§ì‘í•˜ëŠ”ë° ì¢‹ì§€ì•Šë‹¤. ì˜¤ë¥˜ì²˜ë¦¬ë©”ë‚˜ ì‹ ê²½ì“°ë‹¤ ë³´ë©´ ì•„ë¬´ê²ƒë„ ì„±ì·¨í•œ ë°”ê°€ ì—†ëŠ” ë“¯ì´ ëŠê»´ì§€ê¸° ë•Œë¬¸ì´ë‹¤ ì½ê³  ì‹¶ì–´ í•  í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ë¼ ê° í…ŒìŠ¤íŠ¸ëŠ” ì‹œìŠ¤í…œì´ë‚˜ ê°ì²´ì—ì„œ ìˆ˜í–‰í•  í–‰ìœ„ë¡œ ê°€ëŠ¥í•œ í•œ ëª…í™•í•˜ê²Œ í‘œí˜„í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ëŠ” ë™ì•ˆì—ëŠ” í…ŒìŠ¤íŠ¸ê°€ ì‹¤í–‰ë˜ì§€ ì•Šê±°ë‚˜ ì»´íŒŒì¼ ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì‚¬ì‹¤ì„ ë¬´ì‹œí•˜ê³  í…ŒìŠ¤íŠ¸ ë‚´ìš©ì—ë§Œ ì§‘ì¤‘í•´ì„œ ì‘ì„±í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤ í…ŒìŠ¤íŠ¸ê°€ ì˜ ì½íˆë©´, ì´ì œ ì»´íŒŒì¼ì´ë‚˜ ëŸ°íƒ€ì„ ì˜¤ë¥˜ë¥¼ í•´ê²°í•œë‹¤ í…ŒìŠ¤íŠ¸ê°€ ëª…í™•í•œ ì˜¤ë¥˜ë©”ì„¸ì§€ë¥¼ ë³´ì´ë©´ì„œ ì˜ˆìƒëŒ€ë¡œ ì‹¤íŒ¨í•˜ë©´, ê¸°ë°˜ì´ ë˜ëŠ” ì½”ë“œë¥¼ ì¶©ë¶„íˆ êµ¬í˜„í–ˆìŒì„ ì˜ë¯¸í•œë‹¤ ì´ì œ í…ŒìŠ¤íŠ¸ê°€ í†µê³¼ë˜ë„ë¡ ë§Œë“¤ë©´ ëœë‹¤ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•˜ëŠ” ê²ƒì„ ì§€ì¼œë³´ë¼]]></content>
      <categories>
        <category>tdd</category>
      </categories>
      <tags>
        <tag>í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œë¡œ ë°°ìš°ëŠ” ê°ì²´ì§€í–¥ ì„¤ê³„ì™€ ì‹¤ì²œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[tdd] TDD ë„êµ¬ë“¤]]></title>
    <url>%2Ftdd%2FTDD-%EB%8F%84%EA%B5%AC%EB%93%A4%2F</url>
    <content type="text"><![CDATA[JUnit ê°€ì¥ ë§ì´ ì“°ì´ëŠ” java í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ì´ë‹¤. ê·¸ ì¤‘ì—ì„œë„ JUnit4 ë²„ì „ì´ ê°€ì¥ ë§ì´ ì‚¬ìš©ëœë‹¤.(í˜„ì¬ëŠ” JUnit5 ë²„ì „ê¹Œì§€ ë‚˜ì™€ìˆë‹¤) JUnitì€ ê¸°ë³¸ì ìœ¼ë¡œ ë¦¬í”Œë ‰ì…˜ì„ í†µí•´ í´ë˜ìŠ¤ êµ¬ì¡°ë¥¼ íŒŒì•…í•œ í›„, í•´ë‹¹ í´ë˜ìŠ¤ì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê²ƒì„ ëª¨ë‘ ì‹¤í–‰í•œë‹¤. í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ JUnitì€ @Testë¼ëŠ” ì–´ë…¸í…Œì´ì…˜ì´ ì§€ì •ëœ ë©”ì„œë“œëŠ” ëª¨ë‘ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¡œ ì·¨ê¸‰í•œë‹¤. í…ŒìŠ¤íŠ¸ ë©”ì„œë“œëŠ” ê°’ì„ ë°˜í™˜í•˜ê±°ë‚˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ì•„ì„œëŠ” ì•ˆ ëœë‹¤. 12345678910111213public class SomeTest &#123; private Some some = new Some(); @Test public void testSomething1() &#123; // do something &#125; @Test public void testSomething2() &#123; // do something &#125;&#125; í•˜ë‚˜ íŠ¹ë³„í•œì ì€, JUnitì€ ê° í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•  ë•Œ ë§ˆë‹¤ í•´ë‹¹ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì˜ ìƒˆ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ì—¬ í˜¸ì¶œí•œë‹¤ëŠ” ì ì´ë‹¤. ìœ„ì˜ í…ŒìŠ¤íŠ¸ë“¤ì„ ì „ë¶€ ì‹¤í–‰í•˜ë©´ 2ê°œì˜ SomeTest ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ë˜ê³ , ê°ì @Test ë©”ì„œë“œë“¤ì„ ì‹¤í–‰í•˜ê²Œ ëœë‹¤. ì´ëŸ°ì‹ìœ¼ë¡œ ë§¤ë²ˆ ìƒˆ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ë©´ ê° í…ŒìŠ¤íŠ¸ê°„ì˜ ê²©ë¦¬ì„±ì„ í™•ë³´í•  ìˆ˜ ìˆë‹¤. í…ŒìŠ¤íŠ¸ ê°ì²´ì˜ í•„ë“œê°€ ê° í…ŒìŠ¤íŠ¸ì— ì•ì„œ ëŒ€ì²´ë˜ê¸° ë•Œë¬¸ì´ë‹¤. ì´ëŠ” í…ŒìŠ¤íŠ¸ì—ì„œ í…ŒìŠ¤íŠ¸ ê°ì²´ í•„ë“œì˜ ë‚´ìš©ì„ ë§˜ê» ë°”ê¿€ ìˆ˜ ìˆë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤. testSomething1ì—ì„œ someì˜ ê°’ì„ ë³€ê²½í•´ë„ testSomething2ì—ëŠ” ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ”ë‹¤ assertion ê¸°ë³¸ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ë“¤ì€, ê° í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ê³  ê·¸ ê²°ê³¼ë¥¼ assertion(ë‹¨ì •)í•˜ëŠ” ì‹ìœ¼ë¡œ ì‘ì„±ëœë‹¤. ì—¬ê¸°ì„œ JUnitì—ì„œ ì œê³µí•˜ëŠ” assertion ë©”ì„œë“œë“¤ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 123456789101112131415public class StoreTest &#123; private Store store = new Store(); @Test public class ê²°ì œìˆ˜ë‹¨ì„_ì²´í¬í•œë‹¤() &#123; assertTrue(store.canPay(PaymentMethod.Money)); assertFalse(store.canPay(PaymeneMethod.CreditCard)); &#125; @Test public class íŠ¹ì •_ìƒí’ˆì„_ì°¾ëŠ”ë‹¤() &#123; assertNotNull(store.find("ì¹˜í‚¨")); assertNull(store.find("ê°€ì£½ìì¼“")); &#125;&#125; ë³´ë‹¤ì‹œí”¼ canPayì˜ ê²°ê³¼ê°€ true/falseê°€ ë‚˜ì˜¬ê²ƒì´ë‹¤ ë¼ê³  ë‹¨ì •(assertion) í–ˆê³ , findì˜ ê²°ê³¼ê°€ nullì´ ì•„ë‹ˆë¼ê³  ë‹¨ì •(assertion) í–ˆë‹¤. ì˜ˆì™¸ ì˜ˆìƒí•˜ê¸° @Test ì–´ë…¸í…Œì´ì…˜ì€ ì„ íƒì  ë§¤ê°œë³€ìˆ˜ë¡œ expected ë¼ëŠ” ê²ƒì„ ì§€ì›í•œë‹¤. ì´ ë§¤ê°œë³€ìˆ˜ëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì—ì„œ ë˜ì ¸ì§ˆ ì˜ˆì™¸ë¥¼ ì„ ì–¸í•œë‹¤. ì„ ì–¸í•œ ì˜ˆì™¸ê°€ ë°œìƒí•˜ë©´ í…ŒìŠ¤íŠ¸ê°€ ì„±ê³µí•œë‹¤. 1234@Test(expected = IllegalArgumentException.class)public void ê²€ìƒ‰ì–´ë¥¼_ì…ë ¥í•˜ì§€_ì•ŠëŠ”ë‹¤() &#123; store.find(null);&#125; find ë©”ì„œë“œëŠ” ê²€ìƒ‰ì–´ë¡œ nullì„ ë°›ìœ¼ë©´ IllegalArgument ì˜ˆì™¸ë¥¼ ë¦¬í„´í•˜ê²Œ ì‘ì„±ë˜ì–´ ìˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ìœ„ì˜ ë©”ì„œë“œëŠ” ì„±ê³µí•˜ê²Œ ëœë‹¤. í…ŒìŠ¤íŠ¸ í”½ìŠ¤ì³ í…ŒìŠ¤íŠ¸ê°€ ì‹œì‘í•  ë•Œ ì¡´ì¬í•˜ëŠ” ê³ ì •ëœ ìƒíƒœë¥¼ ì˜ë¯¸í•œë‹¤. í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ê¸° ì „ì— í•„ìš”í•œ íŠ¹ì • ìƒíƒœë“¤ì„ ì˜ë¯¸í•œë‹¤. íŠ¹ì • í˜‘ë ¥ê°ì²´ë‚˜, íŠ¹ì • ë°ì´í„°ë“¤ì´ ìˆì„ ìˆ˜ ìˆë‹¤. JUnitì€ ê° í…ŒìŠ¤íŠ¸ë§ˆë‹¤ ì¸íŠ¸í„´ìŠ¤ë¥¼ ìƒˆë¡œ ìƒì„±í•˜ë¯€ë¡œ ê°„ë‹¨íˆ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ ì„ ì–¸ê³¼ ë™ì‹œì— ì´ˆê¸°í™”í•˜ê±°ë‚˜ ìƒì„±ì ê°™ì€ê²ƒì„ ì¨ì„œ í”½ìŠ¤ì³ë¥¼ ì´ˆê¸°í™”í•˜ë©´ ë˜ê¸´í•˜ì§€ë§Œ, JUnitì—ì„œ ì œê³µí•˜ëŠ” íŠ¹ì • ì–´ë…¸í…Œì´ì…˜ë“¤ì„ ì‚¬ìš©í•˜ë©´ ì¢€ ë” ëª…ì‹œì ìœ¼ë¡œ í”½ìŠ¤ì³ ì´ˆê¸°í™”ê°€ ê°€ëŠ¥í•˜ë‹¤. 12345678910111213private Store store = new Store();@Beforepublic void setUp() &#123; store.addProduct("chicken"); store.addProduct("pizza"); store.addProduct("beer");&#125;@Afterpublic void tearDown() &#123; // ë³„ë¡œ í• ê²Œ ì—†ìŒ..&#125; @Before ë©”ì„œë“œê°€ ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹¤í–‰ì „ì— ì‹¤í–‰ë˜ë¯€ë¡œ, ëª¨ë“  í…ŒìŠ¤íŠ¸ëŠ” 3ê°€ì§€ ìƒí’ˆì´ ë“¤ì–´ê°„ ìƒíƒœì—ì„œ(ë™ì¼í•œ ìƒíƒœì—ì„œ) í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆê²Œ ëœë‹¤. ì´ëŸ°ì‹ìœ¼ë¡œ ëª¨ë“  í…ŒìŠ¤íŠ¸ ë©”ì„œë“œì—ì„œ í•„ìš”í•œ ìƒíƒœë¥¼ ì´ˆê¸°í™”í•˜ëŠ”ë° ì‚¬ìš©í•˜ë©´ ìœ ìš©í•˜ë‹¤. @After ë©”ì„œë“œëŠ” í…ŒìŠ¤íŠ¸ ë©”ì„œë“œê°€ ëë‚œ í›„ ìˆ˜í–‰ë˜ëŠ”ë°, ì‚¬ì‹¤ìƒ ì—¬ê¸°ì„œ ìˆ˜í–‰í•  ì‘ì—…ì´ ë§ì§€ëŠ” ì•Šë‹¤. ìƒì„±ëœ í”½ìŠ¤ì³ë¥¼ ì •ë¦¬í•˜ëŠ” ì‘ì—… ê°™ì€ê²ƒë„ ì „ë¶€ JVM ê°€ë¹„ì§€ ì»¬ë ‰í„°ì—ì„œ ì˜ ìˆ˜í–‰í•´ì£¼ê¸° ë•Œë¬¸ì´ë‹¤. í…ŒìŠ¤íŠ¸ ëŸ¬ë„ˆ JUnitì´ í´ë˜ìŠ¤ë¥¼ ëŒ€ìƒìœ¼ë¡œ ë¦¬í”Œë ‰ì…˜ì„ ìˆ˜í–‰í•´ í…ŒìŠ¤íŠ¸ë¥¼ ì°¾ì•„ í•´ë‹¹ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ëŠ” ë°©ì‹ì€ í…ŒìŠ¤íŠ¸ ëŸ¬ë„ˆ(test runner) ì—ì„œ ì œì–´í•œë‹¤. í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ì—ì„œ ì‚¬ìš©í•˜ëŠ” ëŸ¬ë„ˆëŠ” @RunWith ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. 1234@RunWith(SpringJUnit4ClassRunner.class)public class SomeTest &#123;&#125; JUnit4ì˜ í˜„ì¬ default runnerëŠ” BlockJUnit4ClassRunner ë¼ê³  í•œë‹¤. í–„í¬ë ˆìŠ¤íŠ¸ ë§¤ì²˜ì™€ assertThat í–„í¬ë ˆìŠ¤íŠ¸ëŠ” ë§¤ì¹­ ì¡°ê±´ì„ ì„ ì–¸ì ìœ¼ë¡œ ì‘ì„±í•˜ëŠ” í”„ë ˆì„ì›Œí¬ì´ë‹¤. matchesë¼ëŠ” booleanì„ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œë¥¼ ê°€ì§„ Matcher ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ” ë§ì€ í´ë˜ìŠ¤ë“¤ì„ ì œê³µí•œë‹¤. ì´ í´ë˜ìŠ¤ë“¤ì„ ì‚¬ìš©í•˜ë©´ ê¸°ì¡´ì˜ ë‹¨ìˆœí•œ assertion êµ¬ë¬¸ë“¤ì„ ì¢€ ë” ë‹¤ì–‘í•˜ê²Œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤. 123Matcher&lt;String&gt; containsBananas = new StringContains("bananas");assertTrue(containsBananas.matches(str)); í–„í¬ë ˆìŠ¤íŠ¸ëŠ” ì½”ë“œì˜ ê°€ë…ì„±ì„ ë†’ì´ê³ ì Matcherë¥¼ ìƒì„±í•˜ëŠ” ë¶€ë¶„ì„ static factory ë©”ì„œë“œë¡œ ì œê³µí•œë‹¤. 123456import static org.hamcrest.CoreMatchers.*;@Testpublic void banana_match() &#123; assertTrue(containsString("bananas").matches(str));&#125; í•˜ì§€ë§Œ ì‹¤ì œë¡œëŠ” ìœ„ì™€ ê°™ì€ ë°©ë²•ë³´ë‹¨, self-describing íŠ¹ì„±ì„ ê°€ì§„ assertThatì„ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤. 12assertThat(str, containsString("bananas"));assertThat(str, not(containsString("bananas"))); assertThatì€ Matcherë¥¼ ì§ì ‘ ì¸ìë¡œ ë°›ì„ ìˆ˜ ìˆë‹¤. ë³´ë‹¤ì‹œí”¼ strì€ &quot;bananas&quot; ë¬¸ìì—´ì„ í¬í•¨í•˜ê³  ìˆë‹¤ ì˜ í˜•íƒœë¡œ ì‘ì„±ë¨ìœ¼ë¡œì¨ í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ ë” ì˜ ì½íŒë‹¤. (ì°¸ê³ ë¡œ í–„í¬ë ˆìŠ¤íŠ¸ëŠ” ìœ„ì—ì„œ ì‚¬ìš©ëœ not Matcher ì²˜ëŸ¼ ë‹¤ë¥¸ ë§¤ì²˜ë¥¼ ì¡°í•©í•  ìˆ˜ ìˆëŠ” ìœ ìš©í•œ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤) ì´ëŸ¬í•œ MatcherëŠ” ëª‡ê°€ì§€ ì¡°ê±´ë§Œ ë§Œì¡±í•˜ë©´ ì‚¬ìš©ìê°€ ì‰½ê²Œ ì§ì ‘ ì •ì˜í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. AssertJ assertThatê³¼ í–„í¬ë ˆìŠ¤íŠ¸ë¥¼ ì ì ˆíˆ ì¡°í•©í•˜ì—¬ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒë§Œí•´ë„ ì¶©ë¶„í•˜ì§€ë§Œ, ì¢€ ë” í’ë¶€í•œ êµ¬ë¬¸ì„ ì œê³µí•˜ëŠ” AssertJ ë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë„ ìˆë‹¤. 12345678910111213import static org.assertj.core.api.Assertions.assertThat;public void ì˜¤ë¸Œì íŠ¸() &#123; assertThat(object).isNotNull(); assertThat(object).isSameAs(otherObject); assertThat(object).isEqualTo(otherObject);&#125;public void ì»¬ë ‰ì…˜() &#123; assertThat(list).isSorted(); assertThat(list).hasSize(4);&#125; ë³´ë‹¤ì‹œí”¼ ì¢€ ë” ì§ê´€ì ì´ê³ , í’ë¶€í•œ ë©”ì„œë“œë“¤ì„ ì œê³µí•œë‹¤. ê²Œë‹¤ê°€ assertionê³¼ í–„í¬ë ˆìŠ¤íŠ¸ë¥¼ ì§ì ‘ static import í•˜ì§€ ì•Šì•„ë„ ë˜ëŠ” í¸ë¦¬í•¨ë„ ìˆìœ¼ë‹ˆ, ì‚¬ìš©í•´ë³´ëŠ” ê²ƒë„ ë‚˜ì˜ì§€ ì•Šë‹¤. JMock2 JMockì„ ì‚¬ìš©í•˜ë©´ mock ê°ì²´ë¥¼ JUnit ê°™ì€ í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ì— ë¶™ì—¬ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•´ì¤€ë‹¤. JMockì˜ í•µì‹¬ ê°œë…ì€ ëª¨ì¡° ê°ì²´ì™€ ëª© ê°ì²´, ì˜ˆìƒ êµ¬ë¬¸ì´ë‹¤. ì•„ë˜ëŠ” JMockì„ ì´ìš©í•œ í–‰ìœ„ ê²€ì¦ì˜ ì˜ˆì œì´ë‹¤. 1234567891011121314151617@RunWith(JMock.class)public class AuctionMessageTranslatorTest &#123; private final Mockery context = new JUnit4Mockery(); // 1 private final AuctionEventListener listener = context.mock(AuctionEventListener.class); private final AuctionMessageTranslator translator = new AuctionMessageTranslator(listener); @Test public void notifiesAuctionCloseWhenCloseMessageReceived() &#123; Message message = new Message(); message.setBody("SOLVersion : 1.1; Event: Close;"); context.checking(new Expectations() &#123;&#123; oneOf(listener).auctionClosed(); &#125;&#125;); translator.processMessage(UNUSED_CHAT, message); &#125;&#125; ì—¬ê¸°ì„œ ëª¨ì¡° ê°ì²´ë¼ëŠ” ê°œë…ì´ ë‚˜ì˜¤ëŠ”ë°, í˜„ì¬ ì´í•´í•˜ê¸°ë¡œëŠ” ëª© ê°ì²´ë“¤ì„ ë‹´ëŠ” ê·¸ë¦‡ ì •ë„ë¡œ ì´í•´ëœë‹¤â€¦ JMock runnerê°€ ì½ëŠ” ëŒ€ìƒë“¤? JUnitì´ JMock í…ŒìŠ¤íŠ¸ ëŸ¬ë„ˆë¥¼ ì‚¬ìš©í•˜ê²Œ ëœë‹¤. ì´ ëŸ¬ë„ˆëŠ” í…ŒìŠ¤íŠ¸ê°€ ëë‚˜ëŠ” ì‹œì ì— ëª¨ë“  ëª¨ì¡° ê°ì²´ë¥¼ ìë™ìœ¼ë¡œ í˜¸ì¶œí•´ ëª¨ë“  ëª© ê°ì²´ê°€ ì˜ˆìƒëŒ€ë¡œ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ ê²€ì‚¬í•œë‹¤. ëª¨ì¡° ê°ì²´ë¥¼ ìƒì„±í•œë‹¤. JMock ëŸ¬ë„ˆê°€ ê²€ì‚¬í•  ëª© ê°ì²´ë“¤ì´ ë‹´ê¸´ë‹¤. AuctionEventListenerì˜ mock ê°ì²´ë¥¼ ìƒì„±í•œë‹¤. ìë™ìœ¼ë¡œ contextì— ë‹´ê¸´ë‹¤. SUTì— mock ê°ì²´ë¥¼ ì£¼ì…í•œë‹¤. SUTëŠ” ê·¸ ì‚¬ì‹¤ì„ ëª¨ë¥´ê³ , ì•Œ í•„ìš”ë„ ì—†ë‹¤. ëª¨ì¡°ê°ì²´ì—ì„œ ê²€ì‚¬í•  ë‚´ìš©(í–‰ìœ„ ê²€ì¦)ì„ ì‘ì„±í•œë‹¤. listener ëª©ê°ì²´ê°€ auctionClosed ë©”ì„œë“œë¥¼ ì •í™•íˆ 1ë²ˆ í˜¸ì¶œí•  ê²ƒì„ ì˜ˆìƒí•˜ê³  ìˆë‹¤. SUTê°€ í–‰ìœ„ë¥¼ ìˆ˜í–‰í•œë‹¤. í…ŒìŠ¤íŠ¸ê°€ ëë‚˜ë©´ JMock runnerëŠ” ëª¨ì¡°ê°ì²´(í˜„ì¬ëŠ” context)ì— ëª…ì‹œëœ í–‰ìœ„ë“¤ì„ ê²€ì¦í•œë‹¤ ê°œì¸ì  ëŠë‚Œì¸ë°, ì‘ì„±í•˜ê¸°ê°€ ì¡°ê¸ˆ ì–´ë ¤ìš´ ë¶€ë¶„ì´ ìˆëŠ” ê²ƒ ê°™ë‹¤. mockito JMockë³´ë‹¤ ì¢€ ë” ê°•ë ¥í•œ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” mockito ë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ìˆë‹¤. ì•„ë˜ëŠ” ì‚¬ìš©ë²•ì— ëŒ€í•´ ì‘ì„±ëœ ê¸€ì´ë‹¤. https://github.com/mockito/mockito/wiki/Mockito-features-in-Korean ê°„ë‹¨íˆ ë‚´ê°€ ëŠë¼ëŠ” mockitoì˜ ì¥ì ì€ ì•„ë˜ ì •ë„ì´ë‹¤. mockitoëŠ” JMock ì²˜ëŸ¼ ëª¨ì¡°ê°ì²´, ëª© ê°ì²´ì— ëŒ€í•œ êµ¬ë¶„ì´ ì—†ë‹¤. JMockì—ë„ ìˆëŠ”ì§€ ëª¨ë¥´ê² ìœ¼ë‚˜(ë‹¹ì—°íˆ ìˆê³˜ì§€â€¦) stubì„ ë§¤ìš° ê°„ë‹¨í•˜ê²Œ ì§€ì›í•œë‹¤. í–‰ìœ„ ê²€ì¦ë„ ë§¤ìš° ê°„ë‹¨í•˜ê²Œ ì§€ì›í•œë‹¤. ë‚˜ëŠ” ê°œì¸ì ìœ¼ë¡œ ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì¢€ ë” ì‘ì„±í•˜ê¸° í¸ë¦¬í•˜ê³ , ëª…ì‹œì ì¸ ê²ƒ ê°™ë‹¤. ì°¸ê³ ë¡œ mockito ë³´ë‹¤ ë” ê°•ë ¥í•œ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” PowerMock ì´ë¼ëŠ” ì• ë„ ìˆë‹¤.(private ë©”ì„œë“œ í…ŒìŠ¤íŠ¸, static ë©”ì„œë“œ ì£¼ì… ë“± ê¹Œì§€ ì œê³µí•œë‹¤)]]></content>
      <categories>
        <category>tdd</category>
      </categories>
      <tags>
        <tag>í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œë¡œ ë°°ìš°ëŠ” ê°ì²´ì§€í–¥ ì„¤ê³„ì™€ ì‹¤ì²œ</tag>
        <tag>JUnit</tag>
        <tag>assertThat</tag>
        <tag>hamcrest</tag>
        <tag>assertj</tag>
        <tag>jmock</tag>
        <tag>mockito</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[tdd] TDD ì£¼ê¸°ì˜ ì‹œì‘]]></title>
    <url>%2Ftdd%2FTDD-%EC%A3%BC%EA%B8%B0%EC%9D%98-%EC%8B%9C%EC%9E%91%2F</url>
    <content type="text"><![CDATA[ë˜ëŒì•„ë³´ë©´ ìš°ë¦¬ëŠ”â€¦ ê°œë°œì„ ë‹¤ ì§„í–‰í•´ë†“ê³  ë§ˆì§€ë§‰ì— í†µí•©í•˜ë©´ì„œ í”¼ë“œë°±ì„ ë°›ì•˜ë˜ ê²ƒ ê°™ë‹¤. ì´ ë§ˆì§€ë§‰ ìˆœê°„ì— ë³€ê²½ë˜ëŠ” ë¶€ë¶„ë„ êµ‰ì¥íˆ ë§ê³ , ì„œë¡œê°€ ì˜ëª» ì´í•´í•œ ë¶€ë¶„ë„ ë§ì´ ë°œìƒí•œë‹¤. ìµœì•…ì˜ ê²½ìš°ëŠ” ì‘ì—…ì„ ë’¤ì§‘ê±°ë‚˜, ëˆ„êµ°ê°€ê°€ í¬ê¸°í•˜ê³  ê°€ì•¼í•˜ëŠ” ìƒí™©ë„ ë°œìƒí•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì•ì„œ ì–˜ê¸°í–ˆë“¯ì´, ë¹ ë¥¸ í”¼ë“œë°±ì„ ë°›ì„ ìˆ˜ ìˆê²Œë” ì‹œìŠ¤í…œì„ êµ¬ì„±í•˜ëŠ” ì‘ì—…(ì¤‘ì²©ëœ í”¼ë“œë°± ê³ ë¦¬)ì€ ë§¤ìš° ì¤‘ìš”í•˜ë‹¤. ìœ„ì—ì„œë„ ì–¸ê¸‰í–ˆë“¯ì´, ì´ëŸ° ì‹œìŠ¤í…œì˜ êµ¬ì„±ì„ ë‚˜ì¤‘ìœ¼ë¡œ ë¯¸ë£¨ëŠ” ê²ƒì€ ë§¤ìš° ìœ„í—˜í•˜ë‹¤ ì € ì •ë„ ì˜ˆì‹œë©´ ì–‘ë°˜ì´ì§€, ë°°í¬í•  ìˆ˜ ì—†ì–´ì„œ í”„ë¡œì íŠ¸ê°€ ì·¨ì†Œë˜ê±°ë‚˜ ë§ˆì§€ë§‰ì— í…ŒìŠ¤íŠ¸ë¥¼ ì¶”ê°€í–ˆëŠ”ë°ë„ ë¶ˆêµ¬í•˜ê³  ì˜¤ë¥˜ìœ¨ì´ ë„ˆë¬´ ë†’ì•„ ì‹œìŠ¤í…œì´ íê¸°ë˜ê¸°ë„ í•œë‹¤(ì €ìì˜ ê²½í—˜) í”¼ë“œë°±ì€ ì•„ì£¼ ê·¼ë³¸ì ì¸ ë„êµ¬ì´ë©°, ì˜¬ë°”ë¥¸ ë°©í–¥ìœ¼ë¡œ ë‚˜ì•„ê°€ê³  ìˆëŠ”ì§€ ìµœëŒ€í•œ ë¯¸ë¦¬ íŒŒì•…í•˜ê³ ì í•œë‹¤ ê·¸ ì¤‘ì—ì„œë„ ì™¸ë¶€ì™€ì˜ í”¼ë“œë°± ê³ ë¦¬ë¥¼ í˜•ì„±í•˜ëŠ” ê²ƒì€ ì¤‘ì²©ëœ í”¼ë“œë°± ê³ ë¦¬ë¥¼ êµ¬ì„±í•˜ëŠ” ì²«ë²ˆì¨° ë‹¨ì¶”ì´ê³ , ê°€ì¥ ì¤‘ìš”í•˜ë‹¤. ì´ ë§ì¸ ì¦‰ ìë™í™”ëœ ë¹Œë“œãƒ»ë°°í¬ãƒ»í…ŒìŠ¤íŠ¸ ì£¼ê¸° ì „ì²´ë¥¼ ê°€ì¥ ì²˜ìŒë¶€í„° êµ¬í˜„í•´ì•¼ í•¨ì„ ì˜ë¯¸í•œë‹¤. ê·¼ë° ì‚¬ì‹¤ ë§ì´ ì‰½ì§€, ì´ë ‡ê²Œ êµ¬ì„±í•˜ê¸°ì—ëŠ” í• ì¼ë„ ë§¤ìš° ë§ê³ , ì–´ë µë‹¤. ê·¸ëŸ¬ë©´ ìš°ë¦¬ëŠ” ë¬´ì—‡ë¶€í„° ì‹œì‘í•´ì•¼ í• ê¹Œ? ìš°ì„  ë™ì‘í•˜ëŠ” ê³¨ê²©ì„ ëŒ€ìƒìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•˜ë¼ ë¨¼ì € ë™ì‘í•˜ëŠ” ê³¨ê²©ì„ ë§Œë“¤ì–´ì•¼ í•œë‹¤ ì „ êµ¬ê°„ì„ ëŒ€ìƒìœ¼ë¡œ ìë™ ë¹Œë“œãƒ»ë°°í¬ãƒ»í…ŒìŠ¤íŠ¸ë¥¼ í•  ìˆ˜ ìˆëŠ” ì‹¤ì œ ê¸°ëŠ¥ì„ ê°€ì¥ ì–‡ê²Œ êµ¬í˜„í•œ ì¡°ê°ì„ ë§í•œë‹¤ ì²« ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆì„ ì •ë„ì˜ ìë™í™”, ì£¼ìš” ì»´í¬ë„ŒíŠ¸, í†µì‹  ë©”ì»¤ë‹ˆì¦˜ì´ í¬í•¨ë  ê²ƒì´ë‹¤ ì´ êµ¬ì¡°ë¥¼ ì´ìš©í•´ ìœ ì˜ë¯¸í•œ ì²« ê¸°ëŠ¥ì— ëŒ€í•œ ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•œë‹¤ ì´í›„ë¡œëŠ” ì‹œìŠ¤í…œì˜ ë‚˜ë¨¸ì§€ ë¶€ë¶„ì„ ëŒ€ìƒìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œì„ ì§„í–‰í•  ìˆ˜ ìˆê²Œ ëª¨ë“  ê²ƒì´ ì œìë¦¬ì— ë†“ì¼ ê²ƒì´ë‹¤ ë™ì‘í•˜ëŠ” ê³¨ê²©ì„ ë§Œë“œëŠ” ê³¼ì •ì— ë°°í¬ ë‹¨ê³„ë¥¼ í¬í•¨í•œ ì´ìœ ëŠ” ì•„ë˜ì™€ ê°™ë‹¤ ë°°í¬ ë‹¨ê³„ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí•˜ê¸° ì‰¬ìš´ í™œë™ì´ë¯€ë¡œ ì‹¤ì œ í™˜ê²½ì— ë°°í¬í•´ì•¼ í•  ë•Œ ê¹Œì§€ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì² ì €íˆ ê²€ì¦í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤ ë°°í¬ ê³¼ì •ì„ ìë™í™” í•˜ëŠ” ê²ƒ ë§Œí¼ í”„ë¡œì„¸ìŠ¤ë¥¼ ì´í•´í•˜ëŠ”ë° ë„ì›€ì´ ë˜ëŠ” ê²ƒì€ ì—†ë‹¤ ë°°í¬ ë‹¨ê³„ì—ì„œ ê°œë°œíŒ€ì´ ì¡°ì§ì˜ ë‹¤ë¥¸ ë¶€ë¬¸ê³¼ ì ‘ì´‰í•˜ê¸°ë„ í•˜ë©°, ì‹¤ì œë¡œ ì–´ë–»ê²Œ ìš´ì˜ë˜ëŠ”ì§€ë„ ë°°ì›Œì•¼í•˜ê¸° ë•Œë¬¸ì´ë‹¤ ì°¸ê³ ë¡œ ë™ì‘í•˜ëŠ” ê³¨ê²©ì„ ë§Œë“¤ë•ŒëŠ” ê³¨ê²©ì˜ êµ¬ì¡°ì—ë§Œ ì§‘ì¤‘í•˜ê³ , í…ŒìŠ¤íŠ¸ê°€ ìµœëŒ€í•œ í‘œí˜„ë ¥ì„ ê°–ì¶”ê²Œë” í…ŒìŠ¤íŠ¸ë¥¼ ì •ë¦¬í•˜ëŠ” ì¼ì— ëŒ€í•´ì„œëŠ” í¬ê²Œ ì‹ ê²½ì“°ì§€ ì•ŠëŠ”ë‹¤ ë™ì‘í•˜ëŠ” ê³¨ê²©ê³¼ ê·¸ê²ƒì„ ë³´ì¡°í•˜ëŠ” ê¸°ë°˜ êµ¬ì¡°ëŠ” í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œì„ ì‹œì‘í•˜ëŠ” ë°©ë²•ì„ ë„ì™€ì£¼ê¸° ìœ„í•´ ì¡´ì¬í•˜ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì´ë‹¤ ë™ì‘í•˜ëŠ” ê³¨ê²©ì˜ ì™¸í˜• ê²°ì • ì–´ë–¤ ì „ì²´ êµ¬ì¡°ì— ê´€í•œ êµ¬ìƒ ì—†ì´ëŠ” ë¹Œë“œãƒ»ë°°í¬ãƒ»í…ŒìŠ¤íŠ¸ ì£¼ê¸°ë¥¼ ìë™í™” í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ, ê³„íší•œ ì²« ì¶œì‹œë¥¼ ë‹¬ì„±í•˜ëŠ”ë° í•„ìš”í•  ì£¼ìš” ì‹œìŠ¤í…œ ì»´í¬ë„ŒíŠ¸ì™€ ê·¸ëŸ¬í•œ ì»´í¬ë„ŒíŠ¸ì˜ ìƒí˜¸ ì‘ìš© ë°©ì‹ì— ëŒ€í•œ ëŒ€ëµì ì¸ ê·¸ë¦¼ì€ í•„ìš”í•˜ë‹¤. ì´ëŠ” í™”ì´íŠ¸ë³´ë“œì— ëª‡ë¶„ë§Œì— ê·¸ë¦´ ìˆ˜ ìˆë‹¤ ê³µê°œëœ ì¥ì†Œì— ì´ëŸ° êµ¬ì¡°ë¥¼ ê·¸ë ¤ë†“ìœ¼ë©´ ì½”ë“œ ì‘ì„± ì‹œ íŒ€ì´ ì—…ë¬´ ë°©í–¥ì„ ì°¸ê³ í•˜ëŠ”ë° ë„ì›€ì´ ëœë‹¤(ë§ˆíŒŒ ë¬¸ë””) ë‹¹ì—°í•˜ì§€ë§Œ, ì´ ê°™ì€ ì´ˆê¸° êµ¬ì¡°ë¥¼ ì„¤ê³„í•˜ë ¤ë©´ ì‹œìŠ¤í…œì˜ ëª©ì ì„ ì–´ëŠ ì •ë„ ì´í•´í•´ì•¼ í•œë‹¤ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”êµ¬ì‚¬í•­(ê¸°ëŠ¥ì  ìš”êµ¬ì‚¬í•­, ë¹„ê¸°ëŠ¥ì  ìš”êµ¬ì‚¬í•­)ì„ ê³ ìˆ˜ì¤€ ê´€ì ì—ì„œ ë°”ë¼ë³´ê³  ì˜ì‚¬ê²°ì •ì— ì°¸ê³ í•´ì•¼ í•œë‹¤ ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ìœ„í—˜ì„ ë¬´ë¦…ì“°ê³  í•˜ëŠ” ì¼ë“¤ì´ ì£„ë‹¤ ì˜ë¯¸ê°€ ì—†ì–´ì§„ë‹¤ ì°¸ê³ ë¡œ ì´ë¥¼ ê³¼ë„í•œ ì‚¬ì „ ì„¤ê³„ì™€ í˜¼ë™í•˜ì§€ ì•Šì•„ì•¼ í•œë‹¤ ì‹¤ì œ í”¼ë“œë°±ì„ í† ëŒ€ë¡œ ë°°ìš°ê³  ê°œì„ í•´ë‚˜ê°€ëŠ” ê³¼ì •ì„ ì‹œì‘í•  ìˆ˜ ìˆê²Œ(+TDD ì£¼ê¸°ë¥¼ ì‹œì‘í•  ìˆ˜ ìˆê²Œ)í•˜ëŠ”ë° í•„ìš”í•œ ìµœì†Œí•œì˜ ì˜ì‚¬ê²°ì •ë§Œì„ ë‚´ë¦¬ëŠ” ê²ƒì´ ì¢‹ë‹¤ (í˜„ì¬ ìƒê°í•˜ê³  ìˆëŠ” ë°”ê°€ í‹€ë¦´ ê°€ëŠ¥ì„±ì´ ìˆìœ¼ë¯€ë¡œ, ì‹œìŠ¤í…œì´ ì„±ì¥í•´ê°€ë©´ì„œ ì„¸ë¶€ ì‚¬í•­ì„ íŒŒì•…í•´ë‚˜ê°„ë‹¤) í”¼ë“œë°± ì†ŒìŠ¤ êµ¬ì¶• ì•„ë˜ì˜ ê¸€ë¡œ í”¼ë“œë°±ì˜ ì¤‘ìš”ì„±ì„ ì¬ê³ í•˜ê³  ìˆë‹¤ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì„¤ê³„ì— ëŒ€í•´ ë‚´ë¦° ì˜ì‚¬ê²°ì •ì´ë‚˜, ì–´í”Œë¦¬ì¼€ì´ì…˜ ì„¤ê³„ê°€ ê·¼ê±°í•˜ëŠ” ê°€ì •ì˜ ì˜³ê³  ê·¸ë¦„ì— ëŒ€í•´ì„œëŠ” ì•„ë¬´ê²ƒë„ ë³´ì¥í•  ìˆ˜ ì—†ë‹¤ ê·¸ì € ìµœì„ ì„ ë‹¤í•  ë¿ì´ë©° í˜„ì¬ ë°Ÿê³  ìˆëŠ” ì ˆì°¨ì— í”¼ë“œë°±ì„ ì ìš©í•´ ìµœëŒ€í•œ ë¹¨ë¦¬ ì˜ì‚¬ê²°ì •ì´ë‚˜ ê°€ì •ì„ ê²€ì¦í•˜ëŠ”ë° ì˜ì§€í•  ë¿ì´ë‹¤ ì•„ë˜ëŠ” ìœ„ì˜ í…ŒìŠ¤íŠ¸ ì£¼ë„ ì£¼ê¸°ê°€ ì£¼ëŠ” í”¼ë“œë°±ì— ëŒ€í•´ ê·¸ë ¤ë†“ì€ ê·¸ë¦¼ì´ë‹¤ ë³´ë‹¤ì‹œí”¼ ê° ê³¼ì •ì€ ì„œë¡œì—ê²Œ í”¼ë“œë°±ì´ ëœë‹¤ ì´ëŸ¬í•œ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•¨ìœ¼ë¡œì¨ ìš°ë¦¬ì˜ ê¸°ëŠ¥ì´ ìš”êµ¬ì‚¬í•­ì— ì–¼ë§ˆë‚˜ ë¶€í•©í•˜ëŠ”ì§€, ìš°ë¦¬ ì‹œìŠ¤í…œ êµ¬í˜„ì€ ì–´ë–¤ì§€ ë¹ ë¥´ê²Œ í‰ê°€í•  ìˆ˜ ìˆê³ , ë¹ ë¥´ê²Œ ë°˜ì˜í•  ìˆ˜ ìˆë‹¤. ìµœì¢…ì ìœ¼ë¡œ ìš°ë¦¬ëŠ” ì•ˆì „í•´ì§€ê³ , ì™„ì „í•œ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì–»ê²Œ ë  ê²ƒì´ë‹¤!!! ë˜ í•˜ë‚˜ì˜ ê°€ì¥ í° í—¤íƒì€ ë­˜ ë°°ìš°ëŠ— ê±°ê¸°ì— ë§ì¶° ì‹œìŠ¤í…œì„ ë³€ê²½í•  ìˆ˜ ìˆìœ¼ë¦¬ë¼ëŠ” ì ì´ë‹¤ ë­ë“  í…ŒìŠ¤íŠ¸ë¥¼ ë¨¼ì € ì‘ì„±í•œë‹¤ëŠ” ê²ƒì€ ì² ì €í•œ íšŒê·€ í…ŒìŠ¤íŠ¸ ëª¨ìŒì„ ê°–ê²Œ ëœë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•˜ê¸° ë•Œë¬¸ì´ë‹¤ ë¬¼ë¡  ì–´ë–¤ í…ŒìŠ¤íŠ¸ë„ ì™„ë²½í•˜ì§€ ì•Šì§€ë§Œ, ê²¬ê³ í•œ í…ŒìŠ¤íŠ¸ ëª¨ìŒì´ ìˆìœ¼ë©´ ì¤‘ëŒ€í•œ ë³€ê²½ì„ ì•ˆì „í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤ëŠ” ì‚¬ì‹¤ì€ í™•ì‹¤í•˜ë‹¤ ì²˜ìŒì—ëŠ” ì´ëŸ¬í•œ ìˆœì„œëŒ€ë¡œ ì ì§„ì ì¸ ê°œë°œì„ í•˜ëŠ” ê³¼ì •ì´ ë¶ˆì•ˆì •í•˜ê³ , í™œë™ëŸ‰ë„ êµ‰ì¥íˆ ë§ì„ ê²ƒì´ì§€ë§Œ ìë™í™”ê°€ êµ¬ì¶•ë˜ê³  ë‚˜ë©´ ë°˜ë³µì ì¸ ê³¼ì •ìœ¼ë¡œ ì•ˆì •í™”ëœë‹¤ ë‚˜ì¤‘ì— í†µí•© ì ˆì°¨ë¥¼ ìˆ˜í–‰í•˜ëŠ” í”„ë¡œì íŠ¸ëŠ” ì¹¨ì°©í•œ ë¶„ìœ„ê¸°ì—ì„œ ì‹œì‘í•˜ì§€ë§Œ, ì²˜ìŒìœ¼ë¡œ ì‹œìŠ¤í…œ í†µí•©ì„ ì‹œë„í•˜ê²Œ ë˜ëŠ” í›„ë°˜ë¶€ì— í˜ë“¤ì–´ì§€ê³¤ í•œë‹¤ í†µí•©ì„ ë‚˜ì¤‘ì— í•˜ëŠ” ë°©ì‹ì˜ ê²½ìš° ì–´ë–¤ ì¼ì´ ì¼ì–´ë‚ ì§€ ì˜ˆì¸¡í•˜ê¸° ë¶ˆê°€ëŠ¥í•œë°, íŒ€ì—ì„œ ì—„ì²­ë‚˜ê²Œ ë§ì€ ê° ë¶€ë¶„ì„ ì œí•œëœ ì‹œê°„ì— ì§œë§ì¶°ì•¼ í•˜ê³  ì‹¤íŒ¨í•œ ë¶€ë¶„ì„ ê³ ì¹˜ëŠ” ì¼ë„ ê°ì•ˆí•´ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤ ê·¸ë˜ì„œ ê²½í—˜ì´ í’ë¶€í•œ ì´í•´ê´€ê³„ìëŠ” í”„ë¡œì íŠ¸ ì´ˆë°˜ë¶€ì— ìƒê¸°ëŠ” ë¶ˆì•ˆì •ì„±ì— ê³ ì•½í•˜ê²Œ ë°˜ì‘í•œë‹¤ í›„ë°˜í›„ì— ë“¤ì–´ê°€ë©´ ìƒí™©ì´ ë” ì•…í™”ë˜ë¦¬ë¼ ì˜ˆìƒí•˜ê¸° ë•Œë¬¸ì´ë‹¤ ë¹„ë‹¨ í†µí•© ë¿ë§Œì´ ì•„ë‹ˆë‹¤. ìš°ë¦¬ëŠ” ê°ì¢… í…ŒìŠ¤íŠ¸ë“¤ì„ ë¨¼ì € ì‘ì„±í•¨ìœ¼ë¡œì¨ í˜¼ë€ì„ ë¯¸ë¦¬ ì¡ê³ ê°€ê²Œ ë˜ëŠ” íš¨ê³¼ë¥¼ ê°€ì§€ê²Œ ëœë‹¤. ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì€ ë°©í–¥ ê°ê°ì„ í™•ë³´í•˜ëŠ” ê²ƒê³¼ ê°€ì •ì„ í…ŒìŠ¤íŠ¸í•  êµ¬ì²´ì ì¸ êµ¬í˜„ì„ ê°–ì¶°ì•¼ í•œë‹¤ëŠ” ê²ƒì´ë‹¤ ë™ì‘í•˜ëŠ” ê³¨ê²©ì€ í”„ë¡œì íŠ¸ ì´ˆê¸°ì— ê°ì¢… ìŸì ì„ ë“œëŸ¬ë‚´ì§€ë§Œ, í”„ë¡œì íŠ¸ ì´ˆê¸°ë¼ë©´ ì•„ì§ê¹Œì§€ ê·¸ëŸ¬í•œ ìŸì ì„ í•´ê²°í•  ì‹œê°„ê³¼ ì˜ˆì‚°, ì˜ì§€ê°€ ìˆì„ ë•Œì´ë‹¤]]></content>
      <categories>
        <category>tdd</category>
      </categories>
      <tags>
        <tag>í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œë¡œ ë°°ìš°ëŠ” ê°ì²´ì§€í–¥ ì„¤ê³„ì™€ ì‹¤ì²œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[git] commit message convention]]></title>
    <url>%2Fgit%2Fcommit-message-convention%2F</url>
    <content type="text"><![CDATA[ì»¤ë°‹ ë©”ì„¸ì§€ ì»¨ë²¤ì…˜ https://meetup.toast.com/posts/106 https://doublesprogramming.tistory.com/256 feat : ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ fix : ë²„ê·¸ ìˆ˜ì • docs : ë¬¸ì„œ ìˆ˜ì • style : ì½”ë“œ í¬ë§·íŒ…, ì„¸ë¯¸ì½œë¡  ëˆ„ë½, ì½”ë“œ ë³€ê²½ì´ ì—†ëŠ” ê²½ìš° refactor : ì½”ë“œ ë¦¬í™í† ë§ test : í…ŒìŠ¤íŠ¸ ì½”ë“œ, ë¦¬í™í† ë§ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì¶”ê°€ chore : ë¹Œë“œ ì—…ë¬´ ìˆ˜ì •, íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ìˆ˜ì •]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>commit</tag>
        <tag>commit convention</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[tdd] ê°ì²´ë¥¼ í™œìš©í•œ í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ]]></title>
    <url>%2Ftdd%2F%EA%B0%9D%EC%B2%B4%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%9C-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%A3%BC%EB%8F%84-%EA%B0%9C%EB%B0%9C%2F</url>
    <content type="text"><![CDATA[ê°ì²´ì˜ ì„¤ê³„ì— ëŒ€í•´ ì„¤ëª…í•˜ê³  ìˆë‹¤ ê°ì²´ë§ ê°ì²´ ì§€í–¥ ì„¤ê³„ëŠ” ê°ì²´ ìì²´ë³´ë‹¤ ê°ì²´ê°„ì˜ ì˜ì‚¬ì†Œí†µì— ë” ì§‘ì¤‘í•œë‹¤ ì¤‘ìš”í•œ ê²ƒì€ ë©”ì‹œì§€ ì „ë‹¬ì´ë©°, ìœ„ëŒ€í•˜ê³  ì„±ì¥ ê°€ëŠ¥í•œ ì‹œìŠ¤í…œì„ ë§Œë“¤ë•Œì˜ í•µì‹¬ì€ ëª¨ë“ˆê°„ì˜ ì˜ì‚¬ì†Œí†µì— ìˆì§€, ëª¨ë“ˆì˜ ë‚´ë¶€ íŠ¹ì„±ì´ë‚˜ ì‘ë™ ë°©ì‹ì— ìˆì§€ ì•Šë‹¤ ì‹œìŠ¤í…œì€ ê°ì²´ë¥¼ ìƒì„±í•´ ì„œë¡œ ë©”ì‹œì§€ë¥¼ ì£¼ê³ ë°›ì„ ìˆ˜ ìˆê²Œ ì¡°ë¦½í•˜ëŠ” ê³¼ì •ì„ ê±°ì³ ë§Œë“¤ì–´ì§„ë‹¤. ì‹œìŠ¤í…œì˜ í–‰ìœ„ëŠ” ê°ì²´ì˜ ì¡°í•©(ê°ì²´ì˜ ì„ íƒê³¼ ì—°ê²° ë°©ì‹)ì„ í†µí•´ ë‚˜íƒ€ë‚˜ëŠ” íŠ¹ì„±ì´ë‹¤. ì´ëŸ°ì‹ìœ¼ë¡œ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ë©´ ë°©ë²•(how)ì´ ì•„ë‹ˆë¼ ëª©ì (what)ì— ì§‘ì¤‘í•  ìˆ˜ ìˆì–´ì„œ, ì‹œìŠ¤í…œì— í¬í•¨ëœ ê°ì²´ì˜ êµ¬ì„±ì„ ë³€ê²½í•´ ì‹œìŠ¤í…œ ì‘ë™ ë°©ì‹ì„ ì‰½ê²Œ ë°”ê¿€ ìˆ˜ ìˆë‹¤. ê°’ê³¼ ê°ì²´ ì‹œìŠ¤í…œì„ ì„¤ê³„í•  ë•ŒëŠ” ê°’(value)ê³¼ ê°ì²´(object)ë¥¼ êµ¬ë¶„í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤. ê°’ì€ ë³€í•˜ì§€ ì•ŠëŠ” ì–‘ì´ë‚˜ í¬ê¸°ë¥¼ ë‚˜íƒ€ë‚´ë©°, ê°ì²´ëŠ” ì‹ë³„ìë¥¼ ê°€ì§€ê³  ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ìƒíƒœê°€ ë³€í• ìˆ˜ë„ ìˆëŠ” ì• ë“¤ì„ ê°€ë¦¬í‚¨ë‹¤. (DDDì˜ Value Objectì™€ Reference Object) ëŒ€ë¶€ë¶„ì˜ ê°ì²´ì§€í–¥ ì–¸ì–´ì—ì„œëŠ” ì´ ë‘ ê°œë…ì„ ëª¨ë‘ í´ë˜ìŠ¤ë¼ëŠ” ë™ì¼í•œ ì–¸ì–´ êµ¬ì„±ë¬¼ë¡œ êµ¬í˜„í•œë‹¤ëŠ” ì ì—ì„œ í˜¼ë™ì˜ ì—¬ì§€ê°€ ìˆë‹¤ ê°’(value) ì–‘ì´ ê³ ì •ëœ ë¶ˆë³€ ì¸ìŠ¤í„´ìŠ¤ ê°œì¸ ì‹ë³„ìê°€ ì—†ìœ¼ë¯€ë¡œ ë‘ ê°’ ì¸ìŠ¤í„´ìŠ¤ì˜ ìƒíƒœê°€ ê°™ë‹¤ë©´ ì‚¬ì‹¤ìƒ ë™ì¼í•œ ì…ˆì´ë‹¤ ê·¸ëŸ¬ë¯€ë¡œ ë‘ ê°’ì˜ ì‹ë³„ìë¥¼ ë¹„êµí•˜ëŠ” ê²ƒì€ ì ì ˆí•˜ì§€ ì•Šë‹¤ string1 == string2 ë³´ë‹¨ string1.equals(string2) ë¥¼ ì“°ë¼ê³  í•˜ëŠ” ì´ìœ ì´ë‹¤ ê°ì²´(object) ë³€ê²½ ê°€ëŠ¥í•œ ìƒíƒœë¥¼ ì´ìš©í•´ ì‹œê°„ì˜ ì¶”ì´ì— ë”°ë¥¸ ê°ì²´ì˜ í–‰ìœ„ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤ ë‘ ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ì˜ ìƒíƒœê°€ ì •í™•íˆ ë™ì¼í•˜ë”ë¼ë„ ë³„ê°œì˜ ì‹ë³„ìë¥¼ ê°€ì§„ë‹¤ ì¦‰, ì‹ë³„ìë¡œ ë¹„êµí•´ì•¼ í•œë‹¤ ë©”ì‹œì§€ë¥¼ ë”°ë¥´ë¼ ê°ì²´ë¥¼ ì„¤ê³„í•  ë•Œ ë‹¤ë¥¸ ê°ì²´ì™€ ì‰½ê²Œ ê´€ê³„ë¥¼ ë§ºì„ ìˆ˜ ìˆê²Œ ê°ì²´ë¥¼ ì„¤ê³„í•´ì•¼ í•œë‹¤ ê°ì²´ê°€ ì˜ì‚¬ì†Œí†µ íŒ¨í„´ì„ ë”°ë¥´ê³ , ê°ì²´ê°„ì˜ ì˜ì¡´ì„±ì´ ëª…ì‹œì ì´ì–´ì•¼ í•œë‹¤ ì˜ì‚¬ì†Œí†µ íŒ¨í„´ì€ ë‹¤ë¥¸ ê°ì²´ì™€ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ë°©ë²•ì„ ê´€ì¥í•˜ëŠ” ê°ì¢… ê·œì¹™ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤ ê°ì²´ì˜ ì—­í• , ê°ì²´ì—ì„œ ì „ë‹¬ ê°€ëŠ¥í•œ ë©”ì„¸ì§€, ì „ë‹¬ ê°€ëŠ¥í•œ ì‹œì  ë“± ì˜ì‚¬ì†Œí†µ êµ¬ì¡°ëŠ” ì²˜ìŒ ê°ì²´ë¥¼ ë°°ìš¸ë•Œ ëŠë¼ëŠ” ì •ì ì¸ ë¶„ë¥˜ì—ì„œ ê°œë…ì ìœ¼ë¡œ êµ‰ì¥íˆ ë°œì „í•œ ë‹¨ê³„ì— í•´ë‹¹í•œë‹¤ ê°ì²´ê°„ ë©”ì‹œì§€ ì£¼ê³ ë°›ëŠ” ê²ƒì— ë” ì§‘ì¤‘í•œ ë°©ì‹ì´ë¼ê³  ìƒê°ëœë‹¤ ì—­í• , ì±…ì„, í˜‘ë ¥ì ê°ì²´ëŠ” ì—­í• ì„ í•˜ë‚˜ ì´ìƒ êµ¬í˜„í•œ ê²ƒì´ë©°, ì±…ì„ì€ ì–´ë–¤ ê³¼ì—…ì„ ìˆ˜í–‰í•˜ê±°ë‚˜ ì •ë³´ë¥¼ ì•Œì•„ì•¼ í•  ì˜ë¬´ë¥¼ ë§í•œë‹¤ í˜‘ë ¥ì€ ê°ì²´ë‚˜ ì—­í• (ë˜ëŠ” ë‘˜ ë‹¤)ì˜ ìƒí˜¸ ì‘ìš©ì— í•´ë‹¹í•œë‹¤ CRC ì¹´ë“œ(ë˜ëŠ” UML)ë¥¼ ì´ìš©í•´ê°€ë©° ê°ì²´ë¥¼ ëª¨ë¸ë§ í•´ë³´ëŠ” ê²ƒë„ ì¢‹ì€ ë°©ë²•ì´ë‹¤ ë¬»ì§€ ë§ê³  ë§í•˜ë¼(â˜…) ì„œë¡œê°„ì— ë©”ì‹œì§€ë¥¼ ì „ë‹¬í•˜ëŠ” ê°ì²´ê°€ ìˆë‹¤ë©´, ì„œë¡œ ë¬´ìŠ¨ ì´ì•¼ê¸°ë¥¼ í• ê¹Œ? ê°ì²´ë¥¼ í˜¸ì¶œí•  ë• ì´ì›ƒ ê°ì²´ê°€ í•˜ëŠ” ì—­í•  ì¸¡ë©´ì—ì„œ í•´ë‹¹ ê°ì²´ê°€ ë¬´ì—‡ì„ ì›í•˜ëŠ”ì§€ ê¸°ìˆ í•˜ê³ , í˜¸ì¶œëœ ê°ì²´ê°€ ì „ë‹¬ë°›ì€ ë°”ë¥¼ ì–´ë–»ê²Œ ì‹¤í˜„í•  ì§€ ê²°ì •í•œë‹¤ ë””ë¯¸í„°ì˜ ë²•ì¹™(Law of Demeter), ë¬»ì§€ ë§ê³  ë§í•˜ë¼(Tell, Donâ€™t Ask) ê°ì²´ëŠ” ê·¸ê²ƒì´ ë‚´ë¶€ì ìœ¼ë¡œ ë³´ìœ í•˜ê³  ìˆê±°ë‚˜ ë©”ì‹œì§€ë¥¼ í†µí•´ í™•ë³´í•œ ì •ë³´ë§Œ ê°€ì§€ê³  ì˜ì‚¬ê²°ì •ì„ ë‚´ë ¤ì•¼í•œë‹¤ ê°ì²´ê°€ ë‹¤ë¥¸ ê°ì²´ë¥¼ íƒìƒ‰í•´ ë­”ê°€ë¥¼ ì¼ì–´ë‚˜ê²Œ í•˜ë©´ ì•ˆëœë‹¤ í˜¸ì¶œìëŠ” í•´ë‹¹ ê°ì²´ì˜ ë‚´ë¶€ êµ¬ì¡°ë‚˜ ë˜ëŠ” ê·¸ ë„ˆë¨¸ì— ì¡´ì¬í•˜ëŠ” ì‹œìŠ¤í…œì˜ êµ¬ì¡°ì— ëŒ€í•´ ì•Œ í•„ìš”ê°€ ì—†ë‹¤(ì•Œì•„ì„œë„ ì•ˆëœë‹¤) ì´ ìŠ¤íƒ€ì¼ì„ ì¼ê´€ë˜ê²Œ ë”°ë¥¸ë‹¤ë©´ ì½”ë“œê°€ ì¢€ ë” ìœ ì—°í•´ì§„ë‹¤ ê°™ì€ ì—­í• ì„ ìˆ˜í–‰í•˜ëŠ” ê°ì²´ë¥¼ ì†ì‰½ê²Œ êµì²´í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤ 12345678// ì™¸ë¶€ì—ì„œ ë¬¼ì–´ì„œ ì§ì ‘ íŒë‹¨í•˜ì§€ ë§ê³ master.getModelisable() .getDockablePanel() // ì´ëŸ¬í•œ ê²ƒì„ .getCustomizer() // 'ì—´ì°¨ ì „ë³µ'ì´ë¼ê³  í•œë‹¤ .getSavetem().setEnabled(Boolean.FALSE.booleanValue());// í•´ë‹¹ ê°ì²´ê°€ íŒë‹¨í•˜ê²Œë” í•˜ë¼ master.allowSavingOfCustomisations(); ì´ë ‡ê²Œ ì‘ì„±í•¨ìœ¼ë¡œì¨ ì¶”ê°€ì ìœ¼ë¡œ ì–»ëŠ” ì´ì ì€ ì•„ë˜ì™€ ê°™ë‹¤ masterë¥¼ ì´ìš©í•˜ëŠ” ìª½ì—ì„œ ë©”ì„œë“œë¥¼ í•´ë‹¹ ê°ì²´ì˜ ë‚´ë¶€ êµ¬ì¡°ê¹Œì§€ ëª°ë¼ë„ ëœë‹¤ ê¸°ì¡´ì—ëŠ” ì—°ì´ì–´ í˜¸ì¶œí•˜ëŠ” ëª¨ë“  ê°ì²´ì˜ íƒ€ì…ê¹Œì§€ ì•Œê³  ìˆì—ˆë‹¤ ë§Œì•½ ì„¤ê³„ê°€ ë³€ê²½ë˜ì–´ë„, ì´ ì½”ë“œì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì´ ì‘ë‹¤ ê¸°ì¡´ì²˜ëŸ¼ ì‚¬ìš©ë˜ëŠ” ê³³ì´ ë§ì•˜ë‹¤ê³  í•˜ë©´, ì„¤ê³„ ë³€ê²½ì´ ë¯¸ì¹˜ëŠ” ì˜í–¥ì´ ë§¤ìš° ì»¸ì„ê²ƒì´ë‹¤ ëª…ì‹œì ì¸ ì´ë¦„ì„ ë¶€ì—¬í•˜ì˜€ê¸° ë•Œë¬¸ì— ì½”ë“œë¥¼ ì´í•´í•˜ê¸°ê°€ ë” ì‰¬ì›Œì§„ë‹¤ ê·¸ë˜ë„ ê°€ë”ì€ ë¬¼ì–´ë¼ ë¬¼ë¡  ëª¨ë“  ê²ƒë§Œì„ ë§í•˜ì§€ë§Œì€ ì•ŠëŠ”ë‹¤ ê°’ê³¼ ì»¬ë ‰ì…˜ìœ¼ë¡œë¶€í„° ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ê±°ë‚˜ íŒ©í† ë¦¬ë¥¼ ì´ìš©í•´ ìƒˆ ê°ì²´ë¥¼ ìƒì„±í• ë•Œ(?)ëŠ” ë¬»ëŠ”ë‹¤ ê²€ìƒ‰ì´ë‚˜ í•„í„°ë§ì„ í•  ë•Œë¥¼ ìƒê°í•´ë³´ë©´ ëœë‹¤ ê·¸ëŸ¬ë‚˜ ì´ë ‡ê²Œ ë¬»ëŠ” ê³¼ì •ì—ì„œë„ ì—´ì°¨ ì „ë³µì€ í”¼í•˜ê²Œë” ì‘ì„±í•´ì•¼ í•œë‹¤ 123456789// ì´ë ‡ê²Œ ë‚´ë¶€ êµ¬ì¡°ë¥¼ ë…¸ì¶œí•´ì„œëŠ” ì•ˆëœë‹¤ if(carriage.getSeats().getPercentReserved() &lt; persentReservedBarrier)&#123; request.reserveSeatsIn(carriage);&#125;// ì •ë§ë¡œ ë‚´ê°€ ì›í•˜ëŠ” ë‹µì„ ì£¼ê²Œë” ì§ˆë¬¸ì„ í•´ì•¼í•œë‹¤ if(carriage.hasSeatsAvailableWithin(persentReservedBarrier))&#123; request.reserveSeatsIn(carriage);&#125; ì´ë ‡ê²Œ ì‘ì„±í•˜ë©´ ì¶”ê°€ì ìœ¼ë¡œ, ì´í•´í•˜ê¸° ì‰½ê³  í…ŒìŠ¤íŠ¸í•˜ê¸° ì‰¬ì›Œì§„ë‹¤ëŠ” ì¥ì ì„ ì–»ì„ ìˆ˜ ìˆë‹¤ ì°¸ê³ ë¡œ ì´ëŸ°ì‹ì˜ ì§ˆì˜(getter í¬í•¨) ë©”ì„œë“œëŠ” ë˜ë„ë¡ ì ê²Œ ì“°ë ¤ê³  í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤ ì§ˆì˜ê°€ ê°ì²´ ë°”ê¹¥ìœ¼ë¡œ ìƒˆì–´ ë‚˜ê°€ì„œ ì‹œìŠ¤í…œì´ ë” ê²½ì§ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤ í˜¸ì¶œí•˜ëŠ” ê°ì²´ì˜ ì˜ë„ë¥¼ ì„œìˆ í•˜ëŠ” ì§ˆì˜ë¥¼ ì‘ì„±í•˜ë ¤ê³  ì• ì¨ì•¼í•œë‹¤ í˜‘ë ¥ ê°ì²´ì˜ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ìœ„ì˜ ë””ë¯¸í„°ì˜ ë²•ì¹™ì„ ì§€í‚¤ë‹¤ë³´ë©´, assertionì„ í•˜ë‚˜ë„ ì“¸ ê³³ì´ ì—†ì–´ì§€ëŠ” ê²ƒ ê°™ì€ í˜„ìƒì„ ë§ì´í•˜ê²Œ ëœë‹¤ (ê° ê°ì²´ê°€ ì„œë¡œ ëª…ë ¹ì„ ì „ë‹¬í•˜ê³ , ìƒíƒœë¥¼ ì§ˆì˜í•˜ëŠ” ìˆ˜ë‹¨ì„ ë…¸ì¶œí•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—) í˜¸ì¶œë˜ì—ˆì„ë•Œ ì£¼ìœ„ì— í•˜ë‚˜ ë˜ëŠ” ê·¸ ì´ìƒì˜ ì´ì›ƒê°ì²´ì— ë©”ì‹œì§€ë¥¼ ë³´ë‚´ëŠ” ê°ì²´ì˜ ë©”ì„œë“œê°€ ìˆë‹¤ê³  í•œë‹¤ë©´, í•´ë‹¹ ë©”ì„œë“œê°€ ì˜¬ë°”ë¥´ê²Œ ìˆ˜í–‰ë˜ì—ˆëŠ”ì§€ ì–´ë–»ê²Œ í…ŒìŠ¤íŠ¸ í•  ìˆ˜ ìˆì„ê¹Œ(ë‚´ë¶€ ìƒíƒœë¥¼ ë“œëŸ¬ë‚´ì§€ ì•Šê³ )? í˜‘ë ¥ìê°€ ì˜ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ mockìœ¼ë¡œ ê²€ì¦í•˜ë¼? SUTì˜ ì´ì›ƒ(í˜‘ë ¥ì)ë¥¼ stubìœ¼ë¡œ ëŒ€ì²´í•˜ë©´ ëœë‹¤ ì‹¤ì œë¡œ SUTë¥¼ í…ŒìŠ¤íŠ¸í• ë•ŒëŠ” í˜‘ë ¥ìê¹Œì§€ ê°™ì´ í…ŒìŠ¤íŠ¸ í•  í•„ìš”ëŠ” ì—†ê¸° ë•Œë¬¸ì´ë‹¤. í˜‘ë ¥ìì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ë“¤ì€ í˜‘ë ¥ìë“¤ì´ ì§ì ‘ ìˆ˜í–‰í•˜ê²Œë” í•˜ê³ , ìš°ë¦¬ëŠ” stubì— ì˜ˆìƒ êµ¬ë¬¸(expectation)ì„ ì‘ì„±í•˜ì—¬ SUTì˜ í…ŒìŠ¤íŠ¸ë§Œ ì§‘ì¤‘í•˜ê²Œë” í•´ì•¼í•œë‹¤(ë§ë‚˜?) í•„ìš”í•œ mock(stub) ê°ì²´ ìƒì„± mock(stub)ì„ í¬í•¨í•œ ì‹¤ì œ ê°ì²´ ìƒì„± í˜‘ë ¥ê°ì²´ê°€ ì–´ë–»ê²Œ í˜¸ì¶œë ê²ƒì¸ì§€ë¥¼ ê¸°ìˆ (í–‰ìœ„ ê²€ì¦ì„ í•˜ë¼ëŠ” ì˜ë¯¸ì¸ê°€?) SUTì—ì„œ í˜‘ë ¥ê°ì²´ê°€ í¬í•¨ëœ ë©”ì„œë“œë¥¼ í˜¸ì¶œ ì˜ˆìƒë˜ëŠ” ë©”ì„œë“œ í˜¸ì¶œì´ ëª¨ë‘ ì¼ì–´ë‚¬ëŠ”ì§€ í™•ì¸ ëª¨ë“  í…ŒìŠ¤íŠ¸ ì˜ë„ë¥¼ ëª…í™•í•˜ê²Œ í•´ì„œ í…ŒìŠ¤íŠ¸ë¥¼ ê±°ì¹œ ê¸°ëŠ¥ê³¼ ë³´ì¡° ì—­í• ì„ ë‹´ë‹¹í•˜ëŠ” ê¸°ë°˜ êµ¬ì¡°, ê°ì²´ êµ¬ì¡°ë¥¼ ë¶„ë¦¬í•˜ëŠ” ê²ƒ?]]></content>
      <categories>
        <category>tdd</category>
      </categories>
      <tags>
        <tag>í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œë¡œ ë°°ìš°ëŠ” ê°ì²´ì§€í–¥ ì„¤ê³„ì™€ ì‹¤ì²œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[tdd] ì¸ìˆ˜í…ŒìŠ¤íŠ¸, ë‹¨ìœ„í…ŒìŠ¤íŠ¸, í†µí•©í…ŒìŠ¤íŠ¸, ì „ êµ¬ê°„ í…ŒìŠ¤íŠ¸]]></title>
    <url>%2Ftdd%2F%EC%9D%B8%EC%88%98%ED%85%8C%EC%8A%A4%ED%8A%B8-%EB%8B%A8%EC%9C%84%ED%85%8C%EC%8A%A4%ED%8A%B8-%ED%86%B5%ED%95%A9%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%A0%84-%EA%B5%AC%EA%B0%84-%ED%85%8C%EC%8A%A4%ED%8A%B8%2F</url>
    <content type="text"><![CDATA[í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œë¡œ ë°°ìš°ëŠ” ê°ì²´ì§€í–¥ ì„¤ê³„ì™€ ì‹¤ì²œ ì´ë¼ëŠ” ì±…ê³¼ Acceptance Test vs Integration Test ë¸”ë¡œê·¸ì˜ ê¸€ì„ í•©ì³ì„œ ì‘ì„±í•œ ê° í…ŒìŠ¤íŠ¸ë“¤ì˜ ì¢…ë¥˜ì™€ íŠ¹ì§•ì´ë‹¤. ìœ ë‹› í…ŒìŠ¤íŠ¸(Unit Test) ê°€ì¥ ì‘ì€ ë‹¨ìœ„ì˜ í…ŒìŠ¤íŠ¸ì´ë‹¤ ë³´í†µ ë©”ì„œë“œ ë ˆë²¨ì´ë‹¤ Aë¼ëŠ” í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ë©´ Bë¼ëŠ” ê²°ê³¼ê°€ ë‚˜ì˜¨ë‹¤ ì •ë„ë¡œ í…ŒìŠ¤íŠ¸í•œë‹¤ ì¦‰ê°ì ì¸ í”¼ë“œë°±ì´ ë‚˜ì˜¨ë‹¤ëŠ” ê²ƒì´ í›Œë¥­í•œ ì¥ì ì´ë‹¤ ê¼­ ë©”ëª¨ë¦¬ ë‚´ì—ì„œë§Œ ì‹¤í–‰ë˜ëŠ” í…ŒìŠ¤íŠ¸ì—¬ì•¼ í•œë‹¤ëŠ” ë²•ì¹™ì€ ì—†ë‹¤ ë°ì´í„°ë² ì´ìŠ¤, ë„¤íŠ¸ì›Œí¬ ì—‘ì„¸ìŠ¤, íŒŒì¼ ì‹œìŠ¤í…œ ë“±ì„ ì‚¬ìš©í•˜ì—¬ë„ ë‹¨ìœ„í…ŒìŠ¤íŠ¸ì˜ ë ˆë²¨ì¼ ìˆ˜ ìˆë‹¤ í…ŒìŠ¤íŠ¸í•˜ê¸° ì–´ë ¤ìš´ ë¶€ë¶„ì€ stubì„ ì‚¬ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸í•œë‹¤ ë¹„ìš©ì´ í¬ì§€ ì•Šë‹¤ë©´ stubë³´ë‹¤ëŠ” ì‹¤ì œ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤ ì•„ë¬´ë˜ë„ ì •êµí•œ ëª© ê°ì²´ê°€ ì‹¤ì œ ê°ì²´ë³´ë‹¤ ì •í™•í•˜ì§€ëŠ” ì•Šê¸° ë•Œë¬¸ì´ë‹¤ ëª¨ë“  ê²ƒì€ ë¹„ìš© ê´€ì ì—ì„œ ìƒê°í•´ì•¼ í•œë‹¤ í•˜ë‚˜ì˜ ë©”ì„œë“œë“¤ì´ ì˜ ë™ì‘í•œë‹¤ëŠ” ê²ƒì€ ë³´ì¥í•  ìˆ˜ ìˆì§€ë§Œ, ê·¸ë“¤ì´ ê²°í•©ë˜ì—ˆì„ë•Œë„ ì˜ ì‘ë™í•œë‹¤ëŠ” ê²ƒì€ ë³´ì¥í•  ìˆ˜ ì—†ë‹¤ ì „ êµ¬ê°„ í…ŒìŠ¤íŠ¸(End-To-End Test) í•´ë‹¹ ì‹œìŠ¤í…œê³¼ í•´ë‹¹ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ê³  ë°°í¬í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ ëª¨ë‘ ì‹œí—˜í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤ ìš©ì–´ë¥¼ ì‚¬ìš©í•˜ëŠ” ê³³ë§ˆë‹¤ ì¡°ê¸ˆì”© ì°¨ì´ê°€ ìˆë‹¤ ë‚´ë¶€ ê¸°ëŠ¥ë“¤ê¹Œì§€(í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë“¤ê¹Œì§€) í…ŒìŠ¤íŠ¸ í•  í•„ìš”ëŠ” ì—†ë‹¤ ì´ëŠ” ë‹¨ìœ„í…ŒìŠ¤íŠ¸ì˜ ì˜ì—­ì´ë‹¤ ë‹¨ì ì€ í…ŒìŠ¤íŠ¸ë¥¼ ë§Œë“¤ê¸°ê°€ í˜ë“¤ê³ , ë§Œë“  í…ŒìŠ¤íŠ¸ë¥¼ ì‹ ë¢°í•˜ê¸°ë„ í˜ë“¤ë‹¤ëŠ” ê²ƒì´ë‹¤ í†µí•© í…ŒìŠ¤íŠ¸(Integration Test) ê¸°ë³¸ì ìœ¼ë¡œ ì—¬ëŸ¬ê°œë¥¼ í†µí•©í•´ì„œ í…ŒìŠ¤íŠ¸ í• ë•Œ ì‚¬ìš©í•˜ëŠ”ë°, ë­”ê°€ ì •í™•í•œ ìš©ì–´ê°€ ì •ì˜ëœ ëŠë‚Œì€ ì•„ë‹ˆë‹¤ ì±…ì—ì„œëŠ” ë³€ê²½í•  ìˆ˜ ì—†ëŠ” ë¶€ë¶„(ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë“±)ê¹Œì§€ ë¬¶ì–´ì„œ ê°™ì´ í…ŒìŠ¤íŠ¸ í•  ë–„ ì‚¬ìš©í•œë‹¤ê³  ë§í•˜ê³  ìˆë‹¤ ì‚¬ìš©í•˜ëŠ” ê³³ì—ì„œ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠ” ê°€ì— ë”°ë¼ ë‹¤ë¥¸ ê²ƒ ê°™ë‹¤ ê·¸ë˜ì„œ ë‚œ ì‚¬ìš©í•˜ì§€ ì•Šì„ ê²ƒì´ë‹¤ ì¸ìˆ˜ í…ŒìŠ¤íŠ¸(Acceptance Test) ë‹¨ìœ„ í…ŒìŠ¤íŠ¸, ì „ êµ¬ê°„ í…ŒìŠ¤íŠ¸, í†µí•© í…ŒìŠ¤íŠ¸ì™€ëŠ” ì•½ê°„ scope ê°€ ë‹¤ë¥´ë‹¤ ìœ„ì˜ 3ê°€ì§€ëŠ” ì´ˆì ì´ ê¸°ìˆ  ìª½ì´ë¼ë©´, ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ëŠ” ì´ˆì ì´ ë¹„ì¦ˆë‹ˆìŠ¤ ìª½ì´ë‹¤ êµ¬í˜„í•˜ê³ ì í•˜ëŠ” ê¸°ëŠ¥(ë¹„ì¦ˆë‹ˆìŠ¤ ë ˆë²¨)ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ì´ë‹¤ ëŒ€ì²´ì ìœ¼ë¡œ ì „ êµ¬ê°„ í…ŒìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•œë‹¤ ê·¸ë˜ì„œ ì´ë¥¼ ë™ì¼í•˜ê²Œ ì–˜ê¸°í•˜ëŠ” ê³³ë„ ë§ë‹¤ í•˜ì§€ë§Œ ê²°ê³¼ì ìœ¼ë¡ , ìœ„ 3ê°€ì§€ ëª¨ë‘ ì¸ìˆ˜í…ŒìŠ¤íŠ¸ì˜ ë²”ìœ„ì— ë“¤ì–´ê°ˆ ìˆ˜ ìˆë‹¤ ë³´í—˜ê¸ˆì•¡ì„ ê³„ì‚°í•˜ëŠ” ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” ë³´í—˜ê¸ˆì•¡ì„ ê³„ì‚°í•˜ëŠ” ë©”ì„œë“œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ê°€ ì¸ìˆ˜í…ŒìŠ¤íŠ¸ê°€ ë  ìˆ˜ ìˆë‹¤]]></content>
      <categories>
        <category>tdd</category>
      </categories>
      <tags>
        <tag>í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œë¡œ ë°°ìš°ëŠ” ê°ì²´ì§€í–¥ ì„¤ê³„ì™€ ì‹¤ì²œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CRC card]]></title>
    <url>%2Fetc%2FCRC-card%2F</url>
    <content type="text"><![CDATA[https://uiandwe.tistory.com/465]]></content>
      <categories>
        <category>etc</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[[tdd] TDDì˜ í•µì‹¬]]></title>
    <url>%2Ftdd%2FTDD%EC%9D%98-%ED%95%B5%EC%8B%AC%2F</url>
    <content type="text"><![CDATA[ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œì€ í•™ìŠµì˜ ê³¼ì •ì´ë‹¤ í¥ë¯¸ë¡œìš´ í”„ë¡œì íŠ¸(== ê°€ì¥ í° ì´ìµì„ ì¤„ ë§Œí•œ í”„ë¡œì íŠ¸)ì—ëŠ” ì˜ˆìƒì¹˜ ëª»í•œ ìš”ì†Œê°€ ìƒë‹¹íˆ ë§ë‹¤ ê°–ê°€ì§€ ì¤‘ìš”í•œ êµ¬ì„± ìš”ì†Œê°€ ì¡°í•©ëœ ì‹œìŠ¤í…œì€ ë„ˆë¬´ë‚˜ ë³µì¡í•´ì„œ, ê°œì¸ì´ í•´ë‹¹ ì‹œìŠ¤í…œì˜ ëª¨ë“  ê°€ëŠ¥ì„±ì„ ì´í•´í•˜ê¸°ëŠ” ì–´ë µë‹¤ í”„ë¡œì íŠ¸ì— ê´€ë ¨ëœ ëª¨ë‘ëŠ” í”„ë¡œì íŠ¸ê°€ ì§„í–‰ë˜ë©´ì„œ ë°°ìš°ëŠ” ê²ƒì´ ìˆì–´ì•¼ í•œë‹¤ í”„ë¡œì íŠ¸ì—ì„œ ë¬´ì—‡ì„ ë‹¬ì„±í•´ì•¼ í•˜ëŠ”ì§€? ì˜ëª» ì´í•´í•˜ê³  ìˆëŠ” ë°”ë¥¼ ì‹ë³„ í•´ê²°í•˜ê³ ì í˜‘ì—…í•´ì•¼ í•œë‹¤ í”¼ë“œë°±ì€ ê°€ì¥ ê¸°ë³¸ì ì¸ ë„êµ¬ë‹¤ íŒ€ì• ì„œ ì·¨í•  ìˆ˜ ìˆëŠ” ê°€ì¥ ì¢‹ì€ ì ‘ê·¼ë²•ì€ ê²½í—˜ì— ì˜ê±°í•œ í”¼ë“œë°±ì„ ì´ìš©í•´ ì‹œìŠ¤í…œê³¼ ê·¸ ìš©ë„ì— ê´€í•´ ë°°ìš´ ë‹¤ìŒ, ì´ë ‡ê²Œ ë°°ìš´ ë°”ë¥¼ ë‹¤ì‹œ ì‹œìŠ¤í…œì— ì ìš©í•˜ëŠ” ê²ƒì´ë‹¤ ê·¸ëŸ¬ë¯€ë¡œ ì´ëŸ¬í•œ í”¼ë“œë°±ì„ ì–»ì„ ìˆ˜ ìˆëŠ”, ë°˜ë³µì ì¸ í™œë™ ì£¼ê¸°ê°€ í•„ìš”í•˜ë‹¤ ì €ìëŠ” ëª¨ë“  ê°œë°œì— ì´ˆì—ì„œ ì›” ë‹¨ìœ„ì— ì´ë¥´ëŠ” ì¤‘ì²©ëœ ê³ ë¦¬í˜• ì‹œìŠ¤í…œì˜ í”¼ë“œë°± ì£¼ê¸°ë¥¼ ì ìš©í–ˆë‹¤ ì§ í”„ë¡œê·¸ë˜ë°, ë‹¨ìœ„ í…ŒìŠ¤íŠ¸, ì¸ìˆ˜í…ŒìŠ¤íŠ¸, ì¼ë³„ íšŒì˜, ë°˜ë³µ ì£¼ê¸°, ì¶œì‹œ ë“±ì„ ì‚¬ìš©í•˜ì—¬ ê³ ë¦¬ë¥¼ êµ¬ì„±í•œë‹¤ í•˜ë‚˜ì˜ ê³ ë¦¬ë§ˆë‹¤ ì‚°ì¶œë¬¼ì´ ë‚˜ì˜¤ê³ , ì´ ì‚°ì¶œë¬¼ì´ í”¼ë“œë°±ìœ¼ë¡œ ë“œëŸ¬ë‚˜ê²Œ ëœë‹¤ íŒ€ì—ì„œëŠ” ë¹ ë¥´ê²Œ ì˜¤í•´ë¥¼ ë°œê²¬í•˜ê³  ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤ ì´ë ‡ë“¯, ì¤‘ì²©ëœ í”¼ë“œë°± ê³ ë¦¬ëŠ” ì„œë¡œë¥¼ ê°•í™”í•œë‹¤ ì•ˆìª½ ê³ ë¦¬ëŠ” ê¸°ìˆ ì  ì„¸ë¶€ ì‚¬í•­ì— ì¢€ ë” ì§‘ì¤‘í•œë‹¤ ë‹¨ìœ„ ì½”ë“œì˜ ì—­í• ê³¼ ì‹œìŠ¤í…œ ë‚˜ë¨¸ì§€ ë¶€ë¶„ê³¼ì˜ í†µí•© ì—¬ë¶€ ë°”ê¹¥ìª½ ê³ ë¦¬ëŠ” ì¡°ì§ê³¼ íŒ€ì— ì¢€ ë” ì§‘ì¤‘í•œë‹¤ ì‚¬ìš©ìì˜ ìš”êµ¬ë¥¼ ì¶©ì¡±í•˜ëŠ”ì§€, íŒ€ì´ íš¨ê³¼ì ìœ¼ë¡œ ìš´ì˜ë˜ê³  ìˆëŠ”ì§€ í”„ë¡œì íŠ¸ì˜ ì–´ë– í•œ ì¸¡ë©´ì— ëŒ€í•´ì„œë„ í”¼ë“œë°±ì„ ì¼ì° ë°›ì„ìˆ˜ë¡ ì¢‹ë‹¤ TDDê°€ ì™œ ì¤‘ìš”í• ê¹Œ? ì‹œìŠ¤í…œ ê·œëª¨ë¥¼ ë¯¿ì„ ìˆ˜ ìˆëŠ” ë°©ì‹ìœ¼ë¡œ í‚¤ìš°ê³ , ëŠ˜ ì¼ì–´ë‚˜ëŠ” ì˜ˆìƒì¹˜ ëª»í•œ ë³€í™”ì— ëŒ€ì²˜í•˜ê³  ì‹¶ë‹¤ë©´ ë‘ê°€ì§€ ê¸°ìˆ ì ì¸ í† ëŒ€ê°€ í•„ìš”í•˜ë‹¤ í…ŒìŠ¤íŠ¸ ìë™í™” ì‹œìŠ¤í…œ ê·œëª¨ì™€ ìƒê´€ì—†ì´ ìˆ˜ë™í…ŒìŠ¤íŠ¸ë¥¼ ìì£¼ í•˜ëŠ”ê²ƒì€ ë¹„ì‹¤ìš©ì ì´ë‹¤ íšŒê¸° ì˜¤ë¥˜ë¥¼ ì¡ì•„ì¤„ ê¾¸ì¤€í•œ í…ŒìŠ¤íŠ¸ê°€ í•„ìš”í•˜ë‹¤ ê¸°ì¡´ ê¸°ëŠ¥ì„ ë§ê°€ëœ¨ë¦¬ì§€ ì•Šê³  ìƒˆ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤ ê¾¸ì¤€í•œ ë¦¬íŒ©í† ë§ ê°œë°œìë“¤ì€ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒë³´ë‹¤ ì½”ë“œë¥¼ ì½ëŠ”ë° í›¨ì”¬ ë” ì‹œê°„ì„ ë§ì´ ë³´ë‚¸ë‹¤ ê·¸ëŸ¬ë¯€ë¡œ ì½”ë“œë¥¼ ê°€ëŠ¥í•œ í•œ ë‹¨ìˆœí•˜ê²Œ ìœ ì§€í•´ì•¼ í•œë‹¤ ë‹¨ìˆœí•¨ì—ëŠ” ë…¸ë ¥ì´ ë§ì´ ë“¤ì–´ê°„ë‹¤ ì„¤ê³„ ê°œì„ í•˜ê³  ë‹¨ìˆœí™”í•˜ë©°, ì¤‘ë³µì„ ì œê±°í•˜ë©°, ì½”ë“œê°€ ëª…í™•í•˜ê²Œ ìì‹ ì˜ ì—­í• ì„ í‘œí˜„í•˜ê²Œë” ì½”ë“œë¥¼ ì‚¬ìš©í• ë•Œë§ˆë‹¤ ê¾¸ì¤€íˆ ë¦¬íŒ©í† ë§ í•´ì•¼í•œë‹¤ í•˜ì§€ë§Œ ì—¬ê¸°ì„œ ë¬¸ì œëŠ”, ëŒ€ë¶€ë¶„ì˜ ê°œë°œìë“¤ì´ í…ŒìŠ¤íŠ¸ ì‘ì„±ì„ ì—…ë¬´ë¡œ ë³´ì§€ ì•Šìœ¼ë©°, ë”°ë¶„í•˜ë‹¤ê³  ì—¬ê¸°ê¸° ê¹Œì§€ í•œë‹¤ëŠ” ê²ƒì´ë‹¤. í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œì€ ì´ëŸ¬í•œ ìƒí™©ì„ ê·¼ë³¸ì ìœ¼ë¡œ ë’¤ì§‘ëŠ”ë‹¤. ì‘ì—…ì„ ì™„ë£Œí•œ í›„ ì‘ì—… ê²°ê³¼ë¥¼ ê²€ì¦í•˜ë ¤ê³  í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼(Test Last), ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° ì „ì— í…ŒìŠ¤íŠ¸ë¥¼ ë¨¼ì € ì‘ì„±í•œë‹¤. ì¦‰, í…ŒìŠ¤íŠ¸ ì‘ì„± ìì²´ê°€ ì„¤ê³„ í™œë™ì´ ë˜ëŠ” ê²ƒì´ë‹¤. í…ŒìŠ¤íŠ¸ë¥¼ ë¨¼ì € ì‘ì„±í•¨ìœ¼ë¡œì¨ ì½”ë“œì—ì„œ í•˜ê³  ì‹¶ì€ë°”ì— ëŒ€í•œ ìƒê°ì„ ëª…í™•í•˜ê²Œ í•˜ê³ , í…ŒìŠ¤íŠ¸ë¥¼ ë¨¼ì € ì‘ì„±í•˜ë ¤ëŠ” ë…¸ë ¥ìœ¼ë¡œ ì„¤ê³„ ì•„ì´ë””ì–´ì˜ í’ˆì§ˆì— ëŒ€í•œ í”¼ë“œë°±ë„ ë¹ ë¥´ê²Œ ì–»ì„ ìˆ˜ ìˆê²Œëœë‹¤ ì½”ë“œë¥¼ í…ŒìŠ¤íŠ¸í•˜ê¸° ì‰½ê²Œ ë§Œë“¤ë©´ ì¢€ ë” ê¹”ë”í•˜ê³  ëª¨ë“ˆí™”ëœ ì½”ë“œê°€ ë§Œë“¤ì–´ì§€ê¸° ë•Œë¬¸ì´ë‹¤ TDD ê°„ë‹¨ ì •ë¦¬ TDD ì‘ì„± ìˆœì„œëŠ” ì•„ë˜ì™€ ê°™ë‹¤ ë‹¤ë“¤ ì˜ ì•„ëŠ” Red-Green-Refactor cycleì´ë‹¤. í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•œë‹¤ í”„ë¡œë•ì…˜ ì½”ë“œê°€ ì—†ìœ¼ë¯€ë¡œ ë‹¹ì—°íˆ ì‹¤íŒ¨í•œë‹¤(Red) í•´ë‹¹ í…ŒìŠ¤íŠ¸ê°€ ë™ì‘í•˜ê²Œ(Green) ë§Œë“ ë‹¤ í…ŒìŠ¤íŠ¸ëŠ” ê±´ë“œë¦¬ì§€ ì•Šê³  í”„ë¡œë•ì…˜ ì½”ë“œë¥¼ ë¦¬íŒ©í† ë§ í•œë‹¤ ì´ë¥¼ ë°˜ë³µí•œë‹¤ í…ŒìŠ¤íŠ¸ë¥¼ ë¨¼ì € ì‘ì„±í•¨ìœ¼ë¡œì¨ ì–»ëŠ” ì´ì ì€ ì•„ë˜ì™€ ê°™ë‹¤ ë‹¤ìŒ ì‘ì—…ì— ëŒ€í•œ ì¸ìˆ˜ ì¡°ê±´ì´ ëª…í™•í•´ì§„ë‹¤ ì‘ì—…ì´ ëë‚˜ëŠ” ì‹œì ì„ ìŠ¤ìŠ¤ë¡œ ì•Œì•„ë‚´ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤ ëŠìŠ¨í•˜ê²Œ ê²°í•©ëœ êµ¬ì„± ìš”ì†Œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆê²Œ ëœë‹¤ ê²©ë¦¬ëœ ìƒíƒœì—ì„œ, ë” ë†’ì€ ìˆ˜ì¤€ìœ¼ë¡œ, ëª¨ë‘ ê²°í•©ëœ ìƒíƒœë¡œ êµ¬ì„± ìš”ì†Œë¥¼ ì†ì‰½ê²Œ í…ŒìŠ¤íŠ¸ í•  ìˆ˜ ìˆë‹¤ ì½”ë“œê°€ í•˜ëŠ” ì¼ì— ëŒ€í•œ ì„¤ëª…ì´ ë”í•´ì§„ë‹¤ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ì¼ì¢…ì˜ ìŠ¤í™ ë¬¸ì„œ ì—­í• ë„ í•œë‹¤ ì™„ì „í•œ íšŒê·€ ìŠ¤ìœ„íŠ¸ê°€ ëŠ˜ì–´ë‚œë‹¤ ì‚¬ì‹¤ìƒ 2,3,4 ë²ˆì€ Test First Development ë³´ë‹¨ ë‹¨ìˆœíˆ í…ŒìŠ¤íŠ¸ ì‘ì„±ì—ì„œ ì–»ì„ ìˆ˜ ìˆëŠ” ì´ì ë“¤ì´ë‹¤. í•˜ì§€ë§Œ ì–¸ê¸‰í–ˆë‹¤ì‹œí”¼, í…ŒìŠ¤íŠ¸ë¥¼ ë‚˜ì¤‘ì— ì‘ì„±í•˜ëŠ” ë°©ì‹ì€ í˜ë“¤ê³ , í˜„ì‹¤ì ìœ¼ë¡œ ìœ„ì˜ ì´ì ë“¤ì„ ë‹¤ ê°€ì ¸ê°€ì§€ ëª»í•  ê°€ëŠ¥ì„±ì´ í¬ë‹¤. ê·¸ë¦¬ê³  í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©´ ì–»ëŠ” ì´ì ì€ ì•„ë˜ì™€ ê°™ë‹¤ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì„ ëª…í•˜ê²Œ ì¸ì§€í•˜ëŠ” ë™ì•ˆ ì˜¤ë¥˜ë¥¼ íƒì§€í•œë‹¤(?) ì–¸ì œ ì‘ì—…ì´ ì¶©ë¶„íˆ ì™„ë£Œë˜ì—ˆëŠ”ì§€ ì•Œê²Œëœë‹¤ â€˜ê¸ˆë„ê¸‹â€™ í•˜ë“¯ ê³¼ë„í•œ ìµœì í™”ë¥¼ í•˜ê±°ë‚˜ ë¶ˆí•„ìš”í•œ ê¸°ëŠ¥ì„ ë”í•˜ì§€ ì•Šê²Œ ëœë‹¤ TDDì˜ í™©ê¸ˆë¥ (?) ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì—†ì´ëŠ” ìƒˆ ê¸°ëŠ¥ì„ ì‘ì„±í•˜ì§€ ë§ë¼ ì¢€ ë” í° ê·¸ë¦¼ ì–´í”Œë¦¬ì¼€ì´ì…˜ ë‚´ì— ìˆëŠ” í´ë˜ìŠ¤ë“¤ì„ ëŒ€ìƒìœ¼ë¡œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒìœ¼ë¡œ TDDë¥¼ ì‹œì‘í•´ë³´ê³  ì‹¶ì„ ìˆ˜ ìˆìœ¼ë‚˜, ê²°ê³¼ì ìœ¼ë¡œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë§Œ ìˆëŠ” í”„ë¡œì íŠ¸ëŠ” TDD í”„ë¡œì„¸ìŠ¤ê°€ ì£¼ëŠ” ì•„ì£¼ ì¤‘ìš”í•œ í˜œí…ì„ ë†“ì¹˜ëŠ” ì…ˆì´ ëœë‹¤. ì¢€ ë” í° ê·¸ë¦¼ì„ ë´ì•¼í•œë‹¤. (ë¬¼ë¡  ë‹¨ìœ„í…ŒìŠ¤íŠ¸ê°€ ì—†ëŠ” í”„ë¡œì íŠ¸ ë³´ë‹¤ëŠ” ë°±ë°° ì²œë°° ë‚«ë‹¤) ê¸°ì¡´ì˜ TDD ë¼ì´í”„ ì‚¬ì´í´ì—ì„œ ì•ë‹¨ì— ì¸ìˆ˜ í…ŒìŠ¤íŠ¸(Acceptance test) ì‘ì„± ì´ë¼ëŠ” ë¶€ë¶„ì´ ì¶”ê°€ ë˜ì—ˆë‹¤. (ì¸ìˆ˜í…ŒìŠ¤íŠ¸-ë‹¨ìœ„í…ŒìŠ¤íŠ¸-í†µí•©í…ŒìŠ¤íŠ¸-ì „-êµ¬ê°„-í…ŒìŠ¤íŠ¸) ì—¬ê¸°ì„œëŠ” ì „ êµ¬ê°„ í…ŒìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•œë‹¤ ê·¸ë¦¬ê³  TDDì˜ í™©ê¸ˆë¥ ì—, ì´ ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ê¹Œì§€ ê°™ì´í•´ì„œ ì½”ë“œ ì‘ì„±ì„ ì‹œì‘í•œë‹¤. ì‹¤íŒ¨í•˜ëŠ” ì¸ìˆ˜ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•œë‹¤ ì´ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•œë‹¤ëŠ” ë§ì€ ì•„ì§ê¹Œì§€ í•´ë‹¹ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì§€ ì•Šì•˜ë‹¤ëŠ” ê²ƒì„ ë³´ì—¬ì¤€ë‹¤ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë“¤ì„ ì‘ì„±í•´ë‚˜ê°€ë©° ê¸°ëŠ¥ì„ ì™„ì„±í•´ë‚˜ê°„ë‹¤ ì „ êµ¬ê°„ í…ŒìŠ¤íŠ¸ì´ê¸° ë•Œë¬¸ì—, ë§ì€ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë“¤ì„ í¬í•¨í•œë‹¤ TDD cycleì„ ì‚¬ìš©í•˜ì—¬ ë‹¨ìœ„ ê¸°ëŠ¥ë“¤ì„ ê°œë°œí•´ë‚˜ê°„ë‹¤ ì¸ìˆ˜í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í•˜ë©´, ì‘ì—…ì´ ëë‚œë‹¤ ì´ë•Œì„œì•¼ ì‹œìŠ¤í…œì´ ë°°í¬ë  ìˆ˜ ìˆë‹¤ ì™¸ë¶€ í’ˆì§ˆê³¼ ë‚´ë¶€ í’ˆì§ˆ ì™¸ë¶€ í’ˆì§ˆ ì‹œìŠ¤í…œì´ ê³ ê°ê³¼ ì‚¬ìš©ìì˜ ìš”êµ¬ë¥¼ ì–¼ë§ˆë‚˜ ì˜ ì¶©ì¡±í•˜ëŠ”ê°€(ê¸°ëŠ¥, ì‹ ë¢°ì„±, ê°€ìš©ì„±, ì‘ë‹µì„± ë“±)ì´ë‹¤ ë³´í†µ ê³„ì•½ì˜ ì¼ë¶€ë¼, ì´ë¥¼ ì´í•´í•˜ì§€ ëª»í•  ì‚¬ëŒì€ ì—†ë‹¤ ì „ êµ¬ê°„ í…ŒìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤ ì „ êµ¬ê°„ í…ŒìŠ¤íŠ¸ë¡œëŠ” ì½”ë“œë¥¼ ì–¼ë§ˆë‚˜ ì˜ ì‘ì„±í–ˆëŠ”ì§€ëŠ” ì•Œ ìˆ˜ ì—†ë‹¤ ë‚´ë¶€ í’ˆì§ˆ ì‹œìŠ¤í…œì´ ê°œë°œìì™€ ê´€ë¦¬ìì˜ ìš”êµ¬ë¥¼ ì–¼ë§ˆë‚˜ ì˜ ì¶©ì¡±í•˜ëŠ”ê°€(ì´í•´í•˜ê¸° ì‰¬ìš´ê°€, ë³€ê²½í•˜ê¸° ì‰¬ìš´ê°€) ì´ë‹¤ ì™¸ë¶€ í’ˆì§ˆê³¼ ë˜‘ê°™ì´ ì¤‘ìš”í•˜ì§€ë§Œ, ë‹¬ì„±í•˜ê¸°ëŠ” ë§ì´ ì–´ë µë‹¤ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¡œëŠ” ì‹œìŠ¤í…œì´ ì „ì²´ì ìœ¼ë¡œ ë™ì‘í•˜ëŠ”ì§€ë¥¼ ì¶©ë¶„íˆ í™•ì‹ í•  ìˆ˜ ì—†ë‹¤ ë†’ì€ ë‚´ë¶€ í’ˆì§ˆì€ ì–´ë–»ê²Œ ë‹¬ì„±í•  ìˆ˜ ìˆì„ê¹Œ? ë†’ì€ ì‘ì§‘ê³¼ ë‚®ì€ ê²°í•©ì„ ìœ ì§€í•´ì•¼í•œë‹¤ ì½”ë“œì˜ ë™ì‘ ë°©ì‹ì„ ì–¼ë§ˆë‚˜ ì‰½ê²Œ ë°”ê¿€ ìˆ˜ ìˆëŠ”ì§€ë¥¼ ì„¤ëª…í•˜ëŠ” ì²™ë„ì´ê¸° ë•Œë¬¸ì´ë‹¤ í•œ ìš”ì†Œì˜ ë³€ê²½ì´ ë‹¤ë¥¸ ìš”ì†Œì˜ ë³€ê²½ì— ì˜í–¥ì„ ë¯¸ì¹œë‹¤ë©´, ê·¸ ë‘ ìš”ì†ŒëŠ” ê²°í•©ë˜ì–´ ìˆëŠ” ê²ƒì´ë‹¤. ì´ë¥¼ ìµœëŒ€í•œ ë‚®ê²Œ ìœ ì§€í•´ì•¼ í•œë‹¤ ì‘ì§‘ë„ëŠ” í•´ë‹¹ ìš”ì†Œì˜ ì±…ì„ì´ ì˜ë¯¸ìˆëŠ” ë‹¨ìœ„ë¥¼ í˜•ì„±í•˜ëŠ”ì§€ ë‚˜íƒ€ë‚´ëŠ” ì²™ë„ì´ë‹¤ ë‚ ì§œì™€ URLì„ íŒŒì‹±í•˜ëŠ” ê¸°ëŠ¥ì´ ê°™ì´ ë“¤ì–´ê°„ í´ë˜ìŠ¤ëŠ” ì‘ì§‘ë„ê°€ ë‚®ë‹¤ê³  í‘œí˜„í•  ìˆ˜ ìˆë‹¤ ê·¸ë¦¬ê³ , ë‘ ê°€ì§€ ê¸°ëŠ¥ì„ ë‹¤ ì˜í•  ê°€ëŠ¥ì„±ì´ ë‚®ë‹¤ ê°ì²´ì— ëŒ€í•œ ë‹¨ìœ„í…ŒìŠ¤íŠ¸ë¥¼ ë§ì´ í•´ì•¼í•œë‹¤ ê°ì²´ë¥¼ ìƒì„±í•˜ê³ , ê°ì²´ì˜ ì˜ì¡´ì„±ì„ ì œê³µí•˜ë©°, ê°ì²´ì™€ ìƒí˜¸ ì‘ìš©í•˜ê³ , ì˜ˆìƒëŒ€ë¡œ ë™ì‘í•˜ëŠ”ì§€ ê²€ì‚¬í•  í•„ìš”ê°€ ìˆë‹¤ ì„¤ê³„ë¥¼ ì˜ëª»í•˜ë©´ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ê±°ë‚˜ ì´í•´í•˜ê¸° ì–´ë µë‹¤ ì˜ˆë¥¼ ë“¤ë©´ í´ë˜ìŠ¤ê°€ ë©€ë¦¬ ë–¨ì–´ì ¸ìˆëŠ” ì‹œìŠ¤í…œì˜ ì¼ë¶€ì™€ ê¸´ë°€í•˜ê²Œ ê²°í•©ë˜ì–´ ìˆê±°ë‚˜, ì•”ì‹œì ì¸ ì˜ì¡´ì„±ì´ ìˆê±°ë‚˜, ë¶ˆë¶„ëª…í•œ ì±…ì„ì´ ë„ˆë¬´ ë§ì„ë•Œ ë“±ì´ ìˆë‹¤ ê²°ê³¼ì ìœ¼ë¡œ ë†’ì€ ì‘ì§‘ê³¼ ë‚®ì€ ê²°í•©ì„ ê°€ì§„ ê°ì²´ê°€ ë§ì•„ì•¼ ë†’ì€ ë‚´ë¶€ í’ˆì§ˆì„ ìœ ì§€í•  ìˆ˜ ìˆê²Œ ë˜ëŠ”ë°, í…ŒìŠ¤íŠ¸ ì‘ì„±ì´ ì´ë¥¼ ì¸¡ì •í•˜ëŠ” ê¸°ì¤€ì ì´ ë  ìˆ˜ ìˆë‹¤. TDDëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ë¨¼ì € ì‘ì„±í•¨ìœ¼ë¡œì¨, ì´ëŸ¬í•œ ì„¤ê³„ì— ê´€í•œ ì¦‰ê°ì ì¸ í”¼ë“œë°±ì„ ë°”ë¡œ ì–»ì„ ìˆ˜ ìˆë‹¤ëŠ” í° ì¥ì ì´ ìˆë‹¤.]]></content>
      <categories>
        <category>tdd</category>
      </categories>
      <tags>
        <tag>í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œë¡œ ë°°ìš°ëŠ” ê°ì²´ì§€í–¥ ì„¤ê³„ì™€ ì‹¤ì²œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[spring] spring batch AsyncTaskExecutor ë“±ë¡]]></title>
    <url>%2Fspring%2Fspring-batch-AsyncTaskExecutor-%EB%93%B1%EB%A1%9D%2F</url>
    <content type="text"><![CDATA[Jobë“¤ì„ ë¹„ë™ê¸°ë¡œ ì‹¤í–‰ì‹œí‚¤ê³  ì‹¶ì„ ê²½ìš° ì‚¬ìš©í•œë‹¤. ì•„ë˜ì™€ ê°™ì´ ë¹ˆìœ¼ë¡œ ë“±ë¡í•œë‹¤ 123456789101112131415161718192021@RequiredArgsConstructor@Configurationclass JobConfiguration &#123; private final JobRepository jobRepository; @Bean public JobLauncher asyncJobLauncher()&#123; // ë©”ì„œë“œëª…ì´ ë¹ˆ ì´ë¦„ì´ ëœë‹¤ SimpleJobLauncher simpleJobLauncher = new SimpleJobLauncher(); simpleJobLauncher.setJobRepository(jobRepository); simpleJobLauncher.setTaskExecutor(asyncTestExecutor()); return simpleJobLauncher; &#125; @Bean public TaskExecutor asyncTestExecutor()&#123; SimpleAsyncTaskExecutor asyncTaskExecutor = new SimpleAsyncTaskExecutor(); asyncTaskExecutor.setConcurrencyLimit(5); return asyncTaskExecutor; &#125;&#125; ë©”ì„œë“œì˜ ì´ë¦„ì´ beanì˜ ì´ë¦„ì´ ëœë‹¤. ì‚¬ìš©í•˜ëŠ” ê³³ì€ ì•„ë˜ì™€ ê°™ë‹¤ 123456789@Serviceclass SomeService &#123; private final JobLauncher asyncJobLauncher; // ìŠ¤í”„ë§ì€ íƒ€ì… scan -&gt; ì´ë¦„ scanì„ í•œë‹¤ private final Job someJob; public void doSomething()&#123; jobLauncher.launch(someJob); &#125;&#125; ìŠ¤í”„ë§ì€ íƒ€ì… injectionì„ ë¨¼ì € ìˆ˜í–‰í•˜ê³ , ë˜‘ê°™ì€ íƒ€ì…ì´ ìˆìœ¼ë©´ ì´ë¦„ìœ¼ë¡œ injectionì„ ìˆ˜í–‰í•œë‹¤. ë§Œì•½ JobLauncherê°€ asyncJobLauncher ì™¸ì— ë” ë“±ë¡ë˜ì–´ ìˆë‹¤ë©´ injectionì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí• í…Œë‹ˆ ìœ„ì²˜ëŸ¼ ì´ë¦„ì„ ì§€ì •í•´ì¤˜ì•¼ í•œë‹¤.]]></content>
      <categories>
        <category>spring</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[[tdd] ìƒíƒœê²€ì¦ê³¼ í–‰ìœ„ê²€ì¦, stubê³¼ mock ì°¨ì´]]></title>
    <url>%2Ftdd%2F%EC%83%81%ED%83%9C%EA%B2%80%EC%A6%9D%EA%B3%BC-%ED%96%89%EC%9C%84%EA%B2%80%EC%A6%9D-stub%EA%B3%BC-mock-%EC%B0%A8%EC%9D%B4%2F</url>
    <content type="text"><![CDATA[SUT(System Under Test) : ì£¼ìš” ê°ì²´(primary object) í˜‘ë ¥ê°ì²´(collaborator) : ë¶€ì°¨ì  ê°ì²´(secondary objects) í…ŒìŠ¤íŠ¸ ë”ë¸”(Test Double) : í…ŒìŠ¤íŒ…ì„ ëª©ì ìœ¼ë¡œ ì§„ì§œ ê°ì²´ëŒ€ì‹  ì‚¬ìš©ë˜ëŠ” ëª¨ë“  ì¢…ë¥˜ì˜ ìœ„ì¥ ê°ì²´ Dummy, Fake Object, Stub, Mock ìƒíƒœê²€ì¦ vs í–‰ìœ„ê²€ì¦ https://minslovey.tistory.com/97 ìƒíƒœê²€ì¦ì€ ë©”ì„œë“œê°€ ìˆ˜í–‰ëœ í›„ SUTë‚˜ í˜‘ë ¥ê°ì²´ì˜ ìƒíƒœë¥¼ ì‚´í´ë´„ìœ¼ë¡œì¨ ì˜¬ë°”ë¡œ ë™ì‘í–ˆëŠ”ì§€ë¥¼ íŒë‹¨í•˜ê²Œ ëœë‹¤ 1234SomeClass someClass = new SomeClass();someClass.someMethod();assertThat(someMethod.someStatus()).isEqualTo(true); someStatusê°’ì´ trueì¸ì§€ ìƒíƒœ ê²€ì‚¬ í–‰ìœ„ê²€ì¦ì€ ìƒíƒœê²€ì¦ê³¼ëŠ” ë‹¤ë¥´ê²Œ SUTê°€ í˜‘ë ¥ê°ì²´ì˜ íŠ¹ì • ë©”ì„œë“œê°€ í˜¸ì¶œë˜ì—ˆì§€ ë“±ì˜ í–‰ìœ„ë¥¼ ê²€ì‚¬í•¨ìœ¼ë¡œì¨ ì˜¬ë°”ë¡œ ë™ì‘í–ˆëŠ”ì§€ íŒë‹¨í•˜ê²Œ ëœë‹¤ 123SomeClass someClass = new SomeClass();verify(someClass).someMethod(); someClassì˜ someMethodê°€ ì‹¤í–‰ë˜ì—ˆëŠ”ì§€ í–‰ìœ„ ê²€ì‚¬ stub vs mock http://testing.jabberstory.net/ ë§ì€ í…ŒìŠ¤íŠ¸ ë”ë¸”ë“¤ì´ ìˆì§€ë§Œ, í…ŒìŠ¤íŠ¸ ë”ë¸”ë“¤ì˜ ì—­í• ì´ ë”±ë”± ë‚˜ë‰˜ì–´ì ¸ ìˆì§€ë„ ì•Šê³ , ì„œë¡œê°€ ì„œë¡œì˜ íŠ¹ì„±ì„ ì¡°ê¸ˆì”© í¬í•¨í•˜ë¯€ë¡œ, ëŒ€í‘œì ìœ¼ë¡œ stubê³¼ mockë§Œì„ êµ¬ë¶„í•œë‹¤. stub í˜¸ì¶œì´ë˜ë©´ ë¯¸ë¦¬ ì¤€ë¹„ëœ ë‹µë³€ìœ¼ë¡œ ì‘ë‹µí•˜ëŠ” ê²ƒ í…ŒìŠ¤íŠ¸ì‹œì— í”„ë¡œê·¸ë¨ëœ ê²ƒ ì™¸ì—ëŠ” ì‘ë‹µí•˜ì§€ ì•ŠëŠ”ë‹¤ í˜‘ë ¥ê°ì²´ì˜ íŠ¹ì • ë¶€ë¶„ì´ í…ŒìŠ¤íŠ¸í•˜ê¸° í˜ë“¤ ê²½ìš° stubì„ ì‚¬ìš©í•˜ë©´ ìˆ˜ì›”í•˜ê²Œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë‹¤ ì¼ë°˜ì ìœ¼ë¡œ ìš°ë¦¬ê°€ mockìœ¼ë¡œ ì˜ëª» ì•Œê³ ìˆë‹¤ mock ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ë”ë¸”ê³¼ëŠ” ë‹¤ë¥´ê²Œ í–‰ìœ„ê²€ì¦ ì‚¬ìš©ì„ ì¶”êµ¬í•œë‹¤ í–‰ìœ„ë¥¼ ê¸°ë¡í•˜ëŠ” ì‹ì˜ ë¡œì§ì´ ë“¤ì–´ê°€ìˆê² ì§€â€¦ SUTê°€ ì‹¤ì œ í˜‘ë ¥ê°ì²´ì™€ ëŒ€í™”í•˜ê³  ìˆë‹¤ê³  ë¯¿ê²Œí•´ì•¼í•˜ë¯€ë¡œ, ëª¨ë“  í…ŒìŠ¤íŠ¸ ë”ë¸”ë“¤ì˜ ë™ì‘ì´ë‚˜ í˜•íƒœëŠ” ê°™ë‹¤. í•˜ì§€ë§Œ ì—¬ê¸°ì„œ mockì€, í–‰ìœ„ê²€ì¦ì„ ì¶”êµ¬í•œë‹¤ëŠ” ê²ƒ ìì²´ê°€ ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ ë”ë¸”ê³¼ì˜ í° ì°¨ì´ì ì´ë‹¤. classicist, mockist classicistë“¤ì€ ê°€ëŠ¥í•˜ë©´ í•­ìƒ ì§„ì§œ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ê³ , ì§„ì§œ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ê¸° ë§Œë§Œì¹˜ ì•Šìœ¼ë©´ ë”ë¸”ì„ ì‚¬ìš©í•œë‹¤ ê·¸ë¦¬ê³  í•­ìƒ ìƒíƒœê²€ì¦ì„ ì‚¬ìš©í•˜ë ¤ê³  í•œë‹¤ mockistë“¤ì€ ê´€ì‹¬ìˆëŠ” í–‰ìœ„ë¥¼ ê°€ì§„ ëª¨ë“  ê°ì²´ì— ëª¨ì˜ê°ì²´ë¥¼ ì‚¬ìš©í•˜ë ¤ê³  í•œë‹¤ ê·¸ë¦¬ê³  í•­ìƒ í–‰ìœ„ê²€ì¦ì„ ì‚¬ìš©í•˜ë ¤ê³  í•œë‹¤ í–¥ ê°„ë‹¨í•œ í˜‘ë ¥ê³¼ ê°„ë‹¨í•˜ì§€ ì•Šì€ í˜‘ë ¥ì—ì„œì˜ ë‘˜ì˜ ì„ íƒ ê°„ë‹¨í•œ í˜‘ë ¥ classicistë¼ë©´ ì‹¤ì œ ê°ì²´ë¥¼ ì‚¬ìš©í•´ ìƒíƒœê²€ì¦ì„ í•  ê²ƒì´ë‹¤ mockistë¼ë©´ mockì„ ì“°ê³  í–‰ìœ„ê²€ì¦ì„ í•  ê²ƒì´ë‹¤ ê°„ë‹¨í•˜ì§€ ì•Šì€ í˜‘ë ¥ mockistë¼ë©´ ë‹¹ì—°íˆ mockì„ ì“°ê³  í–‰ìœ„ê²€ì¦ì„ ì‚¬ìš©í•œë‹¤. ê°„ë‹¨í•˜ì§€ ì•Šì€ í˜‘ë ¥ì—ì„œ mockì˜ ì¥ì ì´ ë¶€ê°(?)ë˜ê¸° ë•Œë¬¸ì´ë‹¤ classicistë¼ë©´ ìƒí™©ì— ë§ì¶° ê°€ì¥ ì‰¬ìš´ ë°©ë²•ì„ ì‚¬ìš©í•˜ë ¤ í•œë‹¤. í…ŒìŠ¤íŠ¸ ë”ë¸”ì´ í•„ìš”í•˜ë‹¤ë©´ í…ŒìŠ¤íŠ¸ ë”ë¸”ì„ ì‚¬ìš©í•  ê²ƒì´ë‹¤. ì–¸ì œ ìƒíƒœê²€ì¦? ì–¸ì œ í–‰ìœ„ê²€ì¦? í˜„ì¬ê¹Œì§€ ì´í•´í•œ ë°”ë¡œ ì‘ì„±í•´ë³´ë©´, í–‰ìœ„ê²€ì¦ì˜ ê²½ìš° íŠ¹ì • ë©”ì„œë“œì˜ í˜¸ì¶œê³¼ ê°™ì€ ê²ƒì„ ê²€ì¦í•˜ê¸° ë•Œë¬¸ì—, êµ¬í˜„ì— êµ‰ì¥íˆ ì˜ì¡´ì ì´ê²Œ ëœë‹¤ ì´ ë§ì¸ ì¦‰ í”„ë¡œë•ì…˜ ì½”ë“œê°€ ë³€ê²½ë˜ë©´ í…ŒìŠ¤íŠ¸ì½”ë“œê°€ ë³€ê²½ë  í™•ë¥ ì´ ë†’ì•„ì§„ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤ í…ŒìŠ¤íŠ¸ëŠ” ê·¸ê²ƒì„ ì‘ì„±í•˜ë©´ì„œ ì„¤ê³„ì— í”¼ë“œë°±ì„ ë°›ì„ ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆëŠ”ë°(í…ŒìŠ¤íŠ¸ê°€ ì–´ë µë‹¤ë©´ ì„¤ê³„ì— ë¬¸ì œê°€ ìˆëŠ”ê²ƒì€ ì•„ë‹Œì§€ ì˜ì‹¬í•´ë³´ëŠ” ê³¼ì •) í–‰ìœ„ê²€ì¦ì˜ ê²½ìš° ìƒíƒœê²€ì¦ë³´ë‹¤ í…ŒìŠ¤íŠ¸ ì‘ì„±ì´ ì‰¬ì›Œì„œ ì´ëŸ° í”¼ë“œë°±ì„ ë°›ì„ ê¸°íšŒ(?)ê°€ ë§ì´ ì—†ì–´ì§€ê²Œ ëœë‹¤ ê°•ë ¥í•œ í–‰ìœ„ê²€ì¦ ë¼ì´ë¸ŒëŸ¬ë¦¬(powermock)ê°™ì€ ê²ƒì„ ì“°ê²Œ ë˜ë©´ ì´ëŸ° ë¶€ë¶„ì„ ë†“ì¹˜ê²Œ ë  ê°€ëŠ¥ì„±ì´ ë” í¬ë‹¤ ì˜ˆë¥¼ ë“¤ì–´ powermockì˜ ê²½ìš° private ë©”ì„œë“œë„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆê³ , static í´ë˜ìŠ¤ë„ ì£¼ì…í•  ìˆ˜ ìˆëŠ” ë“± ê°•ë ¥í•œë°, ì´ëŸ¬í•œ íŠ¹ì§•ë•Œë¬¸ì— ìš°ë¦¬ëŠ” ì„¤ê³„ê°€ ì˜ëª»ë˜ì—ˆë‹¤ëŠ” ì˜ì‹¬ì„ í•˜ì§€ ì•Šê³  ì§€ë‚˜ê°ˆ í™•ë¥ ì´ ì»¤ì§„ë‹¤ ìƒíƒœê²€ì¦ì˜ ê²½ìš° ìƒíƒœë¥¼ ê²€ì¦í•˜ê¸° ìœ„í•´ ìƒíƒœë¥¼ ë…¸ì¶œí•˜ëŠ” ë©”ì„œë“œê°€ ë§ì´ ì¶”ê°€ë  ìˆ˜ ìˆë‹¤ mockistë“¤ì€ ì´ê²ƒì„ í° ìš”ì†Œë¡œ ì—¬ê¸´ë‹¤ ì´ëŸ¬í•œ ì´ìœ ë¡œ ëŒ€ì²´ì ì´ë©´ ìƒíƒœê²€ì¦ì„ ì‚¬ìš©í•˜ëŠ”ê²ƒì´ ì¢‹ë‹¤ í•˜ì§€ë§Œ ìƒíƒœê²€ì¦ì„ í•˜ê¸° í˜ë“  ê²½ìš°ë“¤ì´ ì¢…ì¢… ìˆë‹¤ ì˜ˆë¥¼ ë“¤ë©´ ì•ŒëŒ ê°™ì€ ê²ƒì´ë‹¤ ì´ëŸ° í…ŒìŠ¤íŠ¸ì˜ ê²½ìš°, í†µí•© í…ŒìŠ¤íŠ¸ë¥¼ ê³ ë ¤í•´ë³´ëŠ” ê²ƒë„ ì¢‹ë‹¤ (ì•ŒëŒì„ ì˜ê³  ë¡œê·¸ë¥¼ ì½ì–´ì™€ì„œ ìƒíƒœê²€ì¦ì„ í•  ìˆ˜ë„ ìˆë‹¤) ê·¼ë° ë˜ ì´ê²Œ ë‹¨ì ì´ ë§ì€ê²Œ, ì „ì²´ì ì¸ í…ŒìŠ¤íŠ¸ ì‹œê°„ì´ ëŠ˜ì–´ë‚˜ê³ (í”¼ë“œë°±ì„ ë°›ëŠ” ì‹œê°„ì´ ëŠ˜ì–´ë‚œë‹¤), ë¬¸ì œê°€ ë°œìƒí–ˆì„ë•Œ ì°¾ê¸°ê°€ ì‰½ì§€ ì•Šì•„ì§„ë‹¤ SUTê°€ ì•„ë‹Œ ë‹¤ë¥¸ê³³ì— ì˜ì¡´ì„±ì´ ìƒê¸¸ìˆ˜ ìˆë‹¤ ì´ëŸ¬í•œ ì´ìœ  ë•Œë¬¸ì— í–‰ìœ„ê²€ì¦ì„ ì„ íƒí•˜ëŠ” ê²½ìš°ë„ ì¢…ì¢… ìˆë‹¤ êµ¬í˜„ì— ì˜ì¡´ì ì´ë¼ëŠ” í–‰ìœ„ê²€ì¦ì˜ íŠ¹ì§•ì„ ì•ˆê³  ê°€ëŠ”ê²ƒì´ ì¢€ ë³„ë¡œê¸´ í•˜ì§€ë§Œ, mockitoê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì ì ˆíˆ ì‚¬ìš©í•˜ê³ , í…ŒìŠ¤íŠ¸ë¥¼ ì˜ êµ¬ì„±í•˜ë©´ ì´ëŸ¬í•œ ë‹¨ì ë„ ì–´ëŠì •ë„ ì»¤ë²„í•  ìˆ˜ ìˆë‹¤ê³  í•œë‹¤]]></content>
      <categories>
        <category>tdd</category>
      </categories>
      <tags>
        <tag>TDD</tag>
        <tag>ìƒíƒœê²€ì¦</tag>
        <tag>í–‰ìœ„ê²€ì¦</tag>
        <tag>stub</tag>
        <tag>mock</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[java] interfaceì— static method]]></title>
    <url>%2Fjava%2Finterface%EC%97%90-static-method%2F</url>
    <content type="text"><![CDATA[interfaceì— ì„ ì–¸í•œ static methodëŠ” ì¼ë°˜ì ìœ¼ë¡œ ìš°ë¦¬ê°€ ì •ì˜í•˜ëŠ” ë©”ì„œë“œì™€ëŠ” ë‹¤ë¥´ë‹¤. bodyê°€ ìˆì–´ì•¼ í•œë‹¤ implements í•œê³³ì—ì„œ overrideê°€ ë¶ˆê°€ëŠ¥í•˜ë‹¤ 1234567interface SomeInterface &#123; public static String doSomething()&#123; // blah blah &#125; public String doNothing(); // have to override&#125; ë§ˆì¹˜ java8ì˜ default methodì™€ ì•½ê°„ ë¹„ìŠ·í•˜ë‹¤. í•˜ì§€ë§Œ static methodëŠ” overrideê°€ ë¶ˆê°€ëŠ¥í•˜ë‹¤ëŠ” ê²ƒì´ íŠ¹ì§•ì´ë‹¤.]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>interface static method</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[linux] portë¡œ process ì°¾ê¸°]]></title>
    <url>%2Flinux%2Fport%EB%A1%9C-process-%EC%B0%BE%EA%B8%B0%2F</url>
    <content type="text"><![CDATA[https://stackoverflow.com/questions/3855127/find-and-kill-process-locking-port-3000-on-mac mac, centos7 ì—ì„œ ì•„ë˜ì˜ ëª…ë ¹ì–´ë¡œ ì°¾ì„ ìˆ˜ ìˆë‹¤ê³  í•¨ 1netstat -vanp tcp | grep 9999 ë’¤ì—ì„œ 4ë²ˆì§¸ ì»¬ëŸ¼ì´ process ë²ˆí˜¸ì´ë‹¤]]></content>
      <categories>
        <category>linux</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[[db] mysql group_concat]]></title>
    <url>%2Fdb%2Fmysql-group-concat%2F</url>
    <content type="text"><![CDATA[ê·¸ë£¹í™”ëœ ì»¬ëŸ¼ì„ ì­‰ ë‚˜ì—´í•  ë•Œ ì“¸ ìˆ˜ ìˆëŠ” í•¨ìˆ˜ì´ë‹¤ 1select team, group_concat(id) from user group by team; 1234A_team | 1,3,5B_team | 2,4,6C_team | 7,8,9... ê¸°ë³¸ êµ¬ë¶„ìëŠ” ,ì´ê³ , ë³€ê²½ ê°€ëŠ¥í•˜ë‹¤ 1select team, group_concat(id separator '|') from user group by team; ì•ë’¤ë¡œ ë¬¸ìë¥¼ ë¶™ì¼ìˆ˜ë„ ìˆë‹¤ 12345-- 1__, 2__, 3__select team, group_concat(id, '__') from user group by team;-- __1__, __2__, __3__ select team, group_concat('__', id, '__') from user group by team;]]></content>
      <categories>
        <category>db</category>
      </categories>
      <tags>
        <tag>mysql</tag>
        <tag>group_concat separator</tag>
        <tag>group_concat êµ¬ë¶„ì</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ì„ì‹œë³€ìˆ˜ ë‚´ìš© ì§ì ‘ ì‚½ì…]]></title>
    <url>%2Frefactoring%2F%EC%9E%84%EC%8B%9C%EB%B3%80%EC%88%98-%EB%82%B4%EC%9A%A9-%EC%A7%81%EC%A0%91-%EC%82%BD%EC%9E%85%2F</url>
    <content type="text"><![CDATA[ì°¸ê³  : ë§ˆí‹´ íŒŒìš¸ëŸ¬, ã€ë¦¬íŒ©í† ë§ã€, ê¹€ì§€ì› ì˜®ê¹€, í•œë¹›ë¯¸ë””ì–´(2012)]]></content>
      <categories>
        <category>refactoring</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ì„ì‹œë³€ìˆ˜ë¥¼ ë©”ì„œë“œ í˜¸ì¶œë¡œ ì „í™˜]]></title>
    <url>%2Frefactoring%2F%EC%9E%84%EC%8B%9C%EB%B3%80%EC%88%98%EB%A5%BC-%EB%A9%94%EC%84%9C%EB%93%9C-%ED%98%B8%EC%B6%9C%EB%A1%9C-%EC%A0%84%ED%99%98%2F</url>
    <content type="text"><![CDATA[ìˆ˜ì‹ì˜ ê²°ê³¼ë¥¼ ì €ì¥í•˜ëŠ” ì„ì‹œë³€ìˆ˜ê°€ ìˆì„ ë•, ê·¸ ìˆ˜ì‹ì„ ë¹¼ë‚´ì–´ ë©”ì„œë“œë¡œ ë§Œë“  í›„, ì„ì‹œë³€ìˆ˜ ì°¸ì¡° ë¶€ë¶„ì„ ì „ë¶€ ìˆ˜ì‹ìœ¼ë¡œ êµì²´í•˜ì ìƒˆë¡œ ë§Œë“  ë©”ì„œë“œëŠ” ë‹¤ë¥¸ ë©”ì„œë“œì—ì„œë„ í˜¸ì¶œ ê°€ëŠ¥í•˜ë‹¤ íŠ¹ì§• ë©”ì„œë“œ ì¶”ì¶œì„ ì ìš©í•˜ê¸° ì „ì— ì ìš©í•´ì•¼ í•œë‹¤ ì§€ì—­ë³€ìˆ˜ê°€ ë§ì„ìˆ˜ë¡ ë©”ì„œë“œ ì¶”ì¶œì´ í˜ë“¤ì–´ì§€ê¸° ë•Œë¬¸ì´ë‹¤ ì„ì‹œë³€ìˆ˜ë¥¼ ë©”ì„œë“œ í˜¸ì¶œë¡œ ìˆ˜ì •í•˜ë©´ í´ë˜ìŠ¤ ì•ˆ ëª¨ë“  ë©”ì„œë“œê°€ ê·¸ ì •ë³´ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤ ì ìš©í•˜ëŠ” ê°€ì¥ ê°„ë‹¨í•œ ìƒí™©ì€ ì„ì‹œë³€ìˆ˜ì— ê°’ì´ í•œë²ˆë§Œ ëŒ€ì…ë˜ê³  ëŒ€ì…ë¬¸ì„ ì´ë£¨ëŠ” ìˆ˜ì‹ì— ë¬¸ì œê°€ ì—†ì„ ë•Œì´ë‹¤ ë°©ë²• ê°’ì´ í•œë²ˆë§Œ ëŒ€ì…ë˜ëŠ” ì„ì‹œë³€ìˆ˜ë¥¼ ì°¾ëŠ”ë‹¤ ê°’ì´ ì—¬ëŸ¬ë³€ ëŒ€ì…ë˜ëŠ” ì„ì‹œë³€ìˆ˜ê°€ ìˆìœ¼ë©´ ì„ì‹œë³€ìˆ˜ ë¶„ë¦¬ë¥¼ ì ìš©í•œë‹¤ ê·¸ ì„ì‹œë³€ìˆ˜ë¥¼ finalë¡œ ì„ ì–¸í•œë‹¤ ì •ë§ë¡œ ì„ì‹œë³€ìˆ˜ë“¤ì´ ê°’ì„ í•œë²ˆë§Œ ëŒ€ì…ë°›ëŠ”ì§€ ì‹œí—˜í•´ë³¼ìˆ˜ ìˆë‹¤ ëŒ€ì…ë¬¸ ìš°ë³€ì„ ë¹¼ë‚´ì–´ ë©”ì„œë“œë¡œ ë§Œë“ ë‹¤ ì²˜ìŒì—ëŠ” private ìœ¼ë¡œ ë§Œë“¤ê³ , ë‚˜ì¤‘ì— ë” ì—¬ëŸ¬ê³³ì—ì„œ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ì ‘ê·¼ì œí•œì„ ì™„í™”í•œë‹¤ ì¶”ì¶œ ë©”ì„œë“œì—ì„œ ë¬¸ì œê°€ ì—†ëŠ”ì§€(ê°ì²´ì˜ ê°’ì„ ë³€ê²½í•œë‹¤ê±°ë‚˜) í™•ì¸í•œë‹¤ ì„ì‹œë³€ìˆ˜ë¥¼ ëŒ€ìƒìœ¼ë¡œ ì„ì‹œë³€ìˆ˜ ë‚´ìš© ì§ì ‘ ì‚½ì…ì„ ì ìš©í•œë‹¤ ì˜ˆì‹œ ì„ì‹œë³€ìˆ˜ì˜ ê°’ì„ ë£¨í”„ë¥¼ ëŒë©´ì„œ ë³€ê²½í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤ ì´ëŸ´ë–ˆ ë¨¼ì € ë£¨í”„ ìì²´ë¥¼ ë©”ì„œë“œë¡œ ë³€ê²½í•˜ê³ , ë©”ì„œë“œ ìˆ˜í–‰ ê²°ê³¼ë¥¼ ì„ì‹œë³€ìˆ˜ì— ë‹´ì•„ ì‚¬ìš©í•œë‹¤ ì´ ì„ì‹œë³€ìˆ˜ë¥¼ ì „ë¶€ ë©”ì„œë“œ í˜¸ì¶œë¡œ ë³€ê²½í•œë‹¤ ì—¬ê¸°ì„œ ì„±ëŠ¥ì´ ëŠë ¤ì§ˆìˆ˜ë„ ìˆì§€ë§Œ, ëŒ€ì²´ë¡œ ë¬¸ì œì—†ë‹¤ ë¦¬íŒ©í† ë§ì„ ì˜ í• ìˆ˜ë¡ ë”ìš± ê°•ë ¥í•œ ìµœì í™”ê°€ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì´ë‹¤ íŠ¹ì • ë¡œì§ì˜ ë©”ì„œë“œë¥¼ ì¶”ì¶œí•˜ë ¤ê³  í–ˆëŠ”ë° ì‚¬ìš©í•˜ëŠ” ì„ì‹œë³€ìˆ˜ê°€ ë§ì„ ê²½ìš°, ê° ì„ì‹œë³€ìˆ˜ë“¤ì— ëŒ€í•´ ì´ ê¸°ë²•ì„ ì ìš©í•´ë‚˜ê°€ë©´ì„œ ì ì§„ì ìœ¼ë¡œ ë©”ì„œë“œë¥¼ ë¶„ë¦¬í•´ë‚¼ ìˆ˜ ìˆë‹¤ 1234567891011int getPrice()&#123; int originalPrice = quantity * itemPrice; // êµ¬ë§¤í•˜ê³  ì‹¶ì€ ê°œìˆ˜ * ìƒí’ˆ ê°€ê²© double discountFactor = 1.0; if(originalPrice &gt; 100000) discountFactor = 0.8; else if(originalPrice &gt; 50000) discountFactor = 0.9; return originalPrice * discountFactor;&#125; ì´ ìƒíƒœì—ì„œ discountFactor êµ¬í•˜ëŠ” ë¶€ë¶„ì„ ë¶„ë¦¬í•˜ë ¤ë©´ originalPriceê°€ ì „ë‹¬ë˜ì–´ì•¼ í•˜ë¯€ë¡œ, originalPrice ë¨¼ì € ë¶„ë¦¬í•˜ê³ , ì´ ì„ì‹œë³€ìˆ˜ë¥¼ ì „ë¶€ ë©”ì„œë“œ í˜¸ì¶œë¡œ ë³€ê²½í•œë‹¤ 1234567891011121314int getPrice()&#123; double discountFactor = 1.0; if(getOriginalPrice() &gt; 100000) discountFactor = 0.8; else if(getOriginalPrice() &gt; 50000) discountFactor = 0.9; return getOriginalPrice() * discountFactor;&#125;int getOriginalPrice()&#123; return quantity * itemPrice;&#125; ì´í›„ discountFactor êµ¬í•˜ëŠ” ë¶€ë¶„ì„ ì†ì‰½ê²Œ ë¶„ë¦¬í•  ìˆ˜ ìˆë‹¤ 12345678910111213141516int getPrice()&#123; return getOriginalPrice() * getDiscountFactor();&#125;int getDiscountFactor()&#123; if(getOriginalPrice() &gt; 100000) return 0.8; else if(getOriginalPrice() &gt; 50000) return 0.9; else return 1.0;&#125;int getOriginalPrice()&#123; return quantity * itemPrice;&#125; ì°¸ê³  : ë§ˆí‹´ íŒŒìš¸ëŸ¬, ã€ë¦¬íŒ©í† ë§ã€, ê¹€ì§€ì› ì˜®ê¹€, í•œë¹›ë¯¸ë””ì–´(2012)]]></content>
      <categories>
        <category>refactoring</category>
      </categories>
      <tags>
        <tag>ë¦¬íŒ©í† ë§</tag>
        <tag>replace temp with query</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[java] string array to character array]]></title>
    <url>%2Fjava%2Fstring-array-to-character-array%2F</url>
    <content type="text"><![CDATA[]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[[java] java list array ë³€í™˜]]></title>
    <url>%2Fjava%2Fjava-list-array-%EB%B3%80%ED%99%98%2F</url>
    <content type="text"><![CDATA[list -&gt; array 1list.toArray(new String[0]); toArrayì˜ ì¸ìë¡œ ë³€í™˜í•˜ê³  ì‹¶ì€ array íƒ€ì…ì˜ ë³€ìˆ˜ë¥¼ ì„±ìƒí•´ì£¼ë©´ ëœë‹¤. java 1.6 ì´ì „ì—ëŠ” ì¸ìë¡œ ìƒì„±í•˜ê³  ì‹¶ì€ array ê°œìˆ˜ë§Œí¼ ì‚¬ì´ì¦ˆë¥¼ ì£¼ëŠ”ê²Œ ì¢‹ì•˜ìœ¼ë‚˜, 1.6 ì´í›„ë¡œëŠ” 0ìœ¼ë¡œ ì£¼ë‚˜ new String[list.size()] í•˜ë‚˜ ë™ì¼í•˜ë‹¤ê³  í•œë‹¤ stream -&gt; array 1Stream.toArray(String[]::new)]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[intellij ê¸°ëŠ¥ ê°„ë‹¨ ì •ë¦¬]]></title>
    <url>%2Fetc%2Fintellij-%EA%B8%B0%EB%8A%A5-%EA%B0%84%EB%8B%A8-%EC%A0%95%EB%A6%AC%2F</url>
    <content type="text"><![CDATA[maven, gradle group id = ê·¸ë£¹ ì•„ì´ë””, ì˜ˆë¥¼ ë“¤ë©´ ìŠ¤í”„ë§ artifact id = ëª¨ë“ˆ ì´ë¦„, ì˜ˆë¥¼ ë“¤ë©´ ìŠ¤í”„ë§ ì‹œíë¦¬í‹°, ìŠ¤í”„ë§ MVC ì•¡ì…˜ ê²€ìƒ‰ : meta + shift + a ìƒˆë¡œ ë§Œë“¤ê¸° : meta + n í˜„ì¬í¬ì»¤ìŠ¤ ì‹¤í–‰ : ctrl + shift + r ì´ì „í¬ì»¤ìŠ¤ ì‹¤í–‰ : ctrl + r ë¼ì´ë¸Œ í…œí”Œë¦¿ ë©”ì¸ë©”ì„œë“œ : psvm System.out.println : sout ë¼ì¸ ë³µì œí•˜ê¸° : meta + d ë¼ì¸ ì‚­ì œí•˜ê¸° : meta + delete ë¬¸ìì—´ ë¼ì¸ í•©ì¹˜ê¸° : ctrl + shift + j ë¼ì¸ ë‹¨ìœ„ë¡œ ì˜®ê¸°ê¸° : ë¬¸ë²• ìƒê´€í•˜ë©´ì„œ : meta + shift + up/down ë¬¸ë²• ìƒê´€ì—†ì´ : option + shift + up/down element ë‹¨ìœ„ë¡œ ì˜®ê¸°ê¸°(html, xml ì†ì„±, ë©”ì„œë“œ ë§¤ê°œë³€ìˆ˜ ìˆœì„œ ë“±ë“±) : meta + option + shift + left/right íŒŒë¼ë¯¸í„° ì¦‰ì‹œë³´ê¸° : meta + p ì½”ë“œ êµ¬í˜„ë¶€ ì¦‰ì‹œë³´ê¸° : option + space docs ë³´ê¸° : f1 ë‹¨ì–´ë³„ ì´ë™ : alt + ì¢Œìš°(ì„ íƒ : +shift) ë¼ì¸ ì²«/ë : fn + ì¢Œìš°(ì„ íƒ : +shift) page up/down : fn + ìœ„ì•„ë˜ í¬ì»¤ìŠ¤ ë²”ìœ„(ì„ íƒ) í•œ ë‹¨ê³„ì”© ëŠ˜ë¦¬ê¸° : alt + ìœ„ì•„ë˜ í¬ì»¤ìŠ¤ ì•/ë’¤ : meta + [/] ë©€í‹°í¬ì»¤ìŠ¤ : alt + alt + ìœ„/ì•„ë˜(ë¦¬ëˆ…ìŠ¤ëŠ” ctrl) ì˜¤ë¥˜ë¼ì¸ ìë™ í¬ì»¤ìŠ¤ : f2 ë¦¬íŒ©í† ë§ ë³€ìˆ˜ì¶”ì¶œ ë˜‘ê°™ì€ ê°’ë“¤ì„ í•˜ë‚˜ì˜ ë³€ìˆ˜ë¡œ ì¶”ì¶œí•˜ëŠ” ê³¼ì • ì¶”ì¶œí•˜ê³ ì í•˜ëŠ” ê°’ì„ ì„ íƒí•œ ë’¤, command + option + v íŒŒë¼ë¯¸í„° ì¶”ì¶œ command + option + p ë³€ìˆ˜ê°€ ì•„ë‹ˆë¼ íŒŒë¼ë¯¸í„°ë¡œ ì¶”ì¶œëœë‹¤ extract via overloading methodë¥¼ ì‚¬ìš©í•˜ë©´ ì¶”ì¶œëœ ë©”ì„œë“œë¥¼ ë©”ì„œë“œ ì¶”ì¶œ ì¶”ì¶œí•˜ê³  ì‹¶ì€ ë§Œí¼ ì½”ë“œë¥¼ ì„ íƒí•œ ë‹¤ìŒ command + option + m ì´ë„ˆí´ë˜ìŠ¤ ì¶”ì¶œ ì´ë„ˆí´ë˜ìŠ¤ê°€ ì—¬ëŸ¬êµ°ë°ì„œ ì‚¬ìš©ë  ë–„ ì™¸ë¶€í´ë˜ìŠ¤ë¡œ ì¶”ì¶œí•  ìˆ˜ ìˆë‹¤ f6 ë²ˆì„ ëˆ„ë¥´ë©´ ì–´ë–»ê²Œ ì´ë™ì‹œí‚¬ì§€ ì„ íƒí•  ìˆ˜ ìˆëŠ” ë¶€ë¶„ì´ ë‚˜ì˜¤ê³ , ì—¬ê¸°ì„œ ì´ë™í•  íŒ¨í‚¤ì§€ë¥¼ ì§€ì •í•´ì£¼ë©´ ê¹”ë”í•˜ê²Œ í´ë˜ìŠ¤ê°€ ì´ë™ëœë‹¤ ì´ë¦„ ì¼ê´„ ë³€ê²½ shift + f6 ë³€ìˆ˜ ì´ë¦„ ì™¸ì—, ë©”ì„œë“œ ì´ë¦„, í´ë˜ìŠ¤ ì´ë¦„ ëª¨ë‘ ì ìš© ê°€ëŠ¥ íƒ€ì… ì¼ê´„ë³€ê²½ íŒŒë¼ë¯¸í„° ë¦¬í„´ íƒ€ì…ì— ë§ˆìš°ìŠ¤ëŒ€ê³  cmd + shift + 6 ë°˜í™˜í•˜ëŠ” ê°’ì— ëŒ€í•´ì„œëŠ” ìë™ ë³€í™˜ì‹œí‚¤ê±°ë‚˜ ì§ì ‘ ì„¤ì •ê°€ëŠ¥ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” import ì œê±° ctrl + option + o command shitf a + optimize import ë¶€ë¶„ì„ off -&gt; onìœ¼ë¡œ ë°”ê¾¸ë©´ ìë™ìœ¼ë¡œ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” importë¥¼ ì •ë¦¬í•´ì¤€ë‹¤ íŒŒì¼ì„ ì—´ë–„ë§ˆë‹¤ ìë™ìœ¼ë¡œ ì‚¬ë¼ì§€ê²Œ í•´ì¤€ë‹¤ ì´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ importë¬¸ì„ * ìœ¼ë¡œ ë³€ê²½í•˜ëŠ” ê²½ìš°ê°€ ë§ì€ë°, action -&gt; import with * ì˜ ê°œìˆ˜ë¥¼ 999ë¡œ ì„¤ì •í•˜ë©´ í•´ê²°ëœë‹¤ ì •ë ¬ë˜ì§€ ì•Šì€ ì½”ë“œ ì •ë ¬ command + option + l]]></content>
      <categories>
        <category>etc</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ë©”ì„œë“œ ë‚´ìš© ì§ì ‘ ì‚½ì…]]></title>
    <url>%2Frefactoring%2F%EB%A9%94%EC%84%9C%EB%93%9C-%EB%82%B4%EC%9A%A9-%EC%A7%81%EC%A0%91-%EC%82%BD%EC%9E%85%2F</url>
    <content type="text"><![CDATA[ë©”ì„œë“œ ê¸°ëŠ¥ì´ ë„ˆë¬´ ë‹¨ìˆœí•´ì„œ ë©”ì„œë“œëª…ë§Œ ë´ë„ ë„ˆë¬´ ë»”í•  ë•, ê·¸ ë©”ì„œë“œì˜ ê¸°ëŠ¥ì„ í˜¸ì¶œí•˜ëŠ” ë©”ì„œë“œì— ë„£ì–´ë²„ë¦¬ê³  ê·¸ ë©”ì„œë“œëŠ” ì‚­ì œí•˜ì íŠ¹ì§• ë©”ì„œë“œëª…ì— ëª¨ë“  ê¸°ëŠ¥ì´ ë°˜ì˜ë  ì •ë„ë¡œ ë©”ì„œë“œ ê¸°ëŠ¥ì´ ì§€ë‚˜ì¹˜ê²Œ ë‹¨ìˆœí•˜ë©´, ê·¸ ë©”ì„œë“œëŠ” ì—†ì• ì•¼í•œë‹¤ ë‹¨ìˆœ ìœ„ì„ ê¸°ëŠ¥ì„ í•˜ëŠ” ë©”ì„œë“œë“¤ ë•Œë¬¸ì— ì½”ë“œê°€ ë³µì¡í•´ì§ˆ ìˆ˜ ìˆë‹¤ ë¦¬íŒ©í† ë§ì˜ í•µì‹¬ì€ í•œëˆˆì— íŒŒì•…í•  ìˆ˜ ìˆëŠ” ì§ê´€ì ì¸ ë©”ì„œë“œë¥¼ ë§Œë“œëŠ” ê²ƒê³¼ ë©”ì„œë“œë¥¼ ê°„ê²°í•˜ê²Œ ë§Œë“œëŠ” ê²ƒì´ê¸´ í•˜ì§€ë§Œ! ì˜ëª» ìª¼ê°œì§„ ë©”ì„œë“œì—ë„ ì ìš©í•  ìˆ˜ ìˆë‹¤ ì˜ëª» ìª¼ê°œì§„ ë©”ì„œë“œì˜ ë‚´ìš©ì„ ë‹¤ì‹œ í° ë©”ì„œë“œì— ì§ì ‘ ì‚½ì…í•œ í›„, ë‹¤ì‹œ ì‘ì€ ë©”ì„œë“œë¡œ ì¶”ì¶œí•œë‹¤ ë°©ë²• ë©”ì„œë“œê°€ ì¬ì •ì˜ ë˜ì–´ìˆì§€ ì•ŠëŠ”ì§€ í™•ì¸í•˜ì ë‹¹ì—°í•œ ì†Œë¦¬ì§€ë§Œ í•˜ìœ„í´ë˜ìŠ¤ì—ì„œ ì¬ì •ì˜í•˜ê³  ìˆëŠ” ë©”ì„œë“œë¥¼ ì‚­ì œí•˜ë©´ ì•ˆëœë‹¤ ê·¸ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ë¶€ë¶„ì„ ëª¨ë‘ ì°¾ëŠ”ë‹¤ ê° í˜¸ì¶œ ë¶€ë¶„ì„ ë©”ì„œë“œ ë‚´ìš©ìœ¼ë¡œ êµì²´í•œë‹¤ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤ì‹œí•˜ê³ , ë©”ì„œë“œ ì •ì˜ë¥¼ ì‚­ì œí•œë‹¤ ì°¸ê³  : ë§ˆí‹´ íŒŒìš¸ëŸ¬, ã€ë¦¬íŒ©í† ë§ã€, ê¹€ì§€ì› ì˜®ê¹€, í•œë¹›ë¯¸ë””ì–´(2012)]]></content>
      <categories>
        <category>refactoring</category>
      </categories>
      <tags>
        <tag>ë¦¬íŒ©í† ë§</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ë©”ì„œë“œ ì¶”ì¶œ]]></title>
    <url>%2Frefactoring%2F%EB%A9%94%EC%84%9C%EB%93%9C-%EC%B6%94%EC%B6%9C%2F</url>
    <content type="text"><![CDATA[ì–´ë–¤ ì½”ë“œë¥¼ ê·¸ë£¹ìœ¼ë¡œ ë¬¶ì–´ë„ ë˜ê² ë‹¤ê³  íŒë‹¨ë˜ë©´, ê·¸ ì½”ë“œë¥¼ ëº´ë‚´ì–´ ëª©ì ì„ ì˜ ë‚˜íƒ€ë‚´ëŠ” ì§ê´€ì  ì´ë¦„ì˜ ë©”ì„œë“œë¡œ ë§Œë“ ë‹¤ íŠ¹ì§• ë§¤ìš° ìì£¼ ì‚¬ìš©ë¨ ë©”ì„œë“œê°€ ë„ˆë¬´ ê¸¸ê±°ë‚˜ ì½”ë“œì— ì£¼ì„ì„ ë‹¬ì•„ì•¼ë§Œ ì˜ë„ë¥¼ ì´í•´í•  ìˆ˜ ìˆì„ë•Œ ì‚¬ìš© ë©”ì„œë“œê°€ ì ì ˆíˆ ì˜ê²Œ ìª¼ê°œì ¸ìˆìœ¼ë©´ ë‹¤ë¥¸ ë©”ì„œë“œì—ì„œ ì‚¬ìš©í•˜ê¸° ìˆ˜ì›”í•¨ íš¨ê³¼ë¥¼ ë³´ë ¤ë©´ ë©”ì„œë“œì˜ ì´ë¦„ë„ ì˜ ì§€ì–´ì•¼ í•œë‹¤ ê·¸ë¦¬ê³  ìª¼ê°œëŠ” ê²ƒë„ ì˜ í•´ì•¼ê² ì§€â€¦ ëª…í™•í•˜ê²Œ ë©”ì„œë“œëª…ê³¼ ë©”ì„œë“œ ë‚´ìš©ì˜ ì˜ë¯¸ì  ì°¨ì´ê°€ ì¤‘ìš”í•˜ë‹¤ ëª…ë£Œí•˜ê¸°ë§Œ í•˜ë©´ ë©”ì„œë“œ ê¸¸ì´ê°€ ë©”ì„œë“œëª…ë³´ë‹¤ ì§§ì•„ë„ëœë‹¤ ë°©ë²• ëª©ì ì— ë¶€í•©í•˜ëŠ” ìƒˆ ì´ë¦„ì˜ ë©”ì„œë“œë¥¼ ìƒì„±í•œë‹¤ ë©”ì„œë“œëª…ì€ ì›ë¦¬ê°€ ì•„ë‹ˆë¼ ê¸°ëŠ¥ì„ ë‚˜íƒ€ë‚´ì•¼ í•œë‹¤. ê¸°ì¡´ ë©”ì„œë“œì—ì„œ ë¹¼ë‚¸ ì½”ë“œë¥¼ ìƒˆë¡œ ìƒì„±í•œ ë©”ì„œë“œë¡œ ë³µì‚¬í•œë‹¤ ëº´ë‚¸ ì½”ë“œì—ì„œ ê¸°ì¡´ ë©”ì„œë“œì˜ ëª¨ë“  ì§€ì—­ë³€ìˆ˜ ì°¸ì¡°ë¥¼ ì°¾ëŠ”ë‹¤ ìƒˆë¡œ ìƒì„±í•œ ë©”ì„œë“œì˜ ì§€ì—­ë³€ìˆ˜ë‚˜ ë§¤ê°œë³€ìˆ˜ë¡œ í™œìš©í•  ê²ƒì´ë‹¤ ì¶”ì¶œí•œ ë©”ì„œë“œì—ì„œ ì‚¬ìš©ë˜ëŠ” ì„ì‹œë³€ìˆ˜ì— ëŒ€í•´ ì²˜ë¦¬í•œë‹¤ ì›ë³¸ ë©”ì„œë“œì—ì„œ ëº´ë‚¸ ì½”ë“œ ë¶€ë¶„ì„ ìƒˆë¡œ ìƒì„±í•œ ë©”ì„œë“œ í˜¸ì¶œë¡œ ìˆ˜ì •í•œë‹¤ ì§€ì—­ë³€ìˆ˜ ì²˜ë¦¬ ì¶”ì¶œí•œ ë©”ì„œë“œì—ì„œë§Œ ì‚¬ìš©ë˜ëŠ” ê°’ì¼ ê²½ìš° í•´ë‹¹ ë©”ì„œë“œë¡œ ì„ì‹œë³€ìˆ˜ë¥¼ ë¶„ë¦¬ ì›ë³¸ ë©”ì„œë“œ, ì¶”ì¶œí•œ ë©”ì„œë“œ ì–‘ìª½ì—ì„œ ë‹¤ ì‚¬ìš©ë˜ëŠ” ì§€ì—­ë³€ìˆ˜ì¸ë° ì¶”ì¶œí•œ ë©”ì„œë“œì—ì„œëŠ” ì½íˆê¸°ë§Œ í•  ê²½ìš° ì¶”ì¶œí•œ ë©”ì„œë“œì— ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬ ì›ë³¸ ë©”ì„œë“œ, ì¶”ì¶œí•œ ë©”ì„œë“œ ì–‘ìª½ì—ì„œ ë‹¤ ì‚¬ìš©ë˜ëŠ” ì§€ì—­ë³€ìˆ˜ì´ê³  ì¶”ì¶œí•œ ë©”ì„œë“œì—ì„œ ê°’ì´ ë³€ê²½ë  ê²½ìš° ë³€ê²½ë˜ëŠ” ì§€ì—­ë³€ìˆ˜ê°€ 1ê°œì¼ ê²½ìš° ë¦¬í„´í•´ì£¼ëŠ” í˜•ì‹ìœ¼ë¡œ ì‘ì„± ê°€ëŠ¥ 12345int a = 0;// do something to `a`print(a); ëŠ” ì•„ë˜ì²˜ëŸ¼ ë³€ê²½ ê°€ëŠ¥ 12int a = doSomething(0); // í•„ìš”í•œ ê°’ì„ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í•´ì¤„ ìˆ˜ ìˆìŒ print(a); 2ê°œ ì´ìƒì˜ ë³€ìˆ˜ê°€ ë³€ê²½ë˜ëŠ” ê²½ìš°, ë©”ì„œë“œê°€ í•˜ë‚˜ì˜ ê°’ì„ ë°˜í™˜í•˜ë„ë¡ ë”ìš± ë¶„ë¦¬í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤. ê°€ëŠ¥í•˜ë©´ í•˜ë‚˜ì˜ ê°’ë§Œ ë°˜í™˜í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤ê³  í•œë‹¤. ì„ì‹œë³€ìˆ˜ê°€ ë„ˆë¬´ ë§ìœ¼ë©´ ì„ì‹œ ë³€ìˆ˜ë¥¼ ë©”ì„œë“œ í˜¸ì¶œë¡œ ì „í™˜ ê°™ì€ ê²ƒì„ ì‚¬ìš©í•´ì„œ ì„ì‹œë³€ìˆ˜ì˜ ìˆ˜ë¥¼ ì¤„ì´ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì°¸ê³  : ë§ˆí‹´ íŒŒìš¸ëŸ¬, ã€ë¦¬íŒ©í† ë§ã€, ê¹€ì§€ì› ì˜®ê¹€, í•œë¹›ë¯¸ë””ì–´(2012)]]></content>
      <categories>
        <category>refactoring</category>
      </categories>
      <tags>
        <tag>ë¦¬íŒ©í† ë§</tag>
        <tag>extract methodc</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ì½”ë“œì˜ êµ¬ë¦°ë‚´ì™€ í•´ê²°ë²•]]></title>
    <url>%2Frefactoring%2F%EC%BD%94%EB%93%9C%EC%9D%98-%EA%B5%AC%EB%A6%B0%EB%82%B4%EC%99%80-%ED%95%B4%EA%B2%B0%EB%B2%95%2F</url>
    <content type="text"><![CDATA[ë¦¬íŒ©í† ë§ì˜ ê¸°ë³¸ í•œ í´ë˜ìŠ¤ì—ì„œ ë‹¤ë¥¸ í´ë˜ìŠ¤ë¡œ ìƒíƒœì™€ ê¸°ëŠ¥ì„ ì˜®ê¸°ëŠ” ê²ƒì€ ë¦¬íŒ©í† ë§ì˜ ê¸°ë³¸ì´ë‹¤ ì§€ê¸ˆì€ í•©ë¦¬ì ì´ë¼ê³  íŒë‹¨ë˜ëŠ” ì„¤ê³„ë„ ë‚˜ì¤‘ì—ëŠ” ê·¸ë ‡ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤ ë¬¸ì œëŠ” ì´ê²Œ ì•„ë‹ˆë¼, ì´ ìƒí™©ì—ë„ ì•„ë¬´ëŸ° ëŒ€ì²˜ë„ í•˜ì§€ ì•ŠëŠ” ê²ƒì´ë‹¤ ì¤‘ë³µ ì½”ë“œ(Duplicated Code) ìµœëŒ€ì˜ êµ¬ë¦°ë‚´ëŠ” ëˆ„ê°€ ë­ë¼í•´ë„ ì¤‘ë³µ ì½”ë“œì´ë‹¤ ì½”ë“œê°€ ì¤‘ë³µë˜ë©´ í•œìª½ë§Œ ìˆ˜ì •í•˜ê³ , ë‹¤ë¥¸ í•œìª½ì€ ìˆ˜ì •í•˜ì§€ ì•ŠëŠ” ìœ„í—˜ì²œë§Œí•œ ì‹¤ìˆ˜ë¥¼ ì €ì§€ë¥´ê¸° ì‰½ë‹¤ í•œ í´ë˜ìŠ¤ì˜ ë‘ ë©”ì„œë“œì•ˆì— ê°™ì€ ì½”ë“œê°€ ë“¤ì–´ìˆëŠ” ê²½ìš° ë©”ì„œë“œ ì¶”ì¶œì„ ì ìš©í•´ì„œ ê²¹ì¹˜ëŠ” ì½”ë“œë¥¼ ë³„ë„ì˜ ë©”ì„œë“œë¡œ ë¶„ë¦¬í•˜ê³ , ê·¸ ë©”ì„œë“œë¥¼ ë‘ ê³³ì—ì„œ í˜¸ì¶œí•˜ë©´ ëœë‹¤ í•œ í´ë˜ìŠ¤ì˜ ë‘ í•˜ìœ„í´ë˜ìŠ¤ì— ê°™ì€ ì½”ë“œê°€ ë“¤ì–´ìˆëŠ” ê²½ìš° ë©”ì„œë“œ ì¶”ì¶œì„ ì ìš©í•´ì„œ ì¤‘ë³µì„ ì—†ì•¤ í›„, ë©”ì„œë“œ ìƒí–¥ì„ ì ìš©í•˜ë©´ ëœë‹¤. ë‘ ë©”ì„œë“œì˜ ì½”ë“œê°€ ë˜‘ê°™ì§€ ì•Šê³  ë¹„ìŠ·í•˜ë‹¤ë©´? ë©”ì„œë“œ ì¶”ì¶œì„ ì ìš©í•´ì„œ ê°™ì€ ë¶€ë¶„ê³¼ ë‹¤ë¥¸ ë¶€ë¶„ì„ ë¶„ë¦¬í•´ì•¼ í•œë‹¤ ê²½ìš°ì— ë”°ë¼ í…œí”Œë¦¿ ë©”ì„œë“œ í˜•ì„±ì„ ì ìš©í•´ì•¼ í•  ìˆ˜ë„ ìˆë‹¤ ë‘ ë©”ì„œë“œì˜ ê¸°ëŠ¥ì´ ê°™ì€ë° ì•Œê³ ë¦¬ì¦˜ë§Œ ë‹¤ë¥´ë‹¤ë©´? ë‘ ì•Œê³ ë¦¬ì¦˜ ì¤‘ ë” ê°„ë‹¨í•œ ê²ƒì„ íƒí•´ì„œ ì•Œê³ ë¦¬ì¦˜ ì „í™˜ì„ ì ìš©í•˜ë©´ ëœë‹¤ ì¤‘ë³µì½”ë“œê°€ ë©”ì„œë“œ ê°€ìš´ë°ì— ìˆëŠ” ê²½ìš° ì£¼ë³€ ë©”ì„œë“œ ì¶”ì¶œì„ ì ìš©í•œë‹¤ ì„œë¡œ ìƒê´€ì—†ëŠ” ë‘ í´ë˜ìŠ¤ì•ˆì— ì¤‘ë³µ ì½”ë“œê°€ ìˆì„ ê²½ìš° ì¤‘ë³µì½”ë“œë¥¼ í´ë˜ìŠ¤ ì¶”ì¶œì´ë‚˜ ëª¨ë“ˆ ì¶”ì¶œì„ ì ìš©í•´ì„œ í´ë˜ìŠ¤ë‚˜ ëª¨ë“ˆë¡œ ë–¼ì–´ë‚¸ í›„, ê·¸ê²ƒì„ í˜¸ì¶œí•œë‹¤ ë‘ í´ë˜ìŠ¤ ì¤‘ í•œìª½ì—ì„œ ë‹¤ë¥¸ìª½ì„ í˜¸ì¶œí• ìˆ˜ë„ ìˆê³ , ì œ 3ì˜ í´ë˜ìŠ¤ë¡œ ì¶”ì¶œí•˜ê³  ì–‘ìª½ì—ì„œ í˜¸ì¶œí• ìˆ˜ë„ ìˆë‹¤ ì¥í™©í•œ ë©”ì„œë“œ ë©”ì„œë“œê°€ ê¸¸ìˆ˜ë¡ ì´í•´í•˜ê¸° ì–´ë µê¸° ë•Œë¬¸ì— ë©”ì„œë“œë“¤ì€ ì‘ì€ ë‹¨ìœ„ë¡œ ìª¼ê°œì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤ (ìµœì ì˜ ìƒíƒœë¡œ ì¥ìˆ˜í•˜ëŠ” ê°ì²´ í”„ë¡œê·¸ë¨ë“¤ì„ ë³´ë©´ ê³µí†µì ìœ¼ë¡œ ë©”ì„œë“œ ê¸¸ì´ê°€ ì§§ë‹¤) í•˜ì§€ë§Œ í•˜ë‚˜ì˜ ë©ì–´ë¦¬ê°€ ì—¬ëŸ¬ê°œë¡œ ë‚˜ë‰˜ì–´ì¡Œê¸° ë•Œë¬¸ì—, ì½ìœ¼ë ¤ë©´ í™”ë©´ê°„ ì „í™˜ì´ ìƒê¸°ê¸° ë˜ê³ , ì´ë¡œ ì¸í•´ ì‚¬ëŒì˜ ë¨¸ë¦¿ì†ì— ì˜¤ë²„í—¤ë“œê°€ ìƒê¸°ê²Œ ëœë‹¤ ê·¸ëŸ¬ë¯€ë¡œ ë©”ì„œë“œì˜ ê¸°ëŠ¥ì„ í•œëˆˆì— ì•Œ ìˆ˜ ìˆëŠ” ë©”ì„œë“œëª…ì„ ì‚¬ìš©í•˜ì—¬ ê·¸ ë©”ì„œë“œ ì•ˆì˜ ì½”ë“œë¥¼ ë¶„ì„í•˜ì§€ ì•Šì•„ë„ ë˜ê²Œë” í•´ì•¼í•œë‹¤ ë©”ì„œë“œëª…ì€ ê¸°ëŠ¥ ìˆ˜í–‰ ë°©ì‹ì´ ì•„ë‹ˆë¼ ëª©ì (ê¸°ëŠ¥ ê·¸ ìì²´)ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì´ë¦„ìœ¼ë¡œ ì •í•´ì•¼í•œë‹¤ ë©”ì„œë“œ í˜¸ì¶œì´ ì›ë˜ ì½”ë“œë³´ë‹¤ ê¸¸ì–´ì§€ëŠ” í•œì´ ìˆë”ë¼ë„, ë©”ì„œë“œëª…ì€ ê·¸ ì½”ë“œì˜ ì˜ë„ë¥¼ ì˜ ë°˜ì˜í•˜ëŠ” ê²ƒìœ¼ë¡œ ì •í•´ì•¼ í•œë‹¤ ë©”ì„œë“œì˜ í¬ê¸°ë¥¼ ì¤„ì´ë ¤ë©´ ì‹­ì¤‘íŒ”êµ¬ëŠ” ë©”ì„œë“œ ì¶”ì¶œ ê¸°ë²•ì„ ì ìš©í•´ì•¼ í•œë‹¤ ë©”ì„œë“œì—ì„œ í•˜ë‚˜ë¡œ ë¬¶ìœ¼ë©´ ì¢‹ì„ ë§Œí•œ ë¶€ë¶„ë“¤ì„ ì°¾ì•„ì„œ ë©”ì„œë“œë¡œ ë§Œë“ ë‹¤ ì£¼ì„ì„ ì°¸ê³ í•˜ëŠ” ê²ƒë„ ë°©ë²•ì´ë‹¤ ì£¼ì„ìœ¼ë¡œ ì²˜ë¦¬ëœ ì½”ë“œ êµ¬ê°„ì„ ë©”ì„œë“œë¡œ ë§Œë“ ë‹¤ ì£¼ì„ì— ì„¤ëª…ëœ ê¸°ëŠ¥ì„ ì°¸ê³ í•´ì„œ ë©”ì„œë“œëª…ì„ ì§“ëŠ”ë‹¤ ë©”ì„œë“œì— ë§¤ê°œë³€ìˆ˜ì™€ ì„ì‹œë³€ìˆ˜ê°€ ë§ì„ ê²½ìš° ì„ì‹œ ë³€ìˆ˜ë¥¼ ë©”ì„œë“œ í˜¸ì¶œë¡œ ì „í™˜ì´ë‚˜ ì„ì‹œë³€ìˆ˜ë¥¼ ë©”ì„œë“œ ì²´ì¸ìœ¼ë¡œ ì „í™˜ì„ ì‚¬ìš©í•˜ë©´ ëŒ€ë¶€ë¶„ì˜ ì„ì‹œë³€ìˆ˜ëŠ” ì œê±°ëœë‹¤ ê¸¸ê²Œ ì—´ê±°ëœ ë§¤ê°œë³€ìˆ˜ëŠ” ë§¤ê°œë³€ìˆ˜ ì„¸íŠ¸ë¥¼ ê°ì²´ë¡œ ì „í™˜ê³¼ ê°ì²´ë¥¼ í†µì§¸ë¡œ ì „ë‹¬ì„ ì ìš©í•˜ë©´ ê°„ê²°í•´ì§„ë‹¤ ìœ„ì˜ ê¸°ë²•ì„ ì ìš©í–ˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³  ì—¬ì „íˆ ì„ì‹œë³€ìˆ˜ê°€ ë„ˆë¬´ ë§ì„ ë•ŒëŠ” ë©”ì„œë“œë¥¼ ë©”ì„œë“œ ê°ì²´ë¡œ ì „í™˜ì„ ì ìš©í•œë‹¤ ì¡°ê±´ë¬¸ê³¼ ë£¨í”„ë„ ë©”ì„œë“œë¡œ ë¹¼ì•¼ í•œë‹¤ ì¡°ê±´ë¬¸ì„ ì¶”ì¶œí•˜ë ¤ë©´ ì¡°ê±´ë¬¸ ìª¼ê°œê¸°ë¥¼ ì ìš©í•œë‹¤ ë£¨í”„ë¥¼ ì¶”ì¶œí•˜ë ¤ë©´ ë£¨í”„ë¥¼ ì»¬ë ‰ì…˜ í´ë¡œì € ë©”ì„œë“œë¡œ ì „í™˜ì„ ì ìš©í•œ í›„, ê·¸ í´ë¡œì € ë©”ì„œë“œ í˜¸ì¶œê³¼ í´ë¡œì € ìì²´ì— ë©”ì„œë“œ ì¶”ì¶œì„ ì ìš©í•˜ë©´ ëœë‹¤ ì°¸ê³  : ë§ˆí‹´ íŒŒìš¸ëŸ¬, ã€ë¦¬íŒ©í† ë§ã€, ê¹€ì§€ì› ì˜®ê¹€, í•œë¹›ë¯¸ë””ì–´(2012)]]></content>
      <categories>
        <category>refactoring</category>
      </categories>
      <tags>
        <tag>ë¦¬íŒ©í† ë§</tag>
        <tag>ì¤‘ë³µ ì½”ë“œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[java] java8 ë‚ ì§œ/ì‹œê°„ api]]></title>
    <url>%2Fjava%2Fjava8-%EB%82%A0%EC%A7%9C-%EC%8B%9C%EA%B0%84-api%2F</url>
    <content type="text"><![CDATA[UTC : https://ko.wikipedia.org/wiki/í˜‘ì •_ì„¸ê³„ì‹œ ISO 8601, í‘œê¸°ë²• : https://ohgyun.com/416 ê¸°ì¡´ ìë°” ì‹œê°„ APIì˜ ë¬¸ì œ javaì˜ ê¸°ì¡´ Date ì— ë¬¸ì œê°€ ë§ì•˜ìŒ ë¶ˆë³€ ê°ì²´ê°€ ì•„ë‹ˆë‹¤ ìƒìˆ˜ë¥¼ ë‚¨ìš©í•œë‹¤(e.g. ì›” íŒŒë¼ë¯¸í„°ì— 1~12ê°€ ì•„ë‹Œ ê°’ì´ ë“¤ì–´ê°€ë„ ë¬¸ì œì—†ìŒ. ìƒìˆ˜ì´ê¸° ë•Œë¬¸ì´ë‹¤) ì›”ì´ ìƒìˆ˜ 0ë¶€í„° ì‹œì‘í•œë‹¤ ê·¸ë˜ì„œ Calendarê°€ ë‚˜ì™”ëŠ”ë°, ì—¬ì „íˆ ë¬¸ì œê°€ ìˆìŒ ëŒ€ë¶€ë¶„ì˜ ë‚ ì§œ ìœ í‹¸ì´ Date ìœ„ì£¼ì„ Dateë¡œ ë³€í•˜ê¸° ìœ„í•œ ì¤‘ê°„ê°ì²´ ìˆ˜ì¤€ë°–ì— ì•ˆë¨(ìƒì„± ë¹„ìš©ë„ ë¹„ìŒˆ) 0 ë¶€í„° ì‹œì‘í•˜ëŠ” ì›” ì€ ë³€ê²½ë˜ì§€ ì•ŠìŒ ì¢‹ì€ APIëŠ” ì˜¤ìš©í•˜ê¸° ì–´ë ¤ì›Œì•¼ í•˜ê³ , ë¬¸ì„œê°€ ì—†ì–´ë„ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤ ê·¸ëŸ¬ë‚˜ Javaì˜ ê¸°ë³¸ APIëŠ” ë¬¸ì„œë¥¼ ì—´ì‹¬íˆ ë³´ê¸° ì „ê¹Œì§€ëŠ” ì œëŒ€ë¡œ ì‚¬ìš©í•˜ê¸° ì–´ë µë‹¤ ê·¸ë˜ì„œ jodaTimeì„ ëŒ€ë¶€ë¶„ ë§ì´ ì‚¬ìš©í–ˆëŠ”ë°, ìë°” 8 ë¶€í„° jodaTimeì˜ ìœ ìš©í•œ ê¸°ëŠ¥ë“¤ì„ java.time íŒ¨í‚¤ì§€ì— ë„£ì–´ì„œ ìƒˆë¡œ ë°°í¬í•¨ ì´ì™€ ê´€ë ¨ëœ ìì„¸í•œ ë‚´ìš©ì€ ì•„ë˜ì˜ ê¸€ì— ë‚˜ì™€ìˆë‹¤ https://d2.naver.com/helloworld/645609 java 8 ì‹œê°„ API ìƒì„¸í•˜ê²Œ ì„¤ëª…ë˜ì–´ ìˆëŠ” ë¸”ë¡œê·¸ https://perfectacle.github.io/2018/09/26/java8-date-time/ LocalDate, LocalTime, LocalDateTime Timezoneì„ ê°€ì§€ì§€ ì•ŠëŠ” ì‹œê°„ ì—¬ê¸°ì„œ ë¶ˆë³€ê°ì²´ë¼ í•¨ì€ setter ë“±ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ì—†ëŠ” ê°ì²´ë¥¼ ë§í•œë‹¤ LocalDateëŠ” ë‚ ì§œë¥¼ í‘œí˜„í•˜ëŠ” ë¶ˆë³€ê°ì²´ LocalTimeì€ ì‹œê°„ì„ í‘œí˜„í•˜ëŠ” ë¶ˆë³€ê°ì²´ LocalDateTimeì€ ë‘˜ì„ í•©ì³ì„œ í‘œí˜„ of static methodë¡œ ì—°,ì›”,ì¼,ì‹œê°„ ë“±ì„ ë°›ì•„ì„œ ìƒì„±í•  ìˆ˜ ìˆìŒ now ë©”ì„œë“œë¡œ í˜„ì¬ ì‹œê°„ ìƒì„± ê°€ëŠ¥ parseë¡œ ë¬¸ìì—´ì„ ê·¸ëŒ€ë¡œ ë°›ì•„ ì‚¬ìš© ê°€ëŠ¥. ì—¬ê¸°ì—ëŠ” DateTimeFormatter ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì „ë‹¬í•  ìˆ˜ë„ ìˆìŒ ZonedDateTime http://www.daleseo.com/java8-zoned-date-time/ LocalDateTimeì— íƒ€ì„ì¡´ì´ë‚˜ ì‹œì°¨ê°€ ì¶”ê°€ë˜ì—ˆë‹¤ê³  ë³´ë©´ ëœë‹¤ ZonedIdë‚˜ ZonedOffset ê°’ì„ ì£¼ë©´ íƒ€ì„ì¡´ì´ë‚˜ ì‹œì°¨ë¥¼ ì ìš©í•  ìˆ˜ ìˆê³ , ê°’ì„ ì£¼ì§€ ì•Šì„ ê²½ìš° ë¡œì»¬ì˜ ê¸°ë³¸ íƒ€ì„ì¡´ ê°’ì„ ì‚¬ìš©í•œë‹¤. ZonedId ì´ ë¶€ëª¨ í´ë˜ìŠ¤, ZonedOffset, ZonedRegion ì´ í•˜ìœ„ í´ë˜ìŠ¤ì„ ì‹œì°¨ë¥¼ ì“°ëŠ” ê³³ì€ ë§ì§€ì•Šê³ , ZonedOffset ê°™ì€ ê²½ìš° Summer time ë“±ì„ ì²˜ë¦¬í•˜ì§€ ëª»í•˜ë¯€ë¡œ ZonedIdë¥¼ ì“°ëŠ” ê²ƒì´ ì¢‹ë‹¤ ZoneId seoulZone = ZoneId.of(&quot;Seould/Asia&quot;) LocalDate, LocalDateTime, Instantë¥¼ ZonedDateTimeìœ¼ë¡œ ë³€í™˜í•  ìˆ˜ ìˆë‹¤ 12345678LocalDate localDate = LocalDate.now();ZonedDateTime zd1 = localDate.atStartOfDay(seoulZone);LocalDateTime localDateTime = LocalDateTime.now();ZonedDateTime zd2 = localDateTime.atZone(seoulZone);Instant instant = Instant.now();ZonedDateTime zd3 = instant.atZone(seoulZone); ì´ê²ƒë³´ë‹¤ëŠ” OffsetDateTimeì´ ë” ì„ í˜¸ëœë‹¤ê³  í•¨ Instant ì»´í“¨í„°ê°€ ì•Œì•„ë³´ê¸° ì‰½ê²Œ í‘œí˜„í•˜ê¸° ìœ„í•œ í˜•íƒœì´ë‹¤ ìœ ë‹‰ìŠ¤ ì—í¬í¬ ì‹œê°„(1970ë…„ 1ì›” 1ì¼ 0ì‹œ 0ë¶„ 0ì´ˆ UTC)ë¥¼ ê¸°ì¤€ìœ¼ë¡œ íŠ¹ì • ì§€ì ê¹Œì§€ë¥¼ ì´ˆë¡œ í‘œí˜„í•œ ê²ƒì´ë‹¤. ë‚˜ë…¸ì´ˆ(10ì–µë¶„ì˜ 1)ê¹Œì§€ í‘œí˜„ ê°€ëŠ¥í•˜ë‹¤ ZonedIdë¥¼ ì´ìš©í•´ì„œ LocalDateTimeì„ Instantë¡œ ë°”ê¿€ ìˆ˜ ìˆë‹¤ 1Instant instant = LocalDateTime.now().toInstant(seoulZone); Period, Duration instant ìë¥´ê¸° https://stackoverflow.com/questions/27813691/how-to-compare-two-instant-based-on-the-date-not-time]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>java date</tag>
        <tag>LocalDate</tag>
        <tag>LocalTime</tag>
        <tag>LocalDateTime</tag>
        <tag>ZonedDateTime</tag>
        <tag>Instant</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[spring] Spring Batch]]></title>
    <url>%2Fspring%2FSpring-Batch%2F</url>
    <content type="text"><![CDATA[ìŠ¤í”„ë§ ë°°ì¹˜ ì„¤ëª… https://jojoldu.tistory.com/324?category=635883 https://jojoldu.tistory.com/325?category=635883 https://jojoldu.tistory.com/326?category=635883 ë°°ì¹˜ì„œë¹„ìŠ¤ì˜ íŠ¹ì§• ëŒ€ìš©ëŸ‰ ë°ì´í„° ë°°ì¹˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì€ ëŒ€ëŸ‰ì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê±°ë‚˜, ì „ë‹¬í•˜ê±°ë‚˜, ê³„ì‚°í•˜ëŠ” ë“±ì˜ ì²˜ë¦¬ë¥¼ í•  ìˆ˜ â€‹â€‹ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ìë™í™” ë°°ì¹˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì€ ì‹¬ê°í•œ ë¬¸ì œ í•´ê²°ì„ ì œì™¸í•˜ê³ ëŠ” ì‚¬ìš©ì ê°œì… ì—†ì´ ì‹¤í–‰ë˜ì–´ì•¼ í•©ë‹ˆë‹¤. ê²¬ê³ ì„± ë°°ì¹˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì€ ì˜ëª»ëœ ë°ì´í„°ë¥¼ ì¶©ëŒ/ì¤‘ë‹¨ ì—†ì´ ì²˜ë¦¬í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ì‹ ë¢°ì„± ë°°ì¹˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì€ ë¬´ì—‡ì´ ì˜ëª»ë˜ì—ˆëŠ”ì§€ë¥¼ ì¶”ì í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. (ë¡œê¹…, ì•Œë¦¼) ì„±ëŠ¥ ë°°ì¹˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ì€ ì§€ì •í•œ ì‹œê°„ ì•ˆì— ì²˜ë¦¬ë¥¼ ì™„ë£Œí•˜ê±°ë‚˜ ë™ì‹œì— ì‹¤í–‰ë˜ëŠ” ë‹¤ë¥¸ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë°©í•´í•˜ì§€ ì•Šë„ë¡ ìˆ˜í–‰ë˜ì–´ì•¼í•©ë‹ˆë‹¤. Spring BatchëŠ” Acceutureì˜ ë°°ì¹˜ í”„ë ˆì„ì›Œí¬ë¥¼ ì¶”ìƒí™” í•œê²ƒì´ë‹¤. Springì˜ 3ëŒ€ ìš”ì†Œì¸ DI, AOP, ì„œë¹„ìŠ¤ ì¶”ìƒí™”ë¥¼ ë‹¤ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤. Spring QuartzëŠ” ìŠ¤ì¼€ì¤„ëŸ¬ì´ê³ , Spring BatchëŠ” ëŒ€ìš©ëŸ‰ ì²˜ë¦¬ ë°°ì¹˜ì´ë‹¤. ë‘˜ì€ ì™„ì „íˆ ë‹¤ë¥´ë‹¤. ë³´í†µ Quartz + Batchë¥¼ ì¡°í•©í•´ì„œ ì‚¬ìš©í•œë‹¤. Quartzê°€ Batchë¥¼ ì‹¤í–‰ì‹œí‚¤ëŠ” êµ¬ì¡°ì´ë‹¤. Spring Batch ë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ìœ¼ë©´ ìŠ¤í”„ë§ ë¶€íŠ¸ ì–´í”Œë¦¬ì¼€ì´ì…˜ ë£¨íŠ¸ì— @EnableBatchProcessing ì–´ë…¸í…Œì´ì…˜ì„ ì¨ì¤˜ì•¼í•¨ Jobì€ í•˜ë‚˜ì˜ ë°°ì¹˜ ì‘ì—… ë‹¨ìœ„ë¥¼ ëœ»í•¨ JOBì€ @Configurationì— ë“±ë¡í•˜ê³ , ì„œë¹„ìŠ¤ê°€ ëœ¨ë©´ ì‹¤í–‰ëœë‹¤ 1234567@Beanpublic Job simpleJob()&#123; return jobBuilderFactory.get("simple-job") .start(simpleStep1(null)) .next(simpleStep2(null)) .build();&#125; ë“±ë¡í•œ Batch Jobë“¤ì„ ê´€ë¦¬í•˜ë ¤ë©´ Spring Batchì—ì„œ ì •ì˜í•œ ë©”íƒ€ í…Œì´ë¸”ë“¤ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤ ë°°ì¹˜ì™€ ê´€ë ¨ëœ ì „ë°˜ì ì¸ ë°ì´í„°ë¥¼ ê´€ë¦¬í•œë‹¤ spring batchì™€ ê°™ì´ ë‹¤ìš´ë˜ëŠ” schema-XXX.sql íŒŒì¼ì— ìŠ¤í‚¤ë§ˆê°€ ë“¤ì–´ìˆë‹¤ Job ì•ˆì— ì—¬ëŸ¬ Stepì´ ì¡´ì¬í•¨ Stepì´ ì‹¤ì œ ë°°ì¹˜ì‘ì—…(ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§)ì´ ë“¤ì–´ìˆëŠ” ê³³ì´ë‹¤ ë§ ê·¸ëŒ€ë¡œ ì§„ì§œ ìŠ¤í…ì´ë‹¤. jobì´ ì‹¤í–‰í•´ì•¼ í•  stepì„ ì‘ì„±í•˜ëŠ” ê²ƒì´ë‹¤. job ì„ í° ì‘ì—…, step ì„ ì„¸ë¶€ ì‘ì—…ì´ë¼ê³  ìƒê°í•˜ë©´ ì•ˆëœë‹¤ â€˜jobì€ ì¼ê´„ ë“±ë¡ ìš”ì²­, ìš”ì²­ ê°œìˆ˜ ë§Œí¼ step ìƒì„±â€™ ì€ ì˜ëª»ëœ ìƒê°ì´ë‹¤ Step ì•ˆì— Tasklet ë˜ëŠ” Reader &amp; Processor &amp; Writer ë¬¶ìŒì´ ì¡´ì¬í•¨ ì§„ì§œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì‘ì„±í•˜ëŠ” ê³³ ë‘˜ì€ ê°™ì€ ë ˆë²¨ì´ë¯€ë¡œ í•˜ë‚˜ë§Œ ì‹¤í–‰ê°€ëŠ¥ Reader &amp; Processing í›„ì— Tasklet ë¶ˆê°€ëŠ¥ Job, Step, Tasklet(ItemReader, ItemWriter ë“±) ì€ ì „ë¶€ ìŠ¤í”„ë§ ë¹ˆì´ë‹¤ ì§€ì •í•œ JOBë§Œ ì‹¤í–‰ë˜ë„ë¡ í•˜ëŠ” ë°©ë²• application.ymlì— spring.batch.job.names: ${job.name:NONE} ë¥¼ ì¶”ê°€í•˜ê³ , ì™¸ë¶€ íŒŒë¼ë¯¸í„°ë¡œ ë„˜ì–´ì˜¤ëŠ” job.nameì˜ ê°’ì— ë§ì¶° ë°°ì¹˜ë¥¼ ì‹¤í–‰í•œë‹¤. ì „ë‹¬ë˜ì§€ ì•Šìœ¼ë©´ NONEì— ì˜í•´ ì•„ë¬´ ë°°ì¹˜ë„ ì‹¤í–‰í•˜ì§€ ì•ŠëŠ”ë‹¤. parameterì— --job.name=stepNextJob ì˜ í˜•íƒœë¡œ ì…ë ¥í•˜ë©´ ëœë‹¤ Spring Batch Metadata Table JOBì€ íŒŒë¼ë¯¸í„°ì— ë”°ë¼ BATCH_JOB_INSTACNEì— ì €ì¥ë¨ JOBë“¤ì˜ ì‹¤í–‰ì„ ê´€ë¦¬í•˜ëŠ” BATCH_JOB_EXECUTION JOBë“¤ì˜ ì‹¤ì œ ë¡œì§ë“¤ì¸ STEPì´ ì €ì¥ëœ BATCH_STEP_EXECUTION BATCH_JOB_INSTANCE ë“±ë¡í•œ JOBë“¤ì— ëŒ€í•œ ì¸ìŠ¤í„´ìŠ¤ë“¤ì¸ë°, ì™¸ë¶€ì—ì„œ ì „ë‹¬í•œ íŒŒë¼ë¯¸í„°ì— ë”°ë¼ ìƒì„±ëœë‹¤ íŒŒë¼ë¯¸í„°ê°€ ê°™ìœ¼ë©´ ì¤‘ë³µí•´ì„œ ìƒì„±ë˜ì§€ ì•Šìœ¼ë©°, íŒŒë¼ë¯¸í„°ê°€ ë‹¤ë¥¼ ë•Œë§Œ ìƒì„±ëœë‹¤ jobì´ë‚˜ stepì—ì„œ íŒŒë¼ë¯¸í„°ë¥¼ ê¼­ ë°›ì•„ì•¼ í•˜ëŠ”ê²ƒì€ ì•„ë‹ˆë‹¤ ì´ íŒŒë¼ë¯¸í„°ë“¤ì€ BATCH_JON_PARAMETERSì— ì €ì¥ëœë‹¤. ê·¼ë° ì™œ BATCH_JOB_INSTANCEì™€ ê´€ê³„ë¥¼ ê°€ì§€ì§€ ì•Šê³  BATCH_JOB_EXECUTIONê³¼ ê´€ê³„ë¥¼ ê°€ì§ˆê¹Œ? BATCH_JOB_EXECUTION JOB_INSTACNEì˜ ì‹¤í–‰ ë‚´ì—­ì„ ê°€ì§(ì„±ê³µ, ì‹¤íŒ¨) ê·¸ëŸ¬ë¯€ë¡œ JOB_INSTANCEì™€ 1:N ê´€ê³„ì„ ë˜‘ê°™ì€ íŒŒë¼ë¯¸í„°ì— ëŒ€í•´ì„œëŠ” 2ë²ˆ ì´ìƒ ì‹¤í–‰í•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤ ì •í™•íˆ ë§í•´ COMPLETEDê°€ ì´ë¯¸ ìˆìœ¼ë©´ ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ” ê²ƒì´ë‹¤ FAILDê°€ ìˆìœ¼ë©´ ë‹¤ì‹œ ì‹¤í–‰í•´ë„ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤ BATCH_JOB_PARAMETERS EXECUTIONì— ì‚¬ìš©í•œ íŒŒë¼ë¯¸í„°ë“¤ì„ ì €ì¥ VALUE OBJECT COLLECTION Table í˜•íƒœë¡œ ì‚¬ìš©í•¨ BatchStatus, ExitStatus JOB_EXECUTION, STEP_EXECUTION í…Œì´ë¸”ì„ ë³´ë©´ status, exit_codeë¼ëŠ” ê²ƒì´ ìˆë‹¤. statusëŠ” jobì´ë‚˜ stepì˜ ì‹¤í–‰ ê²°ê³¼ë¥¼ ê¸°ë¡í•  ë•Œ ì‚¬ìš©í•˜ëŠ” Enumì´ê³ , exit_codeëŠ” jobì´ë‚˜ stepì˜ ì‹¤í–‰ í›„ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì¼ë°˜ stringì´ë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ exit_codeëŠ” statusì™€ ê°™ë„ë¡ ì„¤ì •ë˜ì–´ ìˆìœ¼ë‚˜, ì»¤ìŠ¤í…€í•œ exit_codeê°€ ìˆìœ¼ë©´ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” êµ¬ì¡°ì´ë‹¤. ìŠ¤í”„ë§ ë°°ì¹˜ ì‚¬ìš© step flow ì œì–´ Job ë‚´ì— Step ë“±ë¡ ì‹œ í˜¸ì¶œ Flowë¥¼ ì œì–´ ê°€ëŠ¥í•˜ë‹¤(ìˆœì„œ, ì¡°ê±´ë³„ ë¶„ê¸° ë“±ë“±) 1234567891011121314151617@Beanpublic Job stepNextConditionalJob() &#123; return jobBuilderFactory.get("stepNextConditionalJob") .start(conditionalJobStep1()) .on("FAILED") // FAILED ì¼ ê²½ìš° .to(conditionalJobStep3()) // step3ìœ¼ë¡œ ì´ë™í•œë‹¤. .on("*") // step3ì˜ ê²°ê³¼ ê´€ê³„ ì—†ì´ .end() // step3ìœ¼ë¡œ ì´ë™í•˜ë©´ Flowê°€ ì¢…ë£Œí•œë‹¤. .from(conditionalJobStep1()) // step1ë¡œë¶€í„° .on("*") // FAILED ì™¸ì— ëª¨ë“  ê²½ìš° .to(conditionalJobStep2()) // step2ë¡œ ì´ë™í•œë‹¤. .next(conditionalJobStep3()) // step2ê°€ ì •ìƒ ì¢…ë£Œë˜ë©´ step3ìœ¼ë¡œ ì´ë™í•œë‹¤. .on("*") // step3ì˜ ê²°ê³¼ ê´€ê³„ ì—†ì´ .end() // step3ìœ¼ë¡œ ì´ë™í•˜ë©´ Flowê°€ ì¢…ë£Œí•œë‹¤. .end() // Job ì¢…ë£Œ .build();&#125; ì²˜ìŒ ì‹œì‘í• ë–„ëŠ” ë¬´ì¡°ê±´ start ExitStatusë¥¼ catchí•˜ê³  ì‹¶ë‹¤ë©´ on ì‚¬ìš©í•˜ê³ , ë’¤ì— ì—°ê²°í•  stepì— to ì‚¬ìš© fromì€ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ. ì¸ìë¡œ ë°›ëŠ” stepì˜ ì´ë²¤íŠ¸ë¥¼ listení•¨ ìœ„ì˜ ìƒí™©ì—ì„  step1ì˜ ì´ë²¤íŠ¸ë¥¼ ì´ë¯¸ ìºì¹˜í•˜ê³  ìˆìœ¼ë¯€ë¡œ, ì¶”ê°€ë¡œ ì´ë²¤íŠ¸ë¥¼ ìºì¹˜í•˜ë ¤ë©´ fromì„ ì‚¬ìš©í•´ì•¼í–ˆìŒ on + end ë’¤ì—ë§Œ ë¶™ì¼ ìˆ˜ ìˆëŠ”ë°, ì™œ ê·¸ëŸ°ê±´ì§€â€¦ stepì„ ì¢…ë£Œì‹œí‚¤ê¸° ìœ„í•´ì„œ ë¶™ì—¬ì•¼í•˜ëŠ” íŒ¨í„´ì¸ê±´ì§€? stepì—ì„œ contribution.setExitStatus ë¥¼ ì„¸íŒ…í•´ì¤˜ì•¼ë§Œ jobì—ì„œ catch ê°€ëŠ¥ custom ExitStatusë¥¼ ì„¸íŒ…í•˜ë ¤ë©´ StepExecutionListenerSupport ë¥¼ ìƒì†ë°›ì€ í´ë˜ìŠ¤ë¥¼ ì¶”ê°€ë¡œ ë“±ë¡í•´ì•¼ í•œë‹¤ decide stepë“¤ì˜ flow ì†ì—ì„œ ë¶„ê¸°ë§Œ ë‹´ë‹¹í•˜ëŠ” ì• ë“¤ ExitStatus ì„¸íŒ…í•˜ëŠ” ë¶€ë¶„ì„ ë¶„ë¦¬í•  ìˆ˜ ìˆë‹¤ Scope, jobParameter @JobScope, @StepScope ë¥¼ ì„ ì–¸í•˜ë©´ ë¹ˆ ìƒì„±ì‹œì ì´ í•´ë‹¹ scopeê°€ ì‹¤í–‰ë˜ëŠ” ì‹œì ê¹Œì§€ ì§€ì—°ëœë‹¤ Scopeë¥¼ ì´ë ‡ê²Œ ë’¤ë¡œ ë¯¸ë£¨ë©´ì„œ ì–»ëŠ” ì¥ì ì´ ì—¬ëŸ¬ê°€ì§€ê°€ ìˆë‹¤ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬ë‹¨ê³„ì—ì„œ Job Parameter í• ë‹¹ë°›ì„ ìˆ˜ ìˆìŒ ë³‘ë ¬ì²˜ë¦¬ ê°€ëŠ¥(stepë‹¹ ê°ì taskletì„ ê°€ì§€ë¯€ë¡œ) jobParameter @JobScope, @StepScope ì—ì„œ íŒŒë¼ë¯¸í„°(ì™¸ë¶€/ë‚´ë¶€)ë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤ stepì— @JobScopeë¥¼ ì„ ì–¸í•˜ê³  parameterë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ëŠ” ë°©ë²•ê³¼, tasklet, itemReader ë“±ì— @StepScopeë¥¼ ì„ ì–¸í•˜ê³  parameterë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ëŠ” ë°©ë²•ì´ ìˆë‹¤. jobParameterê°€ í•„ìš”í•œ ê³³ì—ì„œ ì‚¬ìš©í•˜ë„ë¡ í•´ì•¼í• ë“¯ ì˜ˆë¥¼ë“¤ì–´ step ë‹¨ìœ„ì—ì„œ parameterê°€ í•„ìš”í•˜ë‹¤ë©´ @JobScopeì—ì„œ íŒŒë¼ë¯¸í„°ë¥¼ ë°›ì•„ì•¼ í•  ê²ƒì´ê³ , tasklet ë‹¨ìœ„ì—ì„œ parameterê°€ í•„ìš”í•˜ë‹¤ë©´ @StepScopeì—ì„œ íŒŒë¼ë¯¸í„°ë¥¼ ë°›ì•„ì•¼ í•  ê²ƒì´ë‹¤ jobParameterëŠ” @JobScope(step), @StepScope(chunk) ë¹ˆì„ ìƒì„±í• ë•Œë§Œ ì‚¬ìš©í• ìˆ˜ìˆìœ¼ë©°, stepê³¼ chunkì˜ ìµœìƒìœ„ì—ëŠ” jobì´ ìˆë‹¤. ì¦‰, jobì„ ìƒì„±í• ë•Œ ë˜ì§„ íŒŒë¼ë¯¸í„°ë¥¼ ì´ìš©í•´ì„œ scope beanì—ì„œ job parameterë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤(ì•„ë§ˆë„) ì´ scope ë¹ˆì„ @XXXScopeë¡œ ìƒì„±í•˜ì§€ ì•Šê³  ì¼ë°˜ ì‹±ê¸€í†¤ìœ¼ë¡œ ìƒì„±í•˜ë©´ job Parameterë¥¼ ì°¾ì„ ìˆ˜ ì—†ë‹¤ jobParameterëŠ” jobìœ¼ë¡œ ë¶€í„° ì˜¤ëŠ”ê²ƒì´ë‹ˆê¹Œ jobì„ ìƒì„±(ì‹¤í–‰)í•  ë•Œ ë˜ì§„ parameterë¥¼ ê°€ì§€ê³  @JobScope, @StepScope ë¹ˆì„ ìƒì„±í•˜ë©° parameterë¥¼ ì£¼ëŠ” ê²ƒì´ë‹¤ ê·¸ëŸ¬ë¯€ë¡œ job ì½”ë“œì—ëŠ” parameterë¡œ nullì´ ë“¤ì–´ê°€ê²Œ ëœë‹¤(â€¦ ì•„ë§ˆë„?) 12345JobParameters jobParameters = new JobParametersBuilder() .addString("input.file.name", fileName) .addLong("time", System.currentTimeMillis()) .toJobParameters();jobLauncher.run(job, jobParameters); jobLauncher.runì„ ë”°ë¼ê°€ë³´ë©´(SimpleJobLauncher ê¸°ì¤€) jobExecutionì´ ìˆìœ¼ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ê³ , jobExecutionì´ ì—†ìœ¼ë©´ jobExecutionì„ ìƒì„±í•œë‹¤ ê·¸ë¦¬ê³  í•´ë‹¹ jobExecutionì€ asyncë¡œ ì‹¤í–‰ì‹œí‚¨ë‹¤(ì•„ë§ˆë„) chunk chunk ì§€í–¥ ì²˜ë¦¬ë€ itemReader, itemProcerssor, itemWriterë¡œ ì´ì–´ì§€ëŠ” í˜•íƒœë¥¼ ë§í•¨ taskletì€ ë‚´ë¶€ì— ëª¨ë“  ë¡œì§ì´ ë‹¤ ìˆë‹¤ readerì—ì„œ jobì„ ì½ì–´ì˜¤ê³ , processì—ì„œ ì²˜ë¦¬í•˜ê³  writerë¡œ ì“´ë‹¤ reader, processëŠ” 1ê±´ì”© ì²˜ë¦¬ë˜ê³ , chunkSizeë§Œí¼ processingì´ ì™„ë£Œë˜ë©´ writerë¡œ í•œë°©ì— ì“´ë‹¤? chunkëŠ” ë°°ì¹˜ì—ì„œ í•œë²ˆì— íŠ¸ëœì­ì…˜ìœ¼ë¡œ ì²˜ë¦¬í•  ë‹¨ìœ„ì´ë‹¤ pageSizeì™€ëŠ” ë‹¤ë¥´ë‹¤. pageSizeëŠ” í•œë²ˆì— ì¡°íšŒí•˜ëŠ” ë‹¨ìœ„ì´ë‹¤. pageSizeì™€ chunkSizeë¥¼ ê°™ê²Œí•´ì•¼ ì„±ëŠ¥ìƒ ì¢‹ë‹¤ reader readerë¡œ ì½ì„ ìˆ˜ ìˆëŠ” ë°ì´í„°ëŠ” ë°ì´í„°ë² ì´ìŠ¤ë§Œì´ ì•„ë‹ˆë¼ ì…ë ¥ ë°ì´í„°, íŒŒì¼, jms ë“±ë“± ì—¬ëŸ¬ê°€ì§€ì´ë‹¤ cursor, paging ì¥ì  spring batchì— ì‚¬ìš©í•  ë‹¨ìœ„ë“¤ì„ beanìœ¼ë¡œ ìƒì„±í•  ìˆ˜ ìˆê³ , scopeê°€ Job, Step scope ë‹¨ìœ„ë¼ëŠ” ì  ê·¸ëŸ¬ë¯€ë¡œ íŒŒë¼ë¯¸í„°ë¥¼ ì›í•˜ëŠ” íƒ€ì´ë°ì— ììœ ìì¬ë¡œ ë°›ì„ ìˆ˜ ìˆê³ , ë³‘ë ¬ì²˜ë¦¬ì—ë„ ì¢‹ë‹¤ chunk]]></content>
      <categories>
        <category>spring</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[[tdd] í…Œì•Œëª» ì‹ ì…ì€ ì–´ë–»ê²Œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹œì‘í–ˆì„ê¹Œ? ë¦¬ë·°]]></title>
    <url>%2Ftdd%2F%ED%85%8C%EC%95%8C%EB%AA%BB-%EC%8B%A0%EC%9E%85%EC%9D%80-%EC%96%B4%EB%96%BB%EA%B2%8C-%ED%85%8C%EC%8A%A4%ED%8A%B8%EB%A5%BC-%EC%8B%9C%EC%9E%91%ED%96%88%EC%9D%84%EA%B9%8C-%EB%A6%AC%EB%B7%B0%2F</url>
    <content type="text"><![CDATA[https://www.youtube.com/watch?v=1bTIMHsUeIk ë°©ë²•ì— ëŒ€í•œ ì´ì•¼ê¸° REDì—ì„œ ì‹œì‘í•  ìˆ˜ë„ ìˆê³ , GREEN ì—ì„œ ì‹œì‘í•  ìˆ˜ ìˆë‹¤. ì—¬ê¸°ì„œ REDëŠ” ë²„ê·¸ê°€ ìˆì–´ì„œ REDì¸ ê²ƒì´ê³ , TDDì˜ REDëŠ” ì•„ì§ ì½”ë“œê°€ ì—†ê¸° ë–„ë¬¸ì— REDì´ë‹¤ í…ŒìŠ¤íŠ¸ ë¼ìŠ¤íŠ¸ ë°©ì‹ ì´ë¯¸ êµ¬í˜„ë˜ì–´ ìˆëŠ” ì½”ë“œì— í…ŒìŠ¤íŠ¸ë¥¼ ë¶™ì´ëŠ” ë°©ì‹ í…ŒìŠ¤íŠ¸í•˜ê¸° ì‰¬ìš´ ì½”ë“œë¡œ ì‹œì‘í•œë‹¤ ìˆœìˆ˜í•¨ìˆ˜ë¡œ ë§Œë“¤ì–´ì ¸ ìˆë‹¤ ì™¸ë¶€ ì˜ì¡´ì„±ì´ ì „í˜€ ì—†ë‹¤ ì¸í’‹ê³¼ ì•„ì›ƒí’‹ì´ ëª…í™•í•œ ë‹¨ìˆœí•œ ê¸°ëŠ¥ë“¤(ìœ í‹¸ë¦¬í‹° ê°™ì€) í”„ë¡œë•ì…˜ ì½”ë“œëŠ” ì•„ë¬´ê²ƒë„ ìˆ˜ì •í•˜ì§€ ì•Šê³ , í•¨ìˆ˜ì— ì œëŒ€ë¡œëœ ì¸í’‹ì— ì œëŒ€ë¡œëœ ì•„ì›ƒí’‹ì´ ë‚˜ì˜¤ëŠ”ì§€ í…ŒìŠ¤íŠ¸í•˜ëŠ” ê²ƒì„ ë¨¼ì € ë§Œë“ ë‹¤ ë¦¬íŒ©í† ë§ì„ í•œë‹¤ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ìˆ˜ì •í•˜ì§€ ì•Šê³  í”„ë¡œë•ì…˜ ì½”ë“œë¥¼ ìˆ˜ì •í•œë‹¤ ì´ì œ í…ŒìŠ¤íŠ¸í•˜ê¸° ì–´ë ¤ìš´ ì½”ë“œë¥¼ ë¦¬íŒ©í† ë§ í•œë‹¤ ì¤‘ìš”ë„ê°€ ë†’ì€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë²„ê·¸ê°€ ë°œê²¬ëœ ë¶€ë¶„ ê²°í•©ì´ ë‚®ê³  ë…¼ë¦¬ëŠ” ë³µì¡í•œ ë¶€ë¶„ ì—¬ê¸°ì„œ ì‰½ê²Œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆëŠ” ë¶€ë¶„ì„ ë¶„ë¦¬í•´ì„œ í…ŒìŠ¤íŠ¸í•œë‹¤ í…ŒìŠ¤íŠ¸í•˜ê¸° ì–´ë ¤ìš´ ì½”ë“œì—ì„œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ ì½”ë“œë¥¼ ì°¾ëŠ”ë‹¤ ì´ë¥¼ ë¶„ë¦¬í•œë‹¤ í…ŒìŠ¤íŠ¸ì½”ë“œë¥¼ ì¶”ê°€í•˜ê³  GREENì´ ë˜ë„ë¡ ë§Œë“ ë‹¤ ë¦¬íŒ©í† ë§ í•œë‹¤ 1~4ë¥¼ ê³„ì† ë°˜ë³µí•œë‹¤ ì˜ˆì‹œ ì „ë‹¬ë°›ì€ ì •ë³´ë¥¼ validate í•œ ë’¤ apië¥¼ ìš”ì²­í•˜ê³ , ìš”ì²­ì´ ëë‚˜ë©´ ëª¨ë‹¬ì°½ì„ ë‹«ëŠ”ë‹¤ api ìš”ì²­ì€ í…ŒìŠ¤íŠ¸í•˜ê¸° ë„ˆë¬´ ì–´ë µì§€ë§Œ, ìœ„ì˜ validateëŠ” í…ŒìŠ¤íŠ¸í•˜ê¸° ì‰½ë‹¤ ê·¸ ë¶€ë¶„ì„ í•¨ìˆ˜ë¡œ ë¹¼ê³  í…ŒìŠ¤íŠ¸ë¥¼ ë§Œë“ ë‹¤. ì—¬ê¸°ì„œ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•˜ëŠ”ë°, ì´ëŠ” ì™¸ë¶€ ì˜ì¡´ì„±ì´ ë‚¨ì•„ìˆì—ˆê¸° ë–„ë¬¸ì´ë‹¤. ì´ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ëŠ” í˜•íƒœë¡œ ë°”ê¿”ì„œ ë…ë¦½ì ì¸ í•¨ìˆ˜ë¡œ ë³€í˜•ì‹œí‚¬ ìˆ˜ ìˆë‹¤ ì´ì œ ìŠ¤íŒ©ì„ ì¶”ê°€í•˜ê³ (ë‚˜ì™€ì•¼ í•˜ëŠ” ê²°ê³¼ë“¤) í•´ë‹¹ í…ŒìŠ¤íŠ¸ê°€ ì„±ê³µí•˜ë„ë¡ í•˜ê³ , ë¦¬íŒ©í† ë§ í•˜ë©´ ëœë‹¤ TDD Test LASTì™€ ë‹¬ë¦¬ ì´ë¯¸ êµ¬í˜„ë˜ì–´ ìˆëŠ” ì½”ë“œê°€ ì—†ë‹¤ ì‹ ê·œ ìš”êµ¬ì‚¬í•­ì— ëŒ€í•œ ê°œë°œì„ ë§í•œë‹¤ ìš”êµ¬ì‚¬í•­ì— ë§ì¶˜ í…ŒìŠ¤íŠ¸ë¥¼ ë¨¼ì € ì‘ì„±í•œë‹¤ ì´ë¯¸ êµ¬í˜„ë˜ì–´ ìˆëŠ” ì½”ë“œê°€ ì—†ìœ¼ë¯€ë¡œ ë¬´ì¡°ê±´ RED ë¶€í„° ì‹œì‘í•œë‹¤ í…ŒìŠ¤íŠ¸ì— ë§ì¶° ê¸°ëŠ¥ì„ ê°œë°œí•œë‹¤ GREEN ì´ ëœ¨ë©´ í…ŒìŠ¤íŠ¸ëŠ” ì†ëŒ€ì§€ ì•Šê³  í”„ë¡œë•ì…˜ ì½”ë“œë¥¼ ë¦¬íŒ©í† ë§í•œë‹¤ ì´ë¥¼ ë°˜ë³µí•œë‹¤ ê²½í—˜ì— ëŒ€í•œ ì´ì•¼ê¸° ì¢‹ì€ì  ë¶ˆì•ˆê°ì†Œ ìŠ¤í™ë¬¸ì„œê¸°ëŠ¥ ë³¸ì¸ì´ ë§Œë“  í•¨ìˆ˜ì˜ ì„¸ë¶€ì‚¬í•­ì„ ë‹¤ ê¸°ì–µí•˜ëŠ” ì‚¬ëŒì€ ì—†ë‹¤ í•¨ìˆ˜ë¥¼ ë‹¤ì‹œ ì½ëŠ”ê²ƒë³´ë‹¨ í…ŒìŠ¤íŠ¸ë¥¼ ì½ëŠ”ê²ƒì´ í›¨ì”¬ ë¹ ë¥´ë‹¤(ìŠ¤í™ì˜ ì—­í• ì„ í•œë‹¤) ë””ìì¸ ê°œì„  íš¨ê³¼ í•˜ë‚˜ì˜ í•¨ìˆ˜ê°€ ì—¬ëŸ¬ê°€ì§€ ì—­í• ì„ ìˆ˜í–‰í•˜ê³  ìˆëŠ”ì§€ ì²´í¬í•  ìˆ˜ ìˆë‹¤ í•™ìŠµ ë™ê¸°ë¶€ì—¬ ë””ìì¸ ê°œì„ ì„ í•˜ë‹¤ë³´ë©´ ë‚´ê°€ ì–¼ë§ˆë‚˜ ë””ìì¸ì„ ëª»í•˜ê²Œ ë˜ëŠ”ì§€ ì•Œê²Œ ëœë‹¤ ê·¸ë˜ì„œ ì„¤ê³„ì— ê³„ì† ê´€ì‹¬ì„ ê°€ì§€ê²Œ ëœë‹¤ ì´ê²Œ í•™ìŠµì´ë‹¤! ê°œë°œ ìƒì‚°ì„± í–¥ìƒ í†µí•©í…ŒìŠ¤íŠ¸ëŠ” ì†í•´ë³´ëŠ” ì‹œê°„ í…ŒìŠ¤íŠ¸ ì•ˆí•´ì„œ ì•„ë‚€ ì‹œê°„(í…ŒìŠ¤íŠ¸ ì‘ì„± ì‹œê°„) &lt; í…ŒìŠ¤íŠ¸ ì•ˆí•´ì„œ ë‚˜ì˜¨ ë²„ê·¸ ê³ ì¹˜ëŠ” ì‹œê°„ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì˜ í—ˆì ì„ ë¯¸ë¦¬ ë°œê²¬í•  ìˆ˜ ìˆë‹¤ ìŠ¤í™ì— ëŒ€í•´ì„œ ë§ì´ ìƒê°í•˜ê²Œ ë˜ê¸° ë–„ë¬¸ì´ë‹¤ ì½”ë”©í•˜ê¸° ì „ì— ë°œê²¬í• ìˆ˜ ìˆì–´ì„œ ì•„ë¼ëŠ” ë¹„ìš©ì´ ë§ë‹¤ ì§‘ì¤‘ë ¥ í–¥ìƒ TDDëŠ” ì£½ì—ˆë‹¤ì— ëŒ€í•œ ì¼„íŠ¸ë°±ì˜ ë§ ë‚˜ëŠ” ë‚´ê°€ í•„ìš”í•˜ê²Œ ë  ê±°ë¼ê³  ì•Œê³  ìˆëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ë ¤ëŠ” ì„±í–¥ì´ ìˆë‹¤. í•˜ì§€ë§Œ í•˜ë‚˜ì˜ ë¹¨ê°„ í…ŒìŠ¤íŠ¸ë¥¼ ë…¹ìƒ‰ìœ¼ë¡œ ë§Œë“œëŠ” ê²ƒì„ ë”± ì¶©ë¶„í•œ ë§Œí¼ êµ¬í˜„í•˜ë„ë¡ ë„ì™€ì¤€ë‹¤. ì§‘ì¤‘ì„ ìœ ì§€í•  ìƒˆë¡œìš´ ë°©ë²•ì„ ì°¾ì•„ì•¼í•œë‹¤. ì‹¤ì œë¡œë„ í…ŒìŠ¤íŠ¸(ìŠ¤í™)ì„ ì •í•´ë†“ìœ¼ë©´ ë‚´ê°€ êµ¬í˜„í•´ì•¼ í•  ê¸°ëŠ¥ì— ì§‘ì¤‘í•  ìˆ˜ ìˆë‹¤ ì‹¤ìˆ˜ í…ŒìŠ¤íŠ¸ ìì²´ê°€ ëª©ì ì´ ë˜ì–´ì„œ(ì»¤ë²„ë¦¬ì§€ë¥¼ ë†’ì´ì!) í…ŒìŠ¤íŠ¸ë¥¼ ë§‰ ì°ì–´ë‚´ëŠ” ìƒí™© ë¶ˆí•„ìš”í•œ í…ŒìŠ¤íŠ¸ ë¹„ì¦ˆë‹ˆìŠ¤ì™€ ê´€ë ¨ëœ ë²„ê·¸ë¥¼ ë‚¼ ê°€ëŠ¥ì„±ì´ ë‚®ê±°ë‚˜ ì—†ìŒ í…ŒìŠ¤íŠ¸ë¥¼ ìœ ì§€í•¨ìœ¼ë¡œì¨ ì–»ëŠ” ì´ìµ &lt; í…ŒìŠ¤íŠ¸ ìœ ì§€ì™€ ê´€ë¦¬ì— ë“œëŠ” ë¹„ìš© í…ŒìŠ¤íŠ¸ê°€ ë‹¨ì–¸í•˜ê³  ìˆëŠ” ë‚´ìš©ì´ ì‚¬ìš©ìì—ê²Œ ì¤‘ìš”í•œ ê°€ì¹˜ë¥¼ ì£¼ëŠ”ê²ƒì´ ì•„ë‹ ë•Œ ì´ë•Œ divê°€ ëª‡ê°œ ë‚˜ì˜¤ê²Œ ë˜ê³ , div ì•ˆì—ëŠ” pê°€ ëª‡ê°œê³ â€¦ ê°™ì€ í…ŒìŠ¤íŠ¸ ì´ëŸ°ê²ƒì€ ì‚¬ìš©ìì˜ ê´€ì‹¬ì´ ì•„ë‹ˆë‹¤ ì´ëŸ°ê²ƒê¹Œì§€ êµ³ì´ í…ŒìŠ¤íŠ¸ í•  í•„ìš”ëŠ” ì—†ë‹¤ í•„ìš”í•˜ì§€ë§Œ ê²€ì¦ë°©ì‹ì´ ì˜ëª»ëœ í…ŒìŠ¤íŠ¸ DOM êµ¬ì¡°ì— ì˜ì¡´í•œ í…ŒìŠ¤íŠ¸ divì˜ ì²«ë²ˆì§¸ ìì‹ì— ì´ëŸ¬ì´ëŸ¬í•œ í…ŒìŠ¤íŠ¸ê°€ ìˆë‹¤ ë“± ì‚¬ìš©ìì—ê²Œ ì£¼ëŠ” ê°€ì¹˜ê°€ ë‚®ê³ , í…ŒìŠ¤íŠ¸ë¥¼ ìœ ì§€í•˜ëŠ” ë¹„ìš©ì´ ë” í° ê²½ìš° íŠ¹ì • ìœ„ì¹˜ë¥¼ ì°ì–´ì„œ ê²€ì‚¬í•˜ëŠ” í˜•íƒœë³´ë‹¨, ì˜ì¡´ê´€ê³„ë¥¼ ì¤„ì´ëŠ” ë°©ì‹ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ê°œì„ í•œë‹¤(DOMêµ¬ì¡° ì˜ì¡´ ì œê±°) ê²€ì¦ë ¥ì´ ë–¨ì–´ì§€ëŠ” í…ŒìŠ¤íŠ¸ í…ŒìŠ¤íŠ¸ê°€ ì›í•˜ëŠ” ê²°ê³¼ê°€ ë‚˜ì˜¬ìˆ˜ ìˆëŠ” ìƒí™©ì´ ì—¬ëŸ¬ê°€ì§€ ì¼ë•Œ ìš°ë¦¬ê°€ ì›í•˜ì§€ë„ ì•ŠëŠ” í˜•íƒœì—ì„œ ìš°ë¦¬ê°€ ì›í•˜ëŠ” ê²°ê³¼ ë°œìƒ e.g. expect ê°’ì´ undefined í…ŒìŠ¤íŠ¸ ì œëª©ê³¼ ê²€ì¦ì˜ ë¶ˆì¼ì¹˜ e.g. ì „ì²´ìš”ì†Œì— ëŒ€í•´ í…ŒìŠ¤íŠ¸í•˜ëŠ” ì²™í•´ë†“ê³  ì—˜ë¦¬ë¨¼íŠ¸ 1ë²ˆë§Œ í…ŒìŠ¤íŠ¸ í•˜ê¸° í…ŒìŠ¤íŠ¸ë¥¼ ì•ì„œê°€ëŠ” í”„ë¡œë•ì…˜ ì½”ë“œ í”„ë¡œë•ì…˜ ì½”ë“œì—ì„œ í…ŒìŠ¤íŠ¸ì—ì„œ í…ŒìŠ¤íŠ¸í•˜ëŠ” ëŒ€ìƒë³´ë‹¤ ì´ìƒì˜ í–‰ìœ„ë¥¼ í•  ë•Œ í”„ë¡œë•ì…˜ì— í…ŒìŠ¤íŠ¸ë˜ì§€ ì•Šì€ ì½”ë“œê°€ ì¶”ê°€ë˜ëŠ” ê²ƒì´ í—ˆìš©ë˜ëŠ” ê²ƒì´ë‹¤ ì²«ë²ˆì§¸ ìš”ì†Œì— ëŒ€í•´ í…ŒìŠ¤íŠ¸í–ˆë‹¤ë©´, í”„ë¡œë•ì…˜ì—ì„œëŠ” ì²«ë²ˆì§¸ ìš”ì†Œë§Œ ë Œë”ë§ í–ˆì–´ì•¼ í–ˆë‹¤ ê³ ë¯¼ í”½ìŠ¤ì³(í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ë§Œë“¤ì–´ì§„ ë°ì´í„°) ìƒì„±ì„ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ? í•¨ìˆ˜ë§Œ ê³„ì†í•´ì„œ ë§Œë“¤ì–´ì§€ê²Œ ëœë‹¤ ë¬´ì¡°ê±´ í•¨ìˆ˜ë“¤ì„ ë¶„ë¦¬ í•˜ëŠ”ê²Œ ë§ëŠ”ê±´ê°€? ì´ê²Œ ê°€ë…ì„±ì„ ë” í•´ì¹˜ëŠ”ê±´ ì•„ë‹Œê°€? ì¶”ìƒí™” ìˆ˜ì¤€ì´ ë‚®ì•„ì„œ ê·¸ë ‡ë‹¤ ë†’ì€ ì‘ì§‘, ë‚®ì€ ê²°í•© ì„ ì¶©ì¡±í•´ì•¼ í•œë‹¤ í•¨ìˆ˜ë¡œ ë¶„ë¦¬í•´ì„œ ë‚®ì€ ê²°í•©ì€ ë‹¬ì„±í–ˆì§€ë§Œ, ë†’ì€ ì‘ì§‘ì€ ë‹¬ì„±í•˜ì§€ ëª»í•¨ ê·¸ëƒ¥ ë‹ˆ ë¦¬íŒ©í† ë§ ìˆ˜ì¤€ì´ ë‚®ì•„ì„œë‹¤ ë¼ê³  ì–˜ê¸°í•˜ëŠ” ì¤‘]]></content>
      <categories>
        <category>tdd</category>
      </categories>
      <tags>
        <tag>TDD</tag>
        <tag>OKKYCON TDD 2018</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[jpa] í•œ ì»¬ëŸ¼ì— ì—¬ëŸ¬ ì—”í‹°í‹° ì €ì¥í•˜ê¸°(feat.@Any)]]></title>
    <url>%2Fjpa%2F%ED%95%9C-%EC%BB%AC%EB%9F%BC%EC%97%90-%EC%97%AC%EB%9F%AC-%EC%97%94%ED%8B%B0%ED%8B%B0-%EC%A0%80%EC%9E%A5%ED%95%98%EA%B8%B0-feat-Any%2F</url>
    <content type="text"><![CDATA[ì—¬ëŸ¬ í…Œì´ë¸”ì— ê³µìš©ìœ¼ë¡œ ì €ì¥í•˜ëŠ” í…Œì´ë¸”ì„ ë§Œë“¤ì–´ì•¼ í•œë‹¤ê³  ê°€ì •í•´ë³´ì. ì—¬ëŸ¬ ì—”í‹°í‹°ë¼ê³  í•´ì„œ ë¦¬ìŠ¤íŠ¸ë¥¼ ì–˜ê¸°í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ë‹¤í˜•ì„±ì„ ì–˜ê¸°í•˜ëŠ” ê²ƒì´ë‹¤. http://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#mapping-column-any https://www.concretepage.com/hibernate/hibernate-any-manytoany-and-anymetadef-annotation-example]]></content>
      <categories>
        <category>jpa</category>
      </categories>
      <tags>
        <tag>@ManyToOne multiple entities</tag>
        <tag>column polymorphic</tag>
        <tag>@Any</tag>
        <tag>@AnyMetaDef</tag>
        <tag>@AnyToMany</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[jpa] JPA ì„±ëŠ¥ ìµœì í™”]]></title>
    <url>%2Fjpa%2FJPA-%EC%84%B1%EB%8A%A5-%EC%B5%9C%EC%A0%81%ED%99%94%2F</url>
    <content type="text"><![CDATA[N+1 ë¬¸ì œ ì„±ëŠ¥ìƒ ê°€ì¥ ì£¼ì˜í•´ì•¼ í•˜ëŠ”ê²ƒì´ ì´ N+1 ë¬¸ì œì´ë‹¤. ì•„ë˜ì™€ ê°™ì€ ì—”í‹°í‹°ê°€ ìˆë‹¤ê³  ê°€ì •í•œë‹¤. 1234567891011121314151617@Entityclass Member&#123; @Id @GeneratedValue private Long id; @OneToMany(mappedBy = "member", fetch = FetchType.EAGER) private List&lt;Order&gt; orders = new ArrayList&lt;&gt;();&#125;@Entityclass Order&#123; @Id @GeneratedValue private Long id; @ManyToOne private Member member;&#125; (ì°¸ê³ ë¡œ Orderì—ì„œ Memberë¥¼ EAGERë¡œ ì„¤ì •í•´ë„ ë™ì¼í•˜ê²Œ N+1ì€ ë°œìƒí•œë‹¤) ì¦‰ì‹œ ë¡œë”© 123List&lt;Member&gt; members = em.createQuery("SELECT m FROM Member", Member.class) .getResultList(); ì˜ˆì „ì—ë„ ì–¸ê¸‰í–ˆì§€ë§Œ, JPAëŠ” fetchTypeì„ ì „í˜€ ì‹ ê²½ì“°ì§€ ì•Šê³  ì¶©ì‹¤í•˜ê²Œ JPQLì— ë§ì¶° SQLì„ ìƒì„±í•œë‹¤. ë”°ë¼ì„œ Memberë¥¼ ì „ì²´ ì¡°íšŒí•˜ëŠ” ì¿¼ë¦¬ê°€ ë¨¼ì € ì‹¤í–‰ë˜ê³ , Memberì˜ ê°œìˆ˜ë§Œí¼ Orderë¥¼ ì¡°íšŒí•˜ê²Œ ë  ê²ƒì´ë‹¤(â€¦) 123456SELECT * FROM Member; -- if result is 5SELECT * FROM Order_ WHERE MEMBER_ID = 1;SELECT * FROM Order_ WHERE MEMBER_ID = 2;SELECT * FROM Order_ WHERE MEMBER_ID = 3;SELECT * FROM Order_ WHERE MEMBER_ID = 4;SELECT * FROM Order_ WHERE MEMBER_ID = 5; ì´ì²˜ëŸ¼ ì²˜ìŒ ì‹¤í–‰í•œ SQLì˜ ê²°ê³¼ ìˆ˜ë§Œí¼ ì¶”ê°€ë¡œ SQLì„ ì‹¤í–‰í•˜ëŠ” ê²ƒì„ N+1 ë¬¸ì œë¼ê³  í•œë‹¤. ì§€ì—° ë¡œë”© ì¦‰ì‹œë¡œë”©ì„ ì§€ì—°ë¡œë”©ìœ¼ë¡œ ë°”ê¿”ë„ N+1ì—ì„œ ììœ ë¡œìš¸ìˆ˜ëŠ” ì—†ë‹¤. ì¦‰ì‹œë¡œë”©ì´ ì•„ë‹ˆë¼ì„œ Member ì¡°íšŒì™€ ë™ì‹œì— Member ê±´ìˆ˜ë§Œí¼ Orderë¥¼ ì¡°íšŒí•´ì˜¤ì§„ ì•Šê² ì§€ë§Œ, Memberì—ì„œ Orderë¥¼ ì‚¬ìš©í•˜ëŠ” ì‹œì ì—ëŠ” ë˜‘ê°™ì´ ë¶ˆëŸ¬ì˜¤ê²Œ ëœë‹¤. 123for(Member member : membres)&#123; System.out.println(member.getOrders().size());&#125; members ê°œìˆ˜ë§Œí¼ order ì¡°íšŒ SQLì´ ì‹¤í–‰ë  ê²ƒì´ë‹¤. ì¦‰, ì´ê²ƒë„ ê²°êµ­ N+1 ë¬¸ì œë‹¤. í•´ê²°ë²• í˜ì¹˜ ì¡°ì¸ ê°€ì¥ ì¼ë°˜ì ì¸ ë°©ë²•ì´ë‹¤. SQL ì¡°ì¸ì„ ì´ìš©í•´ì„œ ì—°ê´€ëœ ì—”í‹°í‹°ë¥¼ í•¨ê»˜ ì¡°íšŒí•˜ë¯€ë¡œ N+1 ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. JPQLì€ ì•„ë˜ì™€ ê°™ë‹¤. 1SELECT m FROM Member m JOIN FETCH m.orders JOINìœ¼ë¡œ ê°™ì´ ì¡°íšŒí•´ì„œ Member ì—”í‹°í‹°ì˜ orders ì†ì„±ì— ì´ˆê¸°í™” í•˜ì˜€ê¸° ë•Œë¬¸ì— ë”ì´ìƒ N+1ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. ì°¸ê³ ë¡œ ìœ„ ì˜ˆì œëŠ” ì¼ëŒ€ë‹¤ ì¡°ì¸ì´ë¯€ë¡œ ê²°ê³¼ê°€ ëŠ˜ì–´ë‚  ìˆ˜ ìˆë‹¤. DISTINCTë¥¼ ì¨ì¤˜ì•¼í•œë‹¤. í•˜ì´ë²„ë„¤ì´íŠ¸ @BatchSize í•˜ì´ë²„ë„¤ì´íŠ¸ê°€ ì œê³µí•˜ëŠ” org.hibernate.annotations.BatchSize ì–´ë…¸í…Œì´ì…˜ì„ ì´ìš©í•˜ë©´ ì—°ê´€ëœ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•  ë•Œ ì§€ì •ëœ size ë§Œí¼ SQLì˜ INì ˆì„ ì‚¬ìš©í•´ì„œ ì¡°íšŒí•œë‹¤. 123456789@Entityclass Member&#123; @Id @GeneratedValue private Long id; @org.hibernate.annotations.BatchSize(size = 5) @OneToMany(mappedBy = "member", fetch = FetchType.EAGER) private List&lt;Order&gt; orders = new ArrayList&lt;&gt;();&#125; ì¦‰ì‹œë¡œë”©ì´ë¯€ë¡œ Memberë¥¼ ì¡°íšŒí•˜ëŠ” ì‹œì ì— Orderë¥¼ ê°™ì´ ì¡°íšŒí•œë‹¤. @BatchSizeê°€ ìˆìœ¼ë¯€ë¡œ Memberì˜ ê±´ìˆ˜ë§Œí¼ ì¶”ê°€ SQLì„ ë‚ ë¦¬ì§€ ì•Šê³ , ì¡°íšŒí•œ Member ì˜ idë“¤ì„ ëª¨ì•„ì„œ SQL IN ì ˆì„ ë‚ ë¦°ë‹¤. 1234SELECT * FROMORDER_ WHERE MEMBER_ID IN( ?, ?, ?, ?, ?) sizeëŠ” INì ˆì— ì˜¬ìˆ˜ìˆëŠ” ìµœëŒ€ ì¸ì ê°œìˆ˜ë¥¼ ë§í•œë‹¤. ë§Œì•½ Memberì˜ ê°œìˆ˜ê°€ 10ê°œë¼ë©´ ìœ„ì˜ INì ˆì´ 2ë²ˆ ì‹¤í–‰ë ê²ƒì´ë‹¤. ê·¸ë¦¬ê³  ë§Œì•½ ì§€ì—°ë¡œë”©ì´ë¼ë©´ ì§€ì—°ë¡œë”©ëœ ì—”í‹°í‹° ìµœì´ˆ ì‚¬ìš©ì‹œì ì— 5ê±´ì„ ë¯¸ë¦¬ ë¡œë”©í•´ë‘ê³ , 6ë²ˆì§¸ ì—”í‹°í‹° ì‚¬ìš© ì‹œì ì— ë‹¤ìŒ SQLì„ ì¶”ê°€ë¡œ ì‹¤í–‰í•œë‹¤. hibernate.default_batch_fetch_size ì†ì„±ì„ ì‚¬ìš©í•˜ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ì— ê¸°ë³¸ìœ¼ë¡œ @BatchSizeë¥¼ ì ìš©í•  ìˆ˜ ìˆë‹¤. 12&gt; &lt;property name="hibernate.default_batch_fetch_size" value="5" /&gt;&gt; í•˜ì´ë²„ë„¤ì´íŠ¸ @Fetch(FetchMode.SUBSELECT) ì—°ê´€ëœ ë°ì´í„°ë¥¼ ì¡°íšŒí•  ë•Œ ì„œë¸Œì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•´ì„œ N+1 ë¬¸ì œë¥¼ í•´ê²°í•œë‹¤ 123456789@Entityclass Member&#123; @Id @GeneratedValue private Long id; @org.hibernate.annotations.Fetch(FetchMode.SUBSELECT) @OneToMany(mappedBy = "member", fetch = FetchType.EAGER) private List&lt;Order&gt; orders = new ArrayList&lt;&gt;();&#125; ì•„ë˜ì™€ ê°™ì´ ì‹¤í–‰ëœë‹¤. 123456SELECT * FROM Member;SELECT * FROM Order_ WHERE MEMBER_ID IN( SELECT ID FROM Member ) ì¦‰ì‹œë¡œë”©ìœ¼ë¡œ ì„¤ì •í•˜ë©´ ì¡°íšŒì‹œì ì—, ì§€ì—°ë¡œë”©ìœ¼ë¡œ ì„¤ì •í•˜ë©´ ì§€ì—°ë¡œë”©ëœ ì—”í‹°í‹°ë¥¼ ì‚¬ìš©í•˜ëŠ” ì‹œì ì— ìœ„ì˜ ì¿¼ë¦¬ê°€ ì‹¤í–‰ëœë‹¤. ëª¨ë‘ ì§€ì—°ë¡œë”©ìœ¼ë¡œ ì„¤ì •í•˜ê³  ì„±ëŠ¥ ìµœì í™”ê°€ í•„ìš”í•œ ê³³ì—ëŠ” JPQL í˜ì¹˜ ì¡°ì¸ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¶”ì²œë˜ëŠ” ì „ëµì´ë‹¤. ì½ê¸° ì „ìš© ì¿¼ë¦¬ì˜ ì„±ëŠ¥ ìµœì í™” JPAì˜ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” ë³€ê²½ ê°ì§€ë¥¼ ìœ„í•´ ìŠ¤ëƒ…ìƒ· ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë³´ê´€í•˜ëŠ” íŠ¹ì§•ì´ ìˆë‹¤. í•˜ì§€ë§Œ ë‹¨ìˆœ ì¡°íšŒ í™”ë©´ì—ì„œëŠ” ì¡°íšŒí•œ ì—”í‹°í‹°ë¥¼ ë‹¤ì‹œ ì¡°íšŒí•  í•„ìš”ë„ ì—†ê³ , ìˆ˜ì •í•  í•„ìš”ë„ ì—†ì–´ì„œ ì´ë•ŒëŠ” ìŠ¤ëƒ…ìƒ· ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìœ„í•œ ë©”ëª¨ë¦¬ê°€ ë‚­ë¹„ëœë‹¤. ì´ëŸ´ ê²½ìš° ì•„ë˜ì˜ ë°©ë²•ìœ¼ë¡œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ìµœì í™”í•  ìˆ˜ ìˆë‹¤. ìŠ¤ì¹¼ë¼ íƒ€ì…ìœ¼ë¡œ ì¡°íšŒ ì—”í‹°í‹°ê°€ ì•„ë‹Œ ìŠ¤ì¹¼ë¼ íƒ€ì…ìœ¼ë¡œ ëª¨ë“  í•„ë“œë¥¼ ì¡°íšŒí•˜ëŠ” ê²ƒì´ë‹¤. ì•Œë‹¤ì‹œí”¼ ìŠ¤ì¹¼ë¼ íƒ€ì…ì€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ê´€ë¦¬í•˜ì§€ ì•ŠëŠ”ë‹¤. 1SELECT m.id, m.name, m.age FROM Member m ì½ê¸° ì „ìš© ì¿¼ë¦¬ íŒíŠ¸ ì‚¬ìš© í•˜ì´ë²„ë„¤ì´íŠ¸ ì „ìš© íŒíŠ¸ì¸ org.hibernate.readOnlyë¥¼ ì‚¬ìš©í•˜ë©´ ì—”í‹°í‹°ë¥¼ ì½ê¸° ì „ìš©ìœ¼ë¡œ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤. ì½ê¸° ì „ìš©ì´ë¯€ë¡œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ìŠ¤ëƒ…ìƒ·ì„ ì €ì¥í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ìµœì í™” í•  ìˆ˜ ìˆë‹¤. 123Member member = em.createQuery("SELECT m FROM Member m", Member.class) .setHint("org.hibernate.readOnly", true) .getSingleResult(); ìŠ¤ëƒ…ìƒ·ì´ ì—†ìœ¼ë¯€ë¡œ memberì˜ ê°’ì„ ìˆ˜ì •í•´ë„ update ì¿¼ë¦¬ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. ìŠ¤ëƒ…ìƒ·ë§Œ ì €ì¥í•˜ì§€ ì•ŠëŠ” ê²ƒì´ì§€, 1ì°¨ ìºì‹œì—ëŠ” ê·¸ëŒ€ë¡œ ì €ì¥í•œë‹¤ ë˜‘ê°™ì€ ì‹ë³„ìë¡œ 2ë²ˆ ì¡°íšŒí–ˆì„ ê²½ìš° ë°˜í™˜ë˜ëŠ” ì—”í‹°í‹°ì˜ ì£¼ì†Œê°€ ê°™ë‹¤ ì½ê¸° ì „ìš© íŠ¸ëœì­ì…˜ ì‚¬ìš© ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ë©´ íŠ¸ëœì­ì…˜ì„ ì½ê¸° ì „ìš© ëª¨ë“œë¡œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. 1@Transactional(readOnly = true) íŠ¸ëœì­ì…˜ì„ ì½ê¸° ì „ìš©ìœ¼ë¡œ ì„¤ì •í•˜ë©´ ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ê°€ í•˜ì´ë²„ë„¤ì´íŠ¸ ì„¸ì…˜ì˜ í”ŒëŸ¬ì‹œ ëª¨ë“œë¥¼ MANUALë¡œ ì„¤ì •í•œë‹¤. ì´ë ‡ê²Œí•˜ë©´ ê°•ì œë¡œ í”ŒëŸ¬ì‹œ í˜¸ì¶œì„ í•˜ì§€ ì•ŠëŠ” í•œ í”ŒëŸ¬ì‹œê°€ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤. ì—”í‹°í‹°ì˜ í”ŒëŸ¬ì‹œ ëª¨ë“œëŠ” AUTO, COMMIT ëª¨ë“œë§Œ ìˆë‹¤. MANUAL ëª¨ë“œëŠ” í•˜ì´ë²„ë„¤ì´íŠ¸ ì„¸ì…˜ì— ìˆëŠ” í”ŒëŸ¬ì‹œëª¨ë“œì´ë‹¤. ì´ëŠ” ê°•ì œë¡œ í”ŒëŸ¬ì‹œë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šìœ¼ë©´ ì ˆëŒ€ í”ŒëŸ¬ì‹œê°€ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ” íŠ¹ì§•ì„ ê°€ì§€ê³  ìˆë‹¤. í•˜ì´ë²„ë„¤ì´íŠ¸ ì„¸ì…˜ì€ JPA ì—”í‹°í‹° ë§¤ë‹ˆì €ë¥¼ í•˜ì´ë²„ë„¤ì´íŠ¸ë¡œ êµ¬í˜„í•œ êµ¬í˜„ì²´ì´ë‹¤. í”ŒëŸ¬ì‹œë¥¼ ìˆ˜í–‰í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ í”ŒëŸ¬ì‹œí•  ë–„ ì¼ì–´ë‚˜ëŠ” ìŠ¤ëƒ…ìƒ· ë¹„êµì™€ ê°™ì€ ë¬´ê±°ìš´ ë¡œì§ë“¤ì´ ì‹¤í–‰ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì„±ëŠ¥ì´ í–¥ìƒëœë‹¤. (ê·¸ë˜ë„ ìŠ¤ëƒ…ìƒ·ì€ ê·¸ëŒ€ë¡œ ì €ì¥í•˜ëŠ” ë“¯. ë‹¨ì§€ í”ŒëŸ¬ì‹œë§Œ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ” ê²ƒ ê°™ë‹¤.) ë¬¼ë¡  íŠ¸ëœì­ì…˜ì„ ì‹œì‘í–ˆìœ¼ë¯€ë¡œ íŠ¸ëœì­ì…˜ ì‹œì‘, ìˆ˜í–‰, ì»¤ë°‹ì˜ ê³¼ì •ì€ ì´ë£¨ì–´ì§„ë‹¤. íŠ¸ëœì­ì…˜ ë°–ì—ì„œ ì½ê¸° íŠ¸ëœì­ì…˜ ì—†ì´ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë§Œ ê°€ì§€ê³  ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. JPAì—ì„œ ì—”í‹°í‹°ë¥¼ ë³€ê²½í•˜ë ¤ë©´ íŠ¸ëœì­ì…˜ì´ í•„ìˆ˜ì´ë¯€ë¡œ, ì¡°íšŒê°€ ëª©ì ì¼ ë•Œë§Œ ì‚¬ìš©í•´ì•¼ í•œë‹¤. JPAëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì•„ë˜ì˜ 2ê°€ì§€ íŠ¹ì„±ì´ ìˆë‹¤ íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ë  ë•Œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ í”ŒëŸ¬ì‹œí•œë‹¤ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë§Œ ìˆìœ¼ë©´ íŠ¸ëœì­ì…˜ ì—†ì´ ì½ê¸°ê°€ ê°€ëŠ¥í•˜ë‹¤ ìŠ¤í”„ë§ì„ ì‚¬ìš©í•˜ì§€ ì•Šì„ ë•Œ 123456789EntityManager em = emf.createEntityManger();// EntityTransaction tx = em.getTransaction();try &#123; // tx.begin(); Some some = em.find(Some.class, 1L); SomeChild someChild = some.getSomeChildren().get(0);&#125; íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•˜ëŠ” ë¶€ë¶„ ì—†ì´ ì—”í‹°í‹°ë§¤ë‹ˆì €ë§Œ ê°€ì ¸ì™€ì„œ ì¡°íšŒë¥¼ ìˆ˜í–‰í•´ë„ ì •ìƒ ë™ì‘í•˜ê³ , ë³´ë‹¤ì‹œí”¼ lazy ë¡œë”©ê¹Œì§€ë„ ë™ì‘í•œë‹¤. ì°¸ê³ ë¡œ ì—¬ê¸°ì„œ ìŠ¤í”„ë§ì´ @PersistenceContextë¥¼ í†µí•´ ê°€ì ¸ì˜¨ EntityManagerë¥¼ ì‚¬ìš©í•  ê²½ìš° ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤(org.hibernate.LazyInitializationException) ìœ„ì²˜ëŸ¼ ë©”ì„œë“œë‚´ì—ì„œ ìƒì„±ëœ entityManagerì—ë§Œ ìœ íš¨í•˜ë‹¤(@PersistenceContextëŠ” ê³µìœ ë˜ëŠ” ì• ë¼ì„œ ê·¸ëŸ°ê°€â€¦) ê³µìœ ë˜ëŠ” ì• ì¸ê²Œ ì™œ ë¬¸ì œê°€ ë˜ì§€? ìŠ¤í”„ë§ì„ ì‚¬ìš©í•  ë•Œ ìŠ¤í”„ë§ì„ ì‚¬ìš©í• ë–„ëŠ” OSIVë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜, ì§ì ‘ EntityManagerë¥¼ ìƒì„±ì‹œì¼œì£¼ëŠ” ë°©ë²•ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤ ê¸°ë³¸ì ìœ¼ë¡œ @Transactional ì„ í†µí•´ íŠ¸ëœì­ì…˜ì´ ìƒì„±ë  ë•Œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ìƒì„±í•˜ëŠ” êµ¬ì¡°ì´ê¸° ë–„ë¬¸ì´ë‹¤ íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•˜ì§€ ì•Šì„ê±°ë¼ë©´ @Transactional ì–´ë…¸í…Œì´ì…˜ì„ ì œê±°í•´ì¤˜ì•¼í•˜ëŠ”ë°, ê·¸ëŸ¬ë©´ ìŠ¤í”„ë§ ì…ì¥ì—ì„œ ì–¸ì œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ìƒì„±í•´ì¤˜ì•¼ í• ì§€ ì•Œì§€ ëª»í•˜ê²Œ ëœë‹¤ ê·¸ëŸ¬ë¯€ë¡œ OSIVë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì„ê±°ë©´ EntityManagerFactoryë¥¼ ê°€ì ¸ì˜¨ ë’¤ ì§ì ‘ ì—”í‹°í‹° ë§¤ë‹ˆì €ë¥¼ ìƒì„±í•´ì¤˜ì•¼ë§Œ íŠ¸ëœì­ì…˜ ì—†ì´ ì½ê¸°ê°€ ê°€ëŠ¥í•˜ë‹¤ ì´ ê³¼ì • ì—†ì´ íŠ¸ëœì­ì…˜ ì—†ì´ ì½ê¸°ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´(@Transactional ì–´ë…¸í…Œì´ì…˜ì„ ì œê±°í•´ì„œ) OSIVë¥¼ ì¼œì¤˜ì•¼í•œë‹¤]]></content>
      <categories>
        <category>jpa</category>
      </categories>
      <tags>
        <tag>ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë°</tag>
        <tag>N+1</tag>
        <tag>fetch join</tag>
        <tag>@BatchSize</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[jpa] JPA ì˜ˆì™¸]]></title>
    <url>%2Fjpa%2FJPA-%EC%98%88%EC%99%B8%2F</url>
    <content type="text"><![CDATA[JPAì˜ í‘œì¤€ ì˜ˆì™¸ë“¤ì€ javax.persistence.PersistenceExceptionì˜ ìì‹ í´ë˜ìŠ¤ì´ë‹¤. ê·¸ë¦¬ê³  ì´ í´ë˜ìŠ¤ëŠ” RuntimeExceptionì˜ ìì‹ì´ë‹¤. ì¦‰, JPAì˜ ì˜ˆì™¸ëŠ” ëª¨ë‘ ì–¸ì²´í¬ ì˜ˆì™¸ì´ë‹¤. JPA í‘œì¤€ ì˜ˆì™¸ JPA í‘œì¤€ ì˜ˆì™¸ëŠ” í¬ê²Œ ì•„ë˜ì˜ 2ê°€ì§€ë¡œ ë‚˜ë‰œë‹¤. ë‚œ ì‹¤í–‰ë‹¨ê³„ì—ì„œ ì•„ë˜ 2ê°œë¥¼ ì–´ë–»ê²Œ êµ¬ë¶„í•´ì•¼í• ì§€ ì˜ ëª¨ë¥´ê² ë‹¤ íŠ¸ëœì­ì…˜ ë¡¤ë°±ì„ í‘œì‹œí•˜ëŠ” ì˜ˆì™¸ ì‹¬ê°í•œ ì˜ˆì™¸ì´ë¯€ë¡œ ë³µêµ¬í•´ì„  ì•ˆë˜ëŠ” ì˜ˆì™¸ë“¤ì´ë‹¤. ì´ ì˜ˆì™¸ê°€ ë°œìƒí•˜ë©´ íŠ¸ëœì­ì…˜ì„ ê°•ì œë¡œ ì»¤ë°‹í•´ë„ ì»¤ë°‹ë˜ì§€ ì•ˆí˜¹ javax.persistence.RollbackExceptionì´ ë°œìƒí•œë‹¤. ì˜ˆì™¸ ì„¤ëª… javax.persistence.EntityExistsException EntityManager.persist(..) í˜¸ì¶œ ì‹œ ê°™ì€ ì—”í‹°í‹°ê°€ ìˆìœ¼ë©´ ë°œìƒ javax.persistence.EntityNotFoundException EntityManager.getReference(..) í˜¸ì¶œí•˜ê³  ì‹¤ì œ ì‚¬ìš© ì‹œ ì—”í‹°í‹°ê°€ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ ë°œìƒ. refresh(..), lock(..) ì—ì„œë„ ë°œìƒ javax.persistence.OptimisticLockException ë‚™ê´€ì  ë½ ì¶©ëŒì‹œ javax.persistence.PessimisticLockException ë¹„ê´€ì  ë½ ì¶©ëŒì‹œ javax.persistence.RollbackException EntityTransaction.commit() ì‹¤íŒ¨ ì‹œ ë°œìƒ. ë¡¤ë°±ì´ í‘œì‹œë˜ì–´ ìˆëŠ” íŠ¸ëœì­ì…˜ ì»¤ë°‹ì‹œì—ë„ ë°œìƒ javax.persistence.TransactionRequiredException íŠ¸ëœì­ì…˜ì´ í•„ìš”í•  ë–„ íŠ¸ëœì­ì…˜ì´ ì—†ìœ¼ë©´ ë°œìƒ. íŠ¸ëœì­ì…˜ ì—†ì´ ì—”í‹°í‹°ë¥¼ ë³€ê²½í•  ë–„ ì£¼ë¡œ ë°œìƒ íŠ¸ëœì­ì…˜ ë¡¤ë°±ì„ í‘œì‹œí•˜ì§€ ì•ŠëŠ” ì˜ˆì™¸ ì‹¬ê°í•œ ì˜ˆì™¸ê°€ ì•„ë‹ˆë‹¤. ê°œë°œìê°€ íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í• ì§€ ë¡¤ë°±í• ì§€ íŒë‹¨í•˜ë©´ ëœë‹¤. ì˜ˆì™¸ ì„¤ëª… javax.persistence.NoResultException Query.getSingleResult() í˜¸ì¶œ ì‹œ ê²°ê³¼ê°€ í•˜ë‚˜ë„ ì—†ì„ ë•Œ ë°œìƒ javax.persistence.NonUniqueResultException Query.getSingleResult() í˜¸ì¶œì‹œ ê²°ê³¼ê°€ ë‘˜ ì´ìƒì¼ ë–„ ë°œìƒ javax.persistence.LockTimeoutException ë¹„ê´€ì  ë½ì—ì„œ ì‹œê°„ ì´ˆê³¼ì‹œ ë°œìƒí•œë‹¤ javax.persistence.QueryTimeException ì¿¼ë¦¬ ì‹¤í–‰ ì‹œê°„ ì´ˆê³¼ì‹œ ë°œìƒ ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ì˜ JPA ì˜ˆì™¸ ë³€í™˜ ì„œë¹„ìŠ¤ ê³„ì¸µì—ì„œ ë°ì´í„° ì ‘ê·¼ ê¸°ìˆ ì— ì§ì ‘ ì˜ì¡´í•˜ëŠ” ê²ƒì€ ì¢‹ì€ ì„¤ê³„ê°€ ì•„ë‹ˆë‹¤. ì´ê²ƒì€ ì˜ˆì™¸ë„ ë§ˆì°¬ê°€ì§€ë‹¤. ì„œë¹„ìŠ¤ ê³„ì¸µì—ì„œ ìœ„ JPA ì˜ˆì™¸ì— ì§ì ‘ ì˜ì¡´í•˜ë©´ ê²°êµ­ JPAì— ì˜ì¡´í•˜ê²Œ ë˜ëŠ”ê²ƒì´ë‹¤. ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ëŠ” ì´ëŸ° ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ JPA ì˜ˆì™¸ë¥¼ ì¶”ìƒí™”í•´ì„œ ì œê³µí•œë‹¤. blah blahâ€¦ ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ì— JPA ì˜ˆì™¸ ë³€í™˜ê¸° ì ìš© ìœ„ì²˜ëŸ¼ JPAì˜ˆì™¸ë¥¼ ìŠ¤í”„ë§ ì˜ˆì™¸ë¡œ ë³€ê²½í•´ì„œ ë°›ìœ¼ë ¤ë©´ PersistenceExceptionTranslationPostProcessorë¥¼ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ë©´ ëœë‹¤. ì´ê²ƒì€ @Repository ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•œê³³ì— ì˜ˆì™¸ ë³€í™˜ AOPë¥¼ ì ìš©í•´ì„œ JPA ì˜ˆì™¸ë¥¼ ìŠ¤í”„ë§ ì¶”ìƒí™” ì˜ˆì™¸ë¡œ ë³€í™˜í•´ì¤€ë‹¤. 1234@Beanpublic PersistenceExceptionTranslationPostProcessor exceptionTranslation()&#123; return new PersistenceExceptionTranslationPostProcessor();&#125; ì•„ë˜ ì˜ˆì™¸ëŠ” ë³€í™˜ë˜ì–´ì„œ ë˜ì ¸ì§ˆ ê²ƒì´ë‹¤. 123456789101112@Repositorypublic class NoResultExceptionTestRepository&#123; @PersistenceContext private EntityManager em; public Member findMember()&#123; // ì¡°íšŒê²°ê³¼ ì—†ìŒ return em.createQuery("SELECT m FROM Member WHERE m.id = :id", Member.class) .setParameter("id", 999) .getSingleResult(); &#125;&#125; ì›ë˜ë¼ë©´ NoResultExceptionì´ ë°œìƒí•´ì•¼ í•˜ì§€ë§Œ, ë“±ë¡í•œ AOP ì¸í„°ì…‰í„°ê°€ ë™ì‘í•´ì„œ EmptyResultDataAccessExceptionìœ¼ë¡œ ë³€í™˜í•´ì„œ ë°˜í™˜í•œë‹¤. ë§Œì•½ ì˜ˆì™¸ë¥¼ ë³€í™˜í•˜ì§€ ì•Šê³  ê·¸ëŒ€ë¡œ ë°˜í™˜í•˜ê³  ì‹¶ë‹¤ë©´ ë°˜í™˜í•  JPA ì˜ˆì™¸ë‚˜ JPA ì˜ˆì™¸ì˜ ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ ì§ì ‘ ëª…ì‹œí•˜ë©´ ëœë‹¤. 12345678@Repositorypublic class NoResultExceptionTestRepository&#123; public Member findMember() throws javax.persistence.NoResultException&#123; return em.createQuery("SELECT m FROM Member WHERE m.id = :id", Member.class) .setParameter("id", 999) .getSingleResult(); &#125;&#125; ì˜ˆì™¸ì˜ ìµœìƒìœ„ í´ë˜ìŠ¤ì¸ Exceptionì„ throws í•˜ë©´ ì˜ˆì™¸ë¥¼ ì•„ì˜ˆ ë³€í™˜í•˜ì§€ ì•Šì„ ê²ƒì´ë‹¤. íŠ¸ëœì­ì…˜ ë¡¤ë°± ì‹œ ì£¼ì˜ì‚¬í•­ íŠ¸ëœì­ì…˜ì„ ë¡¤ë°±í•˜ëŠ” ê²ƒì€ ë°ì´í„°ë² ì´ìŠ¤ì˜ ë°˜ì˜ì‚¬í•­ë§Œ ë¡¤ë°±í•˜ëŠ” ê²ƒì´ì§€, ìˆ˜ì •í•œ ìë°” ê°ì²´ê¹Œì§€ ì›ìƒíƒœë¡œ ë³µêµ¬í•´ì£¼ì§€ëŠ” ì•ŠëŠ”ë‹¤. ì´ ë§ì¸ ì¦‰ íŠ¸ëœì­ì…˜ì´ ë¡¤ë°±ë˜ì—ˆë‹¤ê³  ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë„ ë¡¤ë°±ë˜ëŠ” ê²ƒì€ ì•„ë‹ˆë¼ëŠ” ê²ƒì„ ì˜ë¯¸í•˜ëŠ”ë°, ê¸°ë³¸ ì „ëµì¸ íŠ¸ëœì­ì…˜ë‹¹ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ã…ˆ]]></content>
      <categories>
        <category>jpa</category>
      </categories>
      <tags>
        <tag>ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë°</tag>
        <tag>jpa exception</tag>
        <tag>PersistenceException</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[jpa] ë¶€ëª¨ í…Œì´ë¸”ì„ ê³µìœ í•˜ëŠ” ìì‹ í…Œì´ë¸”(feat.@PrimaryKeyJoinColumn)]]></title>
    <url>%2Fjpa%2F%EC%97%94%ED%8B%B0%ED%8B%B0-%EC%83%81%EC%86%8D%EC%9D%98-%ED%95%9C%EA%B3%84%2F</url>
    <content type="text"><![CDATA[ì›í•˜ëŠ” í˜•íƒœ ì—¬ëŸ¬ ìì‹ í…Œì´ë¸”ë“¤ì˜ 1ê°œ ë¡œìš°ê°€ ë¶€ëª¨ í…Œì´ë¸” ë¡œìš° 1ê°œë¥¼ ë°”ë¼ë³´ëŠ” í˜•íƒœ 1234Item : row 1ê°œ, pk=1 Album : row 1ê°œ, pk1 Movie : row 1ê°œ, pk1 ... ê²°ê³¼ì ìœ¼ë¡œ, ìƒì†ìœ¼ë¡  ì €ë ‡ê²Œ í• ìˆ˜ì—†ë‹¤. ìƒì†ì„ ì‚¬ìš©í•˜ë©´ ì™„ë²½í•œ ì‹ë³„ê´€ê³„ë¥¼ í˜•ì„±í•´ì„œ ìì‹(ìƒì†ì—ì„œ) ë¡œìš°ì— ë§ì¶° ë¶€ëª¨ ë¡œìš°ë„ ê°™ì´ ìƒì„±í•˜ê¸° ë•Œë¬¸ì´ë‹¤. í•˜ê¸´ ê°ì²´ì§€í–¥ì—ì„œë„ ìì‹ ìƒì„±ì‹œ ë¶€ëª¨ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±í•˜ë‹ˆê¹Œ ë‹¹ì—°í•œ ì†Œë¦¬ì¸ê°€â€¦ êµ¬í˜„ @OneToOne Eagerë¥¼ ì‚¬ìš©í•˜ë©´ ìœ„ì˜ í˜•íƒœë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤. ê¸°ë³¸ì ì¸ @OneToOne ì„ ì‚¬ìš©í•˜ë©´ ìœ„ì˜ ê´€ê³„ë¥¼ ì™¸ë˜í‚¤ë¥¼ ì´ìš©í•´ì„œ ìœ ì§€í•˜ê²Œ ë˜ëŠ”ë°, ë§Œì•½ ì •ë§ ìœ„ì²˜ëŸ¼ ì™„ë²½í•œ ì‹ë³„ê´€ê³„ì˜ í˜•íƒœë¡œ ìœ ì§€í•˜ê³  ì‹¶ë‹¤ë©´ @PrimaryKeyJoinColumnì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤. 12 ê²°ê³¼ì ìœ¼ë¡œ JPA ì—”í‹°í‹° ìƒì†ì˜ ê¸°ëŠ¥ì€ ë”±íˆ íŠ¹ë³„í• ê²ƒì´ ì—†ë‹¤â€¦ ëŠ” ê²°ë¡ ì…ë‹ˆë‹¤. ìì‹ í…Œì´ë¸”ì˜ ì—¬ëŸ¬ ë¡œìš°ë“¤ì´ ë¶€ëª¨ í…Œì´ë¸” ë¡œìš° 1ê°œë¥¼ ë°”ë¼ë³´ëŠ” ë°©ì‹ ì´ê±´ ì˜ëª» ìƒê°í•œ ê²ƒì´ë‹¤. ì—¬ëŸ¬ ë¡œìš°ì—ì„œ 1ê°œì˜ ë¡œìš°ë¥¼ ë°”ë¼ë³´ë ¤ë©´ ì™¸ë˜í‚¤ë¡œ ì—°ê²°ë˜ì–´ì•¼ í•œë‹¤ @ManyToOne Eager ë¥¼ ì‚¬ìš©í•´ì•¼ í•  ë“¯ ì—¬ëŸ¬ ìì‹ í…Œì´ë¸”ë“¤ì˜ ì—¬ëŸ¬ ë¡œìš°ë“¤ì´ ë¶€ëª¨ í…Œì´ë¸” ë¡œìš° 1ê°œë¥¼ ë°”ë¼ë³´ëŠ” ë°©ì‹ ì´ ë˜í•œ ì˜ëª» ìƒê°í•œ ê²ƒ @ManyToOne Eager ë¥¼ ì‚¬ìš©í•´ì•¼ í•  ê²ƒì´ê³ , @DiscriminatorValueê°€ ì¶”ê°€ì ìœ¼ë¡œ í•„ìš”í•  ê²ƒì´ë‹¤]]></content>
      <categories>
        <category>jpa</category>
      </categories>
      <tags>
        <tag>JPA Inheritance</tag>
        <tag>@PrimaryKeyJoinColumn</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ë¦¬íŒ©í† ë§ ì¤‘ìš” ê°œë…]]></title>
    <url>%2Frefactoring%2F%EB%A6%AC%ED%8C%A9%ED%86%A0%EB%A7%81-%EC%A4%91%EC%9A%94-%EA%B0%9C%EB%85%90%2F</url>
    <content type="text"><![CDATA[ë¦¬íŒ©í† ë§ ê²‰ìœ¼ë¡œ ë“œëŸ¬ë‚˜ëŠ” ê¸°ëŠ¥ì€ ê·¸ëŒ€ë¡œ ë‘” ì±„, ì•Œì•„ë³´ê¸° ì‰½ê³  ìˆ˜ì •í•˜ê¸° ê°„í¸í•˜ê²Œ ì†Œí”„íŠ¸ì›¨ì–´ ë‚´ë¶€ë¥¼ ìˆ˜ì •í•˜ëŠ” ì‘ì—… ì½”ë“œ êµ¬ì¡°ëŠ” í•œë²ˆ ì—‰ë§ì´ ë˜ë©´ ê°ˆìˆ˜ë¡ ë” ì—‰ë§ì´ ëœë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì£¼ê¸°ì ì¸ ë¦¬íŒ©í† ë§ì´ í•„ìš”í•˜ë‹¤. ì–´ë–¤ ì½”ë“œë¥¼ ì‹¤í–‰í• ë•Œ ì»´í“¨í„°ëŠ” ëª‡ë°”í€´ í—¤ë§¤ë”ë¼ë„ ê·¸ë‹¤ì§€ ë¬¸ì œë  ê²ƒ ì—†ì§€ë§Œ, ê¸°ê»í•´ì•¼ í•œì‹œê°„ì •ë„ë©´ ì´í•´í•˜ê³ ë„ ë‚¨ì„ ì½”ë“œë¥¼ ë‹¤ë¥¸ ê°œë°œìê°€ ì‹ ì†íˆ ì´í•´í•˜ì§€ ëª»í•´ì„œ í•œ ë¶€ë¶„ì„ ìˆ˜ì •í•˜ëŠ”ë° ì¼ì£¼ì¼ ì´ìƒ ê±¸ë¦°ë‹¤ë©´ ê·¸ê±´ í° ë¬¸ì œë‹¤. ì„¤ê³„ê°€ ê¹”ë”í•˜ì§€ ì•Šìœ¼ë©´ ê°œë°œ ì´ˆê¸° ì ì‹œ ë™ì•ˆì€ ì§„í–‰ì´ ë¹ ë¥¼ì§€ ëª°ë¼ë„, ì–¼ë§ˆ ëª»ê°€ì„œ ê°œë°œ ì†ë„ê°€ ë–¨ì–´ì§„ë‹¤ ë¦¬íŒ©í† ë§ì€ ì‘ì •í•´ì„œ í•˜ëŠ”ê²ƒì´ ì•„ë‹ˆë¼, ë­”ê°€ ë‹¤ë¥¸ê±¸ í•´ì•¼ê² ëŠ”ë° ë¦¬íŒ©í† ë§ì„ ì‹¤ì‹œí•˜ë©´ ê·¸ ì‘ì—…ì´ ì‰¬ì›Œì§€ê¸° ë•Œë¬¸ì— í•˜ëŠ” ê²ƒì´ë‹¤ ë¦¬íŒ©í† ë§ì€ ì–¸ì œ í•„ìš”í• ê¹Œ? ê°™ì€ ì‘ì—…ì„ 3ë²ˆì§¸ ë°˜ë³µí•˜ê²Œ ëì„ ë•Œ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ë•Œ ì„¤ê³„ê°€ ì§€ì €ë¶„í•´ì„œ ì–´ë–¤ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê¸° í˜ë“¤ë–„ëŠ”, ì£¼ì €í•˜ì§€ ì•Šê³  ë¦¬íŒ©í† ë§ì„ ì‹¤ì‹œí•œë‹¤ ë²„ê·¸ë¥¼ ìˆ˜ì •í•  ë–„ ì½”ë“œì˜ ê¸°ëŠ¥ì„ íŒŒì•…í•˜ë‹¤ ì´í•´í•˜ê¸° í˜ë“¤ë©´, ì´í•´í•˜ê¸° ì‰½ê²Œ ë§Œë“œë ¤ê³  ë¦¬íŒ©í† ë§ì„ ì‹¤ì‹œí•œë‹¤ ëŒì•„ê°€ëŠ” ì›ë¦¬ë¥¼ ì‰½ê²Œ íŒŒì•… ê°€ëŠ¥í•˜ê²Œ ë˜ê³ , ë²„ê·¸ ì°¾ê¸°ë„ ì‰¬ì›Œì§„ë‹¤ í…ŒìŠ¤íŠ¸ ë©”ì„œë“œ ì‘ì„±ì€ í•„ìˆ˜ì´ë‹¤(ìì²´ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•´ì•¼í•œë‹¤) ë¦¬íŒ©í† ë§ì€ í”„ë¡œê·¸ë¨ì„ ì¡°ê¸ˆì”© ë‹¨ê³„ì ìœ¼ë¡œ ìˆ˜í–‰í•˜ë¯€ë¡œ ì‹¤ìˆ˜ë¥¼ ë°œê²¬í•´ë„ ê³ ì¹˜ê¸° ì‰½ë‹¤ ì¢‹ì€ ì½”ë“œëŠ” ê·¸ê²ƒì´ ë¬´ìŠ¨ ê¸°ëŠ¥ì„ í•˜ëŠ”ì§€ ë¶„ëª…íˆ ë“œëŸ¬ë‚˜ì•¼ í•œë‹¤ ë¦¬íŒ©í† ë§ì˜ ê° ë‹¨ê³„ëŠ” ê°„ë‹¨í•´ì•¼ ì‹¤ìˆ˜í•  ê°€ëŠ¥ì„±ì´ ì¤„ì–´ë“ ë‹¤ ë¦¬íŒ©í† ë§ ë–„ë¬¸ì— ì„±ëŠ¥ì´ ì•ˆì¢‹ì•„ì§ˆ ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ê·¸ê±´ ìµœì í™” ë‹¨ê³„ì—ì„œ ìˆ˜ì •í•˜ë©´ ëœë‹¤ ì½”ë“œì˜ ê¸°ëŠ¥ì„ íŒŒì•…í•˜ëŠ”ë° ì‹œê°„ì´ ë§ì´ ê±¸ë¦¬ëŠ”ë°, ì–´ì©Œí”¼ ì§€ë‚˜ì•¼ í•  ê³¼ì •ì´ë‹¤ ì£¼ê¸°ì  ë¦¬íŒ©í† ë§ì„ í†µí•´ ì½”ë“œë¥¼ ê¹”ë”í•˜ê²Œ í•´ë†“ìœ¼ë©´, published ì¸í„°í˜ì´ìŠ¤ ì¸í„°í˜ì´ìŠ¤ì˜ ì¥ì ì€ ì‚¬ìš©í•˜ëŠ” ê³³ì„ ìˆ˜ì •í•˜ì§€ ì•Šê³ ë„ ë‚´ë¶€ êµ¬ì¡°ë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ë‹¤ í•˜ì§€ë§Œ ëŒ€ë‹¤ìˆ˜ì˜ ë¦¬íŒ©í† ë§ ê¸°ë²•ì€ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê±´ë“œë¦°ë‹¤ ì´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ì½”ë“œì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤ë©´, ì´ ë¦¬íŒ©í† ë§ ê¸°ë²•ì€ ë¬¸ì œë˜ì§€ ì•ŠëŠ”ë‹¤ í•˜ì§€ë§Œ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ì½”ë“œì— ì ‘ê·¼í•˜ì§€ ëª»í•˜ëŠ” ìƒí™©ì´ ìˆë‹¤. ì™¸ë¶€ì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ APIë¥¼ ì‘ì„±í•˜ëŠ” ë“±ì˜ í–‰ìœ„ë¥¼ ì˜ˆë¡œ ë“¤ ìˆ˜ ìˆë‹¤. ì´ëŸ° ì¸í„°í˜ì´ìŠ¤ë¥¼ published(ë°°í¬ëœ) ì¸í„°í˜ì´ìŠ¤ë¼ê³  í•œë‹¤ published ì¸í„°í˜ì´ìŠ¤ë¥¼ ìˆ˜ì •í•˜ëŠ” ê²½ìš°, ì‚¬ìš©í•˜ëŠ” ë¶€ë¶„ì´ ëª¨ë“  ë³€ê²½ë  ë•Œ ê¹Œì§€ ê¸°ì¡´ ì¸í„°í˜ì´ìŠ¤ì™€ ìƒˆ ì¸í„°í˜ì´ìŠ¤ë¥¼ ëª¨ë‘ ìœ ì§€í•´ì•¼ í•œë‹¤ ê¸°ì¡´ ì¸í„°í˜ì´ìŠ¤ì—ì„œ ìƒˆë¡œìš´ ì¸í„°í˜ì´ìŠ¤ë¥¼ í˜¸ì¶œí•˜ëŠ” í˜•íƒœë¡œ ì‘ì„±í•´ì•¼ í•œë‹¤ ê¸°ì¡´ ì¸í„°í˜ì´ìŠ¤ëŠ” @Deprecated ê°™ì€ê²ƒì„ ì‚¬ìš©í•´ì„œ ì‚¬ìš©í•˜ì§€ ì•Šê²Œë” ì•Œë ¤ì•¼í•œë‹¤ ìµœì†Œí•œ ì¼ì • ê¸°ê°„ë™ì•ˆ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë©”ì„œë“œë¥¼ ìœ ì§€ì‹œì¼œì•¼ í•˜ë¯€ë¡œ ë¶ˆí¸í•˜ë‹¤ ë°©ë²•ì€ published ë©”ì„œë“œë¥¼ ìµœëŒ€í•œ ë§Œë“¤ì§€ ì•ŠëŠ” ê²ƒì´ë‹¤ java api ê°™ì€ ì™¸ë¶€ APIë¥¼ ë§Œë“œëŠ” ìƒí™©ì„ ë¹¼ê³ ë„ ê³¼í•˜ê²Œ published ë©”ì„œë“œë¥¼ ë§Œë“œëŠ” ê²½ìš°ê°€ ìˆë‹¤ ì´ëŸ´ ê²½ìš°ëŠ” ì½”ë“œ ì†Œìœ ê¶Œ ì •ì±…ì„ ìˆ˜ì •í•´ì„œ ì¸í„°í˜ì´ìŠ¤ ìˆ˜ì •ì„ ì´‰ì§„í•˜ë„ë¡ í•˜ëŠ” ê²ƒì´ ë‚«ë‹¤ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìˆ˜ì •í•˜ëŠ” ì‚¬ëŒì´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê³³ì˜ ì½”ë“œê¹Œì§€ ê³ ì¹  ìˆ˜ ìˆê²Œ í•˜ëŠ”ê²ƒì´ë‹¤ ì„¤ê³„ê°€ ìˆ˜ì •ë˜ì—ˆì„ ë•Œ ì„¤ê³„ì— ì˜¤ë¥˜ê°€ ìˆê±°ë‚˜, ì„¤ê³„ì— ëŒ€í•œ ê²°ì •ì´ ë°”ë€Œì—ˆì„ ê²½ìš°, ìˆ˜ì •í•˜ê¸° í˜ë“  ë¯¼ê°í•œ ë¶€ë¶„ì¼ ê²½ìš°ë¼ë„ ëŒ€ë¶€ë¶„ ë¦¬íŒ©í† ë§ìœ¼ë¡œ í•´ê²°ëœë‹¤ ìƒˆë¡œ ì¶”ê°€ë˜ëŠ” ì½”ë“œë“¤ì— ìƒˆ êµ¬ì¡°(ë°”ë€ ì„¤ê³„)ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ê°œë°œí•œë‹¤ ê¸°ì¡´ì˜ ì½”ë“œì— ëŒ€í•œ ê¸°ëŠ¥ì¶”ê°€ë‚˜ ë²„ê·¸ ë°œê²¬ ë“±ì´ ë°œìƒí–ˆì„ ê²½ìš° ê¸°ì¡´ ì½”ë“œë¥¼ ìƒˆ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ê²Œ ë°”ê¾¼ë‹¤ ë¦¬íŒ©í† ë§ í•œë‹¤ê³  all stop í•˜ëŠ” ìƒí™©ì„ ë§‰ì„ ìˆ˜ ìˆë‹¤ ë¦¬íŒ©í† ë§í•˜ë©´ ì•ˆë˜ëŠ” ìƒí™© ì½”ë“œê°€ ì œëŒ€ë¡œ ëŒì•„ê°€ì§€ ì•ŠëŠ”ë‹¤ë©´, ê·¸ëƒ¥ ìƒˆë¡œ ì‘ì„±í•˜ëŠ”ê²ƒì´ ë‚«ë‹¤ ì½”ë“œëŠ” ì œëŒ€ë¡œ ëŒì•„ê°€ëŠ” ê²ƒì´ ìš°ì„ ì´ê³ , ë¦¬íŒ©í† ë§ì€ ë‚˜ì¤‘ ì¼ì´ë‹¤ ë‚©ê¸°ê°€ ì„ë°•í–ˆì„ ë•Œë„ ë¦¬íŒ©í† ë§ì€ ì‚¼ê°€ì•¼í•œë‹¤ ë‚©ê¸°ê°€ ì„ë°•í•œ ê²½ìš°ê°€ ì•„ë‹ˆë©´ ì‹œê°„ì´ ì—†ë‹¤ëŠ” í•‘ê³„ë¡œ ë¦¬íŒ©í† ë§ì„ ë¯¸ë£¨ë©´ ì•ˆëœë‹¤ ë¦¬íŒ©í† ë§ì€ ë¯¸ì™„ë£Œ ëŒ€ì¶œê¸ˆì´ë‹¤ ëŒ€ì¶œì´ìëŠ” ë³µì¡í•œ ì½”ë“œë¡œ ìœ ì§€ë³´ìˆ˜í•˜ê¸°, í™•ì¥ì˜ ì–´ë ¤ì›€ ì´ë‹¤ ì–¸ì œë‚˜ ì‹œê°„ì— ì«“ê¸´ë‹¤ë©´, ê·¸ê±´ ë¦¬íŒ©í† ë§í•´ì•¼ í•œë‹¤ëŠ” ì‹ í˜¸ì´ë‹¤ ì²˜ìŒë¶€í„° ì™„ë²½í•œ ì„¤ê³„ë¥¼ í•  í•„ìš”ëŠ” ì—†ë‹¤ ì• ì´ˆì— ì²˜ìŒë¶€í„° ì™„ë²½í•œ ì„¤ê³„ë€ ë„ˆë¬´ ì–´ë µê³ , ë¹ˆí‹ˆì´ ë§ì„ ê°€ëŠ¥ì„±ì´ ìˆë‹¤ ê·¸ëŸ¬ë¯€ë¡œ ì™„ë²½í•œ ì†”ë£¨ì…˜ì„ ì°¾ì„ í•„ìš”ì—†ì´, ì ë‹¹í•œ ì†”ë£¨ì…˜ì„ ì°¾ìœ¼ë©´ ëœë‹¤ êµ¬ì¶•í•´ë‚˜ê°€ë©´ì„œ ë¬¸ì œë¥¼ ë” ì˜ ì´í•´í•˜ê²Œ ë˜ë©°, ì²˜ìŒ êµ¬ì¶•í•œ ì†”ë£¨ì…˜ì´ ìµœìƒì˜ ì†”ë£¨ì…˜ì´ ì•„ë‹ˆì—ˆë‹¤ëŠ”ê±¸ ì•Œê²Œ ëœë‹¤ ì´ëŸ¬ë©´ ì²˜ìŒ ì œì‹œí•œ ì†”ë£¨ì…˜ì´ ì˜ëª»ë˜ì—ˆë”ë¼ë„, ê·¸ ì†”ë£¨ì…˜ì„ ìˆ˜ì •í•˜ëŠ”ë° ë¹„ìš©ì´ ë“¤ì§€ ì•Šê²Œëœë‹¤ ê°„ë‹¨í•˜ê²Œ ì„¤ê³„í•˜ê³ , ì¼ë‹¨ êµ¬í˜„í•œ ë‹¤ìŒ, ë¦¬íŒ©í† ë§ìœ¼ë¡œ ë‹¤ë“¬ìœ¼ë©´ ëœë‹¤ ì†Œí”„íŠ¸ì›¨ì–´ëŠ” ì‹¤ë¬¼ì˜ ê¸°ê³„ì™€ ë‹¬ë¦¬ ìœ ì—°í•˜ê¸° ë•Œë¬¸ì´ë‹¤ ì‹œìŠ¤í…œ ì „ì²´ë¥¼ ìœ ì—°í•˜ê²Œ ì„¤ê³„í•  í•„ìš”ëŠ” ì—†ë‹¤ ì ì¬ì  ê°€ëŠ¥ì„±ì„ ìƒê°í•˜ì—¬ ìœ ì—°í•œ ì„¤ê³„ë¥¼ í•˜ëŠ” ê²ƒì€ ë§¤ìš° ë³µì¡í•˜ê³  í˜ë“¤ë‹¤ ì• ì´ˆì— ìœ ì—°í•˜ê²Œ ë³µì¡í•œ ì„¤ê³„ê°€ í•„ìš”í•œ ìƒí™©ì€ ê±°ì˜ ì—†ë‹¤ ë‹¨ìˆœí•œ ì†”ë£¨ì…˜ì„ êµ¬í˜„í•´ë†“ê³ , ë‚˜ì¤‘ì— ê·¸ê²ƒì„ ë¦¬íŒ©í† ë§ í•˜ë ¤ë©´ ì–¼ë§ˆë§Œí¼ì˜ ìˆ˜ê³ ê°€ ë“¤ì§€ ìƒê°í•´ë³¸ë‹¤ ë³„ë¡œ ì–´ë ¤ì›€ì´ ì—†ì„ ê²ƒì´ë¼ê³  íŒë‹¨ë˜ë©´, ë‹¨ìˆœí•˜ê²Œ ì†”ë£¨ì…˜ì„ êµ¬í˜„í•˜ë©´ ëœë‹¤ ë¦¬íŒ©í† ë§ì„ ì‰½ê²Œ í•  ìˆ˜ ìˆëŠ” ê°ê°ì„ ìµíˆê²Œ ë˜ë©´, ìœ ì—°í•œ ì†”ë£¨ì…˜ì€ ë– ì˜¤ë¥´ì§€ë„ ì•ŠëŠ”ë‹¤ ë•Œê°€ ë˜ë©´ ì–´ë ¨íˆ ë¦¬íŒ©í† ë§í•˜ê²Œ ë˜ë¦¬ë€ í™•ì‹ ì´ ìˆê¸° ë•Œë¬¸ì´ë‹¤ ë¦¬íŒ©í† ë§ì„ ì‹¤ì‹œí•˜ë©´ ì†Œí”„íŠ¸ì›¨ì–´ ì†ë„ëŠ” ëŠë ¤ì§€ì§€ë§Œ, ì„±ëŠ¥ì„ ë” ê°„ë‹¨í•˜ê²Œ ì¡°ì ˆí•  ìˆ˜ ìˆë‹¤ ì†Œí”„íŠ¸ì›¨ì–´ ì„±ëŠ¥ì„ ì˜¬ë¦¬ë ¤ë©´ ë¨¼ì € ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ íŠœë‹ ê°€ëŠ¥í•˜ê²Œ ë§Œë“¤ì–´ë†”ì•¼ í•œë‹¤ ì„±ëŠ¥ ê°ì†Œì˜ ì´ìœ ë¥¼ ì¶”ì¸¡ì— ì˜ì¡´í•˜ì§€ ë§ê³  í”„ë¡œíŒŒì¼ëŸ¬ë¥¼ í†µí•´ ì¸¡ì •í•˜ë„ë¡ í•´ì•¼í•œë‹¤ í”„ë¡œê·¸ë¨ì„ ì˜ ìª¼ê°œì–´ì•¼ í•œë‹¤ í”„ë¡œíŒŒì¼ëŸ¬ë¡œ ì„±ëŠ¥ì„ ê°ì†Œì‹œí‚¤ëŠ” ì‘ì€ ë¶€ë¶„ì„ ë°œê²¬í•  ìˆ˜ ìˆê²Œ ë˜ê³ , ì´ ë¶€ë¶„ì— ì§‘ì¤‘í•˜ì—¬ ì„±ëŠ¥ ê°œì„ ì„ í•  ìˆ˜ ìˆë‹¤ ì„±ëŠ¥ì„ ë¶„ì„í•  ë•Œ ë”ìš± ì •ë°€í•œ ë¶„ì„ì´ ê°€ëŠ¥í•´ì§„ë‹¤ ì¼„íŠ¸ë°±ì˜ ëª¨ì ë‘ê°œ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ë• ì½”ë“œë¥¼ ìˆ˜ì •í•˜ì§€ ë§ê³  ê¸°ëŠ¥ë§Œ ì¶”ê°€í•´ì•¼ í•œë‹¤ í…ŒìŠ¤íŠ¸ë¥¼ ì¶”ê°€í•˜ê³  í…ŒìŠ¤íŠ¸ê°€ ì˜ ë˜ëŠ”ì§€ë§Œ ë³´ë©´ ë¨ ë¦¬íŒ©í† ë§í• ë•ŒëŠ” ì½”ë“œë¥¼ ì¶”ê°€í•˜ì§€ ë§ê³  êµ¬ì¡° ê°œì„ ë§Œ í•´ì•¼ í•œë‹¤ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜ì •í•˜ì§€ ì•Šê³  ì½”ë“œ êµ¬ì¡°ë§Œ ìˆ˜ì •í•´ì•¼ í•¨ ë‘˜ì„ ê°™ì´ í•˜ë©´ ì‹¤íŒ¨í•  í™•ë¥ ì´ ë†’ë‹¤(ê²½í—˜â€¦) ë„í”„ ì¡´ìŠ¨ì˜ ìš°ì„  ì°½ ë°–ì´ ë³´ì´ê²Œ ë¿Œì—° ìœ ë¦¬ì°½ë¶€í„° ë‹¦ëŠ” ì¼ ë¦¬íŒ©í† ë§ì„ ì‹¤ì‹œí•˜ë©´ ë‚¯ì„  ì½”ë“œë¥¼ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆë‹¤ ê·¸ë ‡ê²Œ ì²« ë¦¬íŒ©í† ë§ì„ ë§ˆì¹˜ê³  ì½”ë“œê°€ ê¹”ë”í•´ì§€ë©´, ê¸°ì¡´ì— ì•ˆë³´ì´ë˜ ì„¤ê³„ê°€ ë³´ì¸ë‹¤ ì¼„íŠ¸ë°±ì˜ ë¦¬íŒ©í† ë§ì˜ íš¨ìš©ì„± í”„ë¡œê·¸ë¨ì´ ì§€ë‹Œ ê°€ì¹˜ëŠ” í˜„ì¬ì˜ ê¸°ëŠ¥ê³¼ ë¯¸ë˜ì˜ ê¸°ëŠ¥ì´ë¼ëŠ” 2ê°œì˜ ê°€ì¹˜ì´ë‹¤ í”„ë¡œê·¸ë¨ì˜ í˜„ì¬ê¸°ëŠ¥ì€ ê·¸ì € ì¼ë¶€ì— ë¶ˆê³¼í•˜ë‹¤ ê³¼ê±°ì˜ íŒë‹¨ì´ í˜„ì¬ì˜ ê¸°ì¤€ìœ¼ë¡œ ë¶ˆí•©ë¦¬í•˜ë‹¤ëŠ” ì‚¬ì‹¤ì„ ë°œê²¬í–ˆìœ¼ë©´, ìˆ˜ì •í•´ì•¼ í•œë‹¤ í”„ë¡œê·¸ë¨ì´ ìˆ˜ì •í•˜ê¸° í˜ë“¤ì–´ì§€ëŠ” 4ê°€ì§€ ìƒí™© ì½”ë“œë¥¼ ì•Œì•„ë³´ê¸° í˜ë“¤ ë•Œ ì¤‘ë³µëœ ë¡œì§ì´ ë“¤ì–´ìˆì„ ë–„ ì¶”ê°€ê¸°ëŠ¥ì„ ë„£ì–´ì•¼í•´ì„œ ì‹¤í–‰ì¤‘ì¸ ì½”ë“œë¥¼ ë³€ê²½í•´ì•¼ í•  ë•Œ ì¡°ê±´ë¬¸ êµ¬ì¡°ê°€ ë³µì¡í•  ë–„ í”„ë¡œê·¸ë¨ì€ ì½”ë“œë¥¼ ì•Œì•„ë³´ê¸° ì‰½ê³ , ëª¨ë“  ë¡œì§ì´ í•œê³³ì— ìˆìœ¼ë©°, ê¸°ì¡´ ê¸°ëŠ¥ì„ ê±´ë“œë¦´ í•„ìš” ì—†ì´ ì¡°ê±´ë¬¸ êµ¬ì¡°ê°€ ìµœëŒ€í•œ ê°„ê²°í•˜ê²Œë” ì‘ì„±í•´ì•¼ í•œë‹¤. ë©”ì„œë“œëŠ” ëŒ€ì²´ë¡œ ìì‹ ì´ ì‚¬ìš©í•˜ëŠ” ë°ì´í„°ì™€ ê°™ì€ ê°ì²´ì— ë“¤ì–´ìˆì–´ì•¼ í•œë‹¤ ì„ì‹œë³€ìˆ˜ëŠ” ìµœëŒ€í•œ ì œê±°í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤ ë³€ê²½ë˜ì§€ ì•ŠëŠ” ë³€ìˆ˜ëŠ” ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤ ë³€ê²½ë˜ëŠ” ë³€ìˆ˜ê°€ í•˜ë‚˜ë¿ì´ë¼ë©´ ë¦¬í„´ê°’ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ ìœ„ ë‘ ì›ì¹™ì„ ì ìš©í•˜ë©´ì„œ ì„ì‹œë³€ìˆ˜ë¥¼ ê³„ì† ì œê±°í•´ë³´ì switchë¬¸ì˜ ì¸ìë¡œëŠ” ìì‹ ì˜ ë°ì´í„°ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤(íƒ€ê°ì²´ ë°ì´í„° X) ì§ˆì˜ ë©”ì„œë“œë¥¼ ë”°ë¡œ ë§Œë“¤ì–´ì„œ í¸ë¦¬í•˜ê²Œë” í•  ìˆ˜ ìˆìŒ ì°¸ê³  : ë§ˆí‹´ íŒŒìš¸ëŸ¬, ã€ë¦¬íŒ©í† ë§ã€, ê¹€ì§€ì› ì˜®ê¹€, í•œë¹›ë¯¸ë””ì–´(2012)]]></content>
      <categories>
        <category>refactoring</category>
      </categories>
      <tags>
        <tag>ë¦¬íŒ©í† ë§</tag>
        <tag>refactoring</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[jpa] jpa entity equals, hashcode]]></title>
    <url>%2Fjpa%2Fjpa-entity-equals-hashcode%2F</url>
    <content type="text"><![CDATA[JPAëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ í‚¤ë¡œ ì—”í‹°í‹°ì˜ ì‹ë³„ìë¥¼ ì‚¬ìš©í•œë‹¤. ì‹ë³„ìê°€ primitive íƒ€ì…ì¼ ê²½ìš° ==, reference íƒ€ì…ì¼ ê²½ìš° equalsë¥¼ ì‚¬ìš©í•œë‹¤(ì•„ë§ˆë„ ë‹¹ì—°íˆ) ê¸°ë³¸ì ì¸ wrapper íƒ€ì…ì˜ ê²½ìš° equalsê°€ ì˜ êµ¬í˜„ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ìƒê´€ì—†ìœ¼ë‚˜ @EmbeddedIdì˜ ê²½ìš° equals, hashCodeë¥¼ êµ¬í˜„í•´ì£¼ì§€ ì•Šìœ¼ë©´ ë‘ ì—”í‹°í‹°ê°€ ê°™ë‹¤ëŠ” ê²ƒì„ ë³´ì¥í•´ì¤„ ìˆ˜ ì—†ë‹¤. 123456789101112131415@Entityclass Member&#123; @EmbeddedId private MemberPK id; public Member(MemberPK id)&#123; this.id = id; &#125;&#125;@Embeddableclass MemberPK&#123; private Integer memberId; private String name;&#125; 12345Member member1 = new Member(new MemberPK(1, "joont"));Member member2 = new Member(new MemberPK(1, "joont")); em.persist(member1);em.persist(member2); MemberPKì— ëŒ€í•´ eqauls, hashCodeë¥¼ êµ¬í˜„í–ˆë‹¤ë©´ ë‘ ì—”í‹°í‹°ê°€ ê°™ë‹¤ê³  ë³´ì¥ë˜ë¯€ë¡œ Memberê°€ í•˜ë‚˜ë§Œ ë“¤ì–´ê°€ì§€ë§Œ, equals, hashCodeë¥¼ êµ¬í˜„í•˜ì§€ ì•Šì•˜ë‹¤ë©´ ë˜‘ê°™ì€ ì‹ë³„ìë¥¼ ê°€ì¡ŒìŒì—ë„ ë¶ˆêµ¬í•˜ê³  ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ë‘ë²ˆ ë“¤ì–´ê°€ê²Œ ëœë‹¤. ê·¸ëŸ¬ë¯€ë¡œ @EmbeddedIdì— ëŒ€í•´ì„œëŠ” ê¼­ equals, hashCodeë¥¼ êµ¬í˜„í•´ì¤˜ì•¼ í•œë‹¤. ì•„ë˜ëŠ” ë˜ ë‹¤ë¥¸ ì‚¬ìš© ì‚¬ë¡€ì— ê´€í•œ ê²ƒì´ë‹¤. https://jojoldu.tistory.com/134]]></content>
      <categories>
        <category>jpa</category>
      </categories>
      <tags>
        <tag>jpa equals hashcode</tag>
        <tag>equals</tag>
        <tag>hashcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OAS íŒŒì¼ ë‚˜ëˆ„ê¸°]]></title>
    <url>%2FopenAPI%2FOAS-%ED%8C%8C%EC%9D%BC-%EB%82%98%EB%88%84%EA%B8%B0%2F</url>
    <content type="text"><![CDATA[ì°¸ê³ ë¡œ ì´ ë°©ì‹ì€ OAS 3.0 ì´ìƒì—ì„œë§Œ ëœë‹¤. ë°©ì‹ì€ ê°„ë‹¨í•˜ë‹¤. # ì•ì— íŒŒì¼ ê²½ë¡œë§Œ ì¨ì£¼ë©´ ëœë‹¤. 1234567891011121314151617181920212223242526272829# api.ymlitems/&#123;itemId&#125;: get: operationId: getItem summary: ì•„ì´í…œ ì¡°íšŒ parameters: - $ref: 'items.yml#/parameters/itemId' responses: '200': description: OK content: application/json: schema: $ref: 'item.yml#/schemas/Item'# item.ymlparameters: itemId: in: path name: itemId required: true schema: type: integerschemas: Item: title: Item type: object properties: # ... íŒŒì¼ëª… ë’¤ì— #ë§Œ ë¶™ì—¬ì£¼ë©´ ë°”ë¡œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë‹¤. item.ymlì€ api.ymlê³¼ ê°™ì€ ìœ„ì¹˜ì— ìˆë‹¤(ìƒëŒ€ê²½ë¡œë¡œ ì ‘ê·¼í–ˆìŒ) í´ë”ë¡œ ë‚˜ëˆ„ê³  definitions/item.yml#schemas/Item ì˜ í˜•íƒœë¡œ ì„ ì–¸í•´ë„ ëœë‹¤. ë³´ë‹¤ì‹œí”¼ item.yml íŒŒì¼ì— ìµœìƒìœ„ ë ˆë²¨ì´ ì—†ë‹¤. ì—†ì–´ë„ ë˜ê¸° ë•Œë¬¸ì´ë‹¤. ë‹¨ì¼íŒŒì¼ì— ì‘ì„±í•  ë•Œ components ì•„ë˜ ì‘ì„±í–ˆë˜ ë¶€ë¶„ì„ íŒŒì¼ë¡œ ë‚˜ëˆ´ë‹¤ê³  ìƒê°í•˜ë©´ ëœë‹¤.]]></content>
      <categories>
        <category>openAPI</category>
      </categories>
      <tags>
        <tag>OAS file split</tag>
        <tag>swagger file split</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iterm2 ê¾¸ë¯¸ê¸°]]></title>
    <url>%2Fetc%2Fiterm2-%EA%BE%B8%EB%AF%B8%EA%B8%B0%2F</url>
    <content type="text"><![CDATA[http://heetop.blogspot.com/2017/10/oh-my-zsh_12.html zsh, oh my zsh ê¹Œì§€ ì ìš©í–ˆë‹¤]]></content>
      <categories>
        <category>etc</category>
      </categories>
      <tags>
        <tag>iterm zsh</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[jpa] ì—”í‹°í‹° ë¦¬ìŠ¤ë„ˆ]]></title>
    <url>%2Fjpa%2F%EC%97%94%ED%8B%B0%ED%8B%B0-%EB%A6%AC%EC%8A%A4%EB%84%88%2F</url>
    <content type="text"><![CDATA[ì—”í‹°í‹°ì˜ ìƒëª…ì£¼ê¸°ì— ë”°ë¥¸ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ê³  ì‹¶ì„ ìˆ˜ ìˆë‹¤. (ì‚½ì… ì‹œì , ì—…ë°ì´íŠ¸ ì‹œì , ì‚­ì œ ì‹œì ì— ë¡œê·¸ë‚¨ê¸°ê¸° ë“±) ê·¸ë ‡ë‹¤ê³  ì§ì ‘ ë¡œì§ì„ ìˆ˜í–‰í•˜ëŠ” ê³³ì„ ì°¾ì•„ê°€ ì¼ì¼íˆ ì¶”ê°€ ë¡œì§ì„ ì²˜ë¦¬í•˜ëŠ” ê²ƒì€ ë„ˆë¬´ ë¹„íš¨ìœ¨ì ì´ë‹¤. JPA ë¦¬ìŠ¤ë„ˆ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ ì—”í‹°í‹°ì˜ ìƒëª…ì£¼ê¸°ì— ë”°ë¥¸ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.]]></content>
      <categories>
        <category>jpa</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[[jpa] ì—”í‹°í‹° ê°’ì„ ë³€í™˜í•´ì„œ ì €ì¥í•˜ê¸°(@Converter)]]></title>
    <url>%2Fjpa%2F%EC%97%94%ED%8B%B0%ED%8B%B0-%EA%B0%92%EC%9D%84-%EB%B3%80%ED%99%98%ED%95%B4%EC%84%9C-%EC%A0%80%EC%9E%A5%ED%95%98%EA%B8%B0-Converter%2F</url>
    <content type="text"><![CDATA[@Converterë¥¼ ì‚¬ìš©í•˜ë©´ ì—”í‹°í‹°ì˜ ë°ì´í„°ë¥¼ ë³€í™˜í•´ì„œ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•  ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ë©´ ì—”í‹°í‹°ì—ëŠ” boolean, ë°ì´í„°ë² ì´ìŠ¤ì—ëŠ” YN ê°’ì„ ì €ì¥í•˜ê³  ì‹¶ì„ ê²½ìš° ì •ë„ê°€ ìˆê² ë‹¤. (ê¸°ë³¸ì ìœ¼ë¡œ boolean íƒ€ì…ìœ¼ë¡œ ì§€ì •í•˜ë©´ 0,1ë¡œ ì €ì¥ëœë‹¤) ê¸°ë³¸ ì‚¬ìš©ë²• 123456789101112131415161718192021@Entityclass Member&#123; @Id @GeneratedValue private Integer id; @Convert(converter=BooleanToYNConverter.class) private boolean useYn;&#125;@Converterclass BooleanToYNConverter implements AttributeConverter&lt;Boolean, String&gt;&#123; @Override public String convertToDatabaseColumn(Boolean attribute)&#123; return (attribute != null &amp;&amp; attribute) ? "Y" : "N"; &#125; @Override public Boolean convertToEntityAttribute(String dbData)&#123; return "Y".eqauls(dbData); &#125;&#125; ë³´ë‹¤ì‹œí”¼ ê°„ë‹¨í•˜ë‹¤. AttributeConverterë¥¼ êµ¬í˜„í•˜ë©´ì„œ ì œë„¤ë¦­ìœ¼ë¡œ ì—”í‹°í‹° ì»¬ëŸ¼ íƒ€ì…, ë°ì´í„°ë² ì´ìŠ¤ ì»¬ëŸ¼ íƒ€ì…ì„ ì£¼ê³ , ì•„ë˜ 2ê°œì˜ ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë“œ í•´ì£¼ë©´ ëœë‹¤(ì—”í‹°í‹°-&gt;ë°ì´í„°ë² ì´ìŠ¤, ë°ì´í„°ë² ì´ìŠ¤-&gt;ì—”í‹°í‹°) í´ë˜ìŠ¤ ë ˆë²¨ ì„¤ì • í´ë˜ìŠ¤ ë ˆë²¨ì—ë„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. ë‹¨ ì´ë•ŒëŠ” attrbuteName ì†ì„±ì„ ì‚¬ìš©í•´ì„œ ì–´ë–¤ í•„ë“œì— ì»¨ë²„í„°ë¥¼ ì ìš©í•  ì§€ ëª…ì‹œí•´ì•¼í•œë‹¤. 12345@Entity@Converter(converter = BooleanToYNConverter.class, attributeName = "useYn")class Member&#123; // ...&#125; ê¸€ë¡œë²Œ ì„¤ì • ëª¨ë“  Boolean íƒ€ì…ì— ì„¤ì •í•˜ê³  ì‹¶ì„ ê²½ìš° ì•„ë˜ì™€ ê°™ì´ ì§ì ‘ ì»¨ë²„í„°ì— ëª…ì‹œí•´ì£¼ë©´ ëœë‹¤. 1234@Converter(autoApply = true)class BooleanToYNConverter implements AttributeConverter&lt;Boolean, String&gt;&#123; // ...&#125; ì´ë ¿ê²Œ í•˜ë©´ ì—”í‹°í‹°ì— ë”°ë¡œ ì»¨ë²„í„°ë¥¼ ì§€ì •í•´ì£¼ì§€ ì•ˆí•­ë„ ìë™ìœ¼ë¡œ ì»¨ë²„íŒ… ëœë‹¤.]]></content>
      <categories>
        <category>jpa</category>
      </categories>
      <tags>
        <tag>@Converter</tag>
        <tag>AttributeConverter</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[jpa] ì»¬ë ‰ì…˜ê³¼ ë¶€ê°€ê¸°ëŠ¥]]></title>
    <url>%2Fjpa%2F%EC%BB%AC%EB%A0%89%EC%85%98%EA%B3%BC-%EB%B6%80%EA%B0%80%EA%B8%B0%EB%8A%A5%2F</url>
    <content type="text"><![CDATA[JPAëŠ” ìë°”ì—ì„œ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•˜ëŠ” Collection, List, Set, Map ì»¬ë ‰ì…˜ì„ ì§€ì›í•˜ê³ , ì•„ë˜ì™€ ê°™ì€ ìƒí™©ì—ì„œ ì»¬ë ‰ì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. @OneToMany, @ManyToMany ë¥¼ ì‚¬ìš©í•´ì„œ ì¼ëŒ€ë‹¤ë‚˜ ë‹¤ëŒ€ë‹¤ ê´€ê³„ë¥¼ ë§¤í•‘í•  ë•Œ @ElementCollection ì„ ì‚¬ìš©í•´ì„œ ê°’ íƒ€ì…ì„ í•˜ë‚˜ ì´ìƒ ë³´ê´€í•  ë•Œ í•˜ì´ë²„ë„¤ì´íŠ¸ëŠ” ì—”í‹°í‹°ë¥¼ ì˜ì†ìƒíƒœë¡œ ë§Œë“¤ ë•Œ ì»¬ë ‰ì…˜ í•„ë“œë¥¼ í•˜ì´ë²„ë„¤ì´íŠ¸ì—ì„œ ì¤€ë¹„í•œ ì»¬ë ‰ì…˜ìœ¼ë¡œ ê°ì‹¸ì„œ ì‚¬ìš©í•œë‹¤. ì´ëŠ” í•˜ì´ë²„ë„¤ì´íŠ¸ê°€ ì»¬ë ‰ì…˜ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ê¸°í•˜ê¸° ìœ„í•¨ì´ë‹¤. í•˜ì´ë²„ë„¤ì´íŠ¸ëŠ” ë³¸ ì»¬ë ‰ì…˜ì„ ê°ì‹¸ê³  ìˆëŠ” ë‚´ì¥ ì»¬ë ‰ì…˜ì„ ìƒì„±í•œ ë’¤, ì´ ë‚´ì¥ ì»¬ë ‰ì…˜ì„ ì‚¬ìš©í•˜ë„ë¡ ì°¸ì¡°ë¥¼ ë³€ê²½í•œë‹¤. Collection, List ì¤‘ë³µì„ í—ˆìš©í•˜ëŠ” ì»¬ë ‰ì…˜ì´ë‹¤. í•˜ì´ë²„ë„¤ì´íŠ¸ì—ì„œ PersistentBagìœ¼ë¡œ ë˜í•‘ëœë‹¤. ì‚¬ìš©í•  ë•ŒëŠ” ArrayListë¡œ ì´ˆê¸°í™”í•˜ë©´ ëœë‹¤. 12345@OneToMany(mappedBy = "parent")Collection&lt;Child&gt; children = new ArrayList&lt;&gt;();// or@OneToMany(mappedBy = "parent")List&lt;Child&gt; children = new ArrayList&lt;&gt;(); ì¤‘ë³µì„ í—ˆìš©í•˜ëŠ” íŠ¹ì„±ë•Œë¬¸ì— ê²ì²´ë¥¼ ì¶”ê°€í• ë•Œ ì•„ë¬´ ì¡°ê±´ê²€ì‚¬ê°€ í•„ìš”ì—†ìœ¼ë¯€ë¡œ, ì§€ì—°ë¡œë”©ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. í•˜ì§€ë§Œ ì—”í‹°í‹°ê°€ ìˆëŠ”ì§€ ì²´í¬í•˜ê±°ë‚˜ ì‚­ì œí•  ê²½ìš° eqaulsë¡œ ë¹„êµí•´ì•¼ í•˜ë¯€ë¡œ ì§€ì—°ë¡œë”©ì´ ë°œìƒí•œë‹¤. 1234children.add(child); // no action children.contains(child); // Lazy loading occurs because of using equalschildren.remove(child); // Lazy loading occurs because of using equals Set ì¤‘ë³µì„ í—ˆìš©í•˜ì§€ ì•ŠëŠ” ì»¬ë ‰ì…˜ì´ë‹¤. í•˜ì´ë²„ë„¤ì´íŠ¸ì—ì„œ PersistentSetìœ¼ë¡œ ë˜í•‘ëœë‹¤. ì‚¬ìš©í•  ë•ŒëŠ” HashSetìœ¼ë¡œ ì´ˆê¸°í™”í•˜ë©´ ëœë‹¤. 12@OneToMany(mappedBy = "parent")Set&lt;Child&gt; children = new HashSet&lt;&gt;(); ì¤‘ë³µì„ í—ˆìš©í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ê°ì²´ë¥¼ ì¶”ê°€í•  ë•Œ ë§ˆë‹¤ equals ë©”ì„œë“œë¡œ ê°™ì€ ê°ì²´ê°€ ìˆëŠ”ì§€ ë¹„êµí•œë‹¤. ì¦‰ add ë©”ì„œë“œë§Œ ìˆ˜í–‰í•´ë„ ì§€ì—°ë¡œë”©ì´ ë°œìƒí•œë‹¤. ì°¸ê³ ë¡œ HashSetì€ í•´ì‹œ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•˜ë¯€ë¡œ equalsì™€ hashCodeë¥¼ ê°™ì´ ì‚¬ìš©í•œë‹¤. 1234children.add(child); // eqauls + hashCodechildren.contains(child); // eqauls + hashCodechildren.remove(child); // eqauls + hashCode List + @OrderColumn ìˆœì„œê°€ ìˆëŠ” ë³µìˆ˜í˜• ì»¬ë ‰ì…˜ì„ ì˜ë¯¸í•˜ëŠ”ë°, ë°ì´í„°ë² ì´ìŠ¤ì— ìˆœì„œê°’ì„ ì €ì¥í•´ì„œ ì¡°íšŒí•  ë•Œ ì‚¬ìš©í•œë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤. ìœ„ì²˜ëŸ¼ ë°ì´í„°ë² ì´ìŠ¤ì— ìˆœì„œê°’ì„ í•¨ê¼ ê´€ë¦¬í•˜ëŠ” í…Œì´ë¸”ì— ì‚¬ìš©ëœë‹¤. 12345678910111213141516171819@Entityclass Board&#123; @Id @GeneratedValue private Integer id; @OneToMany(mappedBy = "board") @OrderColumn(name = "POSITION") private List&lt;Comment&gt; comments = new ArrayList&lt;&gt;();&#125;@Entityclass Comment&#123; @Id @GeneratedValue private Integer id; @ManyToOne @JoinColumn(name = "BOARD_ID") private Board board;&#125; Listì˜ ìœ„ì¹˜(ìˆœì„œ)ê°’ì„ POSITIONì´ë¼ëŠ” ì»¬ëŸ¼ì— ì €ì¥í•˜ê²Œ ë˜ëŠ”ê²ƒì´ê³ , ì´ëŠ” ì¼ëŒ€ë‹¤ ê´€ê³„ì˜ íŠ¹ì„±ì— ë”°ë¼ ë‹¤(N)ìª½ì— ì €ì¥í•˜ê²Œ ëœë‹¤. ì•„ë˜ëŠ” ì‚¬ìš©ì˜ˆì œì´ë‹¤. 12345678910Board board = new Board("title", "content");em.persist(board);Comment comment1 = new Comment("comment1");comment1.setBoard(board); // POSITION 0em.persist(comment1);Comment comment2 = new Comment("comment1");comment2.setBoard(board); // POSITION 1em.persist(comment2); ì–´ë–»ê²Œë³´ë©´ ìœ„ì¹˜ê°’ì„ ì•Œì•„ì„œ ê´€ë¦¬í•´ì£¼ë‹ˆ í¸í•´ë³´ì´ì§€ë§Œ ì‚¬ì‹¤ì€ ì‹¤ë¬´ì—ì„œ ì‚¬ìš©í•˜ê¸°ì—ëŠ” ë‹¨ì ì´ ë§ë‹¤. Commentê°€ POSITIONì˜ ê°’ì„ ì•Œ ìˆ˜ ì—†ë‹¤. Boardì—ì„œ ê´€ë¦¬ë˜ê¸° ë•Œë¬¸ì´ë‹¤. ì´ëŸ¬í•œ íŠ¹ì§•ë•Œë¬¸ì— ìœ„ì˜ ëª…ë ¹ì„ ìˆ˜í–‰í•˜ë©´ comment1, comment2 insert í›„ì— POSITION ê°’ì„ ìˆ˜ì •í•˜ëŠ” updateê°€ 2ë²ˆ ì¶”ê°€ë¡œ ë°œìƒí•œë‹¤(ã„·ã„·) ìš”ì†Œê°€ í•˜ë‚˜ë§Œ ë³€ê²½ë˜ë„ ëª¨ë“  ìœ„ì¹˜ê°’ì´ ë³€ê²½ëœë‹¤. ì˜ˆë¥¼ë“¤ì–´ ì²«ë²ˆì¨° ëŒ“ê¸€ì„ ì‚­ì œí•˜ë©´ ê·¸ ë’¤ì˜ ëŒ“ê¸€ë“¤ì˜ POSITION-- í•˜ëŠ” updateê°€ ëŒ“ê¸€ì˜ ê°œìˆ˜ë§Œí¼ ë°œìƒí•œë‹¤. ì¤‘ê°„ì— POSITION ê°’ì´ ì—†ìœ¼ë©´ nullì´ ì €ì¥ëœë‹¤. ì˜ˆë¥¼ë“¤ì–´ ê°•ì œë¡œ 0,1,2ì˜ POSITION ê°’ì„ 0,2,3ìœ¼ë¡œ ë³€ê²½í•˜ë©´ 1ë²ˆ ìœ„ì¹˜ì— nullì´ ë³´ê´€ëœ ì»¬ë ‰ì…˜ì´ ë°˜í™˜ëœë‹¤. ì´ëŸ¬ë©´ NullPointerExceptionì´ ë°œìƒí•œë‹¤. @OrderBy ORDER BY ì ˆì„ ì´ìš©í•´ì„œ ì»¬ë ‰ì…˜ì„ ì •ë ¬í•˜ëŠ” ë°©ë²•ì´ë‹¤. @OrderColumn ì²˜ëŸ¼ ìˆœì„œìš© ì»¬ëŸ¼ì„ ë§¤í•‘í•˜ì§€ ì•Šì•„ë„ ëœë‹¤. 12345678910111213141516171819202122@Entityclass Member&#123; @Id @GeneratedValue private Integer id; @OneToMany(mappedBy = "board") @OrderBy("createdDate desc") private List&lt;Comment&gt; comments = new ArrayList&lt;&gt;();&#125;@Entityclass Comment&#123; @Id @GeneratedValue private Integer id; @ManyToOne @JoinColumn(name = "BOARD_ID") private Board board; @Temporal(TemporalType.TIMESTAMP) private Date createdDate;&#125; ì´ë ‡ê²Œ í•˜ë©´ commentsë¥¼ ì´ˆê¸°í™” í•  ë•Œ ëª…ì‹œí•´ë†“ì€ ORDER BY êµ¬ë¬¸ì´ ê°™ì´ ìˆ˜í–‰ë˜ì–´ ìˆœì„œê°€ ë³´ì¥ëœë‹¤. ì‚¬ìš©í•˜ëŠ” ì»¬ëŸ¼ëª…ì€ JPQL ë•Œì²˜ëŸ¼ ì—”í‹°í‹°ì˜ í•„ë“œë¥¼ ëŒ€ìƒìœ¼ë¡œ í•œë‹¤.]]></content>
      <categories>
        <category>jpa</category>
      </categories>
      <tags>
        <tag>Collection</tag>
        <tag>List</tag>
        <tag>Set</tag>
        <tag>@OrderColumn</tag>
        <tag>@OrderBy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[spring] filter, interceptor ì°¨ì´]]></title>
    <url>%2Fspring%2Ffilter-interceptor-%EC%B0%A8%EC%9D%B4%2F</url>
    <content type="text"><![CDATA[]]></content>
      <categories>
        <category>spring</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[[aws] iam]]></title>
    <url>%2Faws%2Fiam%2F</url>
    <content type="text"><![CDATA[http://victorydntmd.tistory.com/67 AWS ë¦¬ì†ŒìŠ¤ì— ëŒ€í•´ ì ‘ê·¼ ê¶Œí•œì„ ë¶€ì—¬í•˜ëŠ” ê²ƒì´ë‹¤. ê°œì¸ì—ê²Œ ì§ì ‘ ë¶€ì—¬í•  ìˆ˜ë„ ìˆê³ , ê·¸ë£¹ì— ê¶Œí•œì„ ë¶€ì—¬í•œ ë’¤ ì‚¬ìš©ìë¥¼ ê·¸ë£¹ì— í¬í•¨ì‹œí‚¬ìˆ˜ë„ ìˆë‹¤. ìœ ì €ë¥¼ ìƒì„±í•˜ë©´ access keyì™€ secret keyê°€ ì €ì¥ëœ csv íŒŒì¼ì„ ë‹¤ìš´ë°›ì„ ìˆ˜ ìˆëŠ”ë°, ì´ëŠ” ì™¸ë¶€ì—ì„œ AWS ë¦¬ì†ŒìŠ¤ ì ‘ê·¼ì‹œì— ì‚¬ìš©ë˜ë¯€ë¡œ ì˜ ì €ì¥í•´ë‘ì–´ì•¼ í•œë‹¤.]]></content>
      <categories>
        <category>aws</category>
      </categories>
      <tags>
        <tag>iam role</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[aws] presigned url]]></title>
    <url>%2Faws%2Fpresigned-url%2F</url>
    <content type="text"><![CDATA[ì„œë²„ì—ì„œ ì§ì ‘ multipartë¥¼ ë°›ì•„ S3 ë²„í‚·ì— ì—…ë¡œë“œí•˜ë©´ ì„œë²„ìª½ì—ì„œ multipart íŒŒì¼ì„ ì¥ê³  ìˆì–´ì•¼ í•˜ëŠ” ë‘¥ ë¦¬ì†ŒìŠ¤ ë‚­ë¹„ê°€ í¬ë¯€ë¡œ S3ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” Presigned urlì„ ìƒì„±í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ê°€ ì§ì ‘ ì—…ë¡œë“œí•˜ê²Œ í•œë‹¤. https://docs.aws.amazon.com/ko_kr/AmazonS3/latest/dev/PresignedUrlUploadObjectJavaSDK.html presigned url ì´ë€ AWS S3 ë²„í‚·ì— ë°”ë¡œ íŒŒì¼ì„ ì—…ë¡œë“œ í•  ìˆ˜ ìˆëŠ” URLì„ ë§í•œë‹¤. ìƒì„± ë° ì‚¬ìš© java sdkëŠ” maven repositoryì—ì„œ ê°„ë‹¨í•˜ê²Œ ê²€ìƒ‰ ê°€ëŠ¥í•˜ë‹¤ https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk ìœ„ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„í¬íŠ¸ í•˜ê³  ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í•˜ë©´ ëœë‹¤ 12345678910111213141516171819202122232425@Autowired // spring ì‚¬ìš© ì‹œ DI ê°€ëŠ¥í•˜ë‹¤!private final AmazonS3 s3Client;@Value("$&#123;aws.s3.bucket&#125;")private String bucketName;public String getPresignedUrl()&#123; String fileName = UUID.randomUUID().toString(); Date expiration = new Date(); long expTimeMillis = expiration.getTime(); expTimeMillis += 1000 * 60 * 60; // 1ì‹œê°„ expiration.setTime(expTimeMillis); GeneratePresignedUrlRequest generatePresignedUrlRequest = new GeneratePresignedUrlRequest(bucketName, objectKey) .withMethod(HttpMethod.PUT) .withExpiration(expiration); generatePresignedUrlRequest.addRequestParameter(Headers.S3_CANNED_ACL, CannedAccessControlList.PublicRead.toString()); URL url = s3Client.generatePresignedUrl(generatePresignedUrlRequest); return url.toExternalForm();&#125; ì´ë ‡ê²Œ ìƒì„±ëœ presigned urlì— PUT ìš”ì²­ìœ¼ë¡œ multipart dataë¥¼ ë³´ë‚´ë©´ íŒŒì¼ì„ S3ì— ì—…ë¡œë“œí•  ìˆ˜ ìˆê²Œ ëœë‹¤. ì—…ë¡œë“œëŠ” expiration time ë™ì•ˆ ìœ íš¨í•˜ë‹¤. ì°¸ê³ ë¡œ ìœ„ì˜ ì†ŒìŠ¤ì—ëŠ” ì ‘ê·¼í•˜ëŠ” S3ì— ëŒ€í•œ ì¸ì¦ì •ë³´ê°€ ì—†ëŠ”ë°, ì´ëŠ” AmazonS3ì—ì„œ ì‚¬ìš©í•˜ëŠ” ProfileCredentialProvider ë•Œë¬¸ì´ë‹¤. ì´ í´ë˜ìŠ¤ëŠ” ì €ì¥ëœ credentialì„ ì½ì–´ì„œ ì¸ì¦í•˜ëŠ”ë°, ì‹¤í–‰ë˜ëŠ” í™˜ê²½ì— ë”°ë¼ ì´ credential ì„ ì°¾ëŠ” ìš°ì„ ìˆœìœ„ê°€ ìˆë‹¤. (ec2ì—ì„œ ì‹¤í–‰ë˜ë©´ ec2ì— ì§€ì •ëœ credential, pcì— ì €ì¥ëœ credential ë“±ë“±) ì—…ë¡œë“œí•œ íŒŒì¼ ì ‘ê·¼ ì—…ë¡œë“œ ì´í›„ presigned-urlì—ì„œ query paramì„ ì œê±°í•˜ê³  GET ìš”ì²­í•˜ë©´ í•´ë‹¹ íŒŒì¼ì„ ë³´ê±°ë‚˜(ì´ë¯¸ì§€) ë‹¤ìš´ë¡œë“œ ë°›ì„ ìˆ˜ ìˆëŠ”ë°, ê·¸ëƒ¥ ì ‘ê·¼í•˜ë©´ access deniedê°€ ë°œìƒí•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ presigned url ìƒì„±í•  ë•Œ public read ê¶Œí•œì„ ì¤˜ì•¼í•˜ê³ , ì•„ë˜ì™€ ê°™ì´ í•˜ë©´ ëœë‹¤. http://zstd.github.io/amazon-presigned-url/ 12345678GeneratePresignedUrlRequest generatePresignedUrlRequest = new GeneratePresignedUrlRequest(bucketName, objectKey) .withMethod(HttpMethod.PUT) .withExpiration(expiration);// ì´ë¶€ë¶„generatePresignedUrlRequest.addRequestParameter( Headers.S3_CANNED_ACL, CannedAccessControlList.PublicRead.toString());]]></content>
      <categories>
        <category>aws</category>
      </categories>
      <tags>
        <tag>aws presigned url</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[db] mysql port íŒŒë¼ë¯¸í„° ì•ˆë  ë•Œ]]></title>
    <url>%2Fdb%2Fmysql-port-%EB%B3%80%EA%B2%BD%ED%95%B4%EC%84%9C-%EC%A0%91%EC%86%8D%2F</url>
    <content type="text"><![CDATA[dockerë¡œ 3307 í¬íŠ¸ë¡œ mysqlì„ ë„ì› ëŠ”ë° í¬íŠ¸ ë³€ê²½í•´ì„œ ì ‘ì†í•˜ëŠ” ì˜µì…˜ì¸ -P ë¥¼ ì•„ë¬´ë¦¬ ì¤˜ë„ ë¬´ì‹œë˜ëŠ” ìƒí™©ì´ ë°œìƒí–ˆë‹¤. ì°¾ì•„ë³´ë‹ˆ -h ê°€ localhostì¼ ê²½ìš° ì†Œì¼“ì„ ì‚¬ìš©í•´ì„œ í¬íŠ¸ ì˜µì…˜ì´ ë¬´ì‹œë˜ë¯€ë¡œ, 127.0.0.1ì„ ì¨ì¤˜ì•¼ í•œë‹¤ê³  í•œë‹¤ https://serverfault.com/questions/306421/why-does-the-mysql-command-line-tool-ignore-the-port-parameter/306423?newreg=1c57059c005942bfbf0735b86bc570d6 1mysql -u root -h 127.0.0.1 -P 3307]]></content>
      <categories>
        <category>db</category>
      </categories>
      <tags>
        <tag>mysql port doesn&#39;t work</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[jpa] ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ê³¼ ì˜ì†ì„± ê´€ë¦¬]]></title>
    <url>%2Fjpa%2F%EC%9B%B9-%EC%96%B4%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98%EA%B3%BC-%EC%98%81%EC%86%8D%EC%84%B1-%EA%B4%80%EB%A6%AC%2F</url>
    <content type="text"><![CDATA[íŠ¸ëœì­ì…˜ ë²”ìœ„ì˜ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì˜ ê¸°ë³¸ ì „ëµ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” íŠ¸ëœì­ì…˜ ë²”ìœ„ì˜ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ì „ëµì„ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤. ì´ ì „ëµì€ íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•  ë•Œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ìƒì„±í•˜ê³ , íŠ¸ëœì­ì…˜ì´ ëë‚  ë•Œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì¢…ë£Œí•˜ëŠ” ë°©ë²•ì´ë‹¤. ìŠ¤í”„ë§ íŠ¸ëœì­ì…˜ AOPëŠ” @Transactional ì–´ë…¸í…Œì´ì…˜ì´ ë¶™ì€ ë©”ì„œë“œê°€ í˜¸ì¶œë  ë•Œ íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•œë‹¤. ë©”ì„œë“œê°€ ì„±ê³µì ìœ¼ë¡œ ìˆ˜í–‰ë˜ë©´ í•´ë‹¹ íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•˜ê³ , ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤ë©´ íŠ¸ëœì­ì…˜ì„ ë¡¤ë°±í•œë‹¤. ì´ ì‹œì ì— ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì¶”ê°€ì ì¸ ì‘ì—…ì„ í˜¸ì¶œí•œë‹¤. íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•˜ë©´(ë©”ì„œë“œê°€ ì„±ê³µì ìœ¼ë¡œ ìˆ˜í–‰ë˜ë©´) ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ í”ŒëŸ¬ì‹œí•´ì„œ ë³€ê²½ë‚´ìš©ì„ ë°˜ì˜í•œ í›„ ë°ì´í„°ë² ì´ìŠ¤ íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•œë‹¤. ì˜ˆì™¸ê°€ ë°œìƒí•˜ë©´ í”ŒëŸ¬ì‹œë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šê³  ë°ì´í„°ë² ì´ìŠ¤ íŠ¸ëœì­ì…˜ì„ ë¡¤ë°±í•œë‹¤. 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748@Controllerclass HelloController&#123; @Autowired private HelloService helloService; @PostMapping("/&#123;teamId&#125;/members") public String addMember(@PathVariable Integer teamId, @RequestBody MemberDTO memberDTO)&#123; Member member = helloService.logic(teamId, memberDTO); // ì¤€ì˜ì† ìƒíƒœ // ... return "/member/add_result"; &#125;&#125;@Serviceclass HelloService&#123; @Autowired private MemberRepository memberRepository; @Transactional public void logic(Integer teamId, MemberDTO memberDTO)&#123; Member member = memberRepository.addMember(memberDTO.toEntity()); Team team = teamRepository.findTeam(teamId); team.setMemberCnt(team.getMemberCnt()+1); return member; &#125;&#125;@Repositoryclass MemberRepository&#123; @PersistenceContext EntityManager em; public Member addMember(Member member)&#123; return em.persist(member); &#125;&#125;@Repositoryclass TeamRepository&#123; @PersistenceContext EntityManager em; public Team findTeam(Integer id)&#123; return em.find(Team.class, id); &#125;&#125; logic ë©”ì„œë“œê°€ ì‹¤í–‰ë  ë•Œ íŠ¸ëœì­ì…˜ì´ ì‹œì‘ëœë‹¤. logic ë©”ì„œë“œê°€ ì¢…ë£Œë˜ë©´ member, teamì— ëŒ€í•œ ë³€ê²½ ë‚´ìš©ì´ ë°ì´í„°ë² ì´ìŠ¤ì— í”ŒëŸ¬ì‹œë˜ê³  íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ëœë‹¤. ì˜ˆì™¸ê°€ ë°œìƒí•˜ë©´ ë³€ê²½ ë‚´ìš©ì´ ë°ì´í„°ë² ì´ìŠ¤ì— í”ŒëŸ¬ì‹œë˜ì§€ ì•Šê³ , ì‹œì‘í•œ íŠ¸ëœì­ì…˜ì€ ë¡¤ë°±ëœë‹¤. íŠ¸ëœì­ì…˜ê³¼ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ìƒëª…ì£¼ê¸°ê°€ ê°™ìœ¼ë¯€ë¡œ, íŠ¸ëœì­ì…˜ì´ ëë‚¨ê³¼ ë™ì‹œì— ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë„ ì¢…ë£Œëœë‹¤. ì¦‰, HelloControllerì—ì„œ logicì˜ ê²°ê³¼ë¡œ ë°›ì€ Member ì—”í‹°í‹°ëŠ” ì¤€ì˜ì† ìƒíƒœì´ë‹¤. ì°¸ê³ ë¡œ íŠ¸ëœì­ì…˜ì´ ê°™ìœ¼ë©´ ê°™ì€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤. ìœ„ì˜ ìƒí™©ì—ì„œ MemberRepositoryì™€ TeamRepositoryëŠ” ì„œë¡œ ë‹¤ë¥¸ ì—”í‹°í‹° ë§¤ë‹ˆì €ë¥¼ ì£¼ì…ë°›ì•˜ì§€ë§Œ ê°™ì€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤. ì´ì™€ ë°˜ëŒ€ë¡œ ê°™ì€ ì—”í‹°í‹° ë§¤ë‹ˆì €ë¥¼ ì‚¬ìš©í•´ë„ íŠ¸ëœì­ì…˜ì´ ë‹¤ë¥´ë©´ ë‹¤ë¥¸ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤(ì˜ ì•ˆê·¸ë ¤ì§„ë‹¤ ìƒí™©ì´â€¦) ì¤€ì˜ì† ìƒíƒœì™€ ì§€ì—°ë¡œë”© ìœ„ì—ì„œ ì–¸ê¸‰í–ˆë“¯ì´ íŠ¸ëœì­ì…˜ê³¼ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ìƒëª…ì£¼ê¸°ê°€ ê°™ê¸° ë•Œë¬¸ì—, íŠ¸ëœì­ì…˜ì´ ëë‚œ ë’¤ì˜ ì—”í‹°í‹°ëŠ” ì¤€ì˜ì† ìƒíƒœê°€ ëœë‹¤. ì¦‰ ìœ„ì˜ ìƒí™©ì—ì„œ logic ë©”ì„œë“œê°€ ëë‚¨ê³¼ ë™ì‹œì— ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë„ ì¢…ë£Œë˜ì—ˆê¸° ë•Œë¬¸ì— ê²°ê³¼ë¡œ ë°˜í™˜ëœ Member ì—”í‹°í‹°ëŠ” ì¤€ì˜ì† ìƒíƒœê°€ ë˜ëŠ” ê²ƒì´ë‹¤. ê·¸ë¦¬ê³  ë‹¹ì—°í•˜ê²Œë„, ì¤€ì˜ì† ìƒíƒœì¸ ì—”í‹°í‹°ì— ì§€ì—°ë¡œë”©ì„ ìˆ˜í–‰í•˜ê²Œ ë˜ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. 1234567891011121314151617181920@Controllerclass HelloController&#123; @Autowired private HelloService helloService; @PostMapping("/&#123;teamId&#125;/members") public String addMember( @PathVariable Integer teamId, @RequestBody MemberDTO memberDTO, ModelMap modelMap)&#123; Member member = helloService.logic(teamId, memberDTO); // ... modelMap.add("member", member); modelMap.add("teamName", member.getTeam().getName()); // lazy loading! but an exception occured return "/member/add_result"; &#125;&#125; ìœ„ì²˜ëŸ¼ ì§€ì—°ë¡œë”©ì„ í•˜ê²Œ ë˜ë©´ í•˜ì´ë²„ë„¤ì´íŠ¸ ê¸°ì¤€ìœ¼ë¡œ org.hibernate.LazyInitializationExceptionì´ ë°œìƒí•œë‹¤. ì´ëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ë“¤ì–´ìˆì§€ ì•Šì€ ì¤€ì˜ì† ìƒíƒœì˜ ì—”í‹°í‹°ì— ì§€ì—°ë¡œë”©ì„ ì‹œë„í–ˆê¸° ë•Œë¬¸ì— ë°œìƒí•˜ëŠ” ê²ƒì´ë‹¤. íŠ¸ëœì­ì…˜ì´ ëë‚˜ë©´ì„œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë„ ê°™ì´ ì¢…ë£Œë˜ì—ˆê¸° ë•Œë¬¸ì— ë°˜í™˜ëœ ì—”í‹°í‹°ëŠ” ìì—°ìŠ¤ëŸ½ê²Œ ì¤€ì˜ì† ìƒíƒœê°€ ë˜ì—ˆê³ , ì´ëŸ° í˜„ìƒì´ ë°œìƒí•œ ê²ƒì´ë‹¤. í•˜ì§€ë§Œ ìƒê°í•´ë³´ë©´, ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ íŠ¸ëœì­ì…˜ê³¼ ë™ì‹œì— ì¢…ë£Œë˜ê³  í”„ë ˆì  í…Œì´ì…˜ ê³„ì¸µê¹Œì§€ ì „íŒŒë˜ì§€ ì•ŠëŠ”ê²ƒì€ ì¢‹ì€ ì„ íƒ(?)ì´ë‹¤. ë§Œì•½ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ í”„ë ˆì  í…Œì´ì…˜ ê³„ì¸µê¹Œì§€ ì—´ì–´ë‘ì—ˆë‹¤ë©´ í”„ë ˆì  í…Œì´ì…˜ ê³„ì¸µì—ì„œë„ ë³€ê²½ ê°ì§€ê°€ ë™ì‘í•˜ê²Œ ë˜ì–´ ìœ„í—˜í•˜ê³ , ê° ê³„ì¸µì´ ê°€ì§€ëŠ” ì—­í• ìì²´ë„ ëª¨í˜¸í•´ì§€ê¸° ë•Œë¬¸ì´ë‹¤. í•˜ì§€ë§Œ ìœ„ì—ì„œ ë´¤ë‹¤ì‹œí”¼, ì§€ì—°ë¡œë”©ì´ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì ì€ ê½¤ë‚˜ ê³¨ì¹˜ì•„í”ˆ ì¼ì´ë‹¤. ê²°êµ­ ìœ„ì˜ ìƒí™©ì„ í•´ê²°í•˜ê³  ì‹¶ìœ¼ë©´ ì•„ë˜ì˜ 2ê°€ì§€ ë°©ë²•ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤. ë·°ì— í•„ìš”í•œ ì—”í‹°í‹°ë¥¼ ë¯¸ë¦¬ ë¡œë”©í•´ë‘ëŠ” ë°©ë²• ë§ ê·¸ëŒ€ë¡œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ì‚´ì•„ìˆì„ ë•Œ ë·°ì— í•„ìš”í•œ ì—”í‹°í‹°ë“¤ì„ ë¯¸ë¦¬ ë‹¤ ë¡œë”©í•˜ê±°ë‚˜ ì´ˆê¸°í™”í•´ì„œ ë°˜í™˜í•˜ëŠ” ë°©ë²•ì´ë‹¤. ì•„ë˜ì˜ 3ê°€ì§€ ë°©ë²•ì´ ìˆë‹¤. ê¸€ë¡œë²Œ í˜ì¹˜ ì „ëµ ìˆ˜ì • fetchTypeì„ EAGERë¡œ ë°”ê¾¸ëŠ” ë°©ë²•ì´ë‹¤. 12345class Member&#123; @ManyToOne(fetch=FetchType.EAGER) @JoinColumn(name = "team_id") private Team team;&#125; Member ì¡°íšŒ ì‹œ í•­ìƒ Teamì„ ê°™ì´ ë¡œë”©í•´ì„œ ê°€ì§€ê²Œ ë˜ë¯€ë¡œ, ì¤€ì˜ì† ìƒíƒœê°€ ë˜ì–´ë„ ì§€ì—°ë¡œë”© ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. ì´ë¯¸ ë¡œë”©í•´ì„œ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì´ë‹¤. í•˜ì§€ë§Œ ì´ ë°©ì‹ì€ ì•„ë˜ì™€ ê°™ì€ ë¬¸ì œë¥¼ ê°€ì§„ë‹¤. ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì—”í‹°í‹°ë¥¼ ë¡œë”©í•œë‹¤ ë·°ì—ì„œ Teamì´ í•„ìš”í•˜ì§€ ì•Šì€ ê²½ìš°ë„ ìˆì„ê²ƒì´ë‹¤. í•˜ì§€ë§Œ í•­ìƒ Teamì„ ê°™ì´ ì¡°íšŒí•´ì•¼ í•œë‹¤. N+1 ë¬¸ì œê°€ ë°œìƒí•œë‹¤ 12String sql = "SELECT m FROM Member m";List&lt;Member&gt; members = em.createQuery(sql, Member.class).getResultList(); ì‹¤í–‰ë˜ëŠ” SQLì€ ì•„ë˜ì™€ ê°™ë‹¤. 123456SELECT * FROM Member;SELECT * FROM Team WHERE id = ?;SELECT * FROM Team WHERE id = ?;SELECT * FROM Team WHERE id = ?;SELECT * FROM Team WHERE id = ?;.... JPQLì„ ì‹¤í–‰í•  ë•ŒëŠ” ê¸€ë¡œë²Œ í˜ì¹˜ ì „ëµì„ ì°¸ê³ í•˜ì§€ ì•Šê³  ì˜¤ì§ JPQLë§Œ ì°¸ê³ í•˜ì—¬ ì¶©ì‹¤íˆ SQLì„ ë§Œë“¤ê¸° ë•Œë¬¸ì— ë°œìƒí•œ í˜„ìƒì´ë‹¤. ìœ„ì™€ ê°™ì´ ì²˜ìŒ ì¡°íšŒí•œ ìˆ˜ë§Œí¼ ë‹¤ì‹œ SQLì„ ì‚¬ìš©í•´ì„œ ì¡°íšŒí•˜ëŠ” ê²ƒì„ N+1 ë¬¸ì œë¼ê³  í•œë‹¤. JPQL FetchJoin ë´¤ë‹¤ì‹œí”¼ fetchTypeì„ EAGERë¡œ ë°”ê¾¸ëŠ”ê±´ ë„ˆë¬´ ë¹„íš¨ìœ¨ì ì´ë‹¤. fetchTypeì„ LAZYë¡œ ì„¤ì •í•˜ê³  í•„ìš”í•  ë•Œë§Œ ê°™ì´ ì¡°íšŒí•´ì˜¤ë„ë¡ í•˜ëŠ”ê²ƒì´ ì¢‹ì„ ê²ƒì´ê³ , JPQLì—ì„œëŠ” FetchJoinì´ë¼ëŠ” ê¸°ëŠ¥ìœ¼ë¡œ ì´ë¥¼ ì§€ì›í•œë‹¤. ì‚¬ìš©ë²•ì€ ê°„ë‹¨í•˜ë‹¤. 12String sql = "SELECT m FROM Member m JOIN FETCH m.team";List&lt;Member&gt; members = em.createQuery(sql, Member.class).getResultList(); ê°„ë‹¨íˆ ì¡°ì¸ ëª…ë ¹ì–´ ë§ˆì§€ë§‰ì— FETCH ë§Œ ë„£ì–´ì£¼ë©´ ëœë‹¤. ì´ë ‡ê²Œ í•˜ë©´ í•´ë‹¹ ëŒ€ìƒê¹Œì§€ ì¡°ì¸ìœ¼ë¡œ í•¨ê¼ ì¡°íšŒí•´ì˜¨ ë’¤ ì—”í‹°í‹°ì— ë°”ì¸ë”©í•´ì¤€ë‹¤. ì´ ë°©ì‹ì´ í˜„ì‹¤ì ì¸ ëŒ€ì•ˆì´ê¸´ í•˜ì§€ë§Œ, í™”ë©´ì— ë§ì¶˜ ë¦¬íŒŒì§€í† ë¦¬ ë©”ì„œë“œê°€ ì¦ê°€í•  ìˆ˜ ìˆë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤. ì¦‰, ì•„ë˜ì™€ ê°™ì€ ë©”ì„œë“œë“¤ì´ ìƒê¸¸ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤. Memberë§Œ ì¡°íšŒí•´ì˜¤ëŠ” repository.findMember ë©”ì„œë“œ Memberì™€ ì—°ê´€ëœ Team ê¹Œì§€ ì¡°íšŒí•´ì˜¤ëŠ” repository.findMemberWithTeam ë©”ì„œë“œ ì´ëŸ°ì‹ìœ¼ë¡œ ê³„ì† ë©”ì„œë“œê°€ ì¶”ê°€ë˜ë‹¤ë³´ë©´ ë ˆíŒŒì§€í† ë¦¬ì™€ ë·° ê°„ì˜ ë…¼ë¦¬ì ì¸ ì˜ì¡´ê´€ê³„ê°€ ë°œìƒí•˜ê²Œ ëœë‹¤. ì´ëŸ° ìƒí™©ì—ì„œëŠ” ìµœì í™”ë¥¼ ì¡°ê¸ˆ í¬ê¸°í•˜ê³  ë…¼ë¦¬ì  ì˜ì¡´ê´€ê³„ë¥¼ ìµœì†Œí™”í•˜ëŠ” ë°©ë²•ì„ ì„ íƒí•˜ë˜ì§€(findMemberì™€ findmemberWithTeam í†µí•©), ìµœì í™”ë¥¼ ì„ íƒí•˜ê³  ë…¼ë¦¬ì  ì˜ì¡´ê´€ê³„ë¥¼ ê°€ì§€ê³  ê°€ë˜ì§€â€¦ ì„ íƒí•´ì•¼ í•œë‹¤. ì‚¬ì‹¤ìƒ ì„±ëŠ¥ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì´ ë¯¸ë¹„í•˜ë¯€ë¡œ ë·°ì™€ ë ˆíŒŒì§€í† ë¦¬ì˜ ì˜ì¡´ê´€ê³„ê°€ ê¸‰ê²©í•˜ê²Œ ì¦ê°€í•˜ëŠ” ê²ƒë³´ë‹¤ëŠ” ìµœì í™”ë¥¼ í¬ê¸°í•˜ëŠ”ê²ƒì´ ì¡°ê¸ˆ ë‚˜ì€ ê²ƒ ê°™ë‹¤. ê°•ì œë¡œ ì´ˆê¸°í™” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ì‚´ì•„ìˆì„ ë•Œ í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì´ í•„ìš”í•œ ì—”í‹°í‹°ë¥¼ ê°•ì œë¡œ ì´ˆê¸°í™”í•´ì„œ ë°˜í™˜í•˜ëŠ” ë°©ë²•ì´ë‹¤. 1234Member member = em.find(Member.class, 1);member.getTeam().getName(); // í”„ë¡ì‹œëŠ” ì‹¤ì œ ì‚¬ìš©í•˜ëŠ” ì‹œì ì— ì´ˆê¸°í™”ëœë‹¤return member; ê°•ì œë¡œ ì´ˆê¸°í™”í–ˆìœ¼ë¯€ë¡œ ì¤€ì˜ì† ìƒíƒœì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œëœë‹¤. í•˜ì´ë²„ë„¤ì´íŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ initialize ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ìš” í”„ë¡ì‹œë¥¼ ê°•ì œë¡œ ì´ˆê¸°í™”í•  ìˆ˜ ìˆë‹¤. 1org.hibernate.Hibernate.initialize(member.getTeam()); í•˜ì§€ë§Œ ì´ê²ƒë„ ê²°êµ­ ìƒê°í•´ë³´ë©´ í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì´ ì€ê·¼ìŠ¬ì© ì„œë¹„ìŠ¤ ê³„ì¸µì„ ì¹¨ë²”í•˜ëŠ” ìƒí™©ì´ë‹¤. í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì— í•„ìš”í•œ ì—”í‹°í‹°ë¥¼ ì„œë¹„ìŠ¤ ê³„ì¸µì—ì„œ ì´ˆê¸°í™”í•˜ê³  ìˆê¸° ë•Œë¬¸ì´ë‹¤. í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µê³¼ ì„œë¹„ìŠ¤ ê³„ì¸µ ì‚¬ì´ì— FACADE ê³„ì¸µì´ë¼ëŠ” ê²ƒì„ ë‘¬ì„œ ì´ëŸ° ë…¼ë¦¬ì  ì˜ì¡´ê´€ê³„ë¥¼ ì™„ì „íˆ ì œê±°í•  ìˆ˜ ìˆë‹¤. FACADE ê³„ì¸µì´ë„ê²Œ íŠ¹ë³„í•  ê±´ ì—†ê³ , ê·¸ëƒ¥ ì¤‘ê°„ì— ê³„ì¸µí•˜ë‚˜ë¥¼ ë” ë‘ê³  ì„œë¹„ìŠ¤ ê³„ì¸µì—ì„œ ë°›ì€ ì—”í‹°í‹°ë¥¼ í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì—ì„œ í•„ìš”í•œ í˜•íƒœë¡œ ê°€ê³µí•´ì„œ ë‚´ë ¤ë‹¤ì£¼ëŠ” ì—­í• ì„ í•˜ëŠ” ê²ƒì´ë‹¤. ì§€ì—°ë¡œë”© ë•Œë¬¸ì— ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ í•„ìš”í•˜ë¯€ë¡œ, íŠ¸ëœì­ì…˜ì€ FACADE ê³„ì¸µë¶€í„° ì‹œì‘í•´ì•¼í•œë‹¤. ì–¼í•ë³´ë©´ ì´ë ‡ê²Œ í•¨ìœ¼ë¡œì¨ ë…¼ë¦¬ì  ì˜ì¡´ê´€ê³„ê°€ ì™„ì „íˆ ì œê±°ëœ ë“¯ ë³´ì´ì§€ë§Œ, ì‹¤ìš©ì ì¸ ê´€ì ì—ì„œ ë³´ë©´ ê²°êµ­ ì½”ë“œë¥¼ í›¨ì”¬ ë§ì´ ì‘ì„±í•˜ê²Œ ë˜ê³ , ë‹¨ìˆœíˆ ì„œë¹„ìŠ¤ ê³„ì¸µ í˜¸ì¶œì„ ìœ„ì„í•˜ëŠ” ì½”ë“œê°€ ìƒê¸¸ ê°€ëŠ¥ì„±ì´ ë§ë‹¤. OSIV OSIV(Open Session In View)ëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ë·° ê¹Œì§€ ì—´ì–´ì¤€ë‹¤ëŠ” ëœ»ì´ë‹¤. ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ì‚´ì•„ìˆìœ¼ë©´ ì—”í‹°í‹°ëŠ” ì˜ì† ìƒíƒœê°€ ìœ ì§€ë˜ë¯€ë¡œ, ë·°ì—ì„œë„ ì§€ì—°ë¡œë”©ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì´ ê¸°ëŠ¥ì˜ í•µì‹¬ì€, ë·°ì—ì„œë„ ì§€ì—° ë¡œë”©ì´ ê°€ëŠ¥í•˜ë‹¤ ì´ë‹¤. ìš”ì²­ ë‹¹ íŠ¸ëœì­ì…˜(Transaction Per Request) ë·°ê¹Œì§€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì—´ì–´ë‘ê¸° ìœ„í•´ ê°€ì¥ ê°„ë‹¨í•œ ë°©ë²•ì„ ì‚¬ìš©í•œë‹¤. ìš”ì²­ì´ ë“¤ì–´ì˜¤ìë§ˆì í•„í„°ë‚˜ ì¸í„°ì…‰í„°ì—ì„œ íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•˜ê³ , ìš”ì²­ì´ ëë‚ ë•Œ íŠ¸ëœì­ì…˜ë„ ëë‚´ëŠ” ê²ƒì´ë‹¤(íŠ¸ëœì­ì…˜ê³¼ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ìƒëª…ì£¼ê¸°ê°€ ê°™ê¸° ë•Œë¬¸) ì´ë ‡ê²Œ í•˜ë©´ ë·°ì—ì„œë„ ì§€ì—°ë¡œë”©ì´ ê°€ëŠ¥í•˜ë¯€ë¡œ ì—”í‹°í‹°ë¥¼ ë¯¸ë¦¬ ì´ˆê¸°í™”í•  í•„ìš”ê°€ ì—†ë‹¤. ë‹¹ì—°íˆ FACADE ê³„ì¸µë„ í•„ìš”ì—†ì–´ì§„ë‹¤. í•˜ì§€ë§Œ íŠ¸ëœì­ì…˜ì´ í”„ë ˆì  í…Œì´ì…˜ ì˜ì—­ê¹Œì§€ ì—´ë¦¬ë¯€ë¡œ í”„ë ˆì  í…Œì´ì…˜ ê³„ì¸µì´ ì—”í‹°í‹°ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆëŠ” ì‹¬ê°í•œ ë¬¸ì œê°€ ìƒê¸´ë‹¤. 12345678910111213141516@Controllerclass HelloController&#123; @Autowired private HelloService helloService; @GetMapping("/member/&#123;memberId&#125;") public String addMember(@PathVariable Integer memberId, ModelMap modelMap)&#123; Member member = helloService.logic(memberId); member.setName("XXXX"); // ë³´ì•ˆìƒì˜ ì´ìœ ë¡œ XXXXë¡œ ì„¸íŒ…í•´ì„œ ë‚´ë¦¼ modelMap.add("member", member); return "/member/list"; &#125;&#125; ë·°ë¥¼ ë Œí„°ë§ í•œ í›„ íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ë  ê²ƒì´ê³ , ì´ë•Œ ë³€ê²½ ë‚´ì—­ì´ í”ŒëŸ¬ì‹œë˜ë©´ì„œ íšŒì›ì˜ ì´ë¦„ì´ XXXXë¡œ ë³€ê²½ë˜ëŠ” ì°¸ì‚¬ê°€ ë°œìƒí•  ê²ƒì´ë‹¤. í”„ë ˆì  í…Œì´ì…˜ ê³„ì¸µì€ ë°ì´í„°ë¥¼ ë³´ì—¬ì£¼ëŠ” ê³„ì¸µì´ë‹¤. ì´ëŸ° í–‰ìœ„ê°€ ì ˆëŒ€ í—ˆìš©ë˜ì–´ì„œëŠ” ì•ˆëœë‹¤. ì´ë¥¼ ë§‰ê¸° ìœ„í•œ ë°©ë²•ë“¤ì€ ì•„ë˜ì™€ ê°™ë‹¤. ì—”í‹°í‹°ë¥¼ ì½ê¸° ì „ìš© ì¸í„°í˜ì´ìŠ¤ë¡œ ì œê³µ 123456789101112131415interface MemberView&#123; // ë³´ì—¬ì¤„ ì• ë“¤ì˜ getterë§Œ ì„ ì–¸ public String getName();&#125;@Entityclass Member implements MemberView&#123; // getter ì˜¤ë²„ë¼ì´ë“œ&#125;class MemberService&#123; public MemberView getMember(Integer id)&#123; // memberView ë°˜í™˜ return memberRepository.findById(id); &#125;&#125; ì—”í‹°í‹° ë˜í•‘ 1234567891011121314151617class MemberWrapper&#123; private Member member; public MemberWrapper(Member member)&#123; this.member = member; &#125; public String getName()&#123; return member.getName(); &#125;&#125;class MemberService&#123; public MemberWrapper getMember(Integer id)&#123; // memberView ë°˜í™˜ return new MemberWrapper(memberRepository.findById(id)); &#125;&#125; DTO ì „í†µì ì¸ ë°©ë²•ìœ¼ë¡œ, ë‹¨ìˆœíˆ ë°ì´í„°ë§Œ ì „ë‹¬í•˜ëŠ” ê°ì²´ì¸ DTOë¥¼ ë§Œë“¤ê³  ë³´ì—¬ì¤„ ì—”í‹°í‹°ì˜ ê°’ì„ ì„¸íŒ…í•´ì„œ ë‚´ë ¤ì£¼ëŠ” ë°©ë²•ì´ë‹¤. ì‚¬ì‹¤ ì´ ë°©ë²•ì€ OSIVì˜ ì¥ì ì„ ëª» ì‚´ë¦¬ëŠ” ë°©ë²•ì´ë‹¤. ê°•ì œë¡œ ì´ˆê¸°í™”ì˜ ì¡°ê¸ˆ ë‹¤ë¥¸ ë°©ë²•ì¼ ë¿ì´ë‹¤. ì´ëŸ¬í•œ ë¬¸ì œì ë“¤ë¡œ ì¸í•´ ìš”ì²­ ë‹¹ íŠ¸ëœì­ì…˜ì€ ê±°ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. ìš”ì¦˜ì—ëŠ” ì„œë¹„ìŠ¤ ë ˆë²¨ê¹Œì§€ë§Œ íŠ¸ëœì­ì…˜ì„ ë‚´ë¦¬ëŠ” ë°©ë²•ì„ ì‚¬ìš©í•˜ëŠ”ë°, ì´ê²Œ ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ì—ì„œ ì œê³µí•˜ëŠ” OSIVê°€ ì„ íƒí•œ ë°©ì‹ì´ë‹¤. ìŠ¤í”„ë§ OSIV ì•„ë˜ëŠ” spring-orm.jarì— ë“¤ì–´ìˆëŠ” í´ë˜ìŠ¤ë“¤ ì¤‘ í•˜ë‚˜ì´ë‹¤. í•„ìš”í•œ ìœ„ì¹˜ì— ë”°ë¼ ì„ íƒí•´ì„œ ì‚¬ìš©í•˜ë©´ ëœë‹¤. JPA OEIV(OSIV) ì„œë¸”ë¦¿ í•„í„° org.springframework.org.jpa.support.OpenEntityManagerInViewFilter JPA OEIV(OSIV) ìŠ¤í”„ë§ ì¸í„°ì…‰í„° org.springframework.org.jpa.support.OpenEntityManagerInViewInterceptor ìŠ¤í”„ë§ OSIVëŠ” ì•„ë˜ì™€ ê°™ì´ OSIVë¥¼ ì‚¬ìš©í•˜ê¸°ëŠ” í•˜ì§€ë§Œ íŠ¸ëœì­ì…˜ì€ ë¹„ì¦ˆë‹ˆìŠ¤ ê³„ì¸µì—ì„œë§Œ ì‚¬ìš©í•œë‹¤. í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ ì„œë¸”ë¦¿ í•„í„°ë‚˜ ìŠ¤í”„ë§ ì¸í„°ì…‰í„°ì—ì„œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ìƒì„±í•œë‹¤. íŠ¸ëœì­ì…˜ì€ ì‹œì‘í•˜ì§€ ì•ŠëŠ”ë‹¤. ì„œë¹„ìŠ¤ ê³„ì¸µì—ì„œ íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•  ë•Œ(@Transactional) 1ë²ˆì—ì„œ ìƒì„±í•œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì°¾ì•„ì™€ì„œ íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•œë‹¤. ì„œë¹„ìŠ¤ ê²Œì¸µì´ ëë‚˜ë©´ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ í”ŒëŸ¬ì‹œí•˜ê³  íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•œë‹¤. ê·¸ë¦¬ê³  íŠ¸ëœì­ì…˜ì„ ëë‚´ì§€ë§Œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” ì¢…ë£Œí•˜ì§€ ì•ŠëŠ”ë‹¤. í”„ë ˆì  í…Œì´ì…˜ê¹Œì§€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ìœ ì§€ë˜ë¯€ë¡œ ì§€ì—°ë¡œë”©ì´ ê°€ëŠ¥í•˜ë‹¤. ì„œë¸”ë¦¿ í•„í„°ë‚˜ ìŠ¤í”„ë§ ì¸í„°ì…‰í„°ë¡œ ìš”ì²­ì´ ëŒì•„ì˜¤ë©´ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì¢…ë£Œí•œë‹¤. ì´ë•Œ í”ŒëŸ¬ì‹œëŠ” í•˜ì§€ ì•ŠëŠ”ë‹¤. ì°¸ê³ ë¡œ ì—¬ê¸°ì„œ ê°•ì œë¡œ í”ŒëŸ¬ì‹œë¥¼ í˜¸ì¶œí•´ë„ ì˜ˆì™¸(javax.persistence.TransactionRequiredExceptionì´ ë°œìƒí•œë‹¤) ë‹¤ì‹œ ê°„ë‹¨í•˜ê²Œ ì •ë¦¬í•˜ë©´, í”„ë ˆì  í…Œì´ì…˜ ê³„ì¸µì—ì„œ íŠ¸ëœì­ì…˜ì´ ì—†ìœ¼ë¯€ë¡œ ì—”í‹°í‹° ë³€ê²½ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤ í•˜ì§€ë§Œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” ì—´ë ¤ìˆìœ¼ë¯€ë¡œ ì§€ì—°ë¡œë”©ì´ ê°€ëŠ¥í•˜ë‹¤ ì´ëŸ°ê²ƒì´ ê°€ëŠ¥í•œ ì´ìœ ëŠ”, ì—”í‹°í‹°ë¥¼ ë³€ê²½í•˜ì§€ ì•Šê³  ë‹¨ìˆœíˆ ì¡°íšŒë§Œ í•  ë•ŒëŠ” íŠ¸ëœì­ì…˜ì´ ì—†ì–´ë„ ë˜ê¸° ë•Œë¬¸ì´ë‹¤. ì´ë¥¼ Nontransaction readsë¼ê³  í•œë‹¤. (íŠ¸ëœì­ì…˜ ì—†ì´ ì—”í‹°í‹°ë¥¼ ë³€ê²½í•˜ë©´ javax.persistence.TransactionRequireExceptionì´ ë°œìƒí•œë‹¤) ìƒë‹¹íˆ ë§ì€ ë¶€ë¶„ì´ í•´ê²°ë˜ì—ˆì§€ë§Œ, ì—¬ê¸°ì—ë„ ì—¬ì „íˆ ì£¼ì˜ì‚¬í•­ì´ ì¡´ì¬í•œë‹¤. ë°”ë¡œ í”„ë ˆì  í…Œì´ì…˜ ê³„ì¸µì—ì„œ ì—”í‹°í‹°ë¥¼ ìˆ˜ì •í•œ ì§í›„ì— íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•˜ëŠ” ì„œë¹„ìŠ¤ ê³„ì¸µì„ ë§Œë‚¬ì„ ê²½ìš°ì´ë‹¤. 1234567891011121314151617181920212223242526@Controllerclass HelloController&#123; @Autowired private HelloService helloService; @GetMapping("/member/&#123;memberId&#125;") public String addMember(@PathVariable Integer memberId, ModelMap modelMap)&#123; Member member = helloService.logic(memberId); member.setName("XXXX"); // ë³´ì•ˆìƒì˜ ì´ìœ ë¡œ XXXXë¡œ ì„¸íŒ…í•´ì„œ ë‚´ë¦¼ helloService.biz(); modelMap.add("member", member); return "/member/list"; &#125;&#125;@Serviceclass HelloService&#123; @Transactional public void biz()&#123; // ... &#125;&#125; ê²°ê³¼ëŠ” memberì˜ ì´ë¦„ì´ XXXXë¡œ ë°”ê»´ë²„ë¦°ë‹¤. ê¸°ì¡´ì˜ íŠ¸ëœì­ì…˜ ë‹¨ìœ„ë¡œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì—´ë˜ ê²ƒì„ ìš”ì²­ ë‹¨ìœ„ë¡œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì—¬ëŠ” ê²ƒìœ¼ë¡œ í™•ì¥í–ˆê¸° ë•Œë¬¸ì— í•˜ë‚˜ì˜ ìš”ì²­ì—ì„œ ì—¬ëŸ¬ íŠ¸ëœì­ì…˜ì´ ìˆì„ ê²½ìš° ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ê³µìœ í•˜ê²Œ ë˜ê³ , ìœ„ì™€ ê°™ì€ í˜„ìƒì´ ë°œìƒí•˜ëŠ” ê²ƒì´ë‹¤. ë‚˜ëŠ” OSIVë¥¼ ì´ìš©í•´ ì—”í‹°í‹°ë¥¼ í”„ë ˆì  í…Œì´ì…˜ê¹Œì§€ ë‚´ë¦¬ëŠ” í–‰ìœ„ëŠ” ë”±íˆ ì¢‹ì§€ ì•Šë‹¤ê³  ìƒê°í•œë‹¤. ìœ„ì™€ ê°™ì€ ë¬¸ì œì ë„ ìˆê³ , ì—”í‹°í‹°ì™€ í”„ë ˆì  í…Œì´ì…˜ ì‚¬ì´ì— ë…¼ë¦¬ì ì¸ ì˜ì¡´ê´€ê³„ê°€ ìƒê¸°ëŠ” ê²ƒì„ ë§‰ì„ ìˆ˜ ì—†ê²Œ ë  í…Œë‹ˆê¹Œâ€¦ ì „í†µì ì¸ ë°©ë²•ì¸ í•„ìš”í•œ ì• ë“¤ë§Œ DTOë¡œ ë§Œë“¤ì–´ì„œ ë‚´ë ¤ì£¼ëŠ” ë°©ë²•ì´ ê°€ì¥ ê´œì°®ì€ ê²ƒ ê°™ê¸´í•œë°, ì´ê²ƒë˜í•œ ì„œë¹„ìŠ¤ ì˜ì—­ê³¼ í”„ë ˆì  í…Œì´ì…˜ ì˜ì—­ì— ì€ê·¼í•œ ì˜ì¡´ê´€ê³„ê°€ ìƒê¸´ë‹¤ëŠ” ë§ì„ ë°˜ë°•í• ìˆ˜ëŠ” ì—†ëŠ” ê²ƒ ê°™ë‹¤. OSIV ì£¼ì˜ì‚¬í•­ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ë¦¬í€˜ìŠ¤íŠ¸ê¹Œì§€ ì—´ë¦°ë‹¤ëŠ” ê²ƒì€, ì»¤ë„¥ì…˜ì„ ìœ ì§€í•˜ëŠ” ì‹œê°„ì´ ëŠ˜ì–´ë‚¨ì„ ì˜ë¯¸í•œë‹¤ ì´ëŠ” íŠ¸ë˜í”½ì´ ë§ì•„ì§€ë©´ OSIVë¥¼ ì‚¬ìš©í•˜ë©´ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ìœ ì§€í•˜ëŠ” ì˜ì—­ì´ íŠ¸ëœì­ì…˜ ì´ìƒìœ¼ë¡œ(requestê¹Œì§€) ë„“ì–´ì§€ê³ , ì´ëŠ” ì»¤ë„¥ì…˜ì„ ë§ºëŠ” ì‹œê°„ì´ ê¸¸ì–´ì§ì„ ì˜ë¯¸í•œë‹¤ (ê²Œë‹¤ê°€ í•˜ë‚˜ì˜ ìš”ì²­ë‚´ì—ì„œëŠ” dbì‘ì—… ì™¸ì— ë‹¤ë¥¸ ë§ì€ ì‘ì—…ë“¤ì´ ìˆ˜í–‰ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ(ë„¤íŠ¸ì›Œí¬ í†µì‹  ë“±), ì»¤ë„¥ì…˜ì„ ê³„ì† ì—´ì–´ë‘ëŠ” í–‰ìœ„ëŠ” ì¢‹ì§€ì•Šë‹¤) request ê¹Œì§€ ì»¤ë„¥ì…˜ì„ ìœ ì§€í•˜ê²Œ ë¨. ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤ ì´ëŠ” ì„±ëŠ¥ìƒ ì´ìŠˆë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆìœ¼ë¯€ë¡œ(ì»¤ë„¥ì…˜ í’€ ê°œìˆ˜ ë¶€ì¡±), OSIVë¥¼ ë„ê³  serviceì—ì„œ DTOë¡œ ë³€í™˜í•´ì„œ ë‚´ë ¤ì£¼ëŠ” ë°©ì‹ì„ íƒí•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤ ìœ„ì—ì„œ ë°˜ë°•í•  ìˆ˜ ì—†ë‹¤ê³  í•´ë†“ê³ â€¦]]></content>
      <categories>
        <category>jpa</category>
      </categories>
      <tags>
        <tag>ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë°</tag>
        <tag>ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸</tag>
        <tag>OSIV</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[jpa] MultipleBagException]]></title>
    <url>%2Fjpa%2FMultipleBagException%2F</url>
    <content type="text"><![CDATA[JPQLì€ ê¸°ë³¸ì ìœ¼ë¡œ 1 -&gt; N ë°©í–¥ìœ¼ë¡œ ì¡°ì¸ì´ 1ë²ˆ ê¹Œì§€ë°–ì— ì•ˆëœë‹¤ 2ë²ˆ ì´ìƒí•˜ê²Œ ë˜ë©´ MultipleBagException ì´ ë°œìƒí•œë‹¤. 123// itemì•„ë˜ ì¬ê³ ë‹¨ìœ„, ìƒ‰ìƒ ë“±ì´ 1:Nìœ¼ë¡œ ìˆë‹¤ê³  ê°€ì •query.join(item.stockUnits, stockUnit).fetchJoin() .join(item.colors, color).fetchJoin() // MultipleBagException ë°œìƒ ì¹´í…Œì‹œì•ˆ ê³±ì´ ì¼ì–´ë‚˜ê¸° ë•Œë¬¸ì´ë¼ëŠ”ë°â€¦(ë„ˆë¬´ ë§ì€ ë¡œìš°ê°€ ìƒê¸°ë¯€ë¡œ) @OneToMany ê´€ê³„ë¥¼ Listê°€ ì•„ë‹Œ Setìœ¼ë¡œ ë°”ê¿”ì£¼ë©´ ìœ„ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤ https://www.thoughts-on-java.org/hibernate-tips-how-to-avoid-hibernates-multiplebagfetchexception/ ì´ìœ ëŠ” ëª¨ë¥´ê² ë‹¤ ì  ì¥â€¦]]></content>
      <categories>
        <category>jpa</category>
      </categories>
      <tags>
        <tag>queryDSL</tag>
        <tag>JPQL</tag>
        <tag>1:N multiple join</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[API documentationìœ¼ë¡œ ì¢‹ì€ redoc]]></title>
    <url>%2FopenAPI%2FAPI-documentation%EC%9C%BC%EB%A1%9C-%EC%A2%8B%EC%9D%80-redoc%2F</url>
    <content type="text"><![CDATA[https://github.com/Rebilly/ReDoc ì‘ì„±í•œ OASë¥¼ ë³´ê¸°ì¢‹ì€ documentë¡œ ë§Œë“¤ì–´ì¤€ë‹¤. https://github.com/Rebilly/ReDoc/blob/master/cli/README.md 1redoc-cli bundle &lt;spec file&gt; í•˜ë©´ ìƒì„±ëœë‹¤]]></content>
      <categories>
        <category>openAPI</category>
      </categories>
      <tags>
        <tag>redoc</tag>
        <tag>redoc-cli</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OpenApi codegen]]></title>
    <url>%2FopenAPI%2FOpenApi-codegen%2F</url>
    <content type="text"><![CDATA[openapi generator https://github.com/OpenAPITools/openapi-generator Open Api Specì„ í†µí•´ codeë¥¼ generate í•´ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ server stub, client stub ìƒì„± ê°€ëŠ¥ gradle plugin https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-gradle-plugin openapi generatorë¥¼ gradleì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ í”ŒëŸ¬ê·¸ì¸ 123dependencies &#123; classpath "org.openapitools:openapi-generator-gradle-plugin:3.3.0"&#125; 1234567891011121314151617apply plugin: 'org.openapi.generator'// ìœ„ repository READMEì˜ Configuration ì°¸ì¡° openApiGenerate &#123; generatorName = "kotlin" inputSpec = "$rootDir/specs/petstore-v3.0.yaml".toString() outputDir = "$buildDir/generated".toString() apiPackage = "org.openapi.example.api" invokerPackage = "org.openapi.example.invoker" modelPackage = "org.openapi.example.model" modelFilesConstrainedTo = [ "Error" ] configOptions = [ dateLibrary: "java8" ]&#125; Tip generate ëœ ì½”ë“œì— ìƒì† ì ìš©í•˜ê¸° allOfë¥¼ ì‚¬ìš©í•˜ë©´ generateëœ ì½”ë“œì— ìƒì†ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ 12345678910111213141516ChildDTO: title: ChildDTO description: description allOf: - $ref: '#/components/schemas/ParentDTO' - type: object required: - name - age properties: name: type: string description: ì´ë¦„ example: ã…‹ã…‹ age: type: integer ì•„ë˜ì™€ ê°™ì´ generate ë¨ 1234class ChildDTO extends ParentDTO&#123; String name; Integer age;&#125;]]></content>
      <categories>
        <category>openAPI</category>
      </categories>
      <tags>
        <tag>openapi generator</tag>
        <tag>openapi codegen gradle plugin</tag>
        <tag>openapi ìƒì†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[OAS 3.0]]></title>
    <url>%2FopenAPI%2FOAS-3-0%2F</url>
    <content type="text"><![CDATA[document ë¬¸ì„œ git : https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md swagger : https://swagger.io/docs/specification/basic-structure/ meta data, server ì •ë³´ 12345678910openapi: 3.0.0info: title: Sample API description: Optional multiline or single-line description in [CommonMark](http://commonmark.org/help/) or HTML. version: 0.1.9servers: - url: http://api.example.com/v1 description: Optional server description, e.g. Main (production) server - url: http://staging-api.example.com description: Optional server description, e.g. Internal staging server for testing data type ê¸°ë³¸ íƒ€ì… https://swagger.io/docs/specification/data-models/data-types/ string, number, integer, boolean, array, object ì‚¬ìš©ê°€ëŠ¥ string ì€ dateì™€ fileì„ í¬í•¨í•¨ arrayëŠ” itemsê°€ í•„ìˆ˜ë¡œ ì™€ì•¼í•¨. items ì•„ë˜ type í˜¹ì€ $ref api ì •ì˜ path ì •ì˜ paths ì•„ë˜ì— ì •ì˜í•œë‹¤. 123456789101112131415paths: /users: get: operationId: getUsers summary: get user description: get user description post: operationId: createUser summary: create user description: create given user /users/&#123;id&#125;: get: ... patch: deprecated: true path ì•„ë˜ http method ë³„ë¡œ ì„ ì–¸ ê°€ëŠ¥ summaryë‘ description ì°¨ì´ê°€ ë­ì§€? operationIdëŠ” ë‚˜ì¤‘ì— code-gen ì—ì„œ ë©”ì„œë“œëª…ìœ¼ë¡œ ì‚¬ìš©ë¨ path templating í•  ìˆ˜ ìˆê³ , íŒŒë¼ë¯¸í„°ì—ì„œ ë°›ì„ ìˆ˜ ìˆìŒ deprecated í•  ìˆ˜ ìˆìŒ parameter ì •ì˜ https://swagger.io/docs/specification/describing-parameters/ ê¸°ë³¸ í˜•íƒœëŠ” ì•„ë˜ì™€ ê°™ìŒ 1234567891011paths: /users/&#123;id&#125;: get: parameters: - in: path name: id # ìƒë‹¨ì˜ pathëª…ê³¼ ê°™ì•„ì•¼í•¨ required: true schema: type: integer minimum: 1 description: The user ID íŒŒë¼ë¯¸í„° í˜•íƒœ, ì´ë¦„, í•„ìˆ˜ì—¬ë¶€ ë“±ì„ ì¤„ ìˆ˜ ìˆìŒ. ì¶”ê°€ì ì¸ ì •ë³´ëŠ” ì—¬ê¸° í™•ì¸ inì—ëŠ” path, query, header, cookie ê°€ ì˜¬ ìˆ˜ ìˆìŒ pathì˜ ê²½ìš° urlì— path templatingê³¼ ì´ë¦„ì„ ë™ì¼í•˜ê²Œ í•´ì¤˜ì•¼ í•œë‹¤ëŠ” ì  ë¹¼ê³ ëŠ” ëª¨ë‘ ë™ì¼í•˜ê²Œ ì‚¬ìš© ê°€ëŠ¥ schemaì—ì„œ ì „ë‹¬ë°›ì€ íŒŒë¼ë¯¸í„°ì— ëŒ€í•´ ì •ì˜í•¨. íƒ€ì…, ìµœì†Œê°’ ë“±ì„ ì¤„ ìˆ˜ ìˆìŒ. ì¶”ê°€ì ì¸ ì •ë³´ëŠ” ì—¬ê¸° í™•ì¸ request body https://swagger.io/docs/specification/describing-request-body/ 12345678910111213141516171819202122paths: /pets: post: summary: Add a new pet requestBody: description: Optional description in *Markdown* required: true content: application/json: schema: $ref: '#/components/schemas/Pet' /pets: post: summary: Add a new pet requestBody: description: Optional description in *Markdown* required: true content: application/json: schema: type: object properties: object ì •ì˜ https://swagger.io/docs/specification/components/ components ì•„ë˜ì— ì •ì˜í•˜ê³ , ì¬ì‚¬ìš©ì„ ëª©ì ìœ¼ë¡œ í•œë‹¤. $ref ì†ì„±ì„ ì´ìš©í•˜ê³  #ìœ¼ë¡œ ì°¸ì¡°í•œë‹¤. 1$ref: '#/components/schemas/Item' #ëŠ” í˜„ ìœ„ì¹˜ë¥¼ ë§í•œë‹¤. schemas ì¼ë°˜ ì˜¤ë¸Œì íŠ¸(DTO ë“±) parameters https://swagger.io/docs/specification/describing-parameters/#common-for-various-paths Common Parameters for Various Paths ë¶€ë¶„ ì°¸ì¡° responses https://swagger.io/docs/specification/describing-responses/ status ë³„ë¡œ ì„ ì–¸ê°€ëŠ¥í•˜ë©° description, object ë“±ì„ ë‚´ë ¤ì¤„ ìˆ˜ ìˆë‹¤ enum reuse 1234567891011121314151617181920212223paths: /products: get: parameters: - in: query name: color required: true schema: $ref: '#/components/schemas/Color' responses: '200': description: OK components: schemas: Color: type: string enum: - black - white - red - green - blue]]></content>
      <categories>
        <category>openAPI</category>
      </categories>
      <tags>
        <tag>swagger 3.0</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[db] ë§ˆìŠ¤í„° ë°ì´í„°, íŠ¸ëœì­ì…˜ ë°ì´í„°]]></title>
    <url>%2Fdb%2F%EB%A7%88%EC%8A%A4%ED%84%B0-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98-%EB%8D%B0%EC%9D%B4%ED%84%B0%2F</url>
    <content type="text"><![CDATA[https://www.intricity.com/data-warehousing/master-data-vs-transaction-data/ ë§ˆìŠ¤í„° ë°ì´í„° : ì‚¬ëŒì´ë‚˜ ê¸°ê´€ì´ ê´€ë¦¬í•˜ëŠ” ë°ì´í„° íŠ¸ëœì­ì…˜ ë°ì´í„° : ë§ˆìŠ¤í„° ë°ì´í„°ì— ëŒ€í•œ ì´ë²¤íŠ¸ ë°ì´í„° ê°™ì€ ê²ƒ. êµ¬ë§¤, ì£¼ë¬¸ ë“±]]></content>
      <categories>
        <category>db</category>
      </categories>
      <tags>
        <tag>transaction data</tag>
        <tag>master data</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[jpa] best practice]]></title>
    <url>%2Fjpa%2Fbest-practice%2F</url>
    <content type="text"><![CDATA[Spring ormì´ ì œê³µí•˜ëŠ” ê²ƒ LocalContainerEntityManagerFactory í…Œì´ë¸”ì˜ ê¸°ë³¸í‚¤ ì´ë¦„ì€ í…Œì´ë¸”ì´ë¦„ì„ prefixë¡œ ê°€ì ¸ê°€ëŠ”ê²ƒì´ ì¢‹ë‹¤ ì—”í‹°í‹°ì˜ ê²½ìš° ì°¸ì¡°ë¼ëŠ” ê°’ì´ ìˆì§€ë§Œ RDBì˜ ê²½ìš°ëŠ” ì—†ê¸° ë•Œë¬¸ ê²Œë‹¤ê°€ í…Œì´ë¸”ê°„ ê´€ê³„ì„¤ì •í•  ë•Œ ì™¸ë˜í‚¤ì— í…Œì´ë¸”ì˜ ì´ë¦„ì„ ì“°ëŠ” ê´€ë¡€ê°€ ë§ìœ¼ë¯€ë¡œ í—·ê°ˆë¦¬ì§€ ì•Šê¸° ìœ„í•´ ê¸°ë³¸í‚¤ë„ í…Œì´ë¸” ì´ë¦„ì„ prefixë¡œ ê°€ì ¸ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤ @PersistenceContext : ìŠ¤í”„ë§ì´ë‚˜ J2EEë¥¼ ì‚¬ìš©í•˜ë©´ ì»¨í…Œì´ë„ˆê°€ ì§ì ‘ ì—”í‹°í‹°ë§¤ë‹ˆì €ë¥¼ ê´€ë¦¬í•˜ê³  ì œê³µí•´ì¤€ë‹¤. ì´ ì–´ë…¸í…Œì´ì…˜ì€ ì»¨í…Œì´ë„ˆê°€ ê´€ë¦¬í•˜ëŠ” ì—”í‹°í‹° ë§¤ë‹ˆì €ë¥¼ ì£¼ì…í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜ì´ë‹¤ @PersistenceUnit : EntityManagerFactoryë¥¼ ì£¼ì…ë°›ê³ ì í•  ë•Œ @Transactionalì€ RuntimeExceptionë§Œ ë¡¤ë°±í•œë‹¤ ì—”í‹°í‹° ì„¤ê³„ì—ì„œ ì°¸ì¡°í•  ìˆ˜ ìˆëŠ” ë¶€ë¶„. í¸ì˜ë©”ì„œë“œê°€ ë‚´ê°€ ì‘ì„±í•œ ê²ƒ ë§Œí¼ ë¹¡ë¹¡í•˜ê²Œ ì¡°ê±´ê²€ì‚¬ë¥¼ í•˜ì§€ ì•ŠëŠ”ë‹¤ public void setMember(Member member){ this.member = member; member.getOrders().add(this); } public void addOrder(Order order){ orders.add(order); order.setmember(this); } ê·¼ë° ì±…ì—ì„œ ì„¤ëª…í• ë•ŒëŠ” bugë¥¼ ë°©ì§€í•˜ì—¬ ì¡°ê±´ê²€ì‚¬ë¥¼ ì–´ëŠì •ë„ ë„£ì–´ì£¼ëŠ”ê²ƒì„ ë´¤ëŠ”ë°, ì´ê±¸ ì œê±°í•´ë„ ë˜ëŠ”ê²ƒì¸ì§€? íšŒì› ì¤‘ë³µê²€ì‚¬ë¥¼ í•˜ëŠ” ë¡œì§ì€ service ë©”ì„œë“œì—ì„œ privateìœ¼ë¡œ êµ¬í˜„í–ˆë‹¤ ì´ë¯¸ ë“±ë¡ëœ íšŒì›ì¼ ê²½ìš° exceptionì„ ë°˜í™˜í•˜ëŠ” ì‹ìœ¼ë¡œ ì²˜ë¦¬í–ˆë‹¤ ì´ëŸ¬í•œ ê²€ì¦ ë¡œì§ì´ ìˆì–´ë„ ë©€í‹°ìŠ¤ë ˆë“œ ì•ˆì •ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ UKë¥¼ ê±¸ì–´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤ ê°’ì´ setterë¥¼ í†µí•´ ë¬´ë¶„ë³„í•˜ê²Œ ì‚¬ìš©ë˜ì§€ ì•Šë„ë¡ ë©”ì„œë“œë¡œ ì œí•œí•œë‹¤ public void addStock(int quantity) { this.stockQuantity += quantity; } public void removeStock(int quantity) { int restStock = this.stockQuantity - quantity; if (restStock &lt; 0) { throw new NotEnoughStockException(â€œneed more stockâ€); } this.stockQuantity = restStock; } public void cancel() { if (delivery.getStatus() == DeliveryStatus.COMP) { throw new RuntimeException(&quot;ì´ë¯¸ ë°°ì†¡ì™„ë£Œëœ ìƒí’ˆì€ ì·¨ì†Œê°€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.&quot;); } this.setStatus(OrderStatus.CANCEL); for (OrderItem orderItem : orderItems) { orderItem.cancel(); } } ê´€ê³„ë¥¼ í•œë°©ì— ë§ºì–´ì£¼ëŠ” í¸ì˜ë©”ì„œë“œë¥¼ ì œê³µí•œë‹¤. ì´ë¡œì¸í•´ ê°ì²´ê°„ì˜ ê´€ê³„ë„ íŒŒì•…ê°€ëŠ¥í•˜ë‹¤. public static Order createOrder(Member member, Delivery delivery, OrderItemâ€¦ orderItems) { Order order = new Order(); order.setMember(member); order.setDelivery(delivery); for (OrderItem orderItem : orderItems) { order.addOrderItem(orderItem); } order.setStatus(OrderStatus.ORDER); order.setOrderDate(new Date()); return order; } ì¶”ê°€ì ì¸ ì •ë³´ë¥¼ ì œê³µí•´ì£¼ëŠ” ë©”ì„œë“œë¥¼ ë§Œë“ ë‹¤ public int getTotalPrice() { int totalPrice = 0; for (OrderItem orderItem : orderItems) { totalPrice += orderItem.getTotalPrice(); } return totalPrice; } ë‹¤ë¥¸ ì—”í‹°í‹°ì™€ ê°’ì„ ë™ê¸°í™”í•œë‹¤(ì¬ê³  ë“±) public static OrderItem createOrderItem(Item item, int orderPrice, int count) { // ì£¼ë¬¸ìƒì„±ì‹œ ì¬ê³ ë¥¼ ê¹ê³  OrderItem orderItem = new OrderItem(); orderItem.setItem(item); orderItem.setOrderPrice(orderPrice); orderItem.setCount(count); item.removeStock(count); return orderItem; } public void cancel(){ // ì£¼ë¬¸ì·¨ì†Œì‹œ ì¬ê³ ë¥¼ ë”í•œë‹¤ getItem().addStock(count); } â€” ë„ë©”ì¸ ëª¨ë¸ íŒ¨í„´ê³¼ íŠ¸ëœì­ì…˜ ìŠ¤í¬ë¦½íŠ¸ íŒ¨í„´ ë„ë©”ì¸ ëª¨ë¸ íŒ¨í„´ì€ ëŒ€ë¶€ë¶„ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ì—”í‹°í‹°ì— ì†í•´ìˆê³ , ì„œë¹„ìŠ¤ëŠ” ì—­í• ì„ ìœ„ì„í•˜ê³  íŠ¸ëœì­ì…˜ ë°”ì¸ë”© ì •ë„ë¡œ ì‚¬ìš©ë˜ê²ƒì´ë‹¤ íŠ¸ëœì­ì…˜ ìŠ¤í¬ë¦½íŠ¸ íŒ¨í„´ì€ ì„œë¹„ìŠ¤ ê³„ì¸µì—ì„œ ëŒ€ë¶€ë¶„ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì²˜ë¦¬í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤ ìˆ˜ì •ì— ëŒ€í•´ì„œëŠ” â€˜ì˜ì†í™” + í•„ìš”í•œ ë©”ì„œë“œ ë³€ê²½â€™ ì„ ì‚¬ìš©í•˜ë˜ â€˜ë³‘í•©â€™ì„ ì‚¬ìš©í•˜ë˜ ìƒê´€ì—†ë‹¤ê³  ë§í•˜ê³  ìˆìŒ]]></content>
      <categories>
        <category>jpa</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[elasticsearch]]></title>
    <url>%2Fetc%2Felasticsearch%2F</url>
    <content type="text"><![CDATA[ì°¸ê³ ìë£Œ https://sanghaklee.gitbooks.io/elk/content/ elk dockerë¡œ ë„ìš°ê¸° https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html ELkë¥¼ ë§ˆìŠ¤í„°í•˜ë©´ ì–´ë–¤ ë¹…ë°ì´í„°ë¥¼ ë§Œë‚˜ë“  ì‰½ê²Œ ë‹¤ë£° ìˆ˜ ìˆë‹¤? ë¡œê·¸ ìŠ¤í…Œì´ì‹œê°€ ì–´ë–¤ ë°ì´í„°ë“ (csvë“  ìƒê´€ì—†ì´) ìˆ˜ì§‘í•´ì„œ ì—˜ë¼ìŠ¤í‹± ì„œì¹˜ì— ìˆ˜ì§‘í•´ì£¼ê³ , í‚¤ë°”ë‚˜ëŠ” ë°ì´í„° ë¹„ì£¼ì–¼ë¼ì´ì…˜ íˆ´ë¡œì¨ ì—˜ë¼ìŠ¤í‹± ì„œì¹˜ì˜ ë°ì´í„°ë¥¼ í™”ë©´ì— ë³´ê¸°ì¢‹ê²Œ ë³´ì—¬ì¤Œ ì—˜ë¦¬ìŠ¤í‹± ì„œì¹˜ : í‚¤ì›Œë“œê°€ ì–´ë–¤ documentì— ìˆë‹¤ê³  ì €ì¥í•˜ëŠ” ì‹ì´ë‹¤ ì¸ë±ìŠ¤(ê°€ì¥ í° ê°œë…)ì•ˆì— íƒ€ì…, íƒ€ì…ì•ˆì— ë„íë¨¼íŠ¸ REST APIë¡œ ë°ì´í„° CRUDë¥¼ ìˆ˜í–‰í•œë‹¤ ì¸ë±ìŠ¤ ìƒì„±ì€ PUTìœ¼ë¡œ í•˜ê³ , document ìƒì„±ì€ POSTë¡œ í•œë‹¤ json íŒŒì¼ì„ ì§ì ‘ ë„£ì„ ìˆ˜ ìˆë‹¤ ê°’ ì—…ë°ì´íŠ¸ : _update _updateì‹œì— scriptì— ê°ì²´íƒìƒ‰í˜•ì‹ìœ¼ë¡œ ì ‘ê·¼í•´ì„œ ê°’ì„ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤ bulk insert : _bulk bulkëŠ” 2ê°œì˜ ë¼ì¸ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ìˆë‹¤ 1ë²ˆ ë¼ì¸ì€ metadata, 2ë²ˆ ë¼ì¸ì€ ë°ì´í„° ë°ì´í„° ë¼ì¸ì—ì„œ ê¸°ë³¸ì ì¸ ë°ì´í„° íƒ€ì…ì€ ìë™ìœ¼ë¡œ ì¡ì•„ì„œ mappingsë¡œ ë“±ë¡í•´ì£¼ëŠ” ë“¯ í•˜ë‹¤ { â€œindexâ€ : { â€œ_indexâ€ : â€œbasketballâ€, â€œ_typeâ€ : â€œrecordâ€, â€œ_idâ€ : â€œ1â€ } } {â€œteamâ€ : â€œChicago Bullsâ€,â€œnameâ€ : â€œMichael Jordanâ€, â€œpointsâ€ : 30,â€œreboundsâ€ : 3,â€œassistsâ€ : 4, â€œsubmit_dateâ€ : â€œ1996-10-11â€} { â€œindexâ€ : { â€œ_indexâ€ : â€œbasketballâ€, â€œ_typeâ€ : â€œrecordâ€, â€œ_idâ€ : â€œ2â€ } } {â€œteamâ€ : â€œChicago Bullsâ€,â€œnameâ€ : â€œMichael Jordanâ€,â€œpointsâ€ : 20,â€œreboundsâ€ : 5,â€œassistsâ€ : 8, â€œsubmit_dateâ€ : â€œ1996-10-11â€} ì´ëŸ° ë°ì´í„°ë¥¼ ë“±ë¡í•˜ë©´ ìë™ìœ¼ë¡œ mappingsì—. â€œmappingsâ€ : { â€œrecordâ€ : { â€œpropertiesâ€ : { â€œassistsâ€ : { â€œtypeâ€ : â€œlongâ€ }, â€œnameâ€ : { â€œtypeâ€ : â€œtextâ€, â€œfieldsâ€ : { â€œkeywordâ€ : { â€œtypeâ€ : â€œkeywordâ€, â€œignore_aboveâ€ : 256 } } }, â€œpointsâ€ : { â€œtypeâ€ : â€œlongâ€ }, â€œreboundsâ€ : { â€œtypeâ€ : â€œlongâ€ }, â€œsubmit_dateâ€ : { â€œtypeâ€ : â€œdateâ€ }, â€œteamâ€ : { â€œtypeâ€ : â€œtextâ€, â€œfieldsâ€ : { â€œkeywordâ€ : { â€œtypeâ€ : â€œkeywordâ€, â€œignore_aboveâ€ : 256 } } } } } ì‹ìœ¼ë¡œ ë“±ë¡ì´ ë˜ì–´ìˆì—ˆë‹¤. ì—˜ë¼ìŠ¤í‹±ì„œì¹˜ì— ë°ì´í„°ë§¤í•‘ì„ ì•ˆí• ìˆ˜ ìˆê¸´ í•˜ì§€ë§Œ ìœ„í—˜í•˜ë‹¤. (í‚¤ë°”ë‚˜ ì‹œê°í™” ë“±) curl -XGET http://localhost:9200/classes?pretty í•˜ë©´ mappingsê°€ ë‚˜ì˜¤ëŠ”ë°, ê° í•„ë“œë³„ íƒ€ì…ë“±ì„ ì§€ì •í•´ë†“ì€ êµ¬ê°„ì´ë‹¤ classes/class/_mapping -d @jsoníŒŒì¼ í˜•íƒœë¡œ ì§€ì • ê°€ëŠ¥ ì´í›„ bulk insertí•˜ë©´ ì˜ ë“¤ì–´ê°„ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤ëŠ”ë°, mappingì´ ìˆê³  ì—†ê³  ì°¨ì´ê°€ ë­”ì§€? curl -XGET http://localhost:9200/{_index}/{_type}/_search?q=points:30 requestBodyë¡œë„ ê²€ìƒ‰ ê°€ëŠ¥]]></content>
      <categories>
        <category>etc</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[[jpa] entity callback method]]></title>
    <url>%2Fjpa%2Fentity-callback-method%2F</url>
    <content type="text"><![CDATA[http://www.thejavageek.com/2014/05/23/jpa-lifecycle-callback-methods/ lifecycle call method http://www.thejavageek.com/2014/05/24/jpa-entitylisteners/ í´ë˜ìŠ¤ì— ì ìš©í•˜ëŠ” ë²• class ë‹¨ìœ„ ë²”ìš©ì ì¸ life cycleì„ ì ìš©í•˜ê³  ì‹¶ë‹¤ë©´ EntityListener class ì‚¬ìš© entityì— ì ‘ê·¼í•  ìˆ˜ ìˆì–´ì•¼ í•˜ë¯€ë¡œ callback methodì—ì„œ ë‹¨ì¼íŒŒë¼ë¯¸í„°ë¡œ ì—”í‹°í‹°ë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤ ì—”í‹°í‹°ë¦¬ìŠ¤ë„ˆ í´ë˜ìŠ¤ëŠ” public no args ìƒì„±ìê°€ ìˆì–´ì•¼ í•œë‹¤ ì—”í‹°í‹°ë¦¬ìŠ¤ë„ˆë¥¼ ì—”í‹°í‹°ì— ë¶™ì´ë ¤ë©´ ì•„ë˜ì™€ ê°™ì´ í•´ì•¼í•¨ @EntityListeners ì–´ë…¸í…Œì´ì…˜ì„ ì—”í‹°í‹°ì— ì„ ì–¸í•´ì¤˜ì•¼ í•¨. ì—¬ëŸ¬ê°œ ë¶™ì¼ ìˆ˜ ìˆìŒ ë¼ì´í”„ì‚¬ì´í´ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ @EntityListenersì— ì„ ì–¸ëœ ì• ë“¤ ìˆœì„œëŒ€ë¡œ ìƒì„±ë˜ê³  ì‹¤í–‰ëœë‹¤ ì´ë²¤íŠ¸ë¦¬ìŠ¤ë„ˆ ë‚´ì˜ callback ë©”ì„œë“œë¥¼ ì‹¤í–‰í•˜ë©´ì„œ entityë¥¼ ë¦¬ìŠ¤ë„ˆì— ì „ë‹¬í•œë‹¤(ì½œë°± ë©”ì„œë“œê°€ ìˆë‹¤ë©´)]]></content>
      <categories>
        <category>jpa</category>
      </categories>
      <tags>
        <tag>@PostLoad</tag>
        <tag>@PrePersist</tag>
        <tag>@PostPersist</tag>
        <tag>@PreUpdate</tag>
        <tag>@PostUpdate</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[jpa] Spring Data JPA]]></title>
    <url>%2Fjpa%2FSpring-Data-JPA%2F</url>
    <content type="text"><![CDATA[Spring Data JPAëŠ” ìŠ¤í”„ë§ì—ì„œ JPAë¥¼ í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•˜ëŠ” í”„ë¡œì íŠ¸ë‹¤. ë°ì´í„° ì ‘ê·¼ ê³„ì¸µì„ ê°œë°œí•  ë•Œ ì§€ë£¨í•˜ê²Œ ë°˜ë³µë˜ëŠ” CRUD ë¬¸ì œë¥¼ ì„¸ë ¨ëœ ë°©ë²•ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤. CRUD ì²˜ë¦¬ë¥¼ ìœ„í•œ ê³µí†µ ì¸í„°í˜ì´ìŠ¤ ì œê³µ ì¸í„°í˜ì´ìŠ¤ë§Œ ì‘ì„±í•˜ë©´ ë™ì ìœ¼ë¡œ êµ¬í˜„ì²´ë¥¼ ìƒì„±í•´ì„œ ì£¼ì…í•´ì¤Œ ë”°ë¼ì„œ ì¸í„°í˜ì´ìŠ¤ë§Œ ì‘ì„±í•´ë„ ê°œë°œì„ ì™„ë£Œí•  ìˆ˜ ìˆìŒ ì„¤ì • maven repositoryì—ì„œ Spring Data Jpa ê²€ìƒ‰í•´ì„œ gradleì— ì¶”ê°€í•˜ë©´ ëœë‹¤. 1compile group: 'org.springframework.data', name: 'spring-data-jpa', version: '2.1.2.RELEASE' spring bootë¥¼ ì‚¬ìš©í•  ê²½ìš° Spring Boot Data JPA Starterë¥¼ ì‚¬ìš©í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤. 1compile group: 'org.springframework.boot', name: 'spring-boot-starter-data-jpa', version: '2.1.1.RELEASE' ì´í›„ spring configì— ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í•œë‹¤. xml config 1&lt;jpa:repositories base-package="com.joon.repository"&gt; java config 123@Configuration@EnableJpaRepositories(basePackages = "com.joont.repository")public class AppConfig()&#123;&#125; ì´ë ‡ê²Œ ì„¤ì •í•´ë‘ë©´ Spring Data JpaëŠ” base packageì— ìˆëŠ” ë ˆíŒŒì§€í† ë¦¬ ì¸í„°í˜ì´ìŠ¤ë“¤ì„ ì°¾ì•„ì„œ í•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤ë“¤ì„ ë™ì ìœ¼ë¡œ ìƒì„±í•œ ë‹¤ìŒ, ë¹ˆìœ¼ë¡œ ë“±ë¡í•œë‹¤. JpaRepository(ê³µí†µ ì¸í„°í˜ì´ìŠ¤) JpaRepositoryëŠ” ì•ì„œ ì–¸ê¸‰í–ˆë˜ CRUD ì²˜ë¦¬ë¥¼ ìœ„í•œ ê³µí†µ ì¸í„°í˜ì´ìŠ¤ì´ë‹¤. ì´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì†ë°›ì€ ì¸í„°í˜ì´ìŠ¤ë§Œ ìƒì„±í•˜ë©´ í•´ë‹¹ ì—”í‹°í‹°ì— ëŒ€í•œ CRUDë¥¼ ê³µì§œë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œëœë‹¤. 123public interface MemberRepository extends JpaRepository&lt;Member, Long&gt;&#123;&#125; ì œë„¤ë¦­ì—ëŠ” ì—”í‹°í‹° í´ë˜ìŠ¤ì™€ ì—”í‹°í‹° í´ë˜ìŠ¤ê°€ ì‚¬ìš©í•˜ëŠ” ì‹ë³„ì íƒ€ì…ì„ ë„£ì–´ì£¼ë©´ ëœë‹¤. JpaRepositoryì˜ ê³„ì¸µêµ¬ì¡°ëŠ” ì•„ë˜ì™€ ê°™ë‹¤. ë³´ë‹¤ì‹œí”¼ ìŠ¤í”„ë§ ë°ì´í„° í”„ë¡œì íŠ¸ê°€ ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê³  JpaRepositoryì—ì„œ JPAì— íŠ¹í™”ëœ ê¸°ëŠ¥ì„ ì¶”ê°€ë¡œ ì œê³µí•œë‹¤. ì‹¤ì œ êµ¬í˜„ì²´ ê³µí†µ ì¸í„°í˜ì´ìŠ¤ì¸ JpaRespositoryëŠ” org.springframework.data.jpa.repository.support.SimpleJpaRepository í´ë˜ìŠ¤ê°€ êµ¬í˜„í•œë‹¤. 123456789101112131415@Repository // 1@Transactional(readOnly = true) // 2public class SimpleJpaRepository&lt;T, ID&gt; implements JpaRepository&lt;T, ID&gt;, JpaSpecificationExecutor&lt;T&gt; &#123; @Transactional // 3 public &lt;S extends T&gt; S save(S entity) &#123; // 4 if (entityInformation.isNew(entity)) &#123; em.persist(entity); return entity; &#125; else &#123; return em.merge(entity); &#125; &#125; // ....&#125; @Repository ì ìš© JPA ì˜ˆì™¸ë¥¼ ìŠ¤í”„ë§ì´ ì¶”ìƒí™” í•œ ì˜ˆì™¸ë¡œ ë³€í™˜í•œë‹¤. Transactional(readOnly = true) ì ìš© ì „ì²´ì ìœ¼ë¡œ íŠ¸ëœì­ì…˜ì´ ì ìš©ë˜ì–´ ìˆë‹¤. ì´ë¡œì¸í•´ ì„œë¹„ìŠ¤ì—ì„œ íŠ¸ëœì­ì…˜ì„ ì ìš©í•˜ì§€ ì•Šìœ¼ë©´ ë ˆíŒŒì§€í† ë¦¬ì—ì„œ íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•˜ê²Œ ëœë‹¤. ê³µí†µ ì¸í„°í˜ì´ìŠ¤ì—ëŠ” ì¡°íšŒí•˜ëŠ” ë©”ì„œë“œê°€ ë§ìœ¼ë¯€ë¡œ ì „ì²´ì ìœ¼ë¡œ readOnly=trueë¥¼ ì ìš©í•´ì„œ ì•½ê°„ì˜ ì„±ëŠ¥í–¥ìƒì„ ì–»ëŠ”ë‹¤. Transactional ì¡°íšŒ ë©”ì„œë“œê°€ ì•„ë‹ˆë¼ì„œ readOnly=trueê°€ ë¹ ì§€ê²Œ í•œë‹¤. save ë³´ë‹¤ì‹œí”¼ ì €ì¥í•  ì—”í‹°í‹°ê°€ ìƒˆë¡œìš´ ì—”í‹°í‹°ë©´ ì €ì¥í•˜ê³  ì´ë¯¸ ìˆëŠ” ì—”í‹°í‹°ë©´ ë³‘í•©í•œë‹¤. ì—¬ê¸°ì„œ ì‚¬ìš©ë˜ëŠ” entityInformation.isNewëŠ” ì‹ë³„ìê°€ ê°ì²´ì¼ë•ŒëŠ” null, primitive íƒ€ì…ì¼ë•ŒëŠ” 0ì´ë©´ ìƒˆë¡œìš´ ê°ì²´ë¼ê³  íŒë‹¨í•œë‹¤. Persistable ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ ê°ì²´ë¥¼ ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ë©´ ìœ„ì˜ ì¡°ê±´ì„ ì§ì ‘ ì •ì˜í•  ìˆ˜ ìˆë‹¤. ì‚¬ìš© ë©”ì„œë“œ ì´ë¦„ìœ¼ë¡œ ì¿¼ë¦¬ ìƒì„± ì¸í„°í˜ì´ìŠ¤ì— ì„ ì–¸í•œ ë©”ì„œë“œì˜ ì´ë¦„ìœ¼ë¡œ ì ì ˆí•œ JPQL ì¿¼ë¦¬ë¥¼ ìƒì„±í•´ì£¼ëŠ” ë§ˆë²•ê°™ì€(ã…‹ã…‹) ê¸°ëŠ¥ì´ë‹¤. 123public interface MemberRepository extends JpaRepository&lt;Member, Long&gt;&#123; List&lt;Member&gt; findByEmailAndName(String email, String name);&#125; ì´ë ‡ê²Œë§Œ ì‘ì„±í•˜ë©´ Spring Data JPAê°€ ë©”ì„œë“œ ì´ë¦„ì„ ë¶„ì„í•´ì„œ JPQLì„ ìƒì„±í•œë‹¤. ìœ„ì˜ ë©”ì„œë“œë¥¼ í†µí•´ ìƒì„±ë˜ëŠ” JPQLì€ ì•„ë˜ì™€ ê°™ë‹¤. 1SELECT m FROM Member m WHERE m.email = ?1 AND m.name = ?2 ë¬¼ë¡  ì •í•´ì§„ ê·œì¹™ì€ ìˆë‹¤. í˜„ì¬ ë³´ë‹ˆê¹Œ ìƒê°ë³´ë‹¤ êµ‰ì¥íˆ ë§ì€ ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤. https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.details findByNameAndEmail ì˜ í˜•íƒœë¡œ ì‘ì„±. By ë’¤ë¶€í„° íŒŒì‹± (ì¡°ê±´ì€ ì—¬ê¸°ì—) findDistinctBy ë¡œ distinct ê°€ëŠ¥ ì—”í‹°í‹° íƒìƒ‰ ê°€ëŠ¥. camel caseë¡œ í•´ë„ ë˜ì§€ë§Œ ì• ë§¤í•˜ë‹ˆ findByAddress_ZipCode ì²˜ëŸ¼ _ë¡œ ì´ì–´ì£¼ëŠ”ê²Œ ì¢‹ì„ ë“¯ findFirst3By, findTop10By, findFirstBy(1ê±´) ë¡œ limit ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. findLast3By ê°™ì€ê±´ ì—†ìŒ findByAgeOrderByNameDesc ì²˜ëŸ¼ order by ê°€ëŠ¥ findBy ë§ê³  countBy, deleteByë„ ìˆìŒ ë°˜í™˜ íƒ€ì… Spring Data JPAëŠ” ìœ ì—°í•œ ë°˜í™˜ íƒ€ì…ì„ ì§€ì›í•œë‹¤. https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repository-query-return-types ê¸°ë³¸ì ìœ¼ë¡œ ê²°ê³¼ê°€ í•œê±´ ì´ìƒì´ë©´ ì»¬ë ‰ì…˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê³ , ë‹¨ê±´ì´ë©´ ë°˜í™˜ íƒ€ì…ì„ ì§€ì •í•œë‹¤. 12List&lt;Member&gt; findByMember(String name); // ì»¬ë ‰ì…˜ Member findByEmail(String email); // ë‹¨ê±´ ë‹¨ê±´ì˜ ê²½ìš° T í˜•íƒœì™€ Optional&lt;T&gt; í˜•íƒœ 2ê°œë¡œ ë°›ì„ ìˆ˜ ìˆë‹¤. ê²°ê³¼ê°€ 2ê±´ì´ìƒ ë‚˜ì˜¤ë©´ javax.persistence.NonUniqueResultException ì˜ˆì™¸ê°€ ë°œìƒí•˜ê³ , ê²°ê³¼ê°€ 0ê±´ì¼ ê²½ìš° TëŠ” null, Optional&lt;T&gt;ëŠ” Optional.empty() ë¥¼ ë¦¬í„´í•œë‹¤. ì°¸ê³ ë¡œ ë‹¨ê±´ì˜ ê²½ìš° ë‚´ë¶€ì ìœ¼ë¡œ query.getSingleResult()ë¥¼ ì‚¬ìš©í•´ì„œ ê²°ê³¼ê°€ 0ê±´ì¼ ê²½ìš° javax.persistence.NoResultExceptionì´ ë°œìƒí•´ì•¼í•˜ì§€ë§Œ, ì´ëŠ” ë‹¤ë£¨ê¸°ê°€ ê¹Œë‹¤ë¡œìš°ë¯€ë¡œ exceptionì„ ë°œìƒì‹œí‚¤ì§€ ì•ŠëŠ” ë°©í–¥ìœ¼ë¡œ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤. Named Query ì—”í‹°í‹°ë‚˜ xmlì— ì‘ì„±í•œ Named Queryë„ ì°¾ì•„ê°ˆ ìˆ˜ ìˆë‹¤. 1234567891011@Entity@NamedQuery( name = "Member.findByName", query = "select m from Member m where m.name = :name")public class Member&#123;&#125;public interface MemberRepository extends JpaRepository&lt;Member, Long&gt;&#123; List&lt;Member&gt; findByName(@Param("name") String name);&#125; Spring Data JPAëŠ” ë©”ì„œë“œ ì´ë¦„ìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ìƒì„±í•˜ê¸° ì „ì— í•´ë‹¹ ì´ë¦„ì˜ Named Queryë¥¼ ë¨¼ì € ì°¾ëŠ”ë‹¤(ì „ëµ ë³€ê²½ ê°€ëŠ¥) ë„ë©”ì¸ í´ë˜ìŠ¤ + .(ì ) + ë©”ì„œë“œ ì´ë¦„ìœ¼ë¡œ ë¨¼ì € ì°¾ê³ , ì—†ìœ¼ë©´ JPQLì„ ìƒì„±í•œë‹¤. ìœ„ì˜ ìƒí™©ì—ì„œëŠ” Member.findByName Named Queryë¥¼ ì°¾ê²Œ ëœë‹¤. JPQL ì§ì ‘ ì •ì˜ org.springframework.data.jpa.repository.Query ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤. 1234567891011// ìœ„ì¹˜ê¸°ë°˜ íŒŒë¼ë¯¸í„°public interface MemberRepository extends JpaRepository&lt;Member, Long&gt;&#123; @Query("SELECT m FROM Member m WHERE m.name = ?1") Member findByName(String name);&#125;// ì´ë¦„ê¸°ë°˜ íŒŒë¼ë¯¸í„°public interface MemberRepository extends JpaRepository&lt;Member, Long&gt;&#123; @Query("SELECT m FROM Member m WHERE m.name = :name") Member findByName(@Param("name") String name);&#125; ì•„ë¬´ë¦¬ë´ë„ ìœ„ì¹˜ê¸°ë°˜ íŒŒë¼ë¯¸í„°ëŠ” ê°œê·¹í˜ì´ë‹¤. ë‚´ ì£¼ë³€ì‚¬ëŒì—ëŠ” ìœ„ì¹˜ê¸°ë°˜ íŒŒë¼ë¯¸í„°ë¥¼ ì“°ëŠ” ì‚¬ëŒì´ ì—†ìœ¼ë©´ ì¢‹ê² ë‹¤. ë„¤í‹°í‹°ë¸Œ ì¿¼ë¦¬ë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. nativeQuery = true ì˜µì…˜ë§Œ ì£¼ë©´ ëœë‹¤. 1234public interface MemberRepository extends JpaRepository&lt;Member, Long&gt;&#123; @Query(value = "SELECT * FROM Member WHERE name = ?0", nativeQuery = true) Member findByName(String name);&#125; ë„¤ì´í‹°ë¸Œ ì¿¼ë¦¬ëŠ” ìœ„ì¹˜ê¸°ë°˜ íŒŒë¼ë¯¸í„°ê°€ 0ë¶€í„° ì‹œì‘í•œë‹¤. ë²Œí¬ ì—°ì‚° 12345public interface MemberRepository extends JpaRepository&lt;Member, Long&gt;&#123; @Modifying @Query("UPDATE Product p SET p.price = p.price * 1.1 WHERE p.stockAmount &lt; :stockAmount") int updatePrice(@Param("stockAmount") String stockAmount);&#125; @Modifyingì„ ëª…ì‹œí•´ì¤˜ì•¼ í•œë‹¤. ê¸°ì¡´ ë²Œí¬ ì—°ì‚°ì²˜ëŸ¼ ì˜í–¥ë°›ì€ ì—”í‹°í‹°ì˜ ê°œìˆ˜ë¥¼ ë°˜í™˜í•œë‹¤. ì•Œë‹¤ì‹œí”¼ ë²Œí¬ ì—°ì‚°ì€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ë¬´ì‹œí•œë‹¤. ë²Œí¬ ì—°ì‚°í›„ì— ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì´ˆê¸°í™”í•˜ê³  ì‹¶ìœ¼ë©´ clearAutomatically ì˜µì…˜ì„ trueë¡œ ì£¼ë©´ ëœë‹¤. ê¸°ë³¸ê°’ì€ falseì´ë‹¤. 123@Modifying(clearAutomatically = true)@Query("~~")// ~~~ í˜ì´ì§•ê³¼ ì •ë ¬ ì•„ë˜ì˜ ë‘ íŒŒë¼ë¯¸í„°ë¥¼ ì‚¬ìš©í•˜ë©´ ì¿¼ë¦¬ ë©”ì„œë“œì— í˜ì´ì§•ê³¼ ì •ë ¬ ê¸°ëŠ¥ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. org.springframework.data.domain.Sort : ì •ë ¬ê¸°ëŠ¥ org.springframework.data.domain.Pageable : í˜ì´ì§•ê¸°ëŠ¥(Sort í¬í•¨) ì‚¬ìš©ë²•ì€ ê°„ë‹¨í•˜ë‹¤. ìœ„ì˜ ë‘ í´ë˜ìŠ¤ë¥¼ íŒŒë¼ë¯¸í„°ì— ì‚¬ìš©í•˜ê¸°ë§Œ í•˜ë©´ ëœë‹¤. Pageableì„ ì‚¬ìš©í•˜ë©´ ë°˜í™˜íƒ€ì…ìœ¼ë¡œ Pageë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤. í•´ë‹¹ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë©´ í˜ì´ì§•ê³¼ ê´€ë ¨ëœ ë‹¤ì–‘í•­ ì •ë³´ë“¤ì„ ì–»ì„ ìˆ˜ ìˆë‹¤. ì°¸ê³ ë¡œ Pageë¥¼ ë°˜í™˜íƒ€ì…ìœ¼ë¡œ ë°›ìœ¼ë©´ ì „ì²´ ë°ì´í„° ê±´ìˆ˜ë¥¼ ì¡°íšŒí•˜ëŠ” count ì¿¼ë¦¬ê°€ ì¶”ê°€ë¡œ ë‚ ë¼ê°„ë‹¤. 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647public interface Page&lt;T&gt; extends Slice&lt;T&gt; &#123; static &lt;T&gt; Page&lt;T&gt; empty() &#123; return empty(Pageable.unpaged()); &#125; static &lt;T&gt; Page&lt;T&gt; empty(Pageable pageable) &#123; return new PageImpl(Collections.emptyList(), pageable, 0L); &#125; int getTotalPages(); long getTotalElements(); &lt;U&gt; Page&lt;U&gt; map(Function&lt;? super T, ? extends U&gt; var1);&#125;public interface Slice&lt;T&gt; extends Streamable&lt;T&gt; &#123; int getNumber(); int getSize(); int getNumberOfElements(); List&lt;T&gt; getContent(); boolean hasContent(); Sort getSort(); boolean isFirst(); boolean isLast(); boolean hasNext(); boolean hasPrevious(); default Pageable getPageable() &#123; return PageRequest.of(this.getNumber(), this.getSize(), this.getSort()); &#125; Pageable nextPageable(); Pageable previousPageable(); &lt;U&gt; Slice&lt;U&gt; map(Function&lt;? super T, ? extends U&gt; var1);&#125; ì•„ë˜ëŠ” ê°„ë‹¨í•œ ì‚¬ìš© ì˜ˆì œì´ë‹¤. 123456789// Pageableì€ interface ì´ë¯€ë¡œ êµ¬í˜„ì²´ì¸ PageRequest ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤. // í˜ì´ì§€, limitìˆ˜, Sort ê°ì²´ë¥¼ ì£¼ë©´ ëœë‹¤ PageRequest pageRequest = PageRequest.of(0, 10, new Sort(Direction.DESC, "name"));Page&lt;Member&gt; result = memberRepository.findByNameStartingWith("ê¹€", pageRequest);result.getContet(); // ì¡°íšŒëœ ë°ì´í„° result.getTotalPages(); // ì „ì²´ í˜ì´ì§€ ìˆ˜ result.hasNextPage(); // ë‹¤ìŒ í˜ì´ì§€ ì¡´ì¬ ì—¬ë¶€ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì‚¬ìš© Pageable ê°ì²´ë¥¼ Controller parameterë¡œ ì§ì ‘ ë°›ì„ìˆ˜ë„ ìˆë‹¤ 1234@GetMapping("/members")public String list(Pageable pageable)&#123; // ...&#125; 1/members?page=0&amp;limit=10&amp;sort=name,asc&amp;sort=age,desc pageable ê¸°ë³¸ê°’ì€ page=0, size=20ì´ë‹¤. ì •ë ¬ì„ ì¶”ê°€í•˜ê³  ì‹¶ìœ¼ë©´ sort íŒŒë¼ë¯¸í„°ë¥¼ ê³„ì† ë¶™ì—¬ì£¼ë©´ ëœë‹¤. í˜ì´ì§• ì •ë³´ê°€ ë‘˜ ì´ìƒì´ë©´ ì ‘ë‘ì‚¬ë¥¼ ì‚¬ìš©í•´ì„œ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤ 123456@GetMapping("/members")public String list( @Qualifier("member") Pageable memberPageable, @Qualifier("order")Pageable orderPageable)&#123; // ...&#125; 1/members?member_page=0&amp;order_page=1 ì‚¬ìš©ì ì •ì˜ ë ˆíŒŒì§€í† ë¦¬ êµ¬í˜„ Spring Data JPAë¡œ ê°œë°œí•˜ë©´ ì¸í„°í˜ì´ìŠ¤ë§Œ ì •ì˜í•˜ê³  êµ¬í˜„ì²´ëŠ” ë§Œë“¤ì§€ ì•ŠëŠ”ë°, ë‹¤ì–‘í•œ ì´ìœ ë¡œ ë©”ì„œë“œë¥¼ ì§ì ‘ êµ¬í˜„í•´ì•¼ í•  ë•Œë„ ìˆë‹¤. ê·¸ë ‡ë‹¤ê³  ë ˆíŒŒì§€í† ë¦¬ ìì²´ë¥¼ ì§ì ‘ êµ¬í˜„í•˜ë©´ ê³µí†µ ì¸í„°í˜ì´ìŠ¤ê°€ ì œê³µí•˜ëŠ” ëª¨ë“  ê¸°ëŠ¥ê¹Œì§€ ë‹¤ êµ¬í˜„í•´ì•¼ í•œë‹¤. Spring Data JPAëŠ” ì´ëŸ° ë¬¸ì œë¥¼ ìš°íšŒí•´ì„œ í•„ìš”í•œ ë©”ì„œë“œë§Œ êµ¬í˜„í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì œê³µí•œë‹¤. ë¨¼ì € ì‚¬ìš©ìê°€ ì§ì ‘ êµ¬í˜„í•  ë©”ì„œë“œë¥¼ ìœ„í•œ ì •ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‘ì„±í•œë‹¤. 123public interface MemberRepositoryCustom&#123; public List&lt;Member&gt; search();&#125; ìœ„ì˜ ì‚¬ìš©ìì •ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤ë¥¼ ì‘ì„±í•œë‹¤. ì´ë–„ í´ë˜ìŠ¤ ì´ë¦„ì€ ë ˆíŒŒì§€í† ë¦¬ ì¸í„°í˜ì´ìŠ¤ ì´ë¦„ + Implë¡œ ì§€ì–´ì•¼í•œë‹¤. ì´ë ‡ê²Œ í•´ì•¼ Spring Data JPAê°€ ì‚¬ìš©ì ì •ì˜ êµ¬í˜„ í´ë˜ìŠ¤ë¡œ ì¸ì‹í•œë‹¤. 123456public class MemberRepositoryImpl implements MemberRepositoryCustom&#123; @Override public List&lt;Member&gt; search()&#123; // .... &#125;&#125; ì´ í´ë˜ìŠ¤ ì´ë¦„ ê·œì¹™ì€ ë³€ê²½í•  ìˆ˜ ìˆë‹¤. configì— ì„¤ì •í–ˆë˜ spring data jpa ì„¤ì •ì˜ ì†ì„±ê°’ì¸ repository-impl-postfix ê°’ì„ ì§€ì •í•´ì£¼ë©´ ëœë‹¤. ê¸°ë³¸ê°’ì€ Impl ì´ë‹¤. 1@EnableJpaRepositories(basePackages = "com.joont.repository", repositoryImplementationPostfix = "impl") ë§ˆì§€ë§‰ìœ¼ë¡œ ë ˆíŒŒì§€í† ë¦¬ ì¸í„°í˜ì´ìŠ¤ì—ì„œ ì‚¬ìš©ìì •ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì†ë°›ìœ¼ë©´ ëœë‹¤. 123public interface MemberRepository extends JpaRepository&lt;Member, Long&gt;, MemberRepositoryCustom&#123;&#125; spring data jpa + QueryDSL springì€ 2ê°€ì§€ ë°©ë²•ìœ¼ë¡œ QueryDSLì„ ì§€ì›í•˜ì§€ë§Œ, í•˜ë‚˜ëŠ” ê¸°ëŠ¥ì— ì¡°ê¸ˆ í•œê³„ê°€ ìˆì–´ì„œ ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë ¤ë©´ JPAQueryë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ê±°ë‚˜ Spring Data JPAê°€ ì œê³µí•˜ëŠ” QueryDslRepositorySupportë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤. ì•„ë˜ëŠ” ì‚¬ìš© ì˜ˆì œì´ë‹¤. ì½”ë“œë¥¼ ì§ì ‘ ì¨ì•¼í•˜ë¯€ë¡œ ì‚¬ìš©ì ì •ì˜ ë ˆíŒŒì§€í† ë¦¬ë¥¼ êµ¬í˜„í•´ì•¼í•œë‹¤. 1234567891011121314151617181920212223242526public class OrderRepositoryImpl extends QueryDslRepositorySupport implements OrderRepositoryCustom &#123; public OrderRepositoryImpl() &#123; super(Order.class); &#125; @Override public List&lt;Order&gt; search(OrderSearch orderSearch, Pageable pa) &#123; QOrder order = QOrder.order; QMember member = QMember.member; JPQLQuery query = from(order); if (StringUtils.hasText(orderSearch.getMemberName())) &#123; query.leftJoin(order.member, member) .where(member.name.contains(orderSearch.getMemberName())); &#125; if (orderSearch.getOrderStatus() != null) &#123; query.where(order.status.eq(orderSearch.getOrderStatus())); &#125; return query.list(order); &#125;&#125; QueryDslRepositorySupport í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì•„ì„œ ì‚¬ìš©í•˜ê³  ìˆë‹¤. ì°¸ê³ ë¡œ ìƒì„±ìì—ì„œ QueryDslRepositorySupportì— í´ë˜ìŠ¤ ì •ë³´ë¥¼ ë„˜ê²¨ì¤˜ì•¼ í•œë‹¤. ê¸°ì¡´ì— ìƒì„±í•˜ê¸° ë‚˜ë¦„ ë²ˆê±°ë¡œì› ë˜ JPAQuery, JPAUpdateClause, JPADeleteClause ë“±ì„ ê°„ë‹¨í•˜ê²Œ ìƒì„±í•  ìˆ˜ ìˆë‹¤. ì°¸ê³ ë¡œ ë°˜í™˜ì€ ì „ë¶€ ì¸í„°í˜ì´ìŠ¤ íƒ€ì…ì¸ JPQLQuery, UpdateClause, DeleteClause ë“±ì„ ë°˜í™˜í•œë‹¤. ì´ ì™¸ì—ë„ EntityManager, QueryDSLí—¬í¼ ë“±ì„ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œë„ êµ¬í˜„ë˜ì–´ ìˆë‹¤. QueryDSLì— Pageable ì ìš©í•˜ê¸° QueryDslRepositorySupportë¥¼ ì‚¬ìš©í•˜ë©´ Spring Data JPAì˜ Pageableì„ ê°„ë‹¨í•˜ê²Œ ì ìš©í•  ìˆ˜ ìˆë‹¤. 123456789QItem item = QItem.item;JPQLQuery&lt;Item&gt; query = from(item);// making conditionquery.where(condition).distinct();long totalCount = query.fetchCount();List&lt;Item&gt; results = getQuerydsl().applyPagination(pageable, query).fetch();return new PageImpl&lt;&gt;(results, pageable, totalCount); Pageë¥¼ ë¦¬í„´í•¨ìœ¼ë¡œì¨ ì™„ë²½í•˜ê²Œ Pageableì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.]]></content>
      <categories>
        <category>jpa</category>
      </categories>
      <tags>
        <tag>findBy</tag>
        <tag>@Query</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mac virtualbox ì„¤ì¹˜ ì‹¤íŒ¨]]></title>
    <url>%2Fetc%2Fmac-virtualbox-%EC%84%A4%EC%B9%98-%EC%8B%A4%ED%8C%A8%2F</url>
    <content type="text"><![CDATA[https://hongku.tistory.com/64 í™˜ê²½ì„¤ì • - ë³´ì•ˆ ë° ê°œì¸ì •ë³´ ë³´í˜¸ - ì¼ë°˜ - ì•„ë˜ìª½ í—ˆìš©ë²„íŠ¼ í´ë¦­ - Oracle America í—ˆìš©]]></content>
      <categories>
        <category>etc</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[[java] stream example]]></title>
    <url>%2Fjava%2Fstream-example%2F</url>
    <content type="text"><![CDATA[stream ë„ëŠ” ì˜¤ë¸Œì íŠ¸ì— ì¶”ê°€ì ì¸ í–‰ìœ„ë¥¼ í•˜ê¸° 1234list.stream() .map(mapper::toEntity) .peek(e -&gt; e.setParent(parent)) .forEach(childRepository::save); peekì„ ì´ìš©í•˜ì—¬ ì¤‘ê°„ì¤‘ê°„ ë©”ì„œë“œë“¤ì„ í˜¸ì¶œ ê°€ëŠ¥í•˜ë‹¤. Streamì„ ì´ìš©í•˜ì—¬ ë…¸ì¶œìˆœì„œ ì •ë ¬í•˜ê¸° 123456789101112AtomicInteger i = new AtomicInteger(0);SomeDTOList.stream() .sorted(Comparator.comparingInt(SomeDTO::getDisplayOrder)) .peek(dto -&gt; dto.setDisplayOrder(i.incrementAndGet())) .peek(dto -&gt; &#123; AtomicInteger j = new AtomicInteger(0); dto.getChildren().stream() .sorted(Comparator.comparingInt(SomeChildDTO::getDisplayOrder)) .forEach(c -&gt; c.setDisplayOrder(j.incrementAndGet())); &#125;) .map(itemOptionMapper::toEntity) .forEach(repository::save); ìì‹ë“¤ì˜ ì†ì„±ë“¤ê¹Œì§€ ë“¤ê³ ì™€ í•˜ë‚˜ì˜ ë¦¬ìŠ¤íŠ¸ë¡œ í•©ì¹˜ê¸° 1234Stream.of(category) .flatMap(c -&gt; c.getChildCategories().stream()) .map(Category::getId) .collect(Collectors.toList())]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[[db] ë½(lock)]]></title>
    <url>%2Fdb%2F%EB%9D%BD-lock%2F</url>
    <content type="text"><![CDATA[MySQLì—ì„œ ì‚¬ìš©í•˜ëŠ” ì ê¸ˆì€ í¬ê²Œ MySQL ì—”ì§„ ë ˆë²¨ê³¼ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ë ˆë²¨ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤. MySQL ì—”ì§„ ë ˆë²¨ì˜ ì ê¸ˆì€ ëª¨ë“  ìŠ¤í† ë¦¬ì œ ì—”ì§„ì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ë§Œ, ìŠ¤íŠ¸ë¦¬ì§€ ì—”ì§„ ë ˆë²¨ì˜ ì ê¸ˆì€ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ê°„ ìƒí˜¸ ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•ŠëŠ”ë‹¤. MySQL ì—”ì§„ ì ê¸ˆ ê¸€ë¡œë²Œ ë½ MySQL ì„œë²„ì— ì¡´ì¬í•˜ëŠ” ëª¨ë“  í…Œì´ë¸”ì— ì ê¸ˆì„ ê±¸ê²Œë˜ë©°, MySQLì—ì„œ ì œê³µí•˜ëŠ” ë½ì˜ ë²”ìœ„ì¤‘ì— ê°€ì¥ í¬ë‹¤. 1FLUSH TABLES WITH READ LOCK ëª…ë ¹ìœ¼ë¡œ ë½ì„ íšë“í•  ìˆ˜ ìˆê³ (ê¸°ì¡´ì— ì‹¤í–‰ì¤‘ì¸ ë½ì´ ìˆìœ¼ë©´ ê¸°ë‹¤ë¦°ë‹¤), ëª¨ë“  í…Œì´ë¸” ëª¨ë“  ë ˆì½”ë“œì— ë³€ê²½ì´ ë¶ˆê°€ëŠ¥í•˜ê²Œ ëœë‹¤. ì„œë²„ì˜ ë¯¸ì¹˜ëŠ” ì˜í–¥ì´ í¬ê¸° ë–„ë¬¸ì— ì›¹ ì„œë¹„ìŠ¤ìš©ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” MySQLì—ì„œëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ê²ƒì´ ì¢‹ë‹¤. mysqldump ê°™ì€ê²ƒì´ ìš°ë¦¬ê°€ ëª¨ë¥´ëŠ” ì‚¬ì´ì— ë‚´ë¶€ì ìœ¼ë¡œ ì´ ëª…ë ¹ì„ ì‹¤í–‰í•˜ê³  ë°±ì—…í•  ë•Œë„ ìˆë‹¤. í…Œì´ë¸” ë½ ê°œë³„ í…Œì´ë¸” ë‹¨ìœ„ë¡œ ì ê¸ˆì„ ê±°ëŠ” ë°©ì‹ì´ë©°, ëª…ì‹œì  ë˜ëŠ” ë¬µì‹œì ìœ¼ë¡œ íŠ¹ì • í…Œì´ë¸”ì˜ ë½ì„ íšë“í•  ìˆ˜ ìˆë‹¤. ë¬µì‹œì  ë°©ë²• MyISAMì´ë‚˜ Memory DBì—ì„œ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ë©´ ìë™ìœ¼ë¡œ í…Œì´ë¸” ë½ì´ íšë“ëœë‹¤. (ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆ ìë™ìœ¼ë¡œ íšë“ë¬ë‹¤ê°€ ì¿¼ë¦¬ê°€ ì™„ë£Œë˜ë©´ ìë™ìœ¼ë¡œ í•´ì œëœë‹¤.) MyISAMì´ë‚˜ Memoryì˜ ê²½ìš° ì´ ë¬µì‹œì  LOCKì´ í•´ë‹¹ëœë‹¤. InnoDBì˜ ê²½ìš° ë ˆì½”ë“œ ê¸°ë°˜ ì ê¸ˆì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ë³€ê²½ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•´ë„ í…Œì´ë¸” ì ê¸ˆì´ ë°œìƒí•˜ì§„ ì•Šì§€ë§Œ, ìŠ¤í‚¤ë§ˆë¥¼ ë³€ê²½í•˜ëŠ” DDL ì¿¼ë¦¬ë¥¼ ìˆ˜í–‰í•  ê²½ìš° í…Œì´ë¸” ë½ì„ ë¬µì‹œì ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤. ëª…ì‹œì  ë°©ë²• InnoDBë„ ì•„ë˜ì™€ ê°™ì´ ëª…ì‹œì ìœ¼ë¡œ ì„ ì–¸í•˜ì—¬ Table LOCKì„ íšë“í•  ìˆ˜ ìˆë‹¤. 1LOCK TABLES table_name [READ | WRITE] READë“  WRITEë“  ê±¸ê²Œ ë˜ë©´ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ í•´ë‹¹ í…Œì´ë¸”ì— ë³€ê²½ ì‘ì—…ì„ í•  ìˆ˜ ì—†ê²Œ ëœë‹¤. READëŠ” ì¼ê´€ëœ ì½ê¸°ë¥¼ ìœ„í•´ ë½ì„ ê±°ëŠ” ê²ƒì´ê³ , WRITEëŠ” ë°ì´í„° ë³€ê²½ì„ ìœ„í•´ ë½ì„ ê±°ëŠ” ê²ƒì´ë‹¤. Table READ ë½ì˜ ê²½ìš° ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ READê°€ ê°€ëŠ¥í•˜ì§€ë§Œ WRITEê°€ ë¶ˆê°€ëŠ¥í•˜ê³ , READ ë½ì„ ê±´ íŠ¸ëœì ¹ì…˜ì´ í•´ë‹¹ í…Œì´ë¸”ì˜ ë°ì´í„° ë³€ê²½ì„ ì›í•œë‹¤ë©´ ë‹¤ì‹œ WRITE ë½ì„ íšë“í•´ì•¼ í•œë‹¤. ì•„ë‹ˆë©´ Table was locked with a READ lock and can't be updated ì™€ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤. Table WRITE ë½ì˜ ê²½ìš° ë½ì„ ê±´ íŠ¸ëœì­ì…˜ë§Œì´ í•´ë‹¹ í…Œì´ë¸”ì— ì ‘ê·¼ ê°€ëŠ¥í•˜ê³ , ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì€ ì ‘ê·¼ ë¶ˆê°€ëŠ¥í•˜ë‹¤. ì—¬ê¸°ì„œ ì ‘ê·¼ì´ë€ read, writeë¥¼ ëª¨ë‘ í¬í•¨í•˜ë¯€ë¡œ Table WRITE ë½ì´ ê±¸ë¦° í…Œì´ë¸”ì€ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ ì¡°íšŒë„ ë¶ˆê°€ëŠ¥í•˜ë‹¤. 1UNLOCK TABLES ìœ„ì˜ ëª…ë ¹ì„ í†µí•´ íŠ¸ëœì­ì…˜ì—ì„œ íšë“í•œ í…Œì´ë¸” ë½ì„ í•´ì œí•  ìˆ˜ ìˆë‹¤. ìœ ì € ë½ GET_LOCK í•¨ìˆ˜ë¥¼ í†µí•´ ì ê¸ˆì„ íšë“í•  ìˆ˜ ìˆìœ¼ë©°, ë‹¨ìˆœíˆ ì‚¬ìš©ìê°€ ì§€ì •í•œ ë¬¸ìì—´ì— ëŒ€í•´ ë½ì„ íšë“í•˜ê³  ë°˜ë‚©í•œë‹¤. ë¬¸ìì—´ì— ëŒ€í•´ ì ê¸ˆì„ íšë“í•œë‹¤ëŠ”ê²Œ ì •í™•íˆ ì´í•´ê°€ ì•ˆê°„ë‹¤â€¦ ë¬¸ìì—´ì€ ì–´ì©Œí”¼ immutable í• í…ë° ë½ì„ ê±¸ì–´ì•¼ í•  ì´ìœ ê°€ ìˆì„ê¹Œ? ë„¤ì„ ë½ db ê°ì²´(í…Œì´ë¸” ë“±)ì˜ ì´ë¦„ì„ ë³€ê²½í•˜ëŠ” ê²½ìš° íšë“í•˜ëŠ” ì ê¸ˆì´ë‹¤. ëª…ì‹œì ìœ¼ë¡œ íšë“í•˜ê±°ë‚˜ í•´ì œí•  ìˆ˜ ìˆëŠ”ê²ƒì€ ì•„ë‹ˆê³ , RENAME TABLE a TO b ì²˜ëŸ¼ í…Œì´ë¸”ì˜ ì´ë¦„ì„ ë³€ê²½í•˜ëŠ” ê²½ìš° ìë™ìœ¼ë¡œ íšë“í•˜ëŠ” ì ê¸ˆì´ë‹¤. ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì ê¸ˆ MyISAM, MEMOERY ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì ê¸ˆ ìì²´ì ì¸ ì ê¸ˆì„ ê°€ì§€ê³  ìˆì§€ ì•Šê³  MySQL ì—”ì§„ì—ì„œ ì œê³µí•˜ëŠ” í…Œì´ë¸” ë½ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•œë‹¤. InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„ ì ê¸ˆ InnoDBì˜ ê²½ìš° ë ˆì½”ë“œ ê¸°ë°˜ ì ê¸ˆ ë°©ì‹ì„ ì‚¬ìš©í•œë‹¤. ì´ë¡œ ì¸í•´ í›¨ì”¬ ë›°ì–´ë‚œ ë™ì‹œì„± ì²˜ë¦¬ë¥¼ ì œê³µí•  ìˆ˜ ìˆê²Œëœë‹¤. ì ê¸ˆ ë°©ì‹ ë¹„ê´€ì  ì ê¸ˆ ë³€ê²½í•˜ê³ ì í•˜ëŠ” ë ˆì½”ë“œì— ëŒ€í•´ ì ê¸ˆì„ ë¨¼ì € íšë“í•˜ê³  ë³€ê²½ ì‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ í˜„ì¬ ë³€ê²½í•˜ê³ ì í•˜ëŠ” ë ˆì½”ë“œë¥¼ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œë„ ë³€ê²½í•  ìˆ˜ ìˆë‹¤ëŠ” ë¹„ê´€ì  ê°€ì •ì„ í•˜ê¸° ë•Œë¬¸ì—, ë¨¼ì € ì ê¸ˆì„ íšë“ ë†’ì€ ë™ì‹œì„± ì²˜ë¦¬ì— ìœ ë¦¬í•˜ë©°, InnoDBê°€ ê¸°ë³¸ìœ¼ë¡œ ì±„íƒí•˜ê³  ìˆëŠ” ë°©ì‹ì„ ë‚™ê´€ì  ì ê¸ˆ ê° íŠ¸ëœì­ì…˜ì´ ê°™ì€ ë ˆì½”ë“œë¥¼ ë³€ê²½í•  ê°€ëŠ¥ì„±ì€ í¬ë°•í•  ê²ƒì´ë¼ê³  ë‚™ê´€ì ìœ¼ë¡œ ê°€ì • ë³€ê²½ ì‘ì—…ì„ ë¨¼ì € ìˆ˜í–‰í•˜ê³ , ë§ˆì§€ë§‰ì— ì ê¸ˆ ì¶©ëŒì´ ìˆëŠ”ì§€ í™•ì¸ ë¬¸ì œê°€ ìˆì—ˆë‹¤ë©´ ROLLBACK ì²˜ë¦¬ ì ê¸ˆ ì¢…ë¥˜ ë ˆì½”ë“œ ë½(Record Lock) ë ˆì½”ë“œ ìì²´ë§Œì„ ì ê·¸ëŠ” í–‰ìœ„ë¥¼ ë§í•œë‹¤. ë‹¤ë¥¸ ìƒìš© DBMSì˜ ë ˆì½”ë“œ ë½ê³¼ ë‹¬ë¦¬ InnoDBì˜ ê²½ìš° ì¸ë±ìŠ¤ë¥¼ ì°¸ì¡°í•˜ì—¬ ë ˆì½”ë“œë¥¼ ì ê·¼ë‹¤ëŠ” í° íŠ¹ì§•ì´ ìˆë‹¤. ê°­ ë½(Gap Lock) ë ˆì½”ë“œ ìì²´ê°€ ì•„ë‹ˆë¼ ë ˆì½”ë“œì™€ ë°”ë¡œ ì¸ì ‘í•œ ë ˆì½”ë“œ ì‚¬ì´ì˜ ê°„ê²©ë§Œì„ ì ê·¸ëŠ” ê²ƒì„ ë§í•œë‹¤. ë ˆì½”ë“œì™€ ë ˆì½”ë“œ ì‚¬ì´ ê°„ê²©ì— ìƒˆë¡œìš´ ë ˆì½”ë“œê°€ ìƒì„±ë˜ëŠ” ê²ƒì„ ì œì–´í•˜ê¸° ìœ„í•¨ì´ë‹¤. ê°œë…ì¼ ë¿ ìì²´ì ìœ¼ë¡œ ì‚¬ìš©ë˜ì§€ëŠ” ì•Šê³ , ë„¥ìŠ¤íŠ¸ë½ì˜ ì¼ë¶€ë¡œ ì‚¬ìš©ëœë‹¤. ë„¥ìŠ¤íŠ¸ í‚¤ ë½(Next Key Lock) ë ˆì½”ë“œë½ê³¼ ê°­ ë½ì„ í•©ì³ë†“ì€ í˜•íƒœì˜ ì ê¸ˆì„ ë§í•œë‹¤. ìë™ ì¦ê°€ ë½(Auto Increment Lock) ì¸ë±ìŠ¤ì™€ ì ê¸ˆ ìœ„ì—ì„œ ì–¸ê¸‰í–ˆë“¯ì´ InnoDBì˜ ì ê¸ˆì€ ë ˆì½”ë“œë¥¼ ë°”ë¡œ ì ê·¸ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ë ˆì½”ë“œë¥¼ ì ê·¼ë‹¤. ì•„ë˜ì™€ ê°™ì€ ìƒí™©ì´ ìˆë‹¤ê³  í•˜ì. 1234567-- index : ix_firstname(firstnameì— ëŒ€í•œ index) -- 250ê±´SELECT COUNT(*) FROM employees WHERE first_name = 'Georgi';-- 1ê±´ SELECT COUNT(*) FROM employees WHERE first_name = 'Georgi' AND last_name = 'Klasen'; ì´ ìƒí™©ì—ì„œ ì•„ë˜ì™€ ê°™ì€ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ê²Œ ë˜ë©´, 1UPDATE employees SET hire_date = NOW() WHERE first_name = 'Georgi' AND last_name = 'Klasen'; ì—…ë°ì´íŠ¸ ë  ë ˆì½”ë“œëŠ” 1ê±´ì´ì§€ë§Œ, ì¸ë±ìŠ¤ë¡œ í•„í„°í•  ìˆ˜ ìˆëŠ” ë ˆì½”ë“œì˜ ê°œìˆ˜ëŠ” 250ê°œê°€ í•œê³„ì´ë‹¤. last_nameì— ëŒ€í•œ ì¸ë±ìŠ¤ëŠ” ì—†ê³ , first_nameì— ëŒ€í•œ ì¸ë±ìŠ¤ë§Œ ìˆê¸° ë•Œë¬¸ì´ë‹¤. ì¦‰, ìµœì¢…ì ìœ¼ë¡œ first_name = 'Georgi' ì— í•´ë‹¹í•˜ëŠ” 250ê±´ì˜ ë ˆì½”ë“œê°€ ëª¨ë‘ ì ê¸°ëŠ” í˜„ìƒì´ ë°œìƒí•œë‹¤. ì´ëŸ¬í•œ íŠ¹ì§• ë–„ë¬¸ì— UPDATEë‚˜ DELETE ë¬¸ì¥ì„ ìœ„í•œ ì ì ˆí•œ ì¸ë±ìŠ¤ê°€ ì¤€ë¹„ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ë™ì‹œì„±ì´ ìƒë‹¹íˆ ë–¨ì–´ì ¸ì„œ í•œ ì„¸ì…˜ì—ì„œ ë³€ê²½ì‘ì—…ì„ í•˜ëŠ” ì¤‘ì—ëŠ” ë‹¤ë¥¸ ì„¸ì…˜ì—ì„œëŠ” ê·¸ í…Œì´ë¸”ì„ ë³€ê²½í•˜ì§€ ëª»í•˜ê³  ê¸°ë‹¤ë ¤ì•¼ í•˜ëŠ” ìƒí™©ì´ ë°œìƒí•  ê²ƒì´ë‹¤. ì¸ë±ìŠ¤ê°€ ì—†ëŠ” ì»¬ëŸ¼ì„ ì¡°ê±´ìœ¼ë¡œ ë³€ê²½ ì‘ì—…ì„ í•˜ê²Œ ë  ê²½ìš°, í…Œì´ë¸”ì˜ ëª¨ë“  ë ˆì½”ë“œì— ëŒ€í•´ ë‚´ë¶€ í´ëŸ¬ìŠ¤í„°ë“œ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ ë½ì„ ê±¸ê²Œëœë‹¤. ì¦‰ last_name = 'Klasen'ê³¼ ê°™ì€ ì¡°ê±´ìœ¼ë¡œ update ë¬¸ì„ ì‹¤í–‰í•˜ê²Œ ë˜ë©´ ì™¸ë¶€ì—ì„œ ë‹¤ë¥¸ ì•„ë¬´ ë°ì´í„°ë„ ìˆ˜ì •í•  ìˆ˜ ì—†ëŠ” ìƒí™©ì´ ë°œìƒí•˜ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤. ì´ëŸ¬í•œ íŠ¹ì§• ë•Œë¬¸ì— MySQL Client Tool(workbench ë“±)ì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ indexê°€ ì—†ëŠ” ì»¬ëŸ¼ìœ¼ë¡œ ë³€ê²½ì¿¼ë¦¬ë¥¼ ëª» ë‚ ë¦¬ê²Œ ë˜ì–´ìˆëŠ” ê²ƒ ê°™ë‹¤(safe update ê±°ë¦¬ë©´ì„œâ€¦) í•´ê²°ë²•?(ì •í™•í•˜ì§€ ì•ŠìŒ) ì´ëŸ° ë¶ˆí•„ìš”í•œ ë ˆì½”ë“œ ì ê¸ˆ í˜„ìƒì€ InnoDBì˜ ë„¥ìŠ¤íŠ¸ í‚¤ ë½ ë•Œë¬¸ì— ë°œìƒí•˜ëŠ” ê²ƒì´ë‹¤. ë„¥ìŠ¤íŠ¸ í‚¤ ë½ì˜ ê²½ìš° MySQLì˜ ê¸°ë³¸ isolation levelì¸ REPETABLE READì—ì„œ ë””í´íŠ¸ë¡œ ì‚¬ìš©í•˜ëŠ” ì ê¸ˆ ë°©ì‹ì´ë‹¤. ì—¬ê¸°ì„œ isolaton levelì„ READ COMMITTEDë¡œ ë°”ê¿”ì£¼ë©´ ë¶ˆí•„ìš”í•œ ì ê¸ˆ ëŒ€ì‹  ì‹¤ì œ ë³€ê²½í•˜ëŠ” ë ˆì½”ë“œë§Œ ë½ì„ ê±°ëŠ” ë°©ì‹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëœë‹¤. ê·¸ëŸ°ë° MySQL 5.1 ì´ìƒì—ì„œëŠ” ë°”ì´ë„ˆë¦¬ ë¡œê·¸ê°€ í™œì„±í™”ë˜ë©´ ìµœì†Œ REPETABLE READ ì´ìƒì˜ ê²©ë¦¬ ìˆ˜ì¤€ì„ ì‚¬ìš©í•˜ë„ë¡ ê°•ì œë˜ê³  ìˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ë˜ëŠ” ìƒí™©ì´ë©´, ë°”ì´ë„ˆë¦¬ ë¡œê·¸ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šë„ë¡ ì„¤ì •í•˜ê³  isolation levelì„ READ COMMITTEDë¡œ ë°”ê¾¸ëŠ” ë°©ë²•ë„ ê³ ë ¤í•´ ë³¼ë§Œí•˜ë‹¤. ì°¸ê³ ë¡œ READ COMMITTEDë¡œ ë¶ˆí•„ìš”í•œ ì ê¸ˆì´ ì—†ì–´ì¡Œë‹¤ê³  í•´ì„œ ì—„ì²­ë‚œ ì„±ëŠ¥í–¥ìƒì´ ìˆëŠ”ê²ƒì€ ì•„ë‹ˆë‹¤. ì¸ë±ìŠ¤ë¡œ ì¡°íšŒëœ ë ˆì½”ë“œì— ëª¨ë‘ ë½ì„ ê±°ëŠ” ë°©ì‹ì€ ë˜‘ê°™ì€ë°, ì´í›„ì— ë°”ë¡œ ë¶ˆí•„ìš”í•œ ë¶€ë¶„ì— ëŒ€í•´ì„œ ë½ì„ í•´ì œí•˜ëŠ” ì‹ìœ¼ë¡œ ë™ì‘í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ìµœëŒ€í•œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í— ìˆ˜ ìˆê²Œ íŠœë‹í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì°¸ê³  : ì´ì„±ìš±, ã€Real MySQLã€, ìœ„í‚¤ë¶ìŠ¤(2012)]]></content>
      <categories>
        <category>db</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[[jpa] QueryDSL]]></title>
    <url>%2Fjpa%2FQueryDSL%2F</url>
    <content type="text"><![CDATA[JPQLì„ í¸í•˜ê²Œ, ë™ì ìœ¼ë¡œ ì‘ì„±í•  ìˆ˜ ìˆë„ë¡ JPAì—ì„œ ê³µì‹ ì§€ì›í•˜ëŠ” Creteria ë¼ëŠ”ê²ƒì´ ìˆë‹¤. í•˜ì§€ë§Œ í° ë‹¨ì ì´ ìˆëŠ”ë°, ë„ˆë¬´ ë¶ˆí¸í•˜ë‹¤ëŠ” ê²ƒì´ë‹¤. ê·¸ì— ë°˜í•´ JPAì—ì„œ ê³µì‹ ì§€ì›í•˜ì§€ëŠ” ì•Šì§€ë§Œ ì¿¼ë¦¬ë¥¼ ë¬¸ìê°€ ì•„ë‹Œ ì½”ë“œë¡œ ì‘ì„±í•´ë„ ì‰½ê³  ê°„ê²°í•˜ë©°, ëª¨ì–‘ë„ ì¿¼ë¦¬ì™€ ë¹„ìŠ·í•˜ê²Œ ê°œë°œí•  ìˆ˜ ìˆëŠ” QueryDSL ì´ë¼ëŠ” ê²ƒì´ ìˆë‹¤. QueryDSLì€ ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ì´ë©°, ì´ë¦„ ê·¸ëŒ€ë¡œ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ëŠ”ë° ê¸°ëŠ¥ì´ íŠ¹í™”ë˜ì–´ ìˆë‹¤. ìµœë²”ê· ë‹˜ì´ ë²ˆì—­í•œ ê³µì‹ í•œêµ­ì–´ ë¬¸ì„œë¥¼ ì œê³µí•œë‹¤. http://www.querydsl.com/static/querydsl/4.0.1/reference/ko-KR/html_single/ ì„¤ì • í•„ìš” ë¼ì´ë¸ŒëŸ¬ë¦¬ 123456789101112&lt;dependency&gt;&lt;groupId&gt;com.querydsl&lt;/groupId&gt;&lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;&lt;version&gt;$&#123;querydsl.version&#125;&lt;/version&gt;&lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;com.querydsl&lt;/groupId&gt;&lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;&lt;version&gt;$&#123;querydsl.version&#125;&lt;/version&gt;&lt;/dependency&gt; querydsl-jpa : QueryDSL JPA ë¼ì´ë¸ŒëŸ¬ë¦¬ querydsl-apt : ì¿¼ë¦¬ íƒ€ì…(Q)ë¥¼ ìƒì„±í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¿¼ë¦¬ íƒ€ì… ì—”í‹°í‹°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ëœ ì¿¼ë¦¬ìš© í´ë˜ìŠ¤ë¥¼ ë§í•œë‹¤. 12345678910111213141516171819202122232425buildscript &#123; repositories &#123; mavenCentral() maven &#123; url "https://plugins.gradle.org/m2/" &#125; &#125; dependencies &#123; classpath('net.ltgt.gradle:gradle-apt-plugin:0.18') &#125;&#125;repositories &#123; mavenCentral()&#125;apply plugin: "net.ltgt.apt"apply plugin: "net.ltgt.apt-ideaâ€compile "org.projectlombok:lombok:$&#123;lombok_version&#125;"annotationProcessor "org.projectlombok:lombok:$&#123;lombok_version&#125;"compile "com.querydsl:querydsl-jpa:$&#123;querydsl_version&#125;"compile "com.querydsl:querydsl-core:$&#123;querydsl_version&#125;"compile "com.querydsl:querydsl-apt:$&#123;querydsl_version&#125;"annotationProcessor "com.querydsl:querydsl-apt:$&#123;querydsl_version&#125;:jpa"annotationProcessor "org.hibernate.javax.persistence:hibernate-jpa-2.1-api:$&#123;hibernate_jpa_api_version&#125;" ë¹Œë“œí•˜ë©´ ì§€ì •í•œ outputDirectoryì— ì§€ì •í•œ target/generated-sources ìœ„ì¹˜ì— QMember.java ì²˜ëŸ¼ Që¡œ ì‹œì‘í•˜ëŠ” ì¿¼ë¦¬ íƒ€ì…ë“¤ì´ ìƒì„±ëœë‹¤. ì‚¬ìš©(4.1.3 ë²„ì „ ê¸°ì¤€) ê¸°ë³¸ ì‚¬ìš©ë²• ë™ì ìœ¼ë¡œ ìƒì„±í•  ì¿¼ë¦¬ëŠ” JPAQueryë¥¼ ì‚¬ìš©í•˜ì—¬ ë§Œë“¤ ìˆ˜ ìˆëŠ”ë°, ì´ê²ƒë³´ë‹¨ JPAQueryFactoryë¥¼ ì‚¬ìš©í•˜ëŠ”ê²Œ ê¶Œì¥ëœë‹¤ê³  í•œë‹¤. JPQLQuery ì¸í„°í˜ì´ìŠ¤ê°€ queryDSL ë™ì  ì¿¼ë¦¬ ìƒì„±ì˜ ê¸°ì¤€ì´ ë˜ëŠ” ì¸í„°í˜ì´ìŠ¤ì´ê³ , JPAQueryëŠ” JPQLQueryë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤ì´ë‹¤. ê·¼ë° ì™œ ì´ë¦„ì´ JPAQueryì¼ê¹Œ? 1234567JPAQueryFactory queryFactory = new JPAQueryFactory(em);QMember member = QMember.member;Member foundMember = queryFactory.selectFrom(member) // select + from .where(customer.username.eq("joont")) .fetchOne(); ëŒ€ì¶© ìœ„ì˜ í˜•íƒœë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ê²°ê³¼ë°˜í™˜ fetch : ì¡°íšŒ ëŒ€ìƒì´ ì—¬ëŸ¬ê±´ì¼ ê²½ìš°. ì»¬ë ‰ì…˜ ë°˜í™˜ fetchOne : ì¡°íšŒ ëŒ€ìƒì´ 1ê±´ì¼ ê²½ìš°(1ê±´ ì´ìƒì¼ ê²½ìš° ì—ëŸ¬). genericì— ì§€ì •í•œ íƒ€ì…ìœ¼ë¡œ ë°˜í™˜ fetchFirst : ì¡°íšŒ ëŒ€ìƒì´ 1ê±´ì´ë“  1ê±´ ì´ìƒì´ë“  ë¬´ì¡°ê±´ 1ê±´ë§Œ ë°˜í™˜. ë‚´ë¶€ì— ë³´ë©´ return limit(1).fetchOne() ìœ¼ë¡œ ë˜ì–´ìˆìŒ fetchCount : ê°œìˆ˜ ì¡°íšŒ. long íƒ€ì… ë°˜í™˜ fetchResults : ì¡°íšŒí•œ ë¦¬ìŠ¤íŠ¸ + ì „ì²´ ê°œìˆ˜ë¥¼ í¬í•¨í•œ QueryResults ë°˜í™˜. count ì¿¼ë¦¬ê°€ ì¶”ê°€ë¡œ ì‹¤í–‰ëœë‹¤. í”„ë¡œì ì…˜ í”„ë¡œì ì…˜ì„ ì§€ì •í•œë‹¤. 1234List&lt;Member&gt; foundMembers = queryFactory.select(member) .from(member, order) .fetch(); (ì•„ì§ ë‚˜ì˜¤ì§„ ì•Šì•˜ì§€ë§Œ from ì ˆì— ìœ„ì²˜ëŸ¼ ì¿¼ë¦¬ íƒ€ì…ì„ ì—°ì†ìœ¼ë¡œ ì¤„ ê²½ìš°, ë‘ ì—”í‹°í‹°ê°€ ì¡°ì¸ëœë‹¤.) memberì™€ orderê°€ ì¡°ì¸ëœ ìƒíƒœì—ì„œ member ì—”í‹°í‹°ì˜ ì†ì„±ë§Œ ê°€ì ¸ì˜¨ë‹¤. (selectë¥¼ ìƒëµí•˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ fromì˜ ì²«ë²ˆì§¸ ì—”í‹°í‹°ë¥¼ í”„ë¡œì ì…˜ ëŒ€ìƒìœ¼ë¡œ ì“´ë‹¤) from ì¿¼ë¦¬í•  ëŒ€ìƒì„ ì§€ì •í•œë‹¤. 123List&lt;Member&gt; foundMembers = queryFactory.from(member) .fetch(); member í…Œì´ë¸”ì„ ì „ì²´ ì¡°íšŒí•˜ê²Œ ëœë‹¤. í”„ë¡œì ì…˜ ì§€ì •(select)ê°€ ë¹ ì¡Œì§€ë§Œ ìœ„ì™€ ë™ì¼í•˜ê²Œ fromì˜ ì²«ë²ˆì§¸ ì—”í‹°í‹°ë¥¼ ì‚¬ìš©í•œë‹¤. fromê³¼ selectë¥¼ ë‚˜ëˆ„ê¸° ë³´ë‹¨ selectFrom ì ˆì„ ì“°ëŠ”ê²ƒì´ ë” ë‚«ë‹¤. ì¡°ì¸ join, innerJoin, leftJoin, rightJoin ì„ ì§€ì›í•œë‹¤. ê°œì¸ì ìœ¼ë¡œ fromì ˆì— multiple argumentsë¥¼ ì£¼ëŠ”ê²ƒë³´ë‹¤ ì´ê²Œ ë” ì¢‹ë‹¤.(SQLì—ì„œë„â€¦) 123456QTeam team = QTeam.team;List&lt;Member&gt; foundMembers = queryFactory.selectFrom(member) .innerJoin(member.team, team) .fetch(); joinì˜ ì²«ë²ˆì¨° ì¸ìë¡œëŠ” joiní•  ëŒ€ìƒ, ë‘ë²ˆì¨° ì¸ìë¡œëŠ” joiní•  ëŒ€ìƒì˜ ì¿¼ë¦¬ íƒ€ì…ì„ ì£¼ë©´ ëœë‹¤. on ì ˆì€ ìë™ìœ¼ë¡œ ë¶™ëŠ”ë‹¤. ì¶”ê°€ì ì¸ on ì ˆë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 12345List&lt;Member&gt; foundMembers = queryFactory.selectFrom(member) .innerJoin(member.team, team) .on(member.username.eq("joont")) .fetch(); ì¡°ê±´ 1234567List&lt;Member&gt; foundMembers = queryFactory.selectFrom(member) .where(member.username.eq("joont")) // 1. ë‹¨ì¼ ì¡°ê±´ .where(member.username.eq("joont"), member.homeAddress.city.eq("seoul")) // 2. ë³µìˆ˜ ì¡°ê±´. andë¡œ ë¬¶ì„ .where(member.username.eq("joont").or(member.homeAddress.city.eq("seoul"))) // 3. ë³µìˆ˜ ì¡°ê±´. andë‚˜ orë¥¼ ì§ì ‘ ëª…ì‹œí•  ìˆ˜ ìˆìŒ .where((member.username.eq("joont").or(member.homeAddress.city.eq("seoul"))).and(member.username.eq("joont").or(member.homeAddress.city.eq("busan")))) .fetch(); (E1 and E2) or (E3 and E4) ê°™ì€ í˜•íƒœë„ ê°€ëŠ¥í•˜ë‹¤. ê·¸ëƒ¥ ê´„í˜¸ë¡œ ë¬¶ì–´ì£¼ë©´ ëœë‹¤. 1234List&lt;Member&gt; foundMembers = queryFactory.selectFrom(member) .where((member.username.eq("joont").or(member.homeAddress.city.eq("seoul"))).and(member.username.eq("joont").or(member.homeAddress.city.eq("busan")))) .fetch(); ë‘ê°€ì§€ ì¡°ê±´ì´ ê´„í˜¸ë¡œ ë¬¶ì´ê²Œ ë˜ì—ˆì„ë•Œ, or ì´ë©´ í•©ì§‘í•©ì´ê³  and ì´ë©´ êµì§‘í•©ì´ë‹¤. ì°¸ê³ ë¡œ (E1 and E2) or (E3 and E4) ëŠ” ê´„í˜¸ê°€ ìƒëµë˜ê³  (E1 or E2) and (E3 or E4) ëŠ” ì˜ ë™ì‘í•œë‹¤. ê·¸ë£¹í•‘ group byë„ ê°€ëŠ¥í•˜ë‹¤. 12345List&lt;String&gt; foundCities = queryFactory.from(member) .select(member.homeAddress.city) .groupBy(member.homeAddress.city) .fetch(); cityë¡œ group by í•œ ë’¤ cityë§Œ ì¶œë ¥í•˜ê²Œ ëœë‹¤. havingë„ ê°€ëŠ¥í•˜ë‹¤. ì§‘ê³„í•¨ìˆ˜ë„ ì“¸ ìˆ˜ ìˆë‹¤. 123456List&lt;String&gt; foundItems = queryFactory.select(item.category) // categoryê°€ ê·¸ëƒ¥ Stringì´ë¼ê³  ê°€ì • .from(item) .groupBy(item.category) .having(item.price.avg().gt(1000)) // ì§‘ê³„í•¨ìˆ˜ ì‚¬ìš© .fetch(); ì •ë ¬ 1234List&lt;Member&gt; foundMembers = queryFactory.selectFrom(member) .orderBy(member.id.asc(), member.username.desc()) .fetch(); í˜ì´ì§• ì‹œì‘ ì¸ë±ìŠ¤ë¥¼ ì§€ì •í•˜ëŠ” offset, ì¡°íšŒí•  ê°œìˆ˜ë¥¼ ì§€ì •í•˜ëŠ” limit, ë‘ê°œë¥¼ ì¸ìˆ˜ë¡œ ë°›ëŠ” QueryModifiersë¥¼ ì‚¬ìš©í•˜ëŠ” restrictë¥¼ ì§€ì›í•œë‹¤. ê·¼ë° ì‹¤ì œë¡œ í˜ì´ì§• ì²˜ë¦¬ë¥¼ í•˜ë ¤ë©´ ì „ì²´ ë°ì´í„° ê°œìˆ˜ë¥¼ ì•Œê³  ìˆì–´ì•¼í•˜ë¯€ë¡œ, fetchResults()ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤. 12345678910QueryResults&lt;Member&gt; result = queryFactory.selectFrom(member) .offset(10) .limit(10) .fetchResults();List&lt;Member&gt; foundMembers = result.getResults(); // ì¡°íšŒëœ memberlong total = result.getTotal(); // ì „ì²´ ê°œìˆ˜ long offset = result.getOffset(); // offsetlong limit = result.getLimit(); // limit ë‹¤ì¤‘ ê²°ê³¼ ë°˜í™˜ ë‹¤ì¤‘ í”„ë¡œì ì…˜ í•  ê²½ìš° Tuple í´ë˜ìŠ¤ë¡œ ë°›ì„ ìˆ˜ ìˆë‹¤. 1234567List&lt;Tuple&gt; foundMembers = queryFactory.select(member.username, member.homeAddress.city) .from(member) .fetch();System.out.println(founeMembers.get(0));System.out.println(founeMembers.get(1)); ë¦¬í„´ë˜ëŠ” í´ë˜ìŠ¤ê°€ class com.querydsl.core.types.QTuple$TupleImpl ì¸ë°, ì´ê²ƒë³´ë‹¨ ì•„ë˜ ë¹ˆ ìƒì„±(bean population)ì„ ì“°ëŠ”ê²Œ ë” ë‚˜ì•„ë³´ì¸ë‹¤. ë¹ˆ ìƒì„± ìë°”ë¹ˆì„ ë§í•œë‹¤(ìŠ¤í”„ë§ ë¹ˆ ì•„ë‹˜). ì¶œë ¥ë˜ëŠ” ë‹¤ì¤‘ ê²°ê³¼ë¥¼ ë¹ˆìœ¼ë¡œ ë³€ê²½í•´ì„œ ë¦¬í„´í•  ìˆ˜ ìˆë‹¤. 1234List&lt;MemberDTO&gt; foundMembers = queryFactory.select(Projections.bean(UserDTO.class, member.username, member.homeAddress.city)) .from(member) .fetch(); ìœ„ì˜ bean ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ì „ë‹¬ë°›ì€ ì¸ìì™€ ë™ì¼í•˜ê²Œ UserDTOì˜ setterë¥¼ í˜¸ì¶œí•œë‹¤. field ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©´ í•„ë“œì— ì§ì ‘ ì ‘ê·¼í•˜ê³ (privateë„ ê°€ëŠ¥), constructor ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ìƒì„±ìë¥¼ ì‚¬ìš©í•œë‹¤. ì§€ì •í•œ í”„ë¡œì ì…˜ê³¼ íŒŒë¼ë¯¸í„° ìˆœì„œê°€ ê°™ì€ ìƒì„±ìê°€ í•„ìš”í•˜ë‹¤. ì—”í‹°í‹°ì˜ í•„ë“œëª…ê³¼ ë¹ˆì˜ í•„ë“œëª…ì´ ë‹¤ë¥¼ ê²½ìš° ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 12queryFactory.select(Projections.bean(UserDTO.class, member.username.as("name"), member.homeAddress.city)) .... Member ì—”í‹°í‹° í•„ë“œ usernameì„ MemberDTOì˜ nameì— ì „ë‹¬í•˜ê²Œ ëœë‹¤. ì„œë¸Œì¿¼ë¦¬ JPAExpression ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤. 1234567891011QMember member = QMember.member;QMember subQueryMember = new QMember("subQueryMember"); // ì¶”ê°€ë¡œ ìƒì„±í•´ì¤˜ì•¼ í•¨ List&lt;Tuple&gt; foundMembers = queryFactory.select(member.name, member.homeAddress.city) .from(member) .where(member.name.in( JPAExpressions.select(memberForSubquery.name) .from(memberForSubquery) )) .fetch(); ë™ì  ì¡°ê±´ com.querydsl.core.BooleanBuilder ë¥¼ ì‚¬ìš©í•˜ë©´ ë™ì  ì¡°ê±´ì„ ìƒì„±í•  ìˆ˜ ìˆë‹¤. 123456789101112BooleanBuilder builder = new BooleanBuilder();if(param.getId() != null)&#123; builder.and(member.id.eq(param.getId()));&#125;if(param.getName() != null)&#123; builder.and(member.name.contains(param.getName()));&#125;List&lt;Member&gt; list = queryFactory.selectFrom(member) .where(booleanBuilder) .fetch(); ìˆ˜ì •, ì‚­ì œ, ë°°ì¹˜ ì¿¼ë¦¬ update JPAUpdateClause í´ë˜ìŠ¤ë¥¼ í†µí•´ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.(ì¸í„°í˜ì´ìŠ¤ëŠ” UpdateClauseì´ë‹¤) JPAQueryFactoryì˜ update ë©”ì„œë“œë¥¼ í†µí•´ ìƒì„±í•  ìˆ˜ ìˆë‹¤. 12345QCustomer customer = QCustomer.customer;// rename customers named Bob to BobbyqueryFactory.update(customer).where(customer.name.eq("Bob")) .set(customer.name, "Bobby") .execute(); delete JPADeleteClause í´ë˜ìŠ¤ë¥¼ í†µí•´ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.(ì¸í„°í˜ì´ìŠ¤ëŠ” DeleteClauseì´ë‹¤) JPAQueryFactoryì˜ delete ë©”ì„œë“œë¥¼ í†µí•´ ìƒì„±í•  ìˆ˜ ìˆë‹¤. 12345QCustomer customer = QCustomer.customer;// delete all customersqueryFactory.delete(customer).execute();// delete all customers with a level less than 3queryFactory.delete(customer).where(customer.level.lt(3)).execute();]]></content>
      <categories>
        <category>jpa</category>
      </categories>
      <tags>
        <tag>QueryDSL ë¬¸ë²•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Swaggerì™€ OASì˜ ê´€ê³„]]></title>
    <url>%2FopenAPI%2FSwagger%EC%99%80-OAS%EC%9D%98-%EA%B4%80%EA%B3%84%2F</url>
    <content type="text"><![CDATA[ëˆ„ê°€ ì´ ê¸€ì— ì˜ëª»ëœ ê²ƒì¢€ ì•Œë ¤ì£¼ì„¸ìš” ì›ë˜ëŠ” ê¸°ì—…ë³„ë¡œ ê°ê° OpenAPIë¥¼ ì œê³µí•˜ëŠ” ëª…ì„¸ê°€ ìˆì—ˆë‹¤. (swaggerë¥¼ ë§Œë“  smart bearë„ ìì‹ ë“¤ì˜ OpenAPI specificationì´ ìˆì—ˆë‹¤) 2015ë…„ì— ì´ ëª¨ë“  ê¸°ì—…ë“¤ì´ OpenAPI initiative ë¼ëŠ” ê·¸ë£¹ìœ¼ë¡œ í†µí•©(ê°€ì…?)í•˜ì—ˆê³ , ì—¬ê¸°ì„œ ê³µí†µëœ specì¸ Open API specificationì„ ì œê³µí•œë‹¤. https://github.com/OAI/OpenAPI-Specification ê·¸ëŸ¬ë¯€ë¡œ swaggerë„ ë¬¸ì„œì— ë³´ë©´ 2.0ì¼ë•ŒëŠ” ìƒë‹¨ì— swagger: &quot;2.0&quot; ì´ì—ˆëŠ”ë°, 3.0ë¶€í„° openapi: &quot;3.0&quot;ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆë‹¤. (ê·¼ë° í†µí•©ì¸ë° ì™œ 3.0ë¶€í„° ê°€ëŠ”ê±´ì§€â€¦ swaggerê°€ ì£¼ë„í•˜ë‚˜â€¦)]]></content>
      <categories>
        <category>openAPI</category>
      </categories>
      <tags>
        <tag>swagger</tag>
        <tag>OAS</tag>
        <tag>difference between swagger and OAS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[git] git-crypt]]></title>
    <url>%2Fgit%2Fgit-crypt%2F</url>
    <content type="text"><![CDATA[git-cryptë€? git-cryptë¥¼ ì‚¬ìš©í•˜ë©´ íŠ¹ì • íŒŒì¼ ë˜ëŠ” í´ë”ë¥¼ ì›ê²© repositoryì— ì˜¬ë¦´ë•ŒëŠ” encryptí•˜ê³ , ë¡œì»¬ë¡œ ë‚´ë ¤ë°›ì„ë•ŒëŠ” decrypt í•˜ëŠ” ì‹ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤. git-crypt repostiroy : https://github.com/AGWA/git-crypt git-crypt ì ìš©ë²• : https://s-opensource.org/2017/07/18/introduction-gpg-encryption-git-crypt/ ì ìš©ë²• 12345brew install git-cryptcd /path/to/repositorygit-crypt init í•˜ë©´ .git/git-cryptê°€ ì¶”ê°€ë˜ê³ , git-crypt í•  ìˆ˜ ìˆê²Œ ë¨ ê·¸ë¦¬ê³  repository root ê²½ë¡œì•  .gitattributes íŒŒì¼ì„ ë§Œë“¤ê³  ë‚´ë¶€ì— git-cryptê°€ ì ìš©ë  íŒŒì¼ì„ ì ì–´ì£¼ë©´ ëœë‹¤. 12config/production/** filter=git-crypt diff=git-crypt# more... ì›í•˜ëŠ” íŒ¨í„´ì´ ë” ìˆì„ ê²½ìš° ë°‘ì— ë‚˜ì—´í•´ì£¼ë©´ ëœë‹¤.(.gitignoreê³¼ ë¹„ìŠ·í•˜ê²Œ ì‘ì„±í•œë‹¤) ê¸°ë³¸ì ìœ¼ë¡œ ì´ˆê¸°ì— git-cryptë¥¼ ì„¤ì •í•œ ì‚¬ëŒì€ ì˜¬ë¦¬ê³  ë‚´ë¦´ë•Œ ìë™ìœ¼ë¡œ encrypt decryptê°€ ë˜ì§€ë§Œ, ë‹¤ë¥¸ collaboratorë“¤ì€ ì ìš©ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì¶”ê°€ì ì¸ ì„¤ì •ì´ í•„ìš”í•˜ë‹¤. gpg ì ìš© ìƒë‹¨ì˜ git-crypt ì ìš©ë²• ë³´ê³  ë”°ë¼í•˜ë©´ ë  ë“¯ ì¶”ê°€í•˜ê³  ì‹¶ì€ collaboratorì˜ pcì—ì„œ gpg ìƒì„± project ìƒì„±ìê°€ git-crypt add-gpg-user ë¡œ collaboratorì˜ gpgë¥¼ ì¶”ê°€ pull ë°›ì€ collaboratorëŠ” git-crypt unlock ìœ¼ë¡œ ê°„ë‹¨í•˜ê²Œ unlocking ê°€ëŠ¥ í…ŒìŠ¤íŠ¸ ì•ˆí•´ë´„ key export import encrypt í•  ë•Œ ì‚¬ìš©í•œ keyë¥¼ exportí•˜ê³ , collaboratorëŠ” í•´ë‹¹ keyë¡œ unlock í•˜ëŠ” ë°©ë²• repositoryì˜ git-crypt keyê°’ì„ export í•˜ì—¬ collaboratorì—ê²Œ ì „ë‹¬í•˜ê³ , 1git-crypt export-key /path/to/key ì „ë‹¬ë°›ì€ collaboratorëŠ” í•´ë‹¹ key íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ 1git-crypt unlock /path/to/key ì˜ í˜•íƒœë¡œ decrypt í•œë‹¤. ê¸°íƒ€ ë§Œì•½ ë ˆíŒŒì§€í† ë¦¬ë¼ë¦¬ í‚¤ë¥¼ ê³µìœ í•˜ê³  ì‹¶ìœ¼ë©´? í•œìª½ ë ˆíŒŒì§€í† ë¦¬ì—ì„œ ìƒì„±ëœ .git/git-crypt/keys/defaultë¥¼ ë‹¤ë¥¸ ë ˆíŒŒì§€í† ë¦¬ì—ì„œ ê²½ë¡œ ê·¸ëŒ€ë¡œ ë³µì‚¬í•´ì„œ ì‚¬ìš©í•˜ë©´ ë¨ ê·¼ë° ì´ ë°©ì‹ìœ¼ë¡œ git-crypt unlockì´ ë°”ë¡œ ë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. ë²ˆê±°ë¡­ê²Œ key íŒŒì¼ ìœ„ì¹˜ë¥¼ ì§€ì •í•´ì¤˜ì•¼ í•œë‹¤.]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>git-crypt ì ìš©</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[java] ê°ì²´ í´ë¡œë‹]]></title>
    <url>%2Fjava%2F%EA%B0%9D%EC%B2%B4-%ED%81%B4%EB%A1%9C%EB%8B%9D%2F</url>
    <content type="text"><![CDATA[http://javacan.tistory.com/entry/31 Cloneable ì¸í„°í˜ì´ìŠ¤ë¥¼ implementsí•˜ê³ (ì•ˆí•˜ë©´ CloneNotSupportedException ë°œìƒ), clone ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë“œ í•˜ê³  Objectì˜ clone(super.clone)ì„ ì‹¤í–‰í•œë‹¤. clone ë©”ì„œë“œê°€ ìˆ˜í–‰ë˜ë©´ ì›ë³¸ê³¼ ê°™ì€ ê°ì²´ë¥¼ ìƒˆë¡œ ìƒì„±í•˜ê³ , ëª¨ë“  í•„ë“œë“¤ì„ ì›ë³¸ì˜ í•„ë“œë“¤ê³¼ ê°™ì€ ê°’ìœ¼ë¡œ ì´ˆê¸°í™”í•œë‹¤. (ìƒì„±ìëŠ” ì‹¤í–‰ë˜ì§€ ì•ŠìŒ) ë‹¨ìˆœí•˜ê²Œ ëŒ€ì…ì— ì˜í•´ ë³µì‚¬ë˜ëŠ” í˜•íƒœì´ê¸° ë•Œë¬¸ì—, ë°°ì—´ì´ë‚˜ ê°ì²´ì˜ ê²½ìš° ì°¸ì¡°ê°’ë§Œ ë³µì‚¬ë˜ê²Œ ëœë‹¤. ì¦‰, ì›ë³¸ ê°ì²´ì— ëŒ€í•´ deep clone í•˜ì§€ ì•Šê³  shallow clone í•œë‹¤ëŠ” ëœ»ì´ë‹¤. ë”°ë¼ì„œ ê°ì²´ê°€ ê°€ì§€ê³  ìˆëŠ” ë°°ì—´ì´ë‚˜ ê°ì²´ì— Cloneable ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ê³  cloneì„ ì˜¤ë²„ë¼ì´ë”© í•´ì¤˜ì•¼í•˜ê³ , (ë°°ì—´ì€ ê¸°ë³¸ì ìœ¼ë¡œ cloneì´ êµ¬í˜„ë˜ì–´ ìˆìŒ) í´ë¡œë‹ì˜ ëŒ€ìƒì´ ë˜ëŠ” ê°ì²´ì—ì„œ í•´ë‹¹ í•„ë“œê¹Œì§€ ì „ë¶€ í´ë¡œë‹ì„ ì‹¤í–‰í•´ì¤˜ì•¼ í•œë‹¤. í´ë¡œë‹ ëŒ€ìƒì˜ ë²”ìœ„ëŠ” ê°œë°œìê°€ í•„ìš”ë¡œ í•˜ëŠ” ê³³ ê¹Œì§€ êµ¬í˜„í•˜ë©´ ëœë‹¤.]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>java clone</tag>
        <tag>Object.clone()</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[db] íŠ¸ëœì­ì…˜ ê²©ë¦¬ ìˆ˜ì¤€(isolation level)]]></title>
    <url>%2Fdb%2F%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98-%EA%B2%A9%EB%A6%AC-%EC%88%98%EC%A4%80-isolation-level%2F</url>
    <content type="text"><![CDATA[íŠ¸ëœì­ì…˜ ê²©ë¦¬ìˆ˜ì¤€(isolation level)ì´ë€ ë™ì‹œì— ì—¬ëŸ¬ íŠ¸ëœì­ì…˜ì´ ì²˜ë¦¬ë  ë•Œ, íŠ¸ëœì­ì…˜ë¼ë¦¬ ì–¼ë§ˆë‚˜ ì„œë¡œ ê³ ë¦½ë˜ì–´ ìˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê²ƒì´ë‹¤. ì¦‰, ê°„ë‹¨í•˜ê²Œ ë§í•´ íŠ¹ì • íŠ¸ëœì­ì…˜ì´ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì— ë³€ê²½í•œ ë°ì´í„°ë¥¼ ë³¼ ìˆ˜ ìˆë„ë¡ í—ˆìš©í• ì§€ ë§ì§€ë¥¼ ê²°ì •í•˜ëŠ” ê²ƒì´ë‹¤. ê²©ë¦¬ìˆ˜ì¤€ì€ í¬ê²Œ ì•„ë˜ì˜ 4ê°œë¡œ ë‚˜ë‰œë‹¤. READ UNCOMMITTED READ COMMITTED REPEATABLE READ SERIALIZABLE ì•„ë˜ë¡œ ë‚´ë ¤ê°ˆìˆ˜ë¡ íŠ¸ëœì­ì…˜ê°„ ê³ ë¦½ ì •ë„ê°€ ë†’ì•„ì§€ë©°, ì„±ëŠ¥ì´ ë–¨ì–´ì§€ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë‹¤. ì¼ë°˜ì ì¸ ì˜¨ë¼ì¸ ì„œë¹„ìŠ¤ì—ì„œëŠ” READ COMMITTEDë‚˜ REPEATABLE READ ì¤‘ í•˜ë‚˜ë¥¼ ì‚¬ìš©í•œë‹¤. (oracle = READ COMMITTED, mysql = REPEATABLE READ) ISOLATION LEVEL ì¡°íšŒ, ë³€ê²½, í…ŒìŠ¤íŠ¸ ì¡°íšŒ 123SHOW VARIABLES like 'tx_isolation';-- ë˜ëŠ”SELECT @@tx_isolation; ë³€ê²½ ë‚˜ì™€ìˆëŠ”ë°ë¡œ í•´ë´¤ëŠ”ë° ì•ˆë°”ë€ŒëŠ”ë° ë°©ë²•ì¢€â€¦ READ UNCOMMITTED READ UNCOMMITTED ê²©ë¦¬ìˆ˜ì¤€ì—ì„œëŠ” ì–´ë–¤ íŠ¸ëœì­ì…˜ì˜ ë³€ê²½ë‚´ìš©ì´ COMMITì´ë‚˜ ROLLBACKê³¼ ìƒê´€ì—†ì´ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ ë³´ì—¬ì§„ë‹¤. ì´ ê²©ë¦¬ìˆ˜ì¤€ì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì€ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. A íŠ¸ëœì­ì…˜ì—ì„œ 10ë²ˆ ì‚¬ì›ì˜ ë‚˜ì´ë¥¼ 27ì‚´ì—ì„œ 28ì‚´ë¡œ ë°”ê¿ˆ ì•„ì§ ì»¤ë°‹í•˜ì§€ ì•ŠìŒ B íŠ¸ëœì­ì…˜ì—ì„œ 10ë²ˆ ì‚¬ì›ì˜ ë‚˜ì´ë¥¼ ì¡°íšŒí•¨ 28ì‚´ì´ ì¡°íšŒë¨ ì´ë¥¼ ë”í‹° ë¦¬ë“œ(Dirty Read)ë¼ê³  í•œë‹¤ A íŠ¸ëœì­ì…˜ì—ì„œ ë¬¸ì œê°€ ë°œìƒí•´ ROLLBACKí•¨ B íŠ¸ëœì­ì…˜ì€ 10ë²ˆ ì‚¬ì›ì´ ì—¬ì „íˆ 28ì‚´ì´ë¼ê³  ìƒê°í•˜ê³  ë¡œì§ì„ ìˆ˜í–‰í•¨ ì´ëŸ°ì‹ìœ¼ë¡œ ë°ì´í„° ì •í•©ì„±ì— ë¬¸ì œê°€ ë§ìœ¼ë¯€ë¡œ, RDBMS í‘œì¤€ì—ì„œëŠ” ê²©ë¦¬ìˆ˜ì¤€ìœ¼ë¡œ ì¸ì •í•˜ì§€ë„ ì•ŠëŠ”ë‹¤. READ COMMITTED ì–´ë–¤ íŠ¸ëœì­ì…˜ì˜ ë³€ê²½ ë‚´ìš©ì´ COMMIT ë˜ì–´ì•¼ë§Œ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤. ì˜¤ë¼í´ DBMSì—ì„œ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©í•˜ê³  ìˆê³ , ì˜¨ë¼ì¸ ì„œë¹„ìŠ¤ì—ì„œ ê°€ì¥ ë§ì´ ì„ íƒë˜ëŠ” ê²©ë¦¬ìˆ˜ì¤€ì´ë‹¤. ì—¬ê¸°ì„œëŠ” B íŠ¸ëœì­ì…˜ì—ì„œ 10ë²ˆ ì‚¬ì›ì˜ ë‚˜ì´ë¥¼ ì¡°íšŒí•´ë„ 27ì‚´ì´ ì¡°íšŒëœë‹¤.(ì»¤ë°‹ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì—) (ì´ëŠ” ì–¸ë‘ ì˜ì—­ì— ì €ì¥ëœ ë°ì´í„°ì´ë‹¤. MVCC ì°¸ì¡°) A íŠ¸ëœì­ì…˜ì—ì„œ ìµœì¢… ì»¤ë°‹í•˜ë©´ B íŠ¸ëœì­ì…˜ì—ì„œ 28ì‚´ ì´ë¼ëŠ” ê°’ì„ ë°›ì•„ë³¼ ìˆ˜ ìˆë‹¤. ì–¸ëœ»ë³´ë©´ ì •í•©ì„± ë¬¸ì œê°€ í•´ê²°ëœ ê²ƒ ì²˜ëŸ¼ ë³´ì´ì§€ë§Œ, ì—¬ê¸°ì„œë„ NON-REPETABLE READ ë¶€ì •í•© ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. B íŠ¸ëœì­ì…˜ì—ì„œ 10ë²ˆ ì‚¬ì›ì˜ ë‚˜ì´ë¥¼ ì¡°íšŒ 27ì‚´ì´ ì¡°íšŒë¨ A íŠ¸ëœì­ì…˜ì—ì„œ 10ë²ˆ ì‚¬ì›ì˜ ë‚˜ì´ë¥¼ 27ì‚´ì—ì„œ 28ì‚´ë¡œ ë°”ê¾¸ê³  ì»¤ë°‹ B íŠ¸ëœì­ì…˜ì—ì„œ 10ë²ˆ ì‚¬ì›ì˜ ë‚˜ì´ë¥¼ ë‹¤ì‹œ ì¡°íšŒ(ë³€ê²½ë˜ì§€ ì•Šì€ ì´ë¦„ì´ ì¡°íšŒë¨) 28ì‚´ì´ ì¡°íšŒë¨ ì´ëŠ” í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ë‚´ì—ì„œ ë˜‘ê°™ì€ SELECTë¥¼ ìˆ˜í–‰í–ˆì„ ê²½ìš° í•­ìƒ ê°™ì€ ê²°ê³¼ë¥¼ ë°˜í™˜í•´ì•¼ í•œë‹¤ëŠ” REPEATABLE READ ì •í•©ì„±ì— ì–´ê¸‹ë‚˜ëŠ” ê²ƒì´ë‹¤. ì¼ë°˜ì ì¸ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” í¬ê²Œ ë¬¸ì œë˜ì§€ ì•Šì§€ë§Œ, ì‘ì—…ì´ ê¸ˆì „ì ì¸ ì²˜ë¦¬ì™€ ì—°ê²°ë˜ì–´ ìˆë‹¤ë©´ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì—¬ëŸ¬ íŠ¸ëœì­ì…˜ì—ì„œ ì…ê¸ˆ/ì¶œê¸ˆ ì²˜ë¦¬ê°€ ê³„ì† ì§„í–‰ë˜ëŠ” íŠ¸ëœì­ì…˜ë“¤ì´ ìˆê³  ì˜¤ëŠ˜ì˜ ì…ê¸ˆ ì´ í•©ì„ ë³´ì—¬ì£¼ëŠ” íŠ¸ëœì­ì…˜ì´ ìˆë‹¤ê³ í•˜ë©´, ì´í•©ì„ ê³„ì‚°í•˜ëŠ” SELECT ì¿¼ë¦¬ëŠ” ì‹¤í–‰ë  ë•Œ ë§ˆë‹¤ ë‹¤ë¥¸ ê²°ê³¼ê°’ì„ ê°€ì ¸ì˜¬ ê²ƒì´ë‹¤. ì´ëŸ° ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆê¸° ë–„ë¬¸ì— ê²©ë¦¬ìˆ˜ì¤€ì— ì˜í•´ ì‹¤í–‰ë˜ëŠ” SQL ë¬¸ì¥ì´ ì–´ë–¤ ê²°ê³¼ë¥¼ ì¶œë ¥í•  ì§€ ì •í™•íˆ ì˜ˆì¸¡í•˜ê³  ìˆì–´ì•¼ í•œë‹¤. REPETABLE READ REPETABLE READ ê²©ë¦¬ìˆ˜ì¤€ì€ ê°„ë‹¨í•˜ê²Œ ë§í•´ì„œ íŠ¸ëœì­ì…˜ì´ ì‹œì‘ë˜ê¸° ì „ì— ì»¤ë°‹ëœ ë‚´ìš©ì— ëŒ€í•´ì„œë§Œ ì¡°íšŒí•  ìˆ˜ ìˆëŠ” ê²©ë¦¬ìˆ˜ì¤€ì´ë‹¤. MySQL DBMSì—ì„œ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©í•˜ê³  ìˆê³ , ì´ ê²©ë¦¬ìˆ˜ì¤€ì—ì„œëŠ” NON-REPETABLE READ ë¶€ì •í•©ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. 10ë²ˆ íŠ¸ëœì­ì…˜ì´ 500000ë²ˆ ì‚¬ì›ì„ ì¡°íšŒ 12ë²ˆ íŠ¸ëœì­ì…˜ì´ 500000ë²ˆ ì‚¬ì›ì˜ ì´ë¦„ì„ ë³€ê²½í•˜ê³  ì»¤ë°‹ 10ë²ˆ íŠ¸ëœì­ì…˜ì´ 500000ë²ˆ ì‚¬ì›ì„ ë‹¤ì‹œ ì¡°íšŒ ì–¸ë‘ ì˜ì—­ì— ë°±ì—…ëœ ë°ì´í„° ë°˜í™˜ ì¦‰, ê°„ë‹¨í•˜ê²Œ ë§í•´ì„œ ìì‹ ì˜ íŠ¸ëœì­ì…˜ ë²ˆí˜¸ë³´ë‹¤ ë‚®ì€ íŠ¸ëœì­ì…˜ ë²ˆí˜¸ì—ì„œ ë³€ê²½ëœ(+ì»¤ë°‹ëœ) ê²ƒë§Œ ë³´ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤. (ëª¨ë“  InnoDBì˜ íŠ¸ëœì­ì…˜ì€ ê³ ìœ í•œ íŠ¸ëœì­ì…˜ ë²ˆí˜¸(ìˆœì°¨ì ìœ¼ë¡œ ì¦ê°€í•˜ëŠ”)ë¥¼ ê°€ì§€ê³  ìˆìœ¼ë©°, ì–¸ë‘ ì˜ì—­ì— ë°±ì—…ëœ ëª¨ë“  ë ˆì½”ë“œëŠ” ë³€ê²½ì„ ë°œìƒì‹œí‚¨ íŠ¸ëœì­ì…˜ì˜ ë²ˆí˜¸ê°€ í¬í•¨ë˜ì–´ ìˆë‹¤.) REPETABLE READ ê²©ë¦¬ìˆ˜ì¤€ì—ì„œëŠ” íŠ¸ëœì­ì…˜ì´ ì‹œì‘ëœ ì‹œì ì˜ ë°ì´í„°ë¥¼ ì¼ê´€ë˜ê²Œ ë³´ì—¬ì£¼ëŠ” ê²ƒì„ ë³´ì¥í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— í•œ íŠ¸ëœì­ì…˜ì˜ ì‹¤í–‰ì‹œê°„ì´ ê¸¸ì–´ì§ˆìˆ˜ë¡ í•´ë‹¹ ì‹œê°„ë§Œí¼ ê³„ì† ë©€í‹° ë²„ì „ì„ ê´€ë¦¬í•´ì•¼ í•˜ëŠ” ë‹¨ì (?)ì´ ìˆë‹¤. í•˜ì§€ë§Œ ì‹¤ì œë¡œ ì˜í–¥ì„ ë¯¸ì¹  ì •ë„ë¡œ ì˜¤ë˜ ì§€ì†ë˜ëŠ” ê²½ìš°ëŠ” ì—†ì–´ì„œâ€¦ READ COMMITTEDì™€ REPETABLE READì˜ ì„±ëŠ¥ì°¨ì´ëŠ” ê±°ì˜ ì—†ë‹¤ê³  í•œë‹¤. REPETABLE READì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë°ì´í„° ë¶€ì •í•© UPDATE ë¶€ì •í•© 12345678910START TRANSACTION; -- transaction id : 1SELECT * FROM Member WHERE name='junyoung'; START TRANSACTION; -- transaction id : 2 SELECT * FROM Member WHERE name = 'junyoung'; UPDATE Member SET name = 'joont' WHERE name = 'junyoung'; COMMIT;UPDATE Member SET name = 'zion.t' WHERE name = 'junyoung'; -- 0 row(s) affectedCOMMIT; ì´ ìƒí™©ì—ì„œ ìµœì¢… ê²°ê³¼ëŠ” name = joontê°€ ëœë‹¤. REPETABLE READì´ê¸° ë•Œë¬¸ì—, 2ë²ˆ íŠ¸ëœì­ì…˜ì—ì„œ name = joontë¡œ ë³€ê²½í•˜ê³  COMMITì„ í•˜ë©´ name = junyoungì˜ ë‚´ìš©ì„ ì–¸ë‘ë¡œê·¸ì— ë‚¨ê²¨ë†”ì•¼ í•œë‹¤. ê·¸ë˜ì•¼ 1ë²ˆ íŠ¸ëœì­ì…˜ì—ì„œ ì¼ê´€ë˜ê²Œ ë°ì´í„°ë¥¼ ë³´ëŠ” ê²ƒì„ ë³´ì¥í•´ì¤„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤. ì´ ìƒí™©ì—ì„œ ì•„ë˜ êµ¬ë¬¸ì—ì„œ UPDATE ë¬¸ì„ ì‹¤í–‰í•˜ê²Œ ë˜ëŠ”ë°, UPDATEì˜ ê²½ìš° ë³€ê²½ì„ ìˆ˜í–‰í•  ë¡œìš°ì— ëŒ€í•´ ì ê¸ˆì´ í•„ìš”í•˜ë‹¤. í•˜ì§€ë§Œ í˜„ì¬ 1ë²ˆ íŠ¸ëœì­ì…˜ì´ ë°”ë¼ë³´ê³  ìˆëŠ” name = junyoung ì˜ ê²½ìš° ë ˆì½”ë“œ ë°ì´í„°ê°€ ì•„ë‹Œ ì–¸ë‘ì˜ì—­ì˜ ë°ì´í„°ì´ê³ , ì–¸ë‘ì˜ì—­ì— ìˆëŠ” ë°ì´í„°ì— ëŒ€í•´ì„œëŠ” ì“°ê¸° ì ê¸ˆì„ ê±¸ ìˆ˜ê°€ ì—†ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ìœ„ì˜ UPDATE êµ¬ë¬¸ì€ ë ˆì½”ë“œì— ëŒ€í•´ ì“°ê¸° ì ê¸ˆì„ ì‹œë„í•˜ë ¤ê³  í•˜ì§€ë§Œ name = junyoungì¸ ë ˆì½”ë“œëŠ” ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ, 0 row(s) affectedê°€ ì¶œë ¥ë˜ê³ , ì•„ë¬´ ë³€ê²½ë„ ì¼ì–´ë‚˜ì§€ ì•Šê²Œ ëœë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ìµœì¢…ì ìœ¼ë¡œ ê²°ê³¼ëŠ” name = joontê°€ ëœë‹¤. ìì´ì–¸í‹°ê°€ ë˜ì§€ ëª»í•´ ì•„ì‰½ë‹¤. ê°„ë‹¨í•˜ê²Œ ë§í•´ DML êµ¬ë¬¸ì€ ë©€í‹°ë²„ì „ì„ ê´€ë¦¬í•˜ì§€ ì•ŠëŠ”ë‹¤ Phantom READ í•œ íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ ê°™ì€ ì¿¼ë¦¬ë¥¼ ë‘ ë²ˆ ì‹¤í–‰í–ˆëŠ”ë°, ì²« ë²ˆì§¸ ì¿¼ë¦¬ì—ì„œ ì—†ë˜ ìœ ë ¹(Phantom) ë ˆì½”ë“œê°€ ë‘ ë²ˆì§¸ ì¿¼ë¦¬ì—ì„œ ë‚˜íƒ€ë‚˜ëŠ” í˜„ìƒì„ ë§í•œë‹¤. REPETABLE READ ì´í•˜ì—ì„œë§Œ ë°œìƒí•˜ê³ (SERIALIZABLEì€ ë°œìƒí•˜ì§€ ì•ŠìŒ), INSERTì— ëŒ€í•´ì„œë§Œ ë°œìƒí•œë‹¤. ì•„ë˜ì™€ ê°™ì€ ìƒí™©ì—ì„œ ì¬í˜„ë  ìˆ˜ ìˆë‹¤. 1234567891011START TRANSACTION; -- transaction id : 1 SELECT * FROM Member; -- 0ê±´ ì¡°íšŒ START TRANSACTION; -- transaction id : 2 INSERT INTO MEMBER VALUES(1,'joont',28); COMMIT;SELECT * FROM Member; -- ì—¬ì „íˆ 0ê±´ ì¡°íšŒ UPDATE Member SET name = 'zion.t' WHERE id = 1; -- 1 row(s) affectedSELECT * FROM Member; -- 1ê±´ ì¡°íšŒ COMMIT; REPETABLE READì— ì— ì˜í•˜ë©´ ì›ë˜ ì¶œë ¥ë˜ì§€ ì•Šì•„ì•¼ í•˜ëŠ”ë° UPDATE ë¬¸ì˜ ì˜í–¥ì„ ë°›ì€ í›„ ë¶€í„° ì¶œë ¥ëœë‹¤. ì´ ì‹œì ì— ìŠ¤ëƒ…ìƒ·ì„ ì ìš©ì‹œí‚¤ëŠ” ê²ƒ ê°™ë‹¤. ì°¸ê³ ë¡œ DELETEì— ëŒ€í•´ì„œëŠ” ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤. 1234567891011START TRANSACTION; -- transaction id : 1 SELECT * FROM Member; -- 1ê±´ ì¡°íšŒ START TRANSACTION; -- transaction id : 2 DELETE FROM Member WHERE id = 1; COMMIT;SELECT * FROM Member; -- ì—¬ì „íˆ 1ê±´ ì¡°íšŒ UPDATE Member SET name = 'zion.t' WHERE id = 1; -- 0 row(s) affectedSELECT * FROM Member; -- ì—¬ì „íˆ 1ê±´ ì¡°íšŒ COMMIT; SERIALIZABLE ê°€ì¥ ë‹¨ìˆœí•˜ê³  ê°€ì¥ ì—„ê²©í•œ ê²©ë¦¬ìˆ˜ì¤€ì´ë‹¤. InnoDBì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ìˆœìˆ˜í•œ SELECT ì‘ì—…ì€ ì•„ë¬´ëŸ° ì ê¸ˆì„ ê±¸ì§€ì•Šê³  ë™ì‘í•˜ëŠ”ë°, ê²©ë¦¬ìˆ˜ì¤€ì´ SERIALIZABLEì¼ ê²½ìš° ì½ê¸° ì‘ì—…ì—ë„ ê³µìœ  ì ê¸ˆì„ ì„¤ì •í•˜ê²Œ ë˜ê³ , ì´ëŸ¬ë©´ ë™ì‹œì— ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ ì´ ë ˆì½”ë“œë¥¼ ë³€ê²½í•˜ì§€ ëª»í•˜ê²Œ ëœë‹¤. ì´ëŸ¬í•œ íŠ¹ì„± ë•Œë¬¸ì— ë™ì‹œì²˜ë¦¬ ëŠ¥ë ¥ì´ ë‹¤ë¥¸ ê²©ë¦¬ìˆ˜ì¤€ë³´ë‹¤ ë–¨ì–´ì§€ê³ , ì„±ëŠ¥ì €í•˜ê°€ ë°œìƒí•˜ê²Œ ëœë‹¤. ì°¸ê³  : ì´ì„±ìš±, ã€Real MySQLã€, ìœ„í‚¤ë¶ìŠ¤(2012)]]></content>
      <categories>
        <category>db</category>
      </categories>
      <tags>
        <tag>Real MySQL</tag>
        <tag>isolatation level</tag>
        <tag>ê²©ë¦¬ ìˆ˜ì¤€</tag>
        <tag>mysql isolation</tag>
        <tag>REPETABLE READ</tag>
        <tag>Phantom READ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[db] MVCC]]></title>
    <url>%2Fdb%2FMVCC%2F</url>
    <content type="text"><![CDATA[Multi Version Concurrency Content ì˜ ì•½ìì´ë©°, Multi Versionì´ë¼ í•¨ì€ í•˜ë‚˜ì˜ ë ˆì½”ë“œì— ëŒ€í•´ ì—¬ëŸ¬ ë²„ì „ì´ ê´€ë¦¬ëœë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ë ˆì½”ë“œ ë ˆë²¨ì˜ íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ëŠ” DBMSê°€ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì´ë©°, ê°€ì¥ í° ëª©ì ì€ ì ê¸ˆì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì¼ê´€ëœ ì½ê¸°ë¥¼ ì œê³µí•˜ëŠ”ë° ìˆë‹¤. (ë©€í‹°ë²„ì „ ì—†ì´ ì¼ê´€ëœ ì½ê¸°ë¥¼ ë³´ì¥í•˜ë ¤ë©´ ì½ê³  ìˆëŠ” ë ˆì½”ë“œëŠ” ì™¸ë¶€ì—ì„œ ìˆ˜ì •ì´ ë¶ˆê°€ëŠ¥í•˜ë„ë¡ í•´ì•¼í•œë‹¤) MySQLì€ ì–¸ë‘ ë¡œê·¸ë¥¼ ì´ìš©í•´ ì´ ê¸°ëŠ¥ì„ êµ¬í˜„í•œë‹¤. ê°€ë ¹ ì•„ë˜ì™€ ê°™ì€ ì—…ë°ì´íŠ¸ ë¬¸ì„ ì‹¤í–‰í•˜ê³ , 1UPDATE member SET area = 'ê²½ê¸°' WHERE id = 12 ì•„ì§ COMMITì´ë‚˜ ROLLBACKì„ í•˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ ì‚¬ìš©ìê°€(ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ) ì•„ë˜ì™€ ê°™ì´ ì¡°íšŒí•˜ë©´ ì–´ë–»ê²Œ ë ê¹Œ? 123SELECT * FROM MemberWHERE id = 12 ì •ë‹µì€ MySQL ì´ˆê¸°í™” íŒŒë¼ë¯¸í„°ì— ì„¤ì •ëœ ê²©ë¦¬ ìˆ˜ì¤€ì— ë”°ë¼ ë‹¤ë¥´ë‹¤. ê²©ë¦¬ ìˆ˜ì¤€ì´ READ_UNCOMMITEDë¼ë©´ ë²„í¼ í’€ì´ë‚˜ ë°ì´í„° íŒŒì¼ë¡œë¶€í„° ë°ì´í„°ë¥¼ ì½ì–´ì„œ ë°˜í™˜í•˜ì§€ë§Œ, ê²©ë¦¬ ìˆ˜ì¤€ì´ READ_COMMITED ì´ìƒì´ë¼ë©´ ë²„í¼ í’€ì´ë‚˜ ë°ì´í„° íŒŒì¼ì— ìˆëŠ” ë°ì´í„°ë¥¼ ì½ëŠ” ëŒ€ì‹ ì— ë³€ê²½ ì´ì „ì˜ ë‚´ìš©ì„ ë³´ê´€í•˜ê³  ìˆëŠ” ì–¸ë‘ ë¡œê·¸ ì˜ì—­ì˜ ë°ì´í„°ë¥¼ ë°˜í™˜í•œë‹¤. (ë””ìŠ¤í¬ ë°ì´í„° íŒŒì¼ì— ë°ì´í„°ê°€ ì—…ë°ì´íŠ¸ ë˜ì–´ìˆì„ ìˆ˜ë„ ìˆê³ , ì•„ë‹ìˆ˜ë„ ìˆê¸° ë•Œë¬¸ì— ???ë¼ê³  í‘œì‹œë˜ì–´ìˆëŠ”ë°, ê¸°ë³¸ì ìœ¼ë¡œ InnoDBëŠ” ACIDë¥¼ ë³´ì¥í•˜ë¯€ë¡œ ë²„í¼í’€ê³¼ ë°ì´í„°íŒŒì¼ì€ ê°™ì€ ê°’ì´ë¼ê³  ë´ë„ ë¬´ë°©í•˜ë‹¤) ë³´ë‹¤ì‹œí”¼ ê¸°ë³¸ì ìœ¼ë¡œ UPDATE êµ¬ë¬¸ì€ ì—°ì‚°ì˜ ê²°ê³¼ë¥¼ ë°”ë¡œ ë ˆì½”ë“œì— ë°˜ì˜í•˜ê³ , ì´ì „ ë°ì´í„°ì— ëŒ€í•´ì„œëŠ” ë©€í‹°ë²„ì „ìœ¼ë¡œ ê´€ë¦¬í•œë‹¤. ì´ë¥¼ MVCCë¼ê³  í•œë‹¤. (INSERTë‚˜ DELETEë„ ë©€í‹°ë²„ì „ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ”ì§€ëŠ” ì˜ ëª¨ë¥´ê² ë‹¤) ì´ë ‡ê²Œ ê´€ë¦¬ë˜ëŠ” ë©€í‹°ë²„ì „ì€ ë°ì´í„°ë² ì´ìŠ¤ ê²©ë¦¬ìˆ˜ì¤€ì— ë”°ë¼ ë³´ì—¬ì§€ëŠ”ê²Œ ë‹¬ë¼ì§€ê²Œ ëœë‹¤. READ UNCOMMITTEDë©´ ì• ì´ˆì— ë©€í‹°ë²„ì „ì„ ê´€ë¦¬í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ ë ˆì½”ë“œì˜ ë‚´ìš©ì„ ë°”ë¡œ ë°”ë¼ë³´ê²Œ ë˜ê³ , READ COMMITTEDë©´ ì»¤ë°‹ ì „ê¹Œì§€ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì— ë©€í‹° ë²„ì „ì„ ë³´ì—¬ì¤„ ê²ƒì´ê³ , REPETABLE READë©´ ì»¤ë°‹ì„ í•´ë„ ë¨¼ì € ì‹œì‘í•œ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ê²ŒëŠ” ë©€í‹° ë²„ì „ì„ ë³´ì—¬ì¤„ ê²ƒì´ë‹¤ (ì°¸ê³ ë¡œ ìœ„ ì²˜ëŸ¼ UPDATEë¥¼ ì‹¤í–‰í•œ ë¡œìš°ëŠ” LOCKì´ ê±¸ë¦¬ê¸° ë•Œë¬¸ì— ì™¸ë¶€ì—ì„œ ìˆ˜ì •ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤) ìœ„ ìƒí™©ì—ì„œ ì»¤ë°‹ì„ ì‹¤í–‰í•˜ë©´ ë” ì´ìƒì˜ ë³€ê²½ì‘ì—… ì—†ì´ ì§€ê¸ˆ ìƒíƒœë¥¼ ì˜êµ¬ì ì¸ ë°ì´í„°ë¡œ ë§Œë“¤ì–´ë²„ë¦°ë‹¤ ì–¸ë‘ ë¡œê·¸ ì˜ì—­ì˜ ë‚´ìš©ì„ ë” ì´ìƒ í•„ìš”ë¡œ í•˜ëŠ” íŠ¸ëœì­ì…˜ì´ ì—†ì„ ê²½ìš°, ì–¸ë‘ ë¡œê·¸ì—ì„œ í•´ë‹¹ ë‚´ìš©ì„ ì‚­ì œí•œë‹¤. ê²©ë¦¬ìˆ˜ì¤€ì— ë”°ë¼ ì‚­ì œí•˜ëŠ” ì‹œì ì´ ë‹¤ë¥¼ ê²ƒì´ë‹¤ ë¡¤ë°±ì„ ì‹¤í–‰í•˜ë©´ ì–¸ë‘ ë¡œê·¸ ì˜ì—­ì— ìˆëŠ” ë°ì´í„°ë¥¼ ë³µêµ¬í•œë‹¤ ì–¸ë‘ ë¡œê·¸ì—ì„œ í•´ë‹¹ ë‚´ìš©ì„ ì‚­ì œí•œë‹¤. ì°¸ê³  : ì´ì„±ìš±, ã€Real MySQLã€, ìœ„í‚¤ë¶ìŠ¤(2012)]]></content>
      <categories>
        <category>db</category>
      </categories>
      <tags>
        <tag>Real MySQL</tag>
        <tag>Multi Version Concurrency Control</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[copyright, copyleft]]></title>
    <url>%2Fetc%2Fcopyright-copyleft%2F</url>
    <content type="text"><![CDATA[http://www.mediaus.co.kr/news/articleView.html?idxno=18500 ì´ëŸ¬í•œ ì €ì‘ê¶Œì„ ë¹„ë¡¯í•œ ì§€ì ì¬ì‚°ê¶Œì˜ êµ­ì œì  ê°•í™”ì™€ í‘œì¤€í™”ëŠ” ì‚°ì—…êµ­ë“¤ì˜ ì´ìµì„ ëŒ€ë³€í•œë‹¤ëŠ” ë¹„íŒê³¼ í•¨ê»˜ ì €ì‘ê¶Œì— ë°˜ëŒ€í•˜ëŠ” ìš´ë™ì´ í•¨ê»˜ ì§„í–‰ë˜ì–´ ì™”ë‹¤. ë°”ë¡œ ì¹´í”¼ë ˆí”„íŠ¸(Copyleft)ì´ë‹¤. ì¹´í”¼ë¼ì´íŠ¸(Copyright), ì¦‰ ì €ì‘ê¶Œì´ ì €ì‘ìê°€ ì €ì‘ë¬¼ì˜ ì‚¬ìš©, ë³µì œ, ë³€ê²½ ë° ë°°í¬ë¥¼ ê¸ˆì§€í•˜ëŠ” ê²ƒê³¼ëŠ” ë°˜ëŒ€ë¡œ, ì¹´í”¼ë ˆí”„íŠ¸ëŠ” ì§€ì  ì°½ì‘ë¬¼ì˜ ë³µì œ, ì‚¬ìš©, ë³€ê²½ ë° ë°°í¬ ë“±ì„ ììœ ë¡­ê²Œ í•  ìˆ˜ ìˆë„ë¡ í—ˆê°€í•˜ëŠ” ê²ƒì´ë‹¤. ì¦‰, ì €ì‘ê¶Œì— ê¸°ë°˜ì„ ë‘” â€˜ì´ìš©ì œí•œâ€™ì´ ì•„ë‹ˆë¼, ì €ì‘ê¶Œì„ ê¸°ë°˜ìœ¼ë¡œ í•œ â€˜ì •ë³´ê³µìœ â€™ì¸ ê²ƒì´ë‹¤. ë‹¤ì‹œ ë§í•˜ë©´, ì €ì‘ë¬¼ì˜ ì†Œìœ ê¶Œì„ ì£¼ì¥í•´ ì‚¬ìš©ì„ ì œí•œí•˜ëŠ” ê²ƒê³¼ëŠ” ë‹¬ë¦¬, ìƒˆë¡œìš´ ì €ì‘ë¬¼ì€ ì´ë¯¸ ì•ì„  ì„¸ëŒ€ê°€ ì°½ì‘í•œ ì €ì‘ë¬¼ë“¤ì„ ë°”íƒ•ìœ¼ë¡œ ì°½ì¡°ëœ ê²ƒì´ê¸°ì— ê°œì¸ìì‚°ì¼ ë¿ ì•„ë‹ˆë¼ ì¸ë¥˜ì˜ ê³µê³µìì‚°ì„ìœ¼ë¡œ ëª¨ë‘ì—ê²Œ ê³µìœ ë˜ì–´ì•¼ í•œë‹¤ëŠ” ë…¼ë¦¬ì´ë‹¤. ë˜í•œ ì†Œìˆ˜ íŠ¹ê¶Œì¸µì— ì˜í•œ ì§€ì‹ê³¼ ì •ë³´ì˜ ë…ì ê³¼ ìƒì—…í™”ì— ëŒ€í•œ ê±°ë¶€ì´ê¸°ë„ í•˜ë‹¤.]]></content>
      <categories>
        <category>etc</category>
      </categories>
      <tags>
        <tag>copyright</tag>
        <tag>copyleft</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[google dark theme ì ìš©í•˜ê¸°]]></title>
    <url>%2Fetc%2Fgoogle-dark-theme-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0%2F</url>
    <content type="text"><![CDATA[Dark Theme for Google í™•ì¥ í”„ë¡œê·¸ë¨ì„ ì„¤ì¹˜í•œë‹¤. https://chrome.google.com/webstore/detail/dark-theme-for-google/apiabgjfojnkcepfmbdechlhfocpeenc]]></content>
      <categories>
        <category>etc</category>
      </categories>
      <tags>
        <tag>google dark theme</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[git] github dark theme ì ìš©í•˜ê¸°]]></title>
    <url>%2Fgit%2Fgithub-dark-theme-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0%2F</url>
    <content type="text"><![CDATA[https://github.com/StylishThemes/GitHub-Dark ìœ„ ë ˆíŒŒì§€í† ë¦¬ë¥¼ ì´ìš©í•´ ì ‘ê·¼ ê°€ëŠ¥í•˜ë‹¤. í™•ì¥ í”„ë¡œê·¸ë¨ì—ì„œ Stylus ë¥¼ ì„¤ì¹˜í•œë‹¤. https://chrome.google.com/webstore/detail/stylus/clngdbkpkpeebahjckkjfobafhncgmne Installationì˜ ì²«ë²ˆì¨° Install the usercssì„ ëˆ„ë¥¸ë‹¤. ì™¼ìª½ ìƒë‹¨ì— install styleì„ ëˆ„ë¥´ë©´ ë°”ë¡œ ì ìš©ëœë‹¤!! ì´ì œ ëˆˆì´ ì•ˆì•„í”„ë‹¤. ì´ì œ ëˆˆì´ ì•ˆì•„í”„ë‹¤.]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>github dark</tag>
        <tag>github dark theme</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[git] githubì„ ì´ìš©í•˜ëŠ” ì „ì²´ íë¦„]]></title>
    <url>%2Fgit%2Fgithub%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%98%EB%8A%94-%EC%A0%84%EC%B2%B4-%ED%9D%90%EB%A6%84%2F</url>
    <content type="text"><![CDATA[1í¸ : https://blog.outsider.ne.kr/865 2í¸ : https://blog.outsider.ne.kr/866 repository fork local clone ê°œë°œí•˜ë©´ì„œ localì— commit ë¸Œëœì¹˜ëŠ” ë§ì¶°ì£¼ëŠ” ê²ƒì´ ì¢‹ê³ , ì›ë³¸ ì €ì¥ì†Œë¥¼ ë”°ë¡œ ë¼ëª¨íŠ¸ë¡œ ì¶”ê°€í•´ì„œ ê°œë°œ ì¤‘ ë³€ê²½ì‚¬í•­ì„ ì£¼ê¸°ì ìœ¼ë¡œ pull ë°›ì•„ ë§ì¶°ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤ ê°œë°œì´ ì™„ë£Œë˜ë©´ ë³¸ì¸ remote repository push ì›ë³¸ repositoryë¡œ pull request ìƒì„± ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ë§ˆë‹¤ Pull Requestë¥¼ ë°›ì•„ì£¼ëŠ” ì•½ì†ì´ ë‹¤ë¥´ë¯€ë¡œ ë³´ë‚´ê¸° ì „ì— ì´ë¥¼ ë¨¼ì € í™•ì¸í•´ì•¼ í•œë‹¤. ì†ŒìŠ¤ ìˆ˜ì •ì´ ì˜ ë˜ì—ˆë”ë¼ë„ ì´ ì•½ì†ì„ ì œëŒ€ë¡œ ì§€í‚¤ì§€ ì•Šìœ¼ë©´ ë°›ì•„ì£¼ì§€ ì•ŠëŠ”ë‹¤. íƒ­ì—ì„œ Commitsë‚˜ Files Changedë¥¼ í´ë¦­í•˜ë©´ Pull Requestë¥¼ ë³´ë‚´ëŠ” ì»¤ë°‹ê³¼ ë³€ê²½ì‚¬í•­ì´ ì œëŒ€ë¡œ ë˜ì—ˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤. Pull Requestë¥¼ ì´ìš©í•œ ê°œë°œ íë¦„ : https://blog.outsider.ne.kr/1199 ì‘ì—… ì‹œì‘ê³¼ ë™ì‹œì— PRì„ ì˜¬ë ¤ì„œ ë‚´ ì‘ì—… ì§„í–‰ê³¼ì •ì„ íˆ¬ëª…í•˜ê²Œ ê³µìœ í•œë‹¤ ë‹¤ë¥¸ ì‘ì—…ìë“¤ì´ ë‚´ ì‘ì—… ì§„í–‰ê³¼ì •ì„ ì•Œ ìˆ˜ ìˆì–´ì„œ ë‚˜ì¤‘ì— merge ì‘ì—…ì´ë‚˜ ìƒˆë¡œìš´ ì‘ì—… ì‹œì‘ì‹œì— í¸ë¦¬í•¨. ì½”ë“œ ë¦¬ë·°ë¥¼ í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ë„. PR Commentì— í•  ì¼ ëª©ë¡ì„ ë§Œë“¤ê³  ì²´í¬ë¦¬ìŠ¤íŠ¸ë¡œ í‘œì‹œí•˜ë„ë¡ í•¨. ì‘ì—…ì¤‘ì¼ë–„ëŠ” WIP, ì‘ì—…ì´ ëë‚¬ì„ ê²½ìš° DONE]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>pull request</tag>
        <tag>ì½”ë“œë¦¬ë·°</tag>
        <tag>ì˜¤í”ˆì†ŒìŠ¤</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[java] stacktrace ì½ëŠ”ë²•]]></title>
    <url>%2Fjava%2Fstacktrace-%EC%9D%BD%EB%8A%94%EB%B2%95%2F</url>
    <content type="text"><![CDATA[https://okky.kr/article/338405 ì²«ë²ˆì§¸ ì¤„ì´ ê°€ì¥ ë§ˆì§€ë§‰ì— ì‹¤í–‰ëœ ë©”ì„œë“œ ë°‘ì— ì¤„ì€ ìœ„ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ë©”ì„œë“œ CausedByê°€ ì‹¤ì œ ë°œìƒí•œ ì—ëŸ¬ ë©”ì„¸ì§€ì„. 1234567Exception in thread "main" java.lang.IllegalStateException: A book has a null property at com.example.myproject.Author.getBookIds(Author.java:38) at com.example.myproject.Bootstrap.main(Bootstrap.java:14)Caused by: java.lang.NullPointerException at com.example.myproject.Book.getId(Book.java:22) at com.example.myproject.Author.getBookIds(Author.java:35) ... 1 more ì´ë ‡ê²Œ ë°œìƒë˜ì—ˆë‹¤ë©´ ë³´í†µ ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„ëœ ê²ƒì„ 12345try &#123;....&#125; catch (NullPointerException e) &#123; throw new IllegalStateException("A book has a null property", e)&#125;]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>stacktrace</tag>
        <tag>causedby</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[jpa] JPQL]]></title>
    <url>%2Fjpa%2FJPQL%2F</url>
    <content type="text"><![CDATA[JPAì—ì„œ í˜„ì¬ê¹Œì§€ ì‚¬ìš©í–ˆë˜ ê²€ìƒ‰ì€ ì•„ë˜ì™€ ê°™ë‹¤. ì‹ë³„ìë¡œ ì¡°íšŒ EntityManager.find() ê°ì²´ ê·¸ë˜í”„ íƒìƒ‰ e.g. a.getB().getC() í•˜ì§€ë§Œ í˜„ì‹¤ì ìœ¼ë¡œ ì´ ê¸°ëŠ¥ë§Œìœ¼ë¡œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•˜ê¸°ì—ëŠ” ë¬´ë¦¬ì´ë‹¤. ê·¸ë ‡ë‹¤ê³  ëª¨ë“  ì—”í‹°í‹°ë¥¼ ë©”ëª¨ë¦¬ì— ì˜¬ë ¤ë‘ê³  ì–´í”Œë¦¬ì¼€ì´ì…˜ ë‚´ì—ì„œ í•„í„°í•˜ëŠ” ê²ƒì€ í˜„ì‹¤ì„±ì´ ì—†ëŠ” ì†Œë¦¬ì´ë‹¤. ì¦‰, ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ í•„í„°í•´ì„œ ì¡°íšŒí•´ì˜¬ ë¬´ì–¸ê°€ê°€ í•„ìš”í•˜ê³ , ê·¸ê²Œ ê°ì²´ì§€í–¥ ì¿¼ë¦¬ ì–¸ì–´(JPQL)ì´ë‹¤. JPQLì€ ì—”í‹°í‹° ê°ì²´ë¥¼ ì¡°íšŒí•˜ëŠ” ê°ì²´ì§€í–¥ ì¿¼ë¦¬ ì–¸ì–´ì´ë‹¤. ë¬¸ë²•ì€ SQLê³¼ ë¹„ìŠ·í•œë°, ì‹¤ì œë¡  SQLì„ ì¶”ìƒí™” í•œê²ƒì´ê¸° ë•Œë¬¸ì— íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ” íŠ¹ì§•ì´ ìˆë‹¤. SQLê³¼ ë¹„ìŠ·í•˜ê²Œ SELECT, UPDATE, DELETE ë¬¸ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. (ì°¸ê³ ë¡œ ì—”í‹°í‹° ì €ì¥ì€ ê·¸ëƒ¥ entityManager.persistë¥¼ ì‚¬ìš©í•˜ë©´ ë˜ë¯€ë¡œ INSERT ë¬¸ì€ ì—†ë‹¤.) JPQLì—ì„œ UPDATE, DELETE ë¬¸ì€ ë²Œí¬ ì—°ì‚°ì´ë¼ê³  í•´ì„œ ë’¤ì—ì„œ ë”°ë¡œ ì„¤ëª…í•  ê²ƒì´ë¯€ë¡œ, SELECT ë¬¸ë§Œ ì‘ì„±í•˜ê² ë‹¤. ê¸°ë³¸ ë¬¸ë²• ê¸°ë³¸ í˜•íƒœëŠ” ì•„ë˜ì™€ ê°™ë‹¤. 1SELECT m FROM Member AS m WHERE m.username = 'Hello' ëŒ€ì†Œë¬¸ì êµ¬ë¬¸ ì—”í‹°í‹°ì™€ ì†ì„±ì€ ëŒ€ì†Œë¬¸ìë¥¼ êµ¬ë¶„í•œë‹¤. Memberì™€ memberëŠ” ë‹¤ë¥´ê³  usernameê³¼ USERNAMEì€ ë‹¤ë¥´ë‹¤. SELECT, FROM ê°™ì€ JPQL í‚¤ì›Œë“œëŠ” ëŒ€ì†Œë¬¸ìë¥¼ êµ¬ë¶„í•˜ì§€ ì•ŠëŠ”ë‹¤. ì—”í‹°í‹° ì´ë¦„ FROM ì´í›„ì— ì˜¤ëŠ” ëŒ€ìƒì€ í…Œì´ë¸” ì´ë¦„ì´ ì•„ë‹ˆë¼ ì—”í‹°í‹° ì´ë¦„ì´ë‹¤. ê¸°ë³¸ê°’ì¸ í´ë˜ìŠ¤ëª…ì„ ì—”í‹°í‹°ëª…ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•œë‹¤. ë³„ì¹­ì€ í•„ìˆ˜ JPQLì€ ë³„ì¹­ì„ í•„ìˆ˜ë¡œ ì‚¬ìš©í•´ì•¼ í•œë‹¤. AS ë’¤ì— mì´ Memberì˜ ë³„ì¹­ì´ë‹¤. ASëŠ” ìƒëµ ê°€ëŠ¥í•˜ë‹¤. TypedQuery, Query ì‘ì„±í•œ JPQLì„ ì‹¤í–‰ì‹œí‚¤ê¸° ìœ„í•´ ë§Œë“œëŠ” ì¿¼ë¦¬ ê°ì²´ì´ë‹¤. JPQLì´ ë°˜í™˜í•  íƒ€ì…ì„ ëª…í™•í•˜ê²Œ ì§€ì •í•  ìˆ˜ ìˆìœ¼ë©´ TypedQueryë¥¼ ì‚¬ìš©í•˜ê³ , ëª…í™•í•˜ê²Œ ì§€ì •í•  ìˆ˜ ì—†ìœ¼ë©´ Queryë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤. 12345// ì¡°íšŒëŒ€ìƒì´ ì •í™•íˆ Member ì—”í‹°í‹°ì´ë¯€ë¡œ TypedQuery ì‚¬ìš© ê°€ëŠ¥TypedQuery&lt;Member&gt; query = em.createQuery("SELECT m FROM Member m", Member.class);// ì¡°íšŒëŒ€ìƒì´ String, Integerë¡œ ëª…í™•í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ Query ì‚¬ìš©Query query = em.createQuery("SELECT m.username, m.age FROM Member m"); TypedQueryë¡œ ì‹¤í–‰ëœ ì¿¼ë¦¬ëŠ” ë‘ë²ˆì¨° ì¸ìë¡œ ì£¼ì–´ì§„ í´ë˜ìŠ¤ë¥¼ ë°˜í™˜í•˜ê³ , Queryì˜ ê²½ìš° ì˜ˆì œì²˜ëŸ¼ ì¡°íšŒ ì»¬ëŸ¼ì´ 1ê°œ ì´ìƒì¼ ê²½ìš° Object[], 1ê°œì¼ ê²½ìš° Objectë¥¼ ë°˜í™˜í•œë‹¤. ì°¸ê³ ë¡œ String íƒ€ì…ì˜ í•„ë“œë§Œ ì¡°íšŒí•˜ê³  TypedQuery&lt;String[]&gt; ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì€ ì•ˆëœë‹¤. í•˜ë‚˜í•˜ë‚˜ ë‹¤ ì²´í¬í•˜ê¸°ì—ëŠ” ë„ˆë¬´ ë§ìœ¼ë‹ˆê¹Œâ€¦ ê²°ê³¼ ì¡°íšŒ ì¿¼ë¦¬ ê°ì²´ì—ì„œ ì•„ë˜ì˜ ë©”ì„œë“œë“¤ì„ ì‚¬ìš©í•´ JPQLì„ ì‹¤í–‰í•œë‹¤. query.getResultList() ê²°ê³¼ë¥¼ ì»¬ë ‰ì…˜ìœ¼ë¡œ ë°˜í™˜í•œë‹¤. ê²°ê³¼ê°€ ì—†ìœ¼ë©´ ë¹ˆ ì»¬ë ‰ì…˜ì´ ë°˜í™˜ëœë‹¤. 1ê±´ì´ë©´ 1ê±´ë§Œ ë“¤ì–´ê°„ ì»¬ë ‰ì…˜ì´ ë°˜í™˜ëœë‹¤. query.getSingleResult() ê²°ê³¼ê°€ ì •í™•íˆ 1ê±´ ì¼ë•Œ ì‚¬ìš©í•œë‹¤. ê²°ê³¼ê°€ ì—†ìœ¼ë©´ javax.persistence.NoResultException, ê²°ê³¼ê°€ 1ê±´ ì´ìƒì´ë©´ javax.persistence.NonUniqueResultExceptionì´ ë°œìƒí•œë‹¤. ê·¼ë° ì–˜ëŠ” Optionalì„ ë°˜í™˜í•´ì•¼ í•˜ì§€ ì•Šì„ê¹Œ? íŒŒë¼ë¯¸í„° ë°”ì¸ë”© ì•„ë˜ì™€ ê°™ì€ ì´ë¦„ ê¸°ì¤€ íŒŒë¼ë¯¸í„° ë°”ì¸ë”©ì„ ì§€ì›í•œë‹¤. 12345TypedQuery&lt;Member&gt; query = em.createQuery("SELECT m FROM Member m WHERE m.username = :username", Member.class) .setParameter("username", "joont1"); // JPQLì€ ëŒ€ë¶€ë¶„ ë©”ì„œë“œ ì²´ì¸ ë°©ì‹ìœ¼ë¡œ ë˜ì–´ìˆì–´ì„œ ì´ë ‡ê²Œ ì—°ì†í•´ì„œ ì‘ì„±í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤List&lt;Member&gt; result = query.getResultLst(); usernameì€ Member í´ë˜ìŠ¤ì— ì •ì˜ëœ í”„ë¡œí¼í‹° ì´ë¦„ì´ë‹¤. ì•ì— :ë¥¼ ë¶™ì—¬ì„œ ë°”ì¸ë”©í•œë‹¤. username ì— joont1 ì´ ë°”ì¸ë”© ë  ê²ƒì´ë‹¤. ì°¸ê³ ë¡œ ì•„ë˜ì™€ ê°™ì´ ìœ„ì¹˜ ê¸°ì¤€ íŒŒë¼ë¯¸í„° ë°”ì¸ë”©ë„ ì§€ì›í•˜ê¸°ëŠ” í•œë‹¤. 123TypedQuery&lt;Member&gt; query = em.createQuery("SELECT m FROM Member m WHERE m.username = ?1", Member.class) .setParameter(1, "joont1"); ì´ê²ƒë³´ë‹¤ëŠ” ì „ìê°€ ë” ëª…í™•í•˜ë‹¤. ì°¸ê³ ë¡œ LIKE ì—°ì‚°ì²˜ëŸ¼ % ê°™ì€ íŠ¹ìˆ˜ë¬¸ìê°€ í•„ìš”í•  ê²½ìš° ì „ë‹¬í•˜ëŠ” íŒŒë¼ë¯¸í„°ì— ë¶™ì—¬ì„œ ì‚¬ìš©í•˜ë©´ ëœë‹¤. 123TypedQuery&lt;Member&gt; query = em.createQuery("SELECT m FROM Member m WHERE m.username LIKE :username", Member.class) .setParameter("username", "%joont%"); // ì´ëŸ°ì‹ìœ¼ë¡œ íŒŒë¼ë¯¸í„° ë°”ì¸ë”© ë°©ì‹ì€ ì„ íƒì´ ì•„ë‹Œ í•„ìˆ˜ì´ë‹¤ JPQLì— ì§ì ‘ ë¬¸ìë¥¼ ë”í•˜ë©´ SQL Injectionì„ ë‹¹í•  ìˆ˜ ìˆë‹¤ JPAì—ì„œ íŒŒë¼ë¯¸í„°ë§Œ ë‹¤ë¥¼ ë¿ ê°™ì€ ì¿¼ë¦¬ë¡œ ì¸ì‹í•˜ë¯€ë¡œ, JPQLì„ SQLë¡œ íŒŒì‹±í•œ ê²°ê³¼ë¥¼ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ SQL ë‚´ì—ì„œë„ ê°™ì€ ì¿¼ë¦¬ëŠ” ê²°ê³¼ë¥¼ ì¬ì‚¬ìš©í•œë‹¤ í”„ë¡œì ì…˜ ì¡°íšŒí•  ëŒ€ìƒì„ ì§€ì •í•˜ëŠ” ê²ƒì„ í”„ë¡œì ì…˜ì´ë¼ê³  í•œë‹¤. SELECT [í”„ë¡œì ì…˜ ëŒ€ìƒ] FROM ìœ¼ë¡œ ëŒ€ìƒì„ ì§€ì •í•œë‹¤. ëŒ€ìƒì€ ì—”í‹°í‹° íƒ€ì…, ì„ë² ë””ë“œ íƒ€ì…, ìŠ¤ì¹¼ë¼ íƒ€ì…ì´ ìˆë‹¤. ì—”í‹°í‹° í”„ë¡œì ì…˜ 123SELECT m FROM Member m // memberSELECT m.team FROM Memher m // team ë‘˜ ë‹¤ ì—”í‹°í‹°ë¥¼ í”„ë¡œì ì…˜ ëŒ€ìƒìœ¼ë¡œ ì‚¬ìš©í–ˆë‹¤. ì°¸ê³ ë¡œ ì´ë ‡ê²Œ ì¡°íšŒí•œ ì—”í‹°í‹°ëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ ê´€ë¦¬ëœë‹¤. ì„ë² ë””ë“œ íƒ€ì… í”„ë¡œì ì…˜ ì—”í‹°í‹°ë¥¼ í†µí•´ì„œ ì¡°íšŒí•œë‹¤. 123Address address = em.createQuery("SELECT m.address FROM Member m", Address.class) .getSingleResult(); ì„ë² ë””ë“œ íƒ€ì…ì€ ì—”í‹°í‹° íƒ€ì…ì´ ì•„ë‹Œ ê°’ íƒ€ì…ì´ë¯€ë¡œ ì´ë ‡ê²Œ ì¡°íšŒí•œ ì„ë² ë””ë“œ íƒ€ì…ì€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ ê´€ë¦¬ë˜ì§€ ì•ŠëŠ”ë‹¤. ìŠ¤ì¹¼ë¼ íƒ€ì… í”„ë¡œì ì…˜ 1234567891011// ì´ë¦„ì¡°íšŒTypedQuery&lt;String&gt; query = em.createQuery("SELECT m.username FROM Member m", String.class);List&lt;String&gt; resultList = query.getResultList();// ì´ë¦„ì¡°íšŒ(ì¤‘ë³µì œê±°)TypedQuery&lt;String&gt; query = em.createQuery("SELECT DISTINCT m.username FROM Member m", String.class);List&lt;String&gt; resultList = query.getResultList();// í†µê³„ ì¿¼ë¦¬TypedQuery&lt;Double&gt; query = em.createQuery("SELECT AVG(o.orderAmount) FROM Order o", Double.class);List&lt;Double&gt; resultList = query.getResultList(); ì¡°íšŒë˜ëŠ” ì»¬ëŸ¼ì´ 1ê±´ì´ë¼ TypedQueryë¥¼ ì‚¬ìš©í•˜ì˜€ë‹¤. ë³´ë‹¤ì‹œí”¼ í†µê³„ ì¿¼ë¦¬ë„ ìŠ¤ì¹¼ë¼ íƒ€ì…ìœ¼ë¡œ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤. ì—¬ëŸ¬ ê°’ ì¡°íšŒ ì•„ë˜ì™€ ê°™ì´ ì—¬ëŸ¬ê°’ìœ¼ë¡œ ì¡°íšŒí–ˆì„ ë•ŒëŠ” TypedQueryë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ê³ , Queryë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 12345678Query query = em.createQuery("SELECT m.username, m.age, m.team FROM Member m");List&lt;Object[]&gt; resultList = query.getResultList();for(Object[] row : resultList)&#123; String username = (String)row[0]; Integer age = (Integer)row[1]; Team team = (Team)row[2];&#125; ë¬¼ë¡  ì•„ë•Œë„ ì¡°íšŒí•œ ì—”í‹°í‹°ëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ ê´€ë¦¬ëœë‹¤. NEW ëª…ë ¹ì–´ NEW ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ë©´ Object[] ëŒ€ì‹  ë°”ë¡œ ê°ì²´ë¡œ ìƒì„±í•´ì„œ ë°›ì•„ë³¼ ìˆ˜ ìˆë‹¤. 1234TypedQuery&lt;UserDTO&gt; query = em.createQuery("SELECT NEW com.joont.dto.UserDTO(m.username, m.age, m.team) FROM Member m", UserDTO.class);List&lt;UserDTO&gt; resultList = query.getResultList(); ê¸°ì¡´ì´ë¼ë©´ í•˜ë‚˜í•˜ë‚˜ ë²ˆê±°ë¡­ê²Œ ë³€í™˜í–ˆì–´ì•¼ í–ˆì„ ì‘ì—…ì„ NEW ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ì„œ ê°„ë‹¨í•˜ê²Œ ì²˜ë¦¬í–ˆë‹¤. NEW ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ì•„ë˜ 2ê°€ì§€ë¥¼ ì£¼ì˜í•´ì•¼ í•œë‹¤. íŒ¨í‚¤ì§€ëª…ì„ í¬í•¨í•œ í´ë˜ìŠ¤ëª…ì„ ì…ë ¥í•´ì•¼ í•œë‹¤. ìˆœì„œì™€ íƒ€ì…ì´ ì¼ì¹˜í•˜ëŠ” ìƒì„±ìê°€ í•„ìš”í•˜ë‹¤. ì§ì ‘ ì“°ë¼ê³  ìˆëŠ” ê¸°ëŠ¥ì€ ì•„ë‹Œ ê²ƒ ê°™ë‹¤. ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì´ ì ì ˆíˆ êµ¬í˜„í•´ë¼ê³  ë§Œë“¤ì–´ë†“ì€ ê¸°ëŠ¥ì¸ë“¯(QueryDSL ë“±) í˜ì´ì§• API JPAëŠ” ë°ì´í„°ë² ì´ìŠ¤ë“¤ì˜ í˜ì´ì§•ë“¤ì„ ì•„ë˜ì˜ ë‘ APIë¡œ ì¶”ìƒí™”í–ˆë‹¤. (í˜ì´ì§•ì€ ë°ì´í„°ë² ì´ìŠ¤ë§ˆë‹¤ ë¬¸ë²•ì´ ë‹¤ ë‹¤ë¥´ë‹¤) setFirstResult(int startPosition) : ì¡°íšŒ ì‹œì‘ ìœ„ì¹˜(0ë¶€í„° ì‹œì‘) setMaxResult(int maxResult) : ì¡°íšŒí•  ë°ì´í„° ìˆ˜ 123456TypedQuery&lt;Member&gt; query = em.createQuery("SELECT m FROM Member m ORDER BY m.username DESC", Member.class);query.setFirstResult(10);query.setMaxResult(20);query.getResultList(); 11ë²ˆì¨° ë°ì´í„°ë¶€í„° ì‹œì‘í•´ì„œ 20ê°œë¥¼ ì¡°íšŒí•œë‹¤. ì¦‰ 11~30ë²ˆ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ê²Œ ëœë‹¤. ì§€ì›í•˜ëŠ” ëª¨ë“  ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¶”ìƒí™”í–ˆê¸° ë•Œë¬¸ì— ë°ì´í„°ë² ì´ìŠ¤ê°€ ë°”ê»´ë„ ë°©ì–¸ë§Œ ë°”ê¿”ì£¼ë©´ ëœë‹¤. ì§‘í•©ê³¼ ì •ë ¬ ì§‘í•© í•¨ìˆ˜ í•¨ìˆ˜ ì„¤ëª… ë¦¬í„´íƒ€ì… COUNT ê²°ê³¼ ìˆ˜ë¥¼ êµ¬í•œë‹¤ Long MAX, MIN ìµœëŒ€, ìµœì†Œê°’ì„ êµ¬í•œë‹¤ ëŒ€ìƒì— ë”°ë¼ ë‹¤ë¦„ AVG í‰ê· ê°’ì„ êµ¬í•œë‹¤. ìˆ«ìíƒ€ì…ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ìˆ«ìê°€ ì•„ë‹ˆë©´ 0ì„ ë¦¬í„´í•œë‹¤. Double SUM í•©ì„ êµ¬í•œë‹¤. ìˆ«ìíƒ€ì…ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì •ìˆ˜í•© : Longì†Œìˆ˜í•© : Double ì§‘í•© í•¨ìˆ˜ ì‚¬ìš© ì‹œ ì°¸ê³ ì‚¬í•­ í†µê³„ë¥¼ ê³„ì‚°í•  ë•Œ NULLê°’ì€ ë¬´ì‹œëœë‹¤(COUNT(*)ì€ ì œì™¸). ê°’ì´ ì—†ì„ ë•Œ SUM, AVG, MAX, MINë¥¼ ì‚¬ìš©í•˜ë©´ NULLì„ ë¦¬í„´í•œë‹¤. COUNTëŠ” 0ì„ ë¦¬í„´í•œë‹¤. DISTINCTë¥¼ ì§‘í•© í•¨ìˆ˜ì•ˆì— ì‚¬ìš©í•˜ë©´ ì¤‘ë³µëœ ê°’ì„ ì œê±°í•˜ê³  ì§‘í•©ì„ êµ¬í•œë‹¤. ê·¸ë£¹í•‘ GROUP BY, HAVINGë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 1234SELECT t.name, COUNT(m.age), SUM(m.age), AVG(m.age), MAX(m.age), MIN(m.age)FROM Member m LEFT JOIN m.team tGROUP BY t.name HAVING AVG(m.age) &gt;= 10 (teamì˜ ì´ë¦„ìœ¼ë¡œ ê·¸ë£¹í™”í•œ ë’¤ ë‚˜ì´ì˜ í‰ê· ì´ 10ì‚´ ì´ìƒì¸ ê·¸ë£¹ì— ëŒ€í•´ì„œ ì§‘í•©ì„ êµ¬í–ˆë‹¤.) ë¬¸ë²•ì€ ì•„ë˜ì™€ ê°™ë‹¤. group byì ˆ : GROUP BY {ë‹¨ì¼ê°’ ê²½ë¡œ | ë³„ì¹­} havingì ˆ : HAVING ì¡°ê±´ì‹ ì´ëŸ°ì‹ì˜ í†µê³„ ì¿¼ë¦¬ëŠ” ë³´í†µ ì „ì²´ ë°ì´í„°ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì‚¬ìš©í•˜ë¯€ë¡œ ì‹¤ì‹œê°„ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸°ì—ëŠ” ë¶€ë‹´ì´ ë§ë‹¤. ì •ë ¬ ORDER BYë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 1234SELECT t.name, COUNT(m.age) AS cnt FROM Member m LEFT JOIN m.team t GROUP BY t.name ORDER BY t.name ASC, cnt DESC ë¬¸ë²•ì€ ì•„ë˜ì™€ ê°™ë‹¤. order byì ˆ : ORDER BY {ìƒíƒœí•„ë“œ ê²½ë¡œ | ê²°ê³¼ë³€ìˆ˜ [ASC | DESC]} ìƒíƒœí•„ë“œëŠ” m.name ê°™ì´ ê°ì²´ì˜ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” í•„ë“œë¥¼ ë§í•˜ê³ , ê²°ê³¼ë³€ìˆ˜ëŠ” SELECT ì ˆì— ë‚˜íƒ€ë‚˜ëŠ” ê°’ì„ ë§í•œë‹¤. ìœ„ì˜ ì˜ˆì œì—ì„œëŠ” cntê°€ ê²°ê³¼ë³€ìˆ˜ì´ë‹¤. ì¡°ì¸ ë‚´ë¶€ ì¡°ì¸ 1SELECT m FROM Member m INNER JOIN m.team t ë³´ë‹¤ì‹œí”¼ ì¼ë°˜ì ì¸ SQL ì¡°ì¸ê³¼ ì¡°ê¸ˆ ë‹¤ë¥´ë‹¤. ê°€ì¥ í° íŠ¹ì§•ì€ ì—°ê´€ í•„ë“œë¥¼ ì‚¬ìš©í•´ì„œ ì¡°ì¸í•œë‹¤ëŠ” ì ì´ë‹¤. ì¦‰, ì¡°ì¸ì„ ì‚¬ìš©í•˜ë ¤ë©´ ì—”í‹°í‹°ì— ì—°ê´€ê´€ê³„ ëª…ì‹œëŠ” í•„ìˆ˜ì ìœ¼ë¡œ ë˜ì–´ìˆì–´ì•¼ í•œë‹¤. (ìœ„ì™€ ê°™ì´ ì‘ì„±í•˜ë©´ Memberì˜ team í•„ë“œì—ì„œ ê´€ê³„ì˜ ì •ë³´ë¥¼ ì–»ì€ ë’¤ ì¡°ì¸í•  ê²ƒì´ë‹¤) ì•„ë˜ëŠ” ì˜ëª» ì‘ì„±ëœ JPQL ì¡°ì¸ì´ë‹¤. 1SELECT m FROM Member m INNER JOIN Team t // ì˜ëª»ëœ ì¡°ì¸ ë§Œì•½ ì¡°ì¸í•œ ë‘ ê°œì˜ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•˜ë©´ ëœë‹¤. 12SELECT m,tFROM Member m INNER JOIN m.team t ì„œë¡œ ë‹¤ë¥¸ íƒ€ì…ì˜ ë‘ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí–ˆìœ¼ë¯€ë¡œ TypedQueryëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. 123456List&lt;Object[]&gt; list = em.createQuery(jpql).getResultList(); // ìœ„ì—ì„œ ì‘ì„±í•œ ì¿¼ë¦¬for(Object[] o : list)&#123; Member m = (Member)o[0]; Team t = (Team)o[1];&#125; ì™¸ë¶€ ì¡°ì¸ í‚¤ì›Œë“œë§Œ ë°”ê¿”ì£¼ë©´ ëœë‹¤. 1SELECT m FROM Member m LEFT JOIN m.team t ì»¬ë ‰ì…˜ ì¡°ì¸ ì¼ëŒ€ë‹¤ ê´€ê³„ë‚˜ ë‹¤ëŒ€ë‹¤ ê´€ê³„ì²˜ëŸ¼ ì»¬ë ‰ì…˜ì„ ì‚¬ìš©í•˜ëŠ” ê³³ì— ì¡°ì¸í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤. ì•„ë˜ì™€ ê°™ì´ ì»¬ë ‰ì…˜ ê°’ ì—°ê´€ í•„ë“œë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤. 1SELECT t, m FROM Team t LEFT JOIN t.members m ì„¸íƒ€ ì¡°ì¸ CROSS JOINì„ ë§í•œë‹¤. CROSS JOINì´ë€ ì¼ë°˜ì ìœ¼ë¡œ INNER JOINì— ONì ˆì„ ì£¼ì§€ ì•Šì„ ê²ƒì„ ë§í•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ JPQLì—ì„œëŠ” CROSS JOINìœ¼ë¡œ ì™¸ë¶€ ì¡°ì¸ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. (ì¡°ì¸ì‹œ ONì ˆì´ ìë™ ìƒì„±ë˜ë¯€ë¡œ) ONì ˆ JPA 2.1ë¶€í„° ì¡°ì¸í•  ë•Œ ON ì ˆì„ ì§€ì›í•œë‹¤. 123SELECT m, t FROM Member m LEFT JOIN m.team tON t.name = 'A' ì‹¤í–‰ ê²°ê³¼ëŠ” ì•„ë˜ì™€ ê°™ë‹¤. 123SELECT m.*, t.*FROM Member mLEFT JOIN Team t ON m.team_id = t.id AND t.name = 'A' ON ì ˆì„ ì‚¬ìš©í•˜ë©´ ì¡°ì¸ ëŒ€ìƒì„ í•„í„°ë§ í•˜ê³  ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. íŒ¨ì¹˜ ì¡°ì¸ íŒ¨ì¹˜ì¡°ì¸ì€ SQLì— ìˆëŠ” ê°œë…ì€ ì•„ë‹ˆê³  JPQLì—ì„œ ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•´ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ì´ë‹¤. ê°„ë‹¨í•˜ê²Œ ë§í•´ì„œ ì—°ê´€ëœ ì—”í‹°í‹°ë‚˜ ì»¬ë ‰ì…˜ì„ í•œë²ˆì— ê°™ì´ ì¡°íšŒí•œ ë’¤ì— ëŒ€ìƒ ê°ì²´ì˜ í•„ë“œì— set í•´ì„œ ë‚´ë ¤ì£¼ëŠ” ê²ƒì´ë‹¤. ë¬¸ë²•ì€ ì•„ë˜ì™€ ê°™ë‹¤. fetch join : [ LEFT [ OUTER ] | INNER ] JOIN FETCH ì¡°ì¸ê²½ë¡œ ì—”í‹°í‹° íŒ¨ì¹˜ ì¡°ì¸ 12SELECT m FROM Member m INNER JOIN FETCH m.team ì‹¤í–‰í•´ë³´ë©´ ì—°ê´€ ì—”í‹°í‹°ì˜ ê°’ì„ ì±„ì›Œì£¼ê¸° ìœ„í•´ M.*, T.*ì˜ í˜•íƒœë¡œ ì—°ê´€ëœ íŒ€ê¹Œì§€ í•¨ê»˜ ì¡°íšŒí•œë‹¤. ê·¸ë¦¬ê³  ê¸°ì¡´ì˜ INNER JOIN ì—ì„œ Object[] ë¡œ ë°›ì•„ì•¼ í–ˆë˜ê²ƒ ê³¼ëŠ” ë‹¬ë¦¬, Memberì˜ team ë³€ìˆ˜ì— ê°’ì´ ë‹¤ ì±„ì›Œì§„ ìƒíƒœë¡œ ë¦¬í„´ëœë‹¤. ì¦‰, ê°ì²´ ê·¸ë˜í”„ë¥¼ ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ë©´ì„œ ë°›ì„ ìˆ˜ ìˆëŠ” ë°©ë²•ì´ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•´ ì œê³µí™”ëŠ” ê¸°ëŠ¥ì´ë¼ê³  í•˜ëŠ” ê²ƒì´ë‹¤. 123456List&lt;Member&gt; list = em.createQuery(jpql /* ìœ„ì—ì„œ ì‘ì„±í•œ ì¿¼ë¦¬ */, Member.class).getResultList();for(Member m : list)&#123; System.out.println(m.getTeam().getName()); // LAZY ë¡œë”© ë°œìƒ ì•ˆí•¨&#125; (Memberì˜ Teamì€ fetchê°€ LAZYë¼ê³  ê°€ì •í•œë‹¤) íŒ¨ì¹˜ ì¡°ì¸ì„ í†µí•´ ì´ë¯¸ ì—°ê´€ëœ íŒ€ì„ ê°™ì´ ì¡°íˆí–ˆìœ¼ë¯€ë¡œ ìœ„ì™€ ê°™ì´ ìˆ˜í–‰í•´ë„ LAZY ë¡œë”©ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. ì»¬ë ‰ì…˜ íŒ¨ì¹˜ ì¡°ì¸ ì¼ëŒ€ë‹¤ ê´€ê³„ì—ì„œë„ íŒ¨ì¹˜ ì¡°ì¸ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 12SELECT tFROM Team t INNER JOIN FETCH t.members ì´ê²ƒ ë˜í•œ SELECT ì ˆì— t ë§Œ ëª…ì‹œí–ˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³ , T.*, M.*ì˜ í˜•íƒœë¡œ ì—°ê´€ëœ íšŒì›ê¹Œì§€ í•¨ê»˜ ì¡°íšŒëœë‹¤. ê·¼ë° ì—¬ê¸°ì„œ ì£¼ì˜í•  ì ì´ ìˆëŠ”ë°, ì¿¼ë¦¬ì˜ ê²°ê³¼ê°€ ì¦ê°€í•´ì„œ ê·¸ëŸ°ì§€ ìœ„ jpqlì˜ ê²°ê³¼ë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ë°›ì•„ë³´ë©´ Teamì˜ ê°œìˆ˜ê°€ Memberì˜ ê°œìˆ˜ì™€ ë™ì¼í•¨ì„ ë³¼ ìˆ˜ ìˆë‹¤. 123456789List&lt;Team&gt; list = em.createQuery(jpql, Team.class).getResultList(); // ìœ„ì—ì„œ ì‘ì„±í•œ ì¿¼ë¦¬for(Team t : list)&#123; System.out.println(t); for(Member m : t.getMembers())&#123; System.out.println("-&gt; " + m); &#125;&#125; Team@0x100 -&gt; Member@0x200 -&gt; Member@0x300 Team@0x100 -&gt; Member@0x200 -&gt; Member@0x300 ì´ë ‡ë“¯ ì¼ëŒ€ë‹¤ ì¡°ì¸ì€ ê²°ê³¼ê°€ ì¦ê°€í•  ìˆ˜ ìˆìŒì— ì£¼ì˜í•´ì•¼ í•œë‹¤. DISTINCT JPQLì˜ DISTINCTëŠ” SQLì— DISTINCTë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì€ ë¬¼ë¡ ì´ê³ , ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ í•œë²ˆ ë” ì¤‘ë³µì„ ì œê±°í•œë‹¤. ì´ íŠ¹ì§•ì„ ì´ìš©í•´ì„œ ìœ„ì˜ ì»¬ë ‰ì…˜ íŒ¨ì¹˜ ì¡°ì¸ì—ì„œ ë¦¬ìŠ¤íŠ¸ê°€ ì¤‘ë³µë˜ì„œ ë‚˜ì˜¤ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤. 12SELECT DISTINCT tFROM Team t INNER JOIN FETCH t.members ì´ë ‡ê²Œ ì‘ì„±í•˜ë©´ ë¨¼ì € SQLì— DISTINCTê°€ ì ìš©ëœë‹¤. í•˜ì§€ë©´ ì§€ê¸ˆì€ ë¡œìš°ì˜ ë°ì´í„°ê°€ ë‹¤ë¥´ë¯€ë¡œ DISTINCTëŠ” íš¨ê³¼ê°€ ì—†ë‹¤. ë‹¤ìŒìœ¼ë¡œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ DISTINCT ëª…ë ¹ì„ ë³´ê³  ì¤‘ë³µëœ ë°ì´í„°ë¥¼ ê±¸ëŸ¬ë‚¸ë‹¤. SELECT DISTINCT tëŠ” Team ì—”í‹°í‹°ì˜ ì¤‘ë³µì„ ì œê±°í•˜ë¼ëŠ” ì˜ë¯¸ì´ë¯€ë¡œ, ì—¬ê¸°ì—ì„œ ì¤‘ë³µì´ ì œê±°ë˜ê³ , ì˜ˆìƒí–ˆë˜ ê²°ê³¼ë¥¼ ë°›ì•„ë³¼ ìˆ˜ ìˆê²Œëœë‹¤. íŒ¨ì¹˜ì¡°ì¸ê³¼ ì¼ë°˜ì¡°ì¸ì˜ ì°¨ì´ ìœ„ì—ì„œë„ ì–¸ê¸‰í–ˆì§€ë§Œ, ì¼ë°˜ì¡°ì¸ì˜ ê²½ìš° ê²°ê³¼ë¥¼ ë°˜í™˜í•  ë•Œ ì—°ê´€ê´€ê³„ê¹Œì§€ ê³ ë ¤í•˜ì§€ ì•ŠëŠ”ë‹¤. ë‹¨ì§€ SELECT ì ˆì— ì§€ì •í•œ ì—”í‹°í‹°ë§Œì„ ì¡°íšŒí•˜ê³ , ì—°ê´€ëœ ì—”í‹°í‹°ì— ëŒ€í•´ì„œëŠ” í”„ë¡ì‹œë‚˜ ì»¬ë ‰ì…˜ ë˜í¼ë¥¼ ë°˜í™˜í•œë‹¤. 12345List&lt;Team&gt; list = em.createQuery(jpql, Team.class).getResultList(); // ì¼ë°˜ ì¡°ì¸ ì¿¼ë¦¬for(Team t : list)&#123; System.out.println(t.getMembers.get(0)); // ?&#125; ê·¸ëŸ¬ë¯€ë¡œ ìœ„ì™€ ê°™ì´ ì¡°íšŒí•˜ë©´ fetchTypeì´ LAZYì¼ ê²½ìš° ? ë¶€ë¶„ì—ì„œ LAZY ë¡œë”©ì´ ë°œìƒí•  ê²ƒì´ê³ , fetchTypeì´ EAGERì¼ ê²½ìš° íšŒì› ì»¬ë ‰ì…˜ì„ ì¦‰ì‹œ ë¡œë”©í•˜ê¸° ìœ„í•´ ì¿¼ë¦¬ë¥¼ í•œë²ˆ ë” ì‹¤í•¼í•˜ê²Œ ëœë‹¤. íŒ¨ì¹˜ì¡°ì¸ì˜ íŠ¹ì§•ê³¼ í•œê³„ íŒ¨ì¹˜ì¡°ì¸ì€ ê¸€ë¡œë²Œ ì „ëµë³´ë‹¤ ìš°ì„ í•œë‹¤. (ê¸€ë¡œë²Œ ì „ëµ : ì—”í‹°í‹°ì— ì§ì ‘ ì ìš©í•˜ëŠ” ë¡œë”© ì „ëµ e.g. fetch=FetchType.LAZY) ê·¸ëŸ¬ë¯€ë¡œ ìµœì í™”ë¥¼ ìœ„í•´ ê¸€ë¡œë²Œ ë¡œë”© ì „ëµì„ ì¦‰ì‹œ ë¡œë”©ìœ¼ë¡œ ì„¤ì •í•˜ê¸° ë³´ë‹¤ëŠ”, ê¸€ë¡œë²Œ ì „ëµì€ ì§€ì—° ë¡œë”©ìœ¼ë¡œ ì„¤ì •í•˜ê³  ìµœì í™”ê°€ í•„ìš”í•œ ê³³ì—ì„œ íŒ¨ì¹˜ì¡°ì¸ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì „ì²´ì ìœ¼ë¡œ ë´¤ì„ë•Œ í›¨ì”¬ íš¨ê³¼ì ì´ë‹¤. ë¬¼ë¡  ì´ëŸ° ì¢‹ì€ íŒ¨ì¹˜ì¡°ì¸ì—ë„ í•œê³„ê°€ ìˆë‹¤. íŒ¨ì¹˜ì¡°ì¸ ëŒ€ìƒì—ëŠ” ë³„ì¹­ì„ ì¤„ ìˆ˜ ì—†ë‹¤ ë³„ì¹­ì„ ì¤„ ìˆ˜ ì—†ë‹¤ëŠ” ë§ì¸ ì¦‰ SELECT, WHERE, ì„œë¸Œì¿¼ë¦¬ì— íŒ¨ì¹˜ì¡°ì¸ ëŒ€ìƒì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŒì„ ë§í•œë‹¤. í•˜ì´ë²„ë„¤ì´íŠ¸ë¥¼ í¬í•¨í•œ ëª‡ëª‡ êµ¬í˜„ì²´ë“¤ì€ íŒ¨ì¹˜ì¡°ì¸ì— ë³„ì¹­ì„ ì§€ì •í•˜ëŠ” ê²ƒì„ í—ˆìš©í•´ì£¼ë‚˜ ì˜ëª» ì‚¬ìš©í•˜ë©´ ë¬´ê²°ì„±ì´ ê¹¨ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì¡°ì‹¬í•´ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤. ë‘˜ ì´ìƒì˜ ì»¬ë ‰ì…˜ì„ íŒ¨ì¹˜í•  ìˆ˜ ì—†ë‹¤ ì»¬ë ‰ì…˜ * ì»¬ë ‰ì…˜ì˜ ì¹´í…Œì‹œì•ˆ ê³±ì´ ë§Œë“¤ì–´ì§€ë¯€ë¡œ ì£¼ì˜í•´ì•¼í•œë‹¤. í•˜ì´ë²„ë„¤ì´íŠ¸ë¥¼ ì‚¬ìš©í•  ê²½ìš° MultipleBagFetchExceptionì´ ë°œìƒí•œë‹¤. (ê·¼ë° ì»¬ë ‰ì…˜ì´ Setì´ë©´ ì™œ ë ê¹Œ?) ì»¬ë ‰ì…˜ì„ íŒ¨ì¹˜ ì¡°ì¸í•˜ë©´ í˜ì´ì§• APIë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤ HHH000104: firstResult/maxResults specified with collection fetch; applying in memory! ì™€ ê°™ì€ ê²½ê³ ë¡œê·¸ë¥¼ ë‚¨ê¸°ë©´ì„œ ë©”ëª¨ë¦¬ì—ì„œ í˜ì´ì§•í•œë‹¤. ë°ì´í„°ê°€ ì ìœ¼ë©´ ìƒê´€ì—†ê² ì§€ë§Œ ë§ìœ¼ë©´ ì„±ëŠ¥ ì´ìŠˆê°€ ë°œìƒí•  ìˆ˜ ìˆì–´ì„œ ìœ„í—˜í•˜ë‹¤. driven ì—”í‹°í‹°ì˜ ì¤‘ë³µì´ ì œê±°ëœ ë‹¤ìŒ í˜ì´ì§•ì„ í•˜ë ¤ê³  ë©”ëª¨ë¦¬ì—ì„œ í•˜ëŠ”ê±´ë°â€¦ ì™œ ê·¸ëŸ°ê±¸ê¹Œ? DISTINCT ì—†ëŠ” íŒ¨ì¹˜ì¡°ì¸ì¼ ë•ŒëŠ” ê·¸ëƒ¥ ë‹¤ ë¿Œë ¤ì¤¬ìœ¼ë©´ì„œâ€¦ ì´ê²ƒë„ ê·¸ëƒ¥ ë‹¤ ë¿Œë ¤ì§„ ë°ì´í„°ì— í˜ì´ì§•ì„ ë„£ìœ¼ë©´ ë˜ëŠ” ê²ƒ ì•„ë‹Œì§€? ì´ë ‡ë“¯ íŒ¨ì¹˜ì¡°ì¸ìœ¼ë¡œ ëª¨ë“ ê²ƒì„ í•´ê²°í• ìˆ˜ëŠ” ì—†ë‹¤. í•„ìš”í•  ë•Œë§Œ ì‚¬ìš©í•˜ì—¬ ì„±ëŠ¥ ìµœì í™”ë¥¼ ê¾€í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ê²½ë¡œ í‘œí˜„ì‹ ê²½ë¡œ í‘œí˜„ì‹ì´ë€ .(ì )ì„ ì°ì–´ ê·¸ë˜í”„ë¥¼ íƒìƒ‰í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤. 12345SELECT m.usernameFROM Member m INNER JOIN m.team t INNER JOIN m.orders oWHERE t.name = 'TeamA'; ì—¬ê¸°ì„œ m.username, m.team, m.orders, t.name ëª¨ë‘ ê²½ë¡œ í‘œí˜„ì‹ì´ë‹¤. ì•„ë˜ëŠ” ê²½ë¡œ í‘œí˜„ì‹ì˜ ì¢…ë¥˜ì™€ íŠ¹ì§•ë“¤ì´ë‹¤. ìƒíƒœí•„ë“œ : ë‹¨ìˆœíˆ ê°’ì„ ì €ì¥í•˜ê¸° ìœ„í•œ í•„ë“œ. ì¼ë°˜ì ì¸ ìë°” ê¸°ë³¸ íƒ€ì…ì˜ ì»¬ëŸ¼ë“¤ì„ ë§í•œë‹¤. m.username, t.nameì´ í•´ë‹¹í•œë‹¤. ë”ëŠ” íƒìƒ‰í•  ìˆ˜ ì—†ë‹¤ ì—°ê´€í•„ë“œ : ì—°ê´€ê´€ê³„ë¥¼ ìœ„í•œ í•„ë“œ, ì„ë² ë””ë“œ íƒ€ì… ë‹¨ì¼ ê°’ ì—°ê´€ í•„ë“œ : ëŒ€ìƒì´ ì—”í‹°í‹°ì¸ê²ƒì„ ë§í•œë‹¤. (@ManyToOne, @OneToOne) m.teamì´ í•´ë‹¹ëœë‹¤. ë¬µì‹œì ìœ¼ë¡œ ë‚´ë¶€ ì¡°ì¸ì´ ì¼ì–´ë‚œë‹¤. ê³„ì† íƒìƒ‰í•  ìˆ˜ ìˆë‹¤ ì„ë² ë””ë“œ íƒ€ì…ë„ ë‹¨ì¼ ê°’ ì—°ê´€ í•„ë“œì´ì§€ë§Œ ì—°ê´€ê´€ê³„ê°€ ì—†ìœ¼ë¯€ë¡œ ì¡°ì¸ì´ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤. ì»¬ë ‰ì…˜ ê°’ ì—°ê´€ í•„ë“œ : ëŒ€ìƒì´ ì»¬ë ‰ì…˜ê²ƒì„ ë§í•œë‹¤. (@OneTomany, @ManyToMany) m.orderê°€ í•´ë‹¹ëœë‹¤. ë¬µì‹œì ìœ¼ë¡œ ë‚´ë¶€ ì¡°ì¸ì´ ì¼ì–´ë‚œë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ë”ëŠ” íƒìƒ‰í•  ìˆ˜ ì—†ìœ¼ë‚˜, FROM ì ˆì—ì„œ ë³„ì¹­ì„ ì–»ìœ¼ë©´ ë³„ì¹­ìœ¼ë¡œ íƒìƒ‰í•  ìˆ˜ ìˆë‹¤. ë‹¨ì¼ ê°’ ì—°ê´€ ê²½ë¡œ íƒìƒ‰ ì˜ˆì œ 1SELECT o.member from Order o ìœ„ JPQLì€ ì•„ë˜ì™€ ê°™ì´ ë³€í™˜ëœë‹¤. 123SELECT m.*FROM Order_ o INNER JOIN Member m ON o.member_id = m.id ìœ„ì²˜ëŸ¼ JPQLì— JOINì„ ì ì–´ì£¼ì§€ ì•Šì•˜ëŠ”ë° JOINì´ ë°œìƒí•˜ëŠ” ê²ƒì„ ë¬µì‹œì  ì¡°ì¸ì´ë¼ê³  í•˜ê³ , JOINì„ ì§ì ‘ ì ì–´ì£¼ëŠ” ê²ƒì„ ëª…ì‹œì  ì¡°ì¸ì´ë¼ê³  í•œë‹¤. ë¬µì‹œì  ì¡°ì¸ì€ ë‚´ë¶€ ì¡°ì¸ë§Œ ê°€ëŠ¥ í•˜ë‹¤. ì™¸ë¶€ ì¡°ì¸ì„ í•˜ê³  ì‹¶ìœ¼ë©´ ëª…ì‹œì  ì¡°ì¸ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤. ì»¬ë ‰ì…˜ ê°’ ì—°ê´€ ê²½ë¡œ íƒìƒ‰ ì»¬ë ‰ì…˜ ê°’ì—ì„œëŠ” ê²½ë¡œ íƒìƒ‰ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤(ê°€ì¥ ë§ì´ í•˜ëŠ” ì‹¤ìˆ˜) 1SELECT t.members.username FROM Team t // ì‹¤íŒ¨ ë§Œì•½ ê²½ë¡œ íƒìƒ‰ì„ í•˜ê³  ì‹¶ìœ¼ë©´ ëª…ì‹œì  ì¡°ì¸ì„ ì‚¬ìš©í•´ì„œ ì™¸ë¶€ ë³„ì¹­ì„ íšë“í•´ì•¼ í•œë‹¤. 123SELECT m.usernameFROM Team t INNER JOIN t.members m ì°¸ê³ ë¡œ ì»¬ë ‰ì…˜ì„ ì»¬ë ‰ì…˜ì˜ í¬ê¸°ë¥¼ êµ¬í•  ìˆ˜ ìˆëŠ” sizeë¼ëŠ” íŠ¹ë³„í•œ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤. 1SELECT t.member.size FROM Team t ëŠ” COUNT í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ë¡œ ì ì ˆíˆ ë³€í™˜ëœë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ì¿¼ë¦¬ì—ì„œ ì¡°ì¸ì´ ì„±ëŠ¥ìƒ ì°¨ì§€í•˜ëŠ” ë¶€ë¶„ì€ ì•„ì£¼ í¬ë‹¤. ë‹¨ìˆœí•˜ë©´ ë³„ë¡œ ë¬¸ì œë  ê²ƒ ì—†ìœ¼ë‚˜, ë³µì¡í•˜ê³  ì„±ëŠ¥ì´ ì¤‘ìš”í•˜ë©´ ë¶„ì„ì´ ìš©ì´í•˜ë„ë¡ ëª…ì‹œì  ì¡°ì¸ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì„œë¸Œì¿¼ë¦¬ JPQLì—ì„œëŠ” ì„œë¸Œì¿¼ë¦¬ë¥¼ WHERE, HAVING ì ˆì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. SELECT, FROM ì ˆì—ì„œëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ì•„ë˜ëŠ” ê°„ë‹¨í•œ ì„œë¸Œì¿¼ë¦¬ ì˜ˆì‹œì´ë‹¤. 1234// íšŒì›ë“¤ì˜ í‰ê·  ë‚˜ì´ë¥¼ ë„˜ëŠ” íšŒì› ì¡°íšŒSELECT mFROM Member mWHERE m.age &gt; (SELECT AVG(m2.age) FROM Member m2) ì„œë¸Œì¿¼ë¦¬ í•¨ìˆ˜ EXISTS ë¬¸ë²• : [NOT] EXISTS {subquery} ì„¤ëª… : ì„œë¸Œì¿¼ë¦¬ê°€ ê²°ê³¼ì— ì¡´ì¬í•˜ë©´ ì°¸ì´ë‹¤(NOTì€ ë°˜ëŒ€) 12345678// teamAì— ì†Œì†ì¸ íšŒì›SELECT m FROM Memner m WHERE EXISTS ( SELECT t FROM m.team t WHERE t.name = 'teamA') ALL | ANY | SOME ë¬¸ë²• : { ALL | ANY | SOME } {subquery} ì„¤ëª… : ë¹„êµ ì—°ì‚°ìì™€ ê°™ì´ ì‚¬ìš©í•œë‹¤ ALL : ì¡°ê±´ì„ ëª¨ë‘ ë§Œì¡±í•˜ë©´ ì°¸ ANY, SOME : ë‘˜ì€ ê°™ì€ ì˜ë¯¸ì„. ì¡°ê±´ì„ í•˜ë‚˜ë¼ë„ ë§Œì¡±í•˜ë©´ ì°¸ 1234567891011121314// ì „ì²´ ìƒí’ˆ ê°ê°ì˜ ì¬ê³ ë³´ë‹¤ ì£¼ë¬¸ëŸ‰ì´ ë§ì€ ì£¼ë¬¸ë“¤ SELECT oFROM Order oWHERE o.orderAmoun &gt; ALL( SELECT p.stockAmoun from Product p // o.pê°€ ì•„ë‹ˆê³ ?)// ì–´ë–¤ íŒ€ì´ë“  íŒ€ì— ì†Œì†ëœ íšŒì› SELECT mFROM Member mWHERE m.team = ANY( SELECT t FROM Team t // ì´ê²ƒë„ ì¢€ ì´ìƒí•œë°...) IN ë¬¸ë²• : [NOT] IN {subquery} ì„¤ëª… : ì„œë¸Œì¿¼ë¦¬ì˜ ê²°ê³¼ ì¤‘ í•˜ë‚˜ë¼ë„ ê°™ì€ ê²ƒì´ ìˆìœ¼ë©´ ì°¸ì´ë‹¤. INì€ ì„œë¸Œì¿¼ë¦¬ê°€ ì•„ë‹Œ ê³³ì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì¡°ê±´ì‹ íƒ€ì… í‘œí˜„ ì¢…ë¥˜ ì„¤ëª… ì˜ˆì œ ë¬¸ì ì‘ì€ ë”°ì˜´í‘œ ì‚¬ì´ì— í‘œí˜„.ì‘ìŒ ë”°ì˜´í‘œë¥¼ í‘œí˜„í•˜ê³  ì‹¶ìœ¼ë©´ ì‘ì€ ë”°ì˜´í‘œ 2ê°œ(â€™â€™) ì‚¬ìš© â€˜HELLOâ€™â€˜Sheâ€™'s â€™ ìˆ«ì L(Long íƒ€ì… ì§€ì •)D(Double íƒ€ì… ì§€ì •)F(Float íƒ€ì… ì§€ì •) 10L10D10F ë‚ ì§œ DATE {d â€˜yyyy-mm-ddâ€™}TIME {t â€˜hh:mm:ssâ€™}TIMESTAMP {ts 'yyyy-mm-dd hh:mm:ss.f} m.createDate = {d â€˜2012-03-24â€™} Boolean TRUE, FALSE Enum íŒ¨í‚¤ì§€ëª…ì„ í¬í•¨í•œ ì „ì²´ ì´ë¦„ com.joont.MemberType.Admin ì—”í‹°í‹° íƒ€ì… ì—”í‹°í‹°ì˜ íƒ€ì…ì„ í‘œí˜„í•¨. ì£¼ë¡œ ìƒì†ê³¼ ê´€ë ¨í•´ ì‚¬ìš©. TYPE(m) = Member ì—°ì‚°ì ìš°ì„  ìˆœìœ„ ê²½ë¡œ íƒìƒ‰ ì—°ì‚° : . ìˆ˜í•™ ì—°ì‚° : +(ë‹¨í•­ ì—°ì‚°), -(ë‹¨í•­ ì—°ì‚°), *, /, +, - ë¹„êµ ì—°ì‚° : =, &gt;, &gt;=, &lt;, &lt;=, &lt;&gt;, [NOT] BETWEEN, [NOT] LIKE, [NOT] IN, IS [NOT] NULL, IS [NOT] EMPTY, [NOT] MEMBER [OF], [NOT] EXISTS ë…¼ë¦¬ì—°ì‚° : NOT, AND, OR IS [NOT] EMPTY, [NOT] MEMBER [OF] ë§Œ ëº´ë©´ ì‚¬ìš©ë²•ì€ ì¼ë°˜ì ì¸ SQLê³¼ ë™ì¼í•˜ë‹¤. ì´ ë‘ê°œëŠ” ì»¬ë ‰ì…˜ ì‹ìœ¼ë¡œì¨ JPAì—ì„œ ì œê³µí•˜ëŠ”, ì»¬ë ‰ì…˜ì—ë§Œ ì‚¬ìš©ê°€ëŠ¥í™˜ íŠ¹ë³„ ê¸°ëŠ¥ì´ë‹¤. ì»¬ë ‰ì…˜ ì‹ ì»¬ë ‰ì…˜ì—ë§Œ ì‚¬ìš©ë  ìˆ˜ ìˆìŒì— ì£¼ì˜í•´ì•¼ í•œë‹¤. ì»¬ë ‰ì…˜ì´ ì•„ë‹Œ ê³³ì— ì‚¬ìš©í•˜ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. ë¹ˆ ì»¬ë ‰ì…˜ ë¹„êµ ì‹ ë¬¸ë²• : {ì»¬ë ‰ì…˜ ê°’ ì—°ê´€ ê²½ë¡œ} IS [NOT] EMPTY ì„¤ëª… : ì»¬ë ‰ì…˜ì— ê°’ì´ ë¹„ì—ˆìœ¼ë©´ ì°¸ 123SELECT mFROM Member mWHERE m.orders IS EMPTY ëŠ” ì•„ë˜ì™€ ê°™ì´ ì‹¤í–‰ëœë‹¤. 1234567SELECT m.*FROM Member mWHERE EXISTS ( SELECT o.id FROM Order_ o WHERE o.member_id = m.id) ì»¬ë ‰ì…˜ ë©¤ë²„ ì‹ ë¬¸ë²• : {ì—”í‹°í‹°ë‚˜ ê°’} [NOT] MEMBER [OF] {ì»¬ë ‰ì…˜ ê°’ ì—°ê´€ê²½ë¡œ} ì„¤ëª… : ì—”í‹°í‹°ë‚˜ ê°’ì´ ì»¬ë ‰ì…˜ì— í¬í•¨ë˜ì–´ ìˆìœ¼ë©´ ì°¸ 1234// ì „ë‹¬ëœ ë©¤ë²„ê°€ í¬í•¨ë˜ì–´ ìˆëŠ” íŒ€ ì¡°íšŒ SELECT tFROM Team tWHERE :memberParam MEMBER OF t.members ìŠ¤ì¹¼ë¼ ì‹ ìˆ«ì, ë¬¸ì, ë‚ ì§œ, case, ì—”í‹°í‹° íƒ€ì… ê°™ì€ ê°€ì¥ ê¸°ë³¸ì ì¸ íƒ€ì…ë“¤ì„ ìŠ¤ì¹¼ë¼ íƒ€ì…ì´ë¼ê³  í•œë‹¤. ë¬¸ìí•¨ìˆ˜ í•¨ìˆ˜ ì„¤ëª… ì˜ˆì œ CONCAT(ë¬¸ì1, ë¬¸ì2) ë¬¸ìë¥¼ í•©í•œë‹¤ CONCAT(â€˜Aâ€™, â€˜Bâ€™) = AB SUBSTRING(ë¬¸ì, ìœ„ì¹˜[, ê¸¸ì´]) ìœ„ì¹˜ë¶€í„° ì‹œì‘í•´ ê¸¸ì´ë§Œí¼ ë¬¸ìë¥¼ êµ¬í•œë‹¤. ê¸¸ì´ ê°’ì´ ì—†ìœ¼ë©´ ë‚˜ë¨¸ì§€ ì „ì²´ ê¸¸ì´ë¥¼ ëœ»í•œë‹¤ SUBSTRING(â€˜ABCDEFâ€™, 2, 3) = BCD TRIM([[LEADING TRAILING BOTH] [íŠ¸ë¦¼ ë¬¸ì] FROM] ë¬¸ì) LOWER(ë¬¸ì) ì†Œë¬¸ìë¡œ ë³€ê²½ LOWER(â€˜ABCâ€™) = abc UPPER(ë¬¸ì) ëŒ€ë¬¸ìë¡œ ë³€ê²½ UPPER(â€˜abcâ€™) = ABC LENGTH(ë¬¸ì) ë¬¸ì ê¸¸ì´ LENGTH(â€˜ABCâ€™) = 3 LOCATE(ì°¾ì„ ë¬¸ì, ì›ë³¸ ë¬¸ì[, ê²€ìƒ‰ ì‹œì‘ ìœ„ì¹˜]) ê²€ìƒ‰ìœ„ì¹˜ë¶€í„° ë¬¸ìë¥¼ ê²€ìƒ‰í•œë‹¤. 1ë¶€í„° ì‹œì‘í•˜ê³  ëª»ì°¾ìœ¼ë©´ 0ì„ ë°˜í™˜í•œë‹¤. LOCATE(â€˜DEâ€™, â€˜ABCDEFGâ€™) = 4 ìˆ˜í•™í•¨ìˆ˜ í•¨ìˆ˜ ì„¤ëª… ì˜ˆì œ ABS(ì‹ìˆ˜í•™ì‹) ì ˆëŒ€ê°’ì„ êµ¬í•œë‹¤ ABS(-10) = 10 SQRT(ìˆ˜í•™ì‹) ì œê³±ê·¼ì„ êµ¬í•œë‹¤ SQRT(4) = 2.0 MOD(ìˆ˜í•™ì‹, ë‚˜ëˆŒ ìˆ˜) ë‚˜ë¨¸ì§€ë¥¼ êµ¬í•œë‹¤ MOD(4, 3) = 1 SIZE(ì»¬ë ‰ì…˜ ê°’ ì—°ê´€ ê²½ë¡œì‹) ì»¬ë ‰ì…˜ì˜ í¬ê¸°ë¥¼ êµ¬í•œë‹¤ SIZE(t.members) INDEX(ë³„ì¹­) LIST íƒ€ì… ì»¬ë ‰ì…˜ì˜ ìœ„ì¹˜ê°’ì„ êµ¬í•¨. ë‹¨ ì»¬ë ‰ì…˜ì´ @OrderColumnì„ ì‚¬ìš©í•˜ëŠ” LIST íƒ€ì…ì¼ ë•Œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ t.members m where INDEX(m) &gt; 3 ë‚ ì§œí•¨ìˆ˜ í•¨ìˆ˜ ì„¤ëª… CURRENT_DATE í˜„ì¬ ë‚ ì§œ CURRENT_TIME í˜„ì¬ ì‹œê°„ CURRENT_TIMESTAMP í˜„ì¬ ë‚ ì§œ + ì‹œê°„ í•˜ì´ë²„ë„¤ì´íŠ¸ëŠ” ë‚ ì§œ íƒ€ì…ì—ì„œ ë…„,ì›”,ì¼,ì‹œ,ë¶„,ì´ˆ ê°’ì„ êµ¬í•˜ëŠ” ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤ (YEAR,MONTH,DAY,HOUR,MINUTE,SECOND) 1SELECT YEAR(m.createdDate), MONTH(m.createdDate), DAY(m.createdDate) FROM Member; CASE ì‹ ê¸°ë³¸ CASE ë¬¸ë²• : 1234CASE &#123;WHEN &lt;ì¡°ê±´ì‹&gt; THEN &lt;ìŠ¤ì¹¼ë¼ì‹&gt;&#125;+ ELSE &lt;ìŠ¤ì¹¼ë¼ì‹&gt; END ì‹¬í”Œ CASE ë¬¸ë²• : 1234CASE &lt;ì¡°ê±´ëŒ€ìƒ&gt; &#123;WHEN &lt;ìŠ¤ì¹¼ë¼ì‹1&gt; THEN &lt;ìŠ¤ì¹¼ë¼ì‹2&gt;&#125;+ ELSE &lt;ìŠ¤ì¹¼ë¼ì‹&gt;END COALESCE ë¬¸ë²• : COALESCE(&lt;ìŠ¤ì¹¼ë¼ì‹&gt;, {,&lt;ìŠ¤ì¹¼ë¼ì‹&gt;}+) ì„¤ëª… : ìŠ¤ì¹¼ë¼ì‹ì„ ì°¨ë¡€ëŒ€ë¡œ ì¡°íšŒí•´ì„œ nullì´ ì•„ë‹ˆë©´ ë°˜í™˜í•œë‹¤. IFNULLê³¼ ì•½ê°„ ë¹„ìŠ·í•˜ë‹¤. 12SELECT COALESCE(m.usernae, 'nobody') FROM Member m NULLIF ë¬¸ë²• : NULLIF(&lt;ìŠ¤ì¹¼ë¼ì‹&gt;, &lt;ìŠ¤ì¹¼ë¼ì‹&gt;) ì„¤ëª… : ë‘ ê°’ì´ ê°™ìœ¼ë©´ null ë°˜í™˜, ë‹¤ë¥´ë©´ ì²«ë²ˆì§¸ ê°’ì„ ë°˜í™˜í•œë‹¤. ë‹¤í˜•ì„± ì¿¼ë¦¬ ìƒì†ê´€ê³„(@Inheritance)ë¡œ êµ¬ì„±ëœ ì—”í‹°í‹°ë¥¼ JPAì—ì„œ ì¡°íšŒí•˜ë©´ ê·¸ ìì‹ ì—”í‹°í‹°ë„ ê°™ì´ ì¡°íšŒí•œë‹¤. ì´ê±´ ê¸°ì¡´ê³¼ ë™ì¼í•˜ë‹¤. TYPE ìƒì† êµ¬ì¡°ì—ì„œ ì¡°íšŒ ëŒ€ìƒì„ íŠ¹ì • íƒ€ì…ìœ¼ë¡œ í•œì •í•  ë•Œ ì‚¬ìš©í•œë‹¤. 123SELECT iFROM Item iWHERE TYPE(i) IN(Book, Movie) ëŠ” ì•„ë˜ì™€ ê°™ì´ ì‹¤í–‰ëœë‹¤ 123SELECT i.*FROM Item iWHERE i.DTYPE IN('B', 'M') TREAT ìƒì† êµ¬ì¡°ì—ì„œ ë¶€ëª¨ íƒ€ì…ì„ íŠ¹ì • íƒ€ì…ìœ¼ë¡œ ë‹¤ë£° ë•Œ ì‚¬ìš©í•œë‹¤.(ìë°”ì˜ íƒ€ì… ìºìŠ¤íŒ…ê³¼ ë¹„ìŠ·í•˜ë‹¤) JPA í‘œì¤€ì€ FROM, WHEREì ˆì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥í•˜ê³ , í•˜ì´ë²„ë„¤ì´íŠ¸ì˜ ê²½ìš° SELECTì—ì„œë„ ê°€ëŠ¥í•˜ë‹¤. 123SELECT iFROM Item iWHERE TREAT(i as Book).author = 'kim' Itemì„ ìì‹ íƒ€ì…ì¸ Bookìœ¼ë¡œ ë‹¤ë¤˜ë‹¤. ê·¸ë˜ì„œ Bookì˜ í•„ë“œì¸ authorì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤. ì‚¬ìš©ì ì •ì˜ í•¨ìˆ˜ í˜¸ì¶œ(since JPA2.1) JPA 2.1ë¶€í„° ì‚¬ìš©ì ì •ì˜ í•¨ìˆ˜ë¥¼ ì§€ì›í•œë‹¤. ë¬¸ë²• : FUNCTION(function_name {, function_arg}*) 12SELECT FUNCTION('group_concat', i.name)FROM Item i í•˜ì´ë²„ë„¤ì´íŠ¸ë¥¼ ì‚¬ìš©í•  ê²½ìš° ì•„ë˜ì™€ ê°™ì´ ë°©ì–¸ í´ë˜ìŠ¤ë¥¼ ìƒì†í•´ì„œ ì‚¬ìš©í•  ë°ì´í„°ë² ì´ìŠ¤ í•¨ìˆ˜ë¥¼ ë¯¸ë¦¬ ë“±ë¡í•´ì•¼ í•œë‹¤. 12345678public class MyH2Dialect extends H2Dialect&#123; public MyH2Dialect()&#123; registerFunction( "group_concat", new StandardFunction("group_concat", StandardBasicTypes.STRING) ); &#125;&#125; registerFunctionì˜ ë‘ë²ˆì§¸ ì¸ìë¡œëŠ” í•˜ì´ë²„ë„¤ì´íŠ¸ì˜ SQLFunction êµ¬í˜„ì²´ë¥¼ ì£¼ë©´ ëœë‹¤. ì§€ê¸ˆì€ ê¸°ë³¸ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê² ë‹¤ëŠ” ì˜ë¯¸ë¡œ StandardFunctionì„ ì‚¬ìš©í•˜ì˜€ê³ , ì²«ë²ˆì§¸ ì¸ìë¡œ í•¨ìˆ˜ ì´ë¦„, ë‘ë²ˆì§¸ ì¸ìë¡œ ë¦¬í„´ íƒ€ì…ì„ ì£¼ê³  ìˆëŠ” ëª¨ìŠµì´ë‹¤. ìƒì†í•œ DialectëŠ” ì•„ë˜ì™€ ê°™ì´ ë“±ë¡í•˜ë©´ ë˜ê³ , 1&lt;property name="hibernate.dialect" value="com.joont.dialect.MyH2Dialect" /&gt; í•˜ì´ë²„ë„¤ì´íŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ ê¸°ë³¸ ë¬¸ë²•ë³´ë‹¤ ì¶•ì•½í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 12SELECT group_concat(i.name)FROM Item i ì—”í‹°í‹° ì§ì ‘ ì‚¬ìš© ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ëŠ” ì°¸ì¡° ê°’ìœ¼ë¡œ ì‹ë³„í•˜ê³  í…Œì´ë¸” ë¡œìš°ëŠ” ê¸°ë³¸ í‚¤ ê°’ìœ¼ë¡œ ì‹ë³„í•˜ê¸° ë•Œë¬¸ì— JPQLì—ì„œ ì—”í‹°í‹° ê°ì²´ë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ë©´ SQLì—ì„œëŠ” í•´ë‹¹ ì—”í‹°í‹°ì˜ ê¸°ë³¸ í‚¤ ê°’ì„ ì‚¬ìš©í•œë‹¤. ëª‡ ê°€ì§€ ì˜ˆì‹œë¥¼ ë³´ì. 12SELECT COUNT(m)FROM Member m ì€ ì•„ë˜ì™€ ê°™ì´ ë³€í™˜ëœë‹¤. 12SELECT COUNT(m.id)FROM Member m ê¸°ë³¸í‚¤ ë¹„êµì— ì—”í‹°í‹° ì‚¬ìš© 1234List&lt;Member&gt; result = em.createQuery("SELECT m FROM Member m WHERE m = :member") .setParameter("member", member) // ì—”í‹°í‹° ê°ì²´ ì§ì ‘ ì‚¬ìš© .getResultList(); memberê°€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ìˆì„ í•„ìš”ëŠ” ì—†ë‹¤. ê·¸ëƒ¥ ì‹ë³„ìë§Œ ê°€ì§€ê³  ìˆìœ¼ë©´ ëœë‹¤. ì‹¤í–‰ë˜ëŠ” sqlì€ ì•„ë˜ì™€ ê°™ë‹¤. 123SELECT m.*FROM Member m WHERE m.id = ? -- member íŒŒë¼ë¯¸í„° id ê°’ ì™¸ë˜í‚¤ ë¹„êµë„ ë§ˆì°¬ê°€ì§€ë‹¤ 1234List&lt;Member&gt; result = em.createQuery("SELECT m FROM Member m WHERE m.team = :team") .setParameter("team", team) // ì—”í‹°í‹° ê°ì²´ ì§ì ‘ ì‚¬ìš© .getResultList(); ì‹¤í–‰ë˜ëŠ” sqlì€ ì•„ë˜ì™€ ê°™ë‹¤. 123SELECT m.*FROM Member m WHERE m.team_id = ? -- team íŒŒë¼ë¯¸í„° id ê°’ MEMBER í…Œì´ë¸”ì€ ì´ë¯¸ TEAMì˜ ì‹ë³„ì ê°’ì„ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— ë¬µì‹œì  ì¡°ì¸ì€ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤. Named ì¿¼ë¦¬(ì •ì  ì¿¼ë¦¬) em.createQuery(&quot;select ... &quot;) ì²˜ëŸ¼ JPQLì„ ì§ì ‘ ë¬¸ìë¡œ ë„˜ê¸°ëŠ” ê²ƒì„ ë™ì  ì¿¼ë¦¬ë¼ê³  í•˜ê³ , ë¯¸ë¦¬ ì •ì˜í•œ ì¿¼ë¦¬ì— ì´ë¦„ì„ ë¶€ì—¬í•´ì„œ í•´ë‹¹ ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ Named ì¿¼ë¦¬(ì •ì  ì¿¼ë¦¬)ë¼ê³  í•œë‹¤. Named ì¿¼ë¦¬ëŠ” ì–´í”Œë¦¬ì¼€ì´ì…˜ ë¡œë”© ì‹œì ì— JPQL ë¬¸ë²•ì„ ì²´í¬í•˜ê³  ë¯¸ë¦¬ íŒŒì‹±í•´ë‘ë¯€ë¡œ ì˜¤ë¥˜ë¥¼ ë¹¨ë¦¬ í™•ì¸í•  ìˆ˜ ìˆê³ , ì‚¬ìš©í•˜ëŠ” ì‹œì ì—ëŠ” íŒŒì‹±ëœ ê²°ê³¼ë¥¼ ì¬ì‚¬ìš©í•˜ë¯€ë¡œ ì„±ëŠ¥ìƒ ì´ì ë„ ìˆë‹¤. Named ì¿¼ë¦¬ëŠ” @NamedQuery ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ì„œ ìë°” ì½”ë“œì— ì‘ì„±í•˜ê±°ë‚˜ XML ë¬¸ì„œì— ì‘ì„±í•  ìˆ˜ ìˆë‹¤. ì–´ë…¸í…Œì´ì…˜ì— ì •ì˜ 1234567891011121314@Entity@NamedQueries(&#123; @NamedQuery( name = "Member.findByUsername", query = "SELECT m FROM Member WHERE m.username = :username" ), @NamedQuery( name = "Member.count", query = "SELECT COUNT(m) FROM Member m" )&#125;)class Member&#123; // ...&#125; ìœ„ì²˜ëŸ¼ ì—”í‹°í‹°ì— @NamedQuery, @NamedQueries ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ì„œ ì§ì ‘ ì •ì˜í•´ì£¼ë©´ ëœë‹¤. (Named ì¿¼ë¦¬ì˜ ì´ë¦„ì— ìˆëŠ” Memberê°€ ë­”ê°€ ê¸°ëŠ¥ì ìœ¼ë¡œ í•˜ëŠ”ê²Œ ìˆëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤. ê·¸ëƒ¥ ê´€ë¦¬ì˜ í¸ì˜ì„±ì„ ìœ„í•¨ì´ë‹¤. ê·¸ë¦¬ê³  Named ì¿¼ë¦¬ëŠ” ì˜ì†ì„± ìœ ë‹› ë‹¨ìœ„ë¡œ ê´€ë¦¬ë˜ë¯€ë¡œ ì¶©ëŒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ì´ë¦„ìœ¼ë¡œ êµ¬ë¶„í•œ ê²ƒì´ê¸°ë„ í•˜ë‹¤) ê·¸ë¦¬ê³  ì•„ë˜ì™€ ê°™ì•„ ì‚¬ìš©í•´ì£¼ë©´ ëœë‹¤. 1234List&lt;Member&gt; result = em.createNamedQuery("Member.findByName", Member.class) .setParameter("username", "joont") .getResultList(); XMLì— ì •ì˜ ì‚¬ì‹¤ìƒ ìë°”ë¡œ ë©€í‹°ë¼ì¸ ë¬¸ìë¥¼ ë‹¤ë£¨ëŠ” ê²ƒì€ ìƒë‹¹íˆ ê·€ì°®ì€ ì¼ì´ë¯€ë¡œ, Named ì¿¼ë¦¬ë¥¼ ì‘ì„±í•  ë•ŒëŠ” XMLì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” í¸ë¦¬í•˜ë‹¤. 123456789101112131415161718192021222324&lt;!--xml version="1.0" encoding="UTF-8"?--&gt;&lt;entity-mappings xmlns="http://java.sun.com/xml/ns/persistence/orm" version="2.0"&gt; &lt;named-query name="Member.findByUserName"&gt; &lt;query&gt; select m from Member m where m.username = :username &lt;/query&gt; &lt;/named-query&gt; &lt;named-query name="Member.findByAgeOver"&gt; &lt;query&gt;&lt;![CDATA[ select m from Member m where m.age &gt; :age ]]&gt;&lt;/query&gt; &lt;/named-query&gt; &lt;named-native-query name="Inter.findByAlal" result-class="sample.jpa.Inter"&gt; &lt;query&gt;select a.inter_seq, a.inter_name_ko, a.inter_name_en from tb_inter a where a.inter_name_ko = ?&lt;/query&gt; &lt;/named-native-query&gt;&lt;/entity-mappings&gt; XMLì—ì„œ &amp;, &lt;, &gt;,ëŠ” ì˜ˆì•½ë¬¸ìì–´ ì´ë¯€ë¡œ &amp;amp;, &amp;lt;, &amp;gt;ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤. &lt;![CDATA[ ]]&gt;ë¥¼ ì‚¬ìš©í•˜ë©´ ê·¸ ì‚¬ì´ì— ìˆëŠ” ë¬¸ìë¥¼ ê·¸ëŒ€ë¡œ ì¶œë ¥í•˜ë¯€ë¡œ ì˜ˆì•½ ë¬¸ìë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ê¸°íƒ€ Enumì€ = ë¹„êµì—°ì‚°ë§Œ ì§€ì›í•œë‹¤ ëŠ” JPQL ëª…ì„¸ì´ê³ , í•˜ì´ë²„ë„¤ì´íŠ¸ì—ì„œëŠ” ì•„ë˜ê°€ ê°€ëŠ¥í•˜ë‹¤ 123Delivery delivery = em.createQuery("select d from Delivery d where d.deliveryStatus like '%CO%'", Delivery.class) .getSingleResult(); ì„ë² ë””ë“œ íƒ€ì…ì€ ë¹„êµë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤ ë˜í•œ JPQL ëª…ì„¸ì´ê³ , í•˜ì´ë²„ë„¤ì´íŠ¸ì—ì„œëŠ” ì•„ë˜ê°€ ê°€ëŠ¥í•˜ë‹¤ 1234Delivery foundDelivery = em.createQuery("select d from Delivery d where d.address = :address", Delivery.class) .setParameter("address", new Address("seoul", "ìƒˆë§ˆì„ë¡œ", "1111-1111")) .getSingleResult(); í•˜ì´ë²„ë„¤ì´íŠ¸ì—ì„œë§Œ ì§€ì›í•˜ëŠ”ê±´ê°€? JPAëŠ” ''ë¥¼ ê¸¸ì´ 0ì¸ Empty Stringìœ¼ë¡œ ì •í–ˆì§€ë§Œ ë°ì´í„°ë² ì´ìŠ¤ì— ë”°ë¼ ''ë¥¼ nullë¡œ ì‚¬ìš©í•˜ëŠ” ê³³ì´ ìˆìœ¼ë‹ˆ í™•ì¸í•˜ê³  ì‚¬ìš©í•´ì•¼ í•œë‹¤. NULL ì •ì˜ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë°ì´í„°ê°€ í•˜ë‚˜ë„ ì—†ìœ¼ë©´ NULL ì´ë‹¤ NULLì€ ì•Œìˆ˜ ì—†ëŠ” ê°’ì´ë‹¤. NULLê³¼ì˜ ëª¨ë“  ìˆ˜í•™ì  ì—°ì‚°ì€ NULLì´ë‹¤. JPA í‘œì¤€ëª…ì„¸ì—ì„œ ì •í•˜ëŠ” NULLê³¼ì˜ ë…¼ë¦¬ì—°ì‚°ì€ NULLê³¼ Falseë¥¼ AND ì—°ì‚°í•˜ë©´ False. NULLê³¼ Trueë¥¼ OR ì—°ì‚°í•˜ë©´ Trueì´ë‹¤. ë„¤ì´í‹°ë¸Œ SQL JPAëŠ” í‘œì¤€ SQLì´ ì§€ì›í•˜ëŠ” ëŒ€ë¶€ë¶„ì˜ SQL ë¬¸ë²•ê³¼ í•¨ìˆ˜ë“¤ì„ ì§€ì›í•˜ì§€ë§Œ, íŠ¹ì • ë°ì´í„°ë² ì´ìŠ¤ë§Œ ì§€ì›í•˜ëŠ” í•¨ìˆ˜ë‚˜ ë¬¸ë²•, SQL ì¿¼ë¦¬ íŒíŠ¸ ê°™ì€ ê²ƒë“¤ì€ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤. ì´ëŸ° ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„  ë„¤ì´í‹°ë¸Œ SQLì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤. ë„¤ì´í‹°ë¸Œ SQLì´ë€ JPAì—ì„œ ì¼ë°˜ SQLì„ ì§ì ‘ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤. ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•œë‹¤ëŠ” ì  ì™¸ì—ëŠ” JPQLì„ ì‚¬ìš©í• ë•Œì™€ ê±°ì˜ ë¹„ìŠ·í•˜ë‹¤. (ì›ë˜ëŠ” ìœ„ì¹˜ê¸°ë°˜ íŒŒë¼ë¯¸í„°ë§Œ ì§€ì›í•˜ì§€ë§Œ í•˜ì´ë²„ë„¤ì´íŠ¸ëŠ” ì´ë¦„ê¸°ë°˜ íŒŒë¼ë¯¸í„°ê¹Œì§€ ì§€ì›í•œë‹¤) ì—”í‹°í‹° ì¡°íšŒ Query createNativeQuery(String sqlString, Class resultClass) ë¥¼ ë§í•œë‹¤. ë°˜í™˜íƒ€ì…ì„ ì¤˜ë„ TypedQueryê°€ ì•„ë‹Œ Queryë¥¼ ë°˜í™˜í•˜ëŠ” ì´ìœ ëŠ”, JPA 1.0ì—ì„œ ê·œì•½ì´ ê·¸ë ‡ê²Œ ì •ì˜ë˜ì–´ ë²„ë ¸ê¸° ë•Œë¬¸ì— ê·¸ë ‡ë‹¤ê³ í•˜ë‹ˆ ì‹ ê²½ì“°ì§€ ì•Šì•„ë„ ëœë‹¤. ì´ ë©”ì„œë“œë¡œ ì¡°íšŒí•´ì˜¨ ì—”í‹°í‹°ëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ ê´€ë¦¬ëœë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ëª¨ë“  í•„ë“œë¥¼ ë‹¤ ì¡°íšŒí•˜ëŠ” SQLì„ ì‹¤í–‰í•´ì•¼ í•œë‹¤ íŠ¹ì • í•„ë“œë§Œ ì¡°íšŒí•´ì˜¤ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. 123456String sql = "SELECT * FROM Member WHERE id = 1";Member memberFromNative = (Member)em.createNativeQuery(sql, Member.class).getSingleResult();Member memberFromJPQL = em.find(member.class, 1);assertSame(memberFromnNative, memberFromJPQL); // success ê°’ ì¡°íšŒ Query createNativeQuery(String sqlString) ë¥¼ ë§í•œë‹¤. 123456789String sql = "SELECT id, name, age FROM Member";List&lt;Object[]&gt; list = em.createNativeQuery(sql).getResultList();for(Object[] row : list)&#123; Integer id = row[0]; String name = row[1]; Integer age = row[2];&#125; ê²°ê³¼ ë§¤í•‘ ì‚¬ìš© ë„¤ì´í‹°ë¸Œ ì¿¼ë¦¬ì—ì„œ ì—¬ëŸ¬ê°’ë“¤ì´ ë‚˜ì˜¬ ë•Œ ê²°ê³¼ë¥¼ ì—¬ëŸ¬ ì—”í‹°í‹°ë‚˜ ì—”í‹°í‹°+ìŠ¤ì¹¼ë¼ í˜•íƒœë¡œ ì ì ˆíˆ í•©ì¹˜ëŠ”ê±´ë°â€¦ êµ³ì´ ì´ê²ƒê¹Œì§€â€¦ Named ë„¤ì´í‹°ë¸Œ ì¿¼ë¦¬ ì–´ë…¸í…Œì´ì…˜ì˜ ê²½ìš° @NamedNativeQuery ì‚¬ìš©í•˜ë©´ ë˜ê³ , XMLì˜ ê²½ìš° &lt;named-native-query&gt; ì‚¬ìš©í•˜ë©´ ëœë‹¤. ë ìˆ˜ ìˆìœ¼ë©´ JPQLì„ ì‚¬ìš©í•˜ê³ , ê¸°ëŠ¥ì´ ë¶€ì¡±í•˜ë©´ HQL ë“±ì„ ì‚¬ìš©í•´ë³´ê³ , ê·¸ë˜ë„ ì•ˆë˜ë©´ ë„¤ì´í‹°ë¸Œ SQLì„ ì‚¬ìš©í•˜ì ìŠ¤í† ì–´ë“œ í”„ë¡œì‹œì € JPQLì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•˜ì§€ë§Œ(Named ìŠ¤í† ì–´ë“œ í”„ë¡œì‹œì €ë„ ê°€ëŠ¥) MySQLì—ì„œ ì„±ëŠ¥ ì´ì ì´ ê·¸ë¦¬ ë§ì§€ ì•Šì•„ ì˜ ì‚¬ìš©ë˜ì§€ ì•Šìœ¼ë‹ˆ íŒ¨ìŠ¤ ë²Œí¬ ì—°ì‚°(UPDATE, DELETE) JPQLë¡œ ì—¬ëŸ¬ ê±´ì„ í•œë²ˆì— ìˆ˜ì •í•˜ê±°ë‚˜ ì‚­ì œí•  ë–„ ì‚¬ìš©í•œë‹¤. ì•„ë˜ëŠ” UPDATE ë²Œí¬ ì—°ì‚°ì´ë‹¤. 1234567String sql = "UPDATE Product p " + "SET p.prce = p.price * 1.1 " + "WHERE p.stockAmount &lt; :stockAmount";int resultCount = em.createQuery(sql) .setParameter("stockAmount", 10) .executeUpdate(); executeUpdate ë©”ì„œë“œë¥¼ ì‚¬ìš©í•œë‹¤. ë²Œí¬ ì—°ì‚°ìœ¼ë¡œ ì˜í–¥ì„ ë°›ì€ ì—”í‹°í‹° ê±´ìˆ˜ë¥¼ ë°˜í™˜í•œë‹¤. ì•„ë˜ëŠ” DELETE ë²Œí¬ ì—°ì‚°ì´ë‹¤. 123456String sql = "DELETE FROM Product p " + "WHERE p.price &lt; :price";int resultCount = em.createQuery(sql) .setParameter("price", 100) .executeUpdate(); ë²Œí¬ ì—°ì‚°ì‹œ ì£¼ì˜ì‚¬í•­ ë²Œí¬ ì—°ì‚°ì€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ë¬´ì‹œí•˜ê³  ë°ì´í„°ë² ì´ìŠ¤ì— ì§ì ‘ ì¿¼ë¦¬í•œë‹¤ëŠ” íŠ¹ì§•ì´ ìˆìœ¼ë¯€ë¡œ ì£¼ì˜í•´ì•¼ í•œë‹¤. ì•„ë˜ëŠ” ë°œìƒê°€ëŠ¥í•œ ë¬¸ì œ ìƒí™©ì´ë‹¤. 12345678Product product = em.find(Product.class, 1);assertThat(product.getPrice(), is(1000));String sql = "UPDATE Product p " + "SET p.prce = p.price * 1.1";em.createQuery(sql).executeUpdate();assertThat(product.getPrice(), is(1100)); // FAIL!! ë²Œí¬ ì—°ì‚°ì€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì™€ 2ì°¨ ìºì‹œë¥¼ ë¬´ì‹œí•˜ê³  ë°ì´í„°ë² ì´ìŠ¤ì— ì§ì ‘ ì¿¼ë¦¬í•œë‹¤. ë”°ë¼ì„œ ìœ„ì™€ ê°™ì´ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì™€ ë°ì´í„°ë² ì´ìŠ¤ ê°„ì— ë°ì´í„° ì°¨ì´ê°€ ë°œìƒí•  ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ë°©ë²•ì€ ì•„ë˜ì™€ ê°™ë‹¤. em.refrest(entity) ì‚¬ìš© ë²Œí¬ ì—°ì‚° ì§í›„ì— em.refresh(entity)ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë‹¤ì‹œ ìƒí’ˆì„ ì¡°íšŒí•˜ë©´ ëœë‹¤. ë²Œí¬ ì—°ì‚° ë¨¼ì € ì‹¤í–‰ ë²Œí¬ ì—°ì‚°ì„ ê°€ì¥ ë¨¼ì € ì‹¤í–‰í•˜ë©´ ì´ë¯¸ ë³€ê²½ëœ ë‚´ìš©ì„ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ê°€ì ¸ì˜¨ë‹¤. ê°€ì¥ ì‹¤ìš©ì ì¸ í•´ê²°ì±…ì´ë‹¤. ë²Œí¬ ì—°ì‚° ìˆ˜í–‰ í›„ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ì´ˆê¸°í™” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ì´ˆê¸°í™”ë˜ë©´ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë‹¤ì‹œ ì¡°íšŒí•´ì˜¤ê¸° ë•Œë¬¸ì— ì´ê²ƒë„ ë°©ë²•ì´ë‹¤. ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì™€ JPQL ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì´ë¯¸ ìˆëŠ” ì—”í‹°í‹°ë¥¼ JPQLë¡œ ë‹¤ì‹œ ì¡°íšŒí•´ì˜¬ ê²½ìš° ì–´ë–»ê²Œ ì²˜ë¦¬ë ê¹Œ? 12345Member member1 = em.find(Member.class, 1);List&lt;Member&gt; list = em.createQuery("SELECT m FROM Member m", Member.class) .getResultLst(); ì´ë¯¸ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ë“¤ì–´ìˆëŠ” 1ë²ˆ memberê°€ JPQLì— ì˜í•´ ë‹¤ì‹œ í•œë²ˆ ì¡°íšŒë˜ëŠ” ìƒí™©ì´ë‹¤. ê²°ê³¼ë¶€í„° ë§í•˜ìë©´ JPQL ì¿¼ë¦¬ëŠ” ì¿¼ë¦¬ëŒ€ë¡œ ë‹¤ ë‚ ë¼ê°€ê³ , ì¡°íšŒí•œ ì—”í‹°í‹°ë¥¼ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ë‹¤ ì €ì¥í•œë‹¤. ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ì ì€ 1ë²ˆ memberì˜ ê²½ìš° ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì´ë¯¸ ë“¤ì–´ìˆìœ¼ë¯€ë¡œ, JPQLë¡œ ì¡°íšŒí•´ì˜¨ 1ë²ˆ memberëŠ” ê·¸ëƒ¥ ë²„ë ¤ì§„ë‹¤ëŠ” ê²ƒì´ë‹¤. ë³´ë‹¤ì‹œí”¼ ì¡°íšŒí•´ì˜¨ memberë“¤ ì¤‘ 1ë²ˆ memberëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì´ë¯¸ ìˆìœ¼ë¯€ë¡œ ê·¸ ê²°ê³¼ê°€ ë²„ë ¤ì§„ë‹¤. ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì—†ëŠ” 2ë²ˆ memberì˜ ê²½ìš° ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì €ì¥ëœë‹¤. ìƒˆë¡œ ì¡°íšŒí•´ì˜¨ ê²°ê³¼ë¥¼ ê¸°ì¡´ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ë®ì–´ì“°ì§€ ì•ŠëŠ” ì´ìœ ëŠ” ì˜ì† ìƒíƒœì¸ ì—”í‹°í‹°ì˜ ë™ì¼ì„±ì„ ë³´ì¥í•´ì•¼í•˜ê¸° ë•Œë¬¸ì´ë‹¤. findë¡œ ë“¤ê³ ì˜¤ë“ , JPQLë¡œ ë“¤ê³ ì˜¤ë“  ë™ì¼í•œ ì—”í‹°í‹°ë¥¼ ë°˜í™˜í•´ì•¼ í•œë‹¤. 1234567Member member1 = em.find(Member.class, 1);Member member2 = em.createQuery("SELECT m FROM Member WHERE m.id = :id", Member.class) .setParameter("id", 1) .getSingleResult();assertSame(member1, member2); // SUCCESS ë³´ë‹¤ì‹œí”¼ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— 1ë²ˆ member ì—”í‹°í‹°ê°€ ìˆë”ë¼ë„ ë¬´ì¡°ê±´ SQLì„ ì‹¤í–‰í•´ì„œ ì¡°íšŒí•´ì˜¨ë‹¤. (JPQLì„ ë¶„ì„í•´ì„œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì¡°íšŒí•˜ëŠ” ê²ƒì€ ë„ˆë¬´ í˜ë“¤ê¸° ë•Œë¬¸ì´ë‹¤.) ê·¸ë¦¬ê³  ì¡°íšŒí•´ì˜¨ ì—”í‹°í‹°ë¥¼ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ë„£ì„ ë•Œ, ì´ë¯¸ ìˆëŠ” ì—”í‹°í‹°ì¼ ê²½ìš° ê²°ê³¼ë¥¼ ë²„ë¦°ë‹¤. JPQLê³¼ í”ŒëŸ¬ì‹œ ëª¨ë“œ í”ŒëŸ¬ì‹œ ëª¨ë“œëŠ” FlushMode.AUTO(Default), FlushMode.COMMITì´ ìˆë‹¤. ì´ë•Œê¹Œì§€ FlushMode.AUTO ëŠ” íŠ¸ëœì­ì…˜ì´ ëë‚ ë•Œë‚˜ ì»¤ë°‹ë  ë•Œë§Œ í”ŒëŸ¬ì‹œë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒìœ¼ë¡œ ì•Œê³  ìˆì—ˆìœ¼ë‚˜, ì‚¬ì‹¤ì€ ì‹œì ì´ í•˜ë‚˜ ë” ìˆë‹¤. JPQL ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ê¸° ì§ì „ì´ë‹¤. 123456789Member member1 = em.find(Member.class, 1);member1.setName("modified name");Member member2 = em.createQuery("SELECT m FROM Member WHERE m.id = :id", Member.class) .setParameter("id", 1) .getSingleResult();assertThat(member1.getName(), member2.getName()); ë³€ê²½ê°ì§€ëŠ” í”ŒëŸ¬ì‹œ ë ë•Œ ë°œìƒí•˜ë¯€ë¡œ, JPQLì—ì„œ ì•„ì§ ë³€ê²½ë˜ì§€ ì•Šì€ name ê°’ì„ ê°€ì§„ 1ë²ˆ memberë¥¼ ê°€ì ¸ì˜¬ ê²ƒì´ë¼ê³  ìƒê°í•  ìˆ˜ ìˆì§€ë§Œ, FlushMode.AUTOëŠ” ì˜ì† ìƒíƒœì¸ ì—”í‹°í‹°ì˜ ë™ì¼ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ JPQL ì‹¤í–‰ ì „ì— í”ŒëŸ¬ì‹œë¥¼ ìˆ˜í–‰í•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ìœ„ì˜ í…ŒìŠ¤íŠ¸ëŠ” ì„±ê³µí•œë‹¤. ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ ì •í™•íˆëŠ” ëª¨ë¥´ê² ìœ¼ë‚˜, ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ìˆëŠ” ì—”í‹°í‹°ì— ëŒ€í•´ JPQLì„ ì‹¤í–‰í•  ë–„ë§Œ í”ŒëŸ¬ì‹œë¥¼ ìˆ˜í–‰í•œë‹¤. ì¦‰, ìœ„ì˜ ìƒí™©ì—ì„œ JPQLë¡œ Teamì„ ì¡°íšŒí•´ì˜¬ ê²½ìš° í”ŒëŸ¬ì‹œê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. ì—¬ê¸°ì„œ í”ŒëŸ¬ì‹œ ëª¨ë“œë¥¼ FlushMode.COMMITìœ¼ë¡œ ì„¤ì •í•˜ë©´ ì¿¼ë¦¬ì „ì— í”ŒëŸ¬ì‹œë¥¼ ìˆ˜í–‰í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ìœ„ì˜ í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•˜ê²Œ ëœë‹¤. ì´ë•ŒëŠ” ì§ì ‘ em.flushë¥¼ í˜¸ì¶œí•´ì£¼ê±°ë‚˜, Query ê°ì²´ì— ì§ì ‘ í”ŒëŸ¬ì‹œ ëª¨ë“œë¥¼ ì„¤ì •í•´ì£¼ë©´ ëœë‹¤. 1234567891011121314em.setFlushMode(FlushMode.COMMIT); // ì»¤ë°‹ì‹œì—ë§Œ í”ŒëŸ¬ì‹œMember member1 = em.find(Member.class, 1);member1.setName("modified name");em.flush(); // 1. em.flush ì§ì ‘ í˜¸ì¶œMember member2 = em.createQuery("SELECT m FROM Member WHERE m.id = :id", Member.class) .setParameter("id", 1) .setFlushMode(FlushMode.AUTO) // 2. setFlushMode ì„¤ì • .getSingleResult();assertThat(member1.getName(), member2.getName()); FlushMode.COMMITì€ ë„ˆë¬´ ì¦ì€ í”ŒëŸ¬ì‹œê°€ ì¼ì–´ë‚˜ëŠ” ê²½ìš°, í”ŒëŸ¬ì‹œ íšŸìˆ˜ë¥¼ ì¤„ì—¬ì„œ ì„±ëŠ¥ì„ ìµœì í™”í•˜ê³ ì í•  ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. í•œ íŠ¸ëœì­ì…˜ ì•ˆì—ì„œ íŠ¹ì • ì—”í‹°í‹°ì— ëŒ€í•œ insert, update, deleteë¥¼ ìˆ˜í–‰í•˜ê³  ê·¸ ë’¤ì—ì„œ JPQLë¡œ ì „í˜€ ë‹¤ë¥¸ ì—”í‹°í‹°ì˜ ê°’ì„ ì½ì–´ì˜¬ ê²½ìš° ë¶ˆí•„ìš”í•œ flushê°€ ë‚ ë¼ê°€ê²Œ ëœë‹¤.]]></content>
      <categories>
        <category>jpa</category>
      </categories>
      <tags>
        <tag>ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë°</tag>
        <tag>ê°ì²´ì§€í–¥ ì¿¼ë¦¬ ì–¸ì–´</tag>
        <tag>JPQL ë¬¸ë²•</tag>
        <tag>ë„¤ì´í‹°ë¸Œ ì¿¼ë¦¬</tag>
        <tag>ë²Œí¬ ì—°ì‚°</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[jpa] ê°’ íƒ€ì…]]></title>
    <url>%2Fjpa%2F%EA%B0%92-%ED%83%80%EC%9E%85%2F</url>
    <content type="text"><![CDATA[JPAì˜ ë°ì´í„° íƒ€ì…ì€ í¬ê²Œ ì—”í‹°í‹° íƒ€ì…ê³¼ ê°’ íƒ€ì…ì´ ìˆë‹¤. ì—”í‹°í‹° íƒ€ì…ì€ @Entityë¡œ ì •ì˜í•˜ëŠ” ê°ì²´ì´ê³ , ê°’ íƒ€ì…ì€ int, Integer, String ì²˜ëŸ¼ ë‹¨ìˆœ ê°’ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ìë°” ê¸°ë³¸ íƒ€ì…ì´ë‚˜ ê°ì²´ë¥¼ ë§í•œë‹¤. (ì˜í•œë‹˜ì€ ì—¬ê¸°ì„œ ì—”í‹°í‹° íƒ€ì…ì€ ì‚´ì•„ìˆëŠ” ìƒë¬¼ì´ê³ , ê°’ íƒ€ì…ì€ ë‹¨ìˆœí•œ ìˆ˜ì¹˜ ì •ë³´ë¼ê³  í‘œí˜„í–ˆë‹¤.) JPAëŠ” ê°’ íƒ€ì…ì„ í‘œí˜„í•˜ëŠ” ë°©ë²•ì„ ëª‡ê°€ì§€ ë” ì œê³µí•œë‹¤. ì•„ë˜ëŠ” JPAì—ì„œ ì œê³µí•˜ëŠ” ê°’ íƒ€ì…ì˜ ëª©ë¡ì´ë‹¤. ê¸°ë³¸ê°’ íƒ€ì…(primitive, wrapper, String) ì„ë² ë””ë“œ íƒ€ì… ê°’ íƒ€ì… ì»¬ë ‰ì…˜ ê°’ íƒ€ì…ì€ ê¸°ë³¸ì ì¸ íŠ¹ì§•ì€ ì•„ë˜ì™€ ê°™ë‹¤. ì‹ë³„ìê°€ ì—†ë‹¤ ìƒëª…ì£¼ê¸°ê°€ ì—”í‹°í‹°ì— ì˜ì¡´í•œë‹¤ ê³µìœ í•˜ë©´ ì•ˆëœë‹¤ ê°’ íƒ€ì… ìë°”ì˜ primitive íƒ€ì…, Wrapper í´ë˜ìŠ¤, String í´ë˜ìŠ¤ë¥¼ ë§í•œë‹¤. 12345678@Entityclass Member&#123; @Id private Long id; private String name; private int age;&#125; ì„ë² ë””ë“œ íƒ€ì…(ë³µí•© ê°’ íƒ€ì…) ì—¬ëŸ¬ê°œì˜ ê°’ íƒ€ì…ì„ ë¬¶ì–´ì„œ í•˜ë‚˜ì˜ ê°’ íƒ€ì…ìœ¼ë¡œ ì •ì˜í•˜ëŠ” ë°©ë²•ì´ë‹¤. ìš°ì„  ê°’ íƒ€ì…ì„ ì ìš©í•˜ê¸° ì „ì˜ ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ë‹¤. 12345678910111213141516@Entityclass Member&#123; @Id private Long id; // ê·¼ë¬´ê¸°ê°„ @Temporal(TemporalType.DATE) private Date startDate; @Temporal(TemporalType.DATE) private Date endDate; // ì§‘ì£¼ì†Œ private String city; private String street; private String zipCode;&#125; ìœ„ ì²˜ëŸ¼ ì—”í‹°í‹°ê°€ ëª¨ë“  ì†ì„±ì„ flat í•˜ê²Œ ê°€ì§€ëŠ” ê²ƒì€ ê°ì²´ì§€í–¥ì ì´ì§€ ì•Šë‹¤. ê·¼ë¬´ê¸°ê°„, ì§‘ì£¼ì†Œë¡œ ë¬¶ì„ ìˆ˜ ìˆë‹¤ë©´ ë” ì¢‹ì„ ê²ƒì´ë‹¤. 12345678910111213141516171819202122232425262728293031@Entityclass Member&#123; @Id private Long id; @Embedded private Period workPeriod; @Embedded private Address homeAddress;&#125;@Embeddableclass Period&#123; @Temporal(TemporalType.DATE) private Date startDate; @Temporal(TemporalType.DATE) private Date endDate; public boolean isWork(Date date)&#123; // ê°’ íƒ€ì…ì„ ìœ„í•œ ë©”ì„œë“œ ë˜í•œ ì‘ì„± ê°€ëŠ¥ &#125;&#125;@Embeddableclass Address&#123; @Column(name = "city") // ë§¤í•‘í•  ì»¬ëŸ¼ ì§€ì • ê°€ëŠ¥ private String city; private String street; private String zipcode;&#125; ì‘ì„±í•œ ê°’ íƒ€ì…ì€ ë‹¤ë¥¸ ê³³ì—ì„œ ì¬ì‚¬ìš© ë ìˆ˜ë„ ìˆê³ , ê°’ íƒ€ì…ë§Œì„ ìœ„í•œ ë©”ì„œë“œë„ ì‘ì„± ê°€ëŠ¥í•˜ë‹¤. ì—”í‹°í‹°ê°€ ë”ìš± ì˜ë¯¸ìˆê³  ì‘ì§‘ë ¥ìˆê²Œ ë³€í–ˆë‹¤ ì´ëŸ¬í•œ ì„ë² ë””ë“œ íƒ€ì…ì„ ì •ì˜í•˜ë ¤ë©´ ì•„ë˜ì˜ 2ê°€ì§€ ì–´ë…¸í…Œì´ì…˜ì´ í•„ìš”í•˜ë‹¤. @Embeddable : ê°’ íƒ€ì…ì„ ì •ì˜í•˜ëŠ” ê³³ì— í‘œì‹œ @Embedded : ê°’ íƒ€ì…ì„ ì‚¬ìš©í•˜ëŠ” ê³³ì— í‘œì‹œ ì„ë² ë””ë“œ íƒ€ì…ê³¼ í…Œì´ë¸” ë§¤í•‘ ì´ë ‡ê²Œ ì‘ì„±í•œ ì„ë² ë””ë“œ íƒ€ì…ì€ í…Œì´ë¸”ì— ì•„ë˜ì™€ ê°™ì´ ë§¤í•‘ëœë‹¤. ì„ë² ë””ë“œ íƒ€ì…ì€ ì—”í‹°í‹°ì˜ ê°’ì¼ ë¿ì´ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ë³´ë‹¤ì‹œí”¼ ì„ë² ë””ë“œ íƒ€ì…ì„ ì‚¬ìš©í•˜ê¸° ì „ê³¼ í›„ì— ë§¤í•‘ë˜ëŠ” í…Œì´ë¸”ì€ ê°™ë‹¤. ORMì„ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ë”ë¼ë©´ ê°ì²´ì™€ í…Œì´ë¸”ì€ ëŒ€ë¶€ë¶„ 1:1ë¡œ ë§¤í•‘ë˜ì—ˆì„ ê²ƒì„, ORMì„ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ê°ì²´ì™€ í…Œì´ë¸”ì„ ë” ì„¸ë°€í•˜ê²Œ ë§¤í•‘í•  ìˆ˜ ìˆë‹¤. (ì˜ ì„¤ê³„í•œ ORM ì–´í”Œë¦¬ì¼€ì´ì…˜ì€ ë§¤í•‘íŒ í´ë˜ìŠ¤ì˜ ìˆ˜ê°€ í…Œì´ë¸”ì˜ ìˆ˜ë³´ë‹¤ ë” ë§ë‹¤) ì„ë² ë””ë“œ íƒ€ì…ì˜ í¬í•¨ê³¼ ì—°ê´€ê´€ê³„ ì„ë² ë””ë“œ íƒ€ì…ì€ ë‹¤ë¥¸ ì„ë² ë””ë“œ íƒ€ì…ì„ í¬í•¨í•  ìˆ˜ ìˆê³ , ë‹¤ë¥¸ ì—”í‹°í‹°ë¥¼ ì°¸ì¡°í•  ìˆ˜ë„ ìˆë‹¤. 1234567891011121314151617181920212223242526272829303132333435363738394041@Entityclass Member&#123; // ... @Embedded private Address address; @Embedded private PhoneNumber phoneNumber;&#125;@Embeddableclass Address&#123; private String city; private String street; @Embedded // í¬í•¨ ê°€ëŠ¥ private Zipcode zipcode;&#125;@Embeddableclass Zipcode&#123; String zip; Strign code;&#125;class PhoneNumber&#123; String areaCode; String localNumber; @ManyToOne // ì—°ê´€ê´€ê³„ ê°€ëŠ¥ PhoneServiceProvider phoneServiceProvider;&#125;@Entityclass PhoneServiceProvider&#123; @Id private String name;&#125; ì†ì„± ì¬ì •ì˜: @AttributeOverride ì•„ë˜ì™€ ê°™ì´ ì •ì˜í•˜ê³  ì‹¶ì„ ìˆ˜ ìˆë‹¤. 12345678class Member&#123; // ... @Embedded private Address homeAddress; @Embedded private Address companyAddress;&#125; ORM ì—ì„œë§Œ ê°ì²´ë¡œ ë¬¶ì„ ë¿, í…Œì´ë¸” ë ˆë²¨ì—ì„  flatí•˜ê²Œ í´ì§€ë¯€ë¡œ ìœ„ì™€ ê°™ì´ ì •ì˜í•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•˜ë‹¤. ì»¬ëŸ¼ëª…ì´ ì¤‘ë³µë˜ê¸° ë•Œë¬¸ì´ë‹¤. ì´ëŸ´ë• @AttributeOverrideë¥¼ í†µí•´ ì»¬ëŸ¼ëª…ì„ ì¬ì •ì˜í•´ì¤˜ì•¼ í•œë‹¤. 12345678910111213class Member&#123; // ... @Embedded private Address homeAddress; @Embedded @AttributeOverrides(&#123; @AttributeOverride(name = "city", column = @Column(name = "company_city")), @AttributeOverride(name = "street", column = @Column(name = "company_street")), @AttributeOverride(name = "zipcode", column = @Column(name = "company_zipcode")) &#125;) private Address companyAddress;&#125; nameì—ëŠ” Address ë‚´ì˜ í•„ë“œëª…ì„ ì¨ì£¼ê³ , columnì—ëŠ” @Column ì–´ë…¸í…Œì´ì…˜ì„ ì¨ì„œ ì¬ì •ì˜ í•´ì£¼ë©´ ëœë‹¤. ì–´ë…¸í…Œì´ì…˜ì„ ë„ˆë¬´ ë§ì´ ì‚¬ìš©ë˜ì„œ ì§€ì €ë¶„í•˜ê¸´ í•˜ì§€ë§Œ, ë‹¤í–‰íˆ(?) ì´ë ‡ê²Œ í•œ ì—”í‹°í‹°ì— ì¤‘ë³µí•´ì„œ ì„ë² ë””ë“œë¥¼ ì‚¬ìš©í•  ì¼ì´ ë§ì´ ì—†ë‹¤. @AttributeOverideëŠ” ì—”í‹°í‹°ì— ì„¤ì •í•´ì•¼ í•œë‹¤. ì„ë² ë””ë“œ íƒ€ì…ì´ ì„ë² ë””ë“œ íƒ€ì…ì„ ê°€ì§€ê³  ìˆì–´ë„ ì—”í‹°í‹°ì— ì„¤ì •í•´ì•¼ í•œë‹¤. ì„ë² ë””ë“œ íƒ€ì…ê³¼ null ì„ë² ë””ë“œ íƒ€ì…ì´ null ì´ë©´ ë§¤í•‘í•œ ì»¬ëŸ¼ ê°’ì„ ëª¨ë‘ null ì´ ëœë‹¤(!!) 12// city, street, zipcodeê°€ ëª¨ë‘ nullì´ ë¨ member.setAddress(null); ì„ë² ë””ë“œ íƒ€ì…ì˜ ë”œë ˆë§ˆ ê°’ì„ ë‹¤ë£°ë•ŒëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì°¸ì¡°ê°€ ì•„ë‹Œ ë³µì œì˜ í˜•íƒœë¥¼ ë”°ë¥¸ë‹¤. í•˜ì§€ë§Œ ì—¬ê¸°ì„œ ë¬¸ì œëŠ”, JPAì—ì„œëŠ” ì„ë² ë””ë“œ íƒ€ì…ì´ ê°’ íƒ€ì…ì¸ë°, í˜•íƒœëŠ” ì¼ë°˜ì ì¸ í´ë˜ìŠ¤ë¼ ì°¸ì¡° ë°©ì‹ìœ¼ë¡œ ë™ì‘í•œë‹¤ëŠ” ê²ƒì´ë‹¤. ë¶ˆë³€ì„± ì°¸ì¡° ë°©ì‹ìœ¼ë¡œ ë™ì‘í•˜ë¯€ë¡œ ì•„ë˜ì™€ ê°™ì€ ìƒí™©ì„ ë§‰ì„ ìˆ˜ ì—†ë‹¤. 123456789101112131415Address address1 = new Address("city", "street", "zipcode1");Member member1 = Member.builder() .name("joont1") .homeAddress(address1) .build();Address address2 = address1;address2.setZipcode("zipcode2");Member member2 = Member.builder() .name("joont2") .homeAddress(address2) .build();em.persist(member1);em.persist(member2); ê¸°ëŒ€í•˜ëŠ” ê²ƒì€ member1ì— zipcode1, member2ì— zipcode2ê°€ ì €ì¥ë˜ì–´ì•¼ í•˜ëŠ” ê²ƒì´ì§€ë§Œ(ê°’ íƒ€ì…ì˜ íŠ¹ì„±ìƒ), ë‹¹ì—°íˆ ê·¸ë ‡ê²Œ ì²˜ë¦¬ë˜ì§€ ì•ŠëŠ”ë‹¤. ì°¸ì¡° ë°©ì‹ìœ¼ë¡œ ë™ì‘í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ë•Œë¬¸ì— JPAì—ì„œ ê°’ íƒ€ì…ì„ ì‚¬ìš©í• ë•ŒëŠ” setter ë“±ì„ ëª¨ë‘ ì œê±°í•œ ë¶ˆë³€ê°ì²´ë¡œ ë‹¤ë£¨ì–´ì•¼ í•˜ê³ , (ìë°”ì—ì„œ ë¶ˆë³€ ê°ì²´ë¡œ ë§Œë“œëŠ” ê°€ì¥ ê°„ë‹¨í•œ ë°©ë²•ì€ setter ì œê±°ì´ë‹¤) ê°’ì„ ì¬ì‚¬ìš© í•  ë•ŒëŠ” deep copyë¥¼ ìˆ˜í–‰í•´ì„œ ì ˆëŒ€ ì¬ì‚¬ìš© ë˜ëŠ” ì¼ì´ ì—†ë„ë¡ í•´ì•¼í•œë‹¤. 1234567891011@AllArgsConstructor // ì „ì²´ í”„ë¡œí¼í‹°ë¥¼ ë°›ëŠ” ìƒì„±ì@Embeddableclass Address implements Cloneable&#123; private String city; private String street; private String zipcode; public Object clone() throws CloneNotSupportedException&#123; return super.clone(); &#125;&#125; 123456789101112131415Address address1 = new Address("city", "street", "zipCode1");Member member1 = Member.builder() .name("joont1") .homeAddress((Address)address1) .build();Address address2 = address1.clone(); // ë³µì‚¬address2.setZipcode("zipcode2");Member member2 = Member.builder() .name("joont2") .homeAddress((Address)address2) .build();em.persist(member1);em.persist(member2); í˜„ì¬ëŠ” Address ë‚´ë¶€ê°€ flatí•´ì„œ ê°„ë‹¨íˆ Object.clone()ì˜ í˜¸ì¶œë§Œìœ¼ë¡œë„ í´ë¡œë‹ì´ ë˜ì§€ë§Œ, ë‹¤ë¥¸ ì„ë² ë””ë“œ íƒ€ì…ì„ ì‚¬ìš©í•˜ê±°ë‚˜ ë°°ì—´ì„ ì‚¬ìš©í•˜ê³  ìˆì—ˆì„ ê²½ìš° í•´ë‹¹ í•„ë“œê¹Œì§€ ì „ë¶€ deep cloneì„ í•´ì¤˜ì•¼í•œë‹¤. í•˜ì§€ë§Œ ë˜ ë°˜ëŒ€ë¡œ ì„ë² ë””ë“œ íƒ€ì…ì´ ì—”í‹°í‹°ë¥¼ ê°€ì§€ê³  ìˆì„ ê²½ìš° deep clone í•˜ë©´ ì•ˆëœë‹¤. ì´ë ‡ë“¯ì´ ê³¨ì¹˜ì•„í”ˆê²Œ deep cloneì´ê¸° ë•Œë¬¸ì—, ê°€ê¸‰ì ì´ë©´ @Embeddable ë‚´ë¶€ëŠ” flat í•˜ê²Œ ìœ ì§€í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤. ë¹„êµ ê°’ íƒ€ì…ì´ë¼ë©´ ë™ì¼ì„± ë¹„êµ(==)ë‚˜ ë™ë“±ì„± ë¹„êµ(equals)ê°€ ë™ì‘í•´ì•¼ í•œë‹¤. í•˜ì§€ë§Œ í˜„ì¬ AddressëŠ” ê·¸ê²ƒì´ ë³´ì¥ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ, equals ë©”ì„œë“œë¥¼ ì¬ì •ì˜ í•´ì¤˜ì•¼í•œë‹¤. 12345678@AllArgsConstructor@EqualsAndHashCode // ì „ì²´ í•„ë“œì— ëŒ€í•´ equalsì™€ hashCode ì¬ì •ì˜@Embeddableclass Address&#123; private String city; private String street; private String zipcode;&#125; ì„ë² ë””ë“œ íƒ€ì…ì˜ equals ë©”ì„œë“œë¥¼ ì¬ì •ì˜ í•  ë•ŒëŠ” ë³´í†µ ëª¨ë“  í•„ë“œì˜ ê°’ì„ ë¹„êµí•˜ë„ë¡ êµ¬í˜„í•œë‹¤. ê·¸ë¦¬ê³  equals ë©”ì„œë“œë¥¼ ì¬ì •ì˜í•˜ë©´ hashCodeê¹Œì§€ ê°™ì´ ì¬ì •ì˜ í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ í•´ì‹œë¥¼ ì‚¬ìš©í•˜ëŠ” ì»¬ë ‰ì…˜(HashSet, HashMap)ì—ì„œ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤. ê°’ íƒ€ì… ì»¬ë ‰ì…˜ ì—¬ëŸ¬ê°œì˜ ê°’ íƒ€ì…ì„ ì €ì¥í•  ë–„ ì‚¬ìš©í•œë‹¤. ê·¸ëŸ¬ë ¤ë©´ ì»¬ë ‰ì…˜ì— ì €ì¥í•´ì•¼ í•˜ëŠ”ë°, RDBì—ì„œëŠ” í•„ë“œì— ì»¬ë ‰ì…˜ì„ ì €ì¥í•  ìˆ˜ ì—†ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ê°’ ë§Œì„ ì €ì¥í•˜ëŠ” í…Œì´ë¸”ì„ ë”°ë¡œ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤. ìœ„ ERDë¥¼ ì—”í‹°í‹°ì—ì„œ ë§¤í•‘í•˜ë©´ ì•„ë˜ì™€ ê°™ë‹¤. 12345678910111213141516171819202122@Entityclass Member&#123; // ... @Embedded private Address homeAddress; @ElementCollection @CollectionTable( name = "FAVORITE_FOOD", joinColumns = @JoinColumn(name = "member_id") ) @Column(name = "food_name") private List&lt;String&gt; favoriteFoodList = new ArrayList&lt;&gt;(); @ElementCollection @CollcetionTable( name = "ADDRESS_HISOTRY", joinColumns = @JoinColumn(name = "member_id") ) private List&lt;Address&gt; addressHistory = new ArrayList&lt;&gt;(); // AddressëŠ” ìœ„ì™€ ë™ì¼&#125; @ElementCollectionìœ¼ë¡œ ê°’ íƒ€ì… ì»¬ë ‰ì…˜ ì¸ê²ƒì„ ì•Œë ¤ì£¼ê³ , @CollectionTableë¡œ í•´ë‹¹ ê°’ë“¤ì„ ì €ì¥í•œ í…Œì´ë¸”ì„ ì•Œë ¤ì£¼ë©´ ëœë‹¤(ì™¸ë˜í‚¤ë‘ ê°™ì´). favorite_foodì²˜ëŸ¼ ê°’ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì»¬ëŸ¼ì´ í•˜ë‚˜ì¼ ê²½ìš° @Columnì„ ì‚¬ìš©í•´ì„œ ì»¬ëŸ¼ëª…ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤. ê°’ íƒ€ì… ì»¬ë ‰ì…˜ì€ ë¬´ì¡°ê±´ì ìœ¼ë¡œ CascadeType.ALL, orphanRemoval = trueê°€ ë¶™ì€ê²ƒ ì²˜ëŸ¼ ë™ì‘í•œë‹¤. ê°’ íƒ€ì… ì»¬ë ‰ì…˜ ì‚¬ìš© ì €ì¥ 123456789101112Member member = new Member();member.setHomeAddress(new Address("city", "street", "zipCode4"));member.getFavoriteFoodList().add("pork");member.getFavoriteFoodList().add("beef");member.getAddressHistory().add(new Address("city1", "street1", "zipcode1"));member.getAddressHistory().add(new Address("city2", "street2", "zipcode2"));member.getAddressHistory().add(new Address("city3", "street3", "zipcode3"));em.persist(member); member : insert 1ë²ˆ homeAddress : ì„ë² ë””ë“œ ê°’ íƒ€ì…ì´ë¯€ë¡œ memberì— í¬í•¨ë¨ favoriteFoodList : insert 2ë²ˆ addressHistory : insert 3ë²ˆ ì¡°íšŒ ê°’ íƒ€ì… ì»¬ë ‰ì…˜ë„ ì¡°íˆí•  ë•Œ íŒ¨ì¹˜ ì „ëµì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. DefaultëŠ” LAZYì´ë‹¤. 1@ElementCollection(fetch = FetchType.LAZY) ì¡°íšŒ ë°©ì‹ì€ ì¼ë°˜ì ì¸ @OneToMany ì¡°íšŒ í• ë•Œì™€ ë™ì¼í•˜ë‹¤. ì§ì ‘ ì‚¬ìš©í•  ë•Œ ì¡°íšŒëœë‹¤. ìˆ˜ì • 1234567Member member = em.find(Member.class, 1);List&lt;String&gt; favoriteFoodList = member.getFavoriteFoodList();favoriteFoodList.set(0, "changed pork");favoriteFoodList.set(1, "changed beef");List&lt;Address&gt; addressHisotry = member.getAddressHistory();addressHisotry.get(0).setStreet("changed street"); ê°’ íƒ€ì…ì€ ì‹ë³„ìê°€ ì—†ëŠ” ë‹¨ìˆœí•œ ê°’ë“¤ì˜ ëª¨ìŒìœ¼ë¡œ í…Œì´ë¸”ì— ì €ì¥ëœë‹¤. ê·¸ë˜ì„œ ì—¬ê¸°ì— ì €ì¥ëœ ê°’ì´ ë³€ê²½ë˜ë©´ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ëœ ì›ë³¸ ë°ì´í„°ì˜ ê°’ì„ ì°¾ê¸° ì–´ë µê²Œ ëœë‹¤. ì´ëŸ¬í•œ ë¬¸ì œë¡œ ì¸í•´ JPAëŠ” ê°’ íƒ€ì… ì»¬ë ‰ì…˜ì— ë³€ê²½ì‚¬í•­ì´ ë°œìƒí•˜ë©´, ê°’ íƒ€ì… ì»¬ë ‰ì…˜ì— ë§¤í•‘ëœ í…Œì´ë¸”ì˜ ëª¨ë“  ë°ì´í„°ë¥¼ ì‚­ì œí•˜ê³ , í˜„ì¬ ê°’ íƒ€ì… ì»¬ë ‰ì…˜ì— ìˆëŠ” ëª¨ë“  ê°’ì„ ë‹¤ì‹œ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•œë‹¤. ì¦‰, ìœ„ì™€ ê°™ì€ ì½”ë“œì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì´ ì¿¼ë¦¬ê°€ ë°œìƒí•œë‹¤. 123456789101112131415161718192021222324252627282930313233343536373839404142434445/** address_history **/delete from ADDRESS_HISTORY where member_id=1insert into ADDRESS_HISTORY (member_id, city, street, zipcode) values (1, "city1", "street1", "zipcode1")insert into ADDRESS_HISTORY (member_id, city, street, zipcode) values (1, "city2", "changed street", "zipcode2") -- insert modifired datainsert into ADDRESS_HISTORY (member_id, city, street, zipcode) values (1, "city3", "street3", "zipcode3")/** favorite_food **/delete from FAVORITE_FOOD where member_id=1insert into FAVORITE_FOOD (member_id, food_name) values (1, "changed pork"); -- insert modifired datainsert into FAVORITE_FOOD (member_id, food_name) values (1, "changed beef"); -- insert modifired data ì´ëŸ¬í•œ ë¹„íš¨ìœ¨ì ì¸ íŠ¹ì§•ì´ ìˆìœ¼ë¯€ë¡œ ë§Œì•½ ê°’ íƒ€ì… ì»¬ë ‰ì…˜ì— ë§¤í•‘ëœ í…Œì´ë¸”ì— ë°ì´í„°ê°€ ë§ë‹¤ë©´ ê°’ íƒ€ì… ì»¬ë ‰ì…˜ ëŒ€ì‹  ì¼ëŒ€ë‹¤ ê´€ê³„ë¥¼ ê³ ë ¤í•´ë³´ëŠ” ê²ƒì´ ì¢‹ë‹¤. ê²Œë‹¤ê°€ ê°’ íƒ€ì… ì»¬ë ‰ì…˜ì€ ëª¨ë“  ì»¬ëŸ¼ì„ ë¬¶ì–´ì„œ ê¸°ë³¸í‚¤ë¥¼ êµ¬ì„±í•˜ë¯€ë¡œ, ì»¬ëŸ¼ì— nullì„ ì…ë ¥í•  ìˆ˜ ì—†ê³ , ì¤‘ë³µëœ ê°’ì„ ì…ë ¥í•  ìˆ˜ ì—†ëŠ” ì œì•½ì¡°ê±´ë„ ìˆë‹¤.]]></content>
      <categories>
        <category>jpa</category>
      </categories>
      <tags>
        <tag>ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë°</tag>
        <tag>@Embedded</tag>
        <tag>@Embeddable</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[UML]]></title>
    <url>%2Fetc%2FUML%2F</url>
    <content type="text"><![CDATA[UML ì¢…ë¥˜ https://myeonguni.tistory.com/752 í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨, ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨, í™œë™ ë‹¤ì´ì–´ê·¸ë¨ ì™¸ì—ëŠ” ì˜ ì•ˆì“´ë‹¤ íŒ¨í‚¤ì§€ ë‹¤ì´ì–´ê·¸ë¨ ê°€ë”ì”© ì“°ê³ â€¦ UML ì •ì˜ì™€ í‘œê¸°ë²• http://www.nextree.co.kr/p6753/ generalization : ìƒì†(extends) realization : êµ¬í˜„(implemetns) assocication : ì°¸ì¡° aggregation : ì»¬ë ‰ì…˜ìœ¼ë¡œ ì°¸ì¡°(wholeê³¼ partì˜ ê´€ê³„) composition : ì»¬ë ‰ì…˜ìœ¼ë¡œ ì°¸ì¡°(wholeì´ partì˜ ì „ì²´ ìƒëª…ì£¼ê¸°ë¥¼ ì±…ì„ì§. ê°•ë ¥í•œ aggregation)]]></content>
      <categories>
        <category>etc</category>
      </categories>
      <tags>
        <tag>UML í‘œê¸°ë²•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[jpa] ì‹ ê·œ ì—”í‹°í‹°ì— ê¸°ì¡´ ì—”í‹°í‹°ì˜ idë¥¼ ë„£ì–´ì¤„ë•Œ ë°œìƒí•˜ëŠ” ì¼]]></title>
    <url>%2Fjpa%2F%EC%8B%A0%EA%B7%9C-%EC%97%94%ED%8B%B0%ED%8B%B0%EC%97%90-%EA%B8%B0%EC%A1%B4-%EC%97%94%ED%8B%B0%ED%8B%B0%EC%9D%98-id%EB%A5%BC-%EB%84%A3%EC%96%B4%EC%A4%84%EB%95%8C-%EB%B0%9C%EC%83%9D%ED%95%98%EB%8A%94-%EC%9D%BC%2F</url>
    <content type="text"><![CDATA[JPAë¥¼ ê°œë°œí•˜ë‹¤ ë³´ë©´, ì•„ë˜ì™€ ê°™ì€ í–‰ìœ„ë¥¼ í• ë–„ê°€ ê°€ë”ì”© ìˆë‹¤. (Spring Data JPAë¥¼ ì‚¬ìš©í•œë‹¤ê³  ê°€ì •) 123456Member newMember = newMemberDTO.toEntity();newMember.setId(1); // ì´ë ‡ê²Œ idë¥¼ ì§ì ‘ ë„£ì–´ì£¼ëŠ” í–‰ìœ„// ...memberRepositroy.save(newMember); ì´ëŠ” ê°„ë‹¨í•˜ë‹¤. Repositoryë¥¼ ë§Œë“¤ë•Œ implementsí•˜ëŠ” JpaRepositoryì˜ êµ¬í˜„ì²´ì¸ SimpleJpaRepositoryì˜ save ë©”ì„œë“œë¥¼ ë³´ë©´ ì•„ë˜ì™€ ê°™ë‹¤. 123456789101112131415161718192021222324252627// repository.save@Transactionalpublic &lt;S extends T&gt; S save(S entity) &#123; if (entityInformation.isNew(entity)) &#123; em.persist(entity); return entity; &#125; else &#123; return em.merge(entity); &#125;&#125;// entityInformation.isNewpublic boolean isNew(T entity) &#123; ID id = getId(entity); Class&lt;ID&gt; idType = getIdType(); if (!idType.isPrimitive()) &#123; return id == null; &#125; if (id instanceof Number) &#123; return ((Number) id).longValue() == 0L; &#125; throw new IllegalArgumentException(String.format("Unsupported primitive id type %s!", idType));&#125; ë³´ë‹¤ì‹œí”¼ ì—”í‹°í‹°ì˜ ì‹ë³„ìê°€ ì „ë‹¬ë˜ì—ˆë‹¤ë©´ merge, ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ persistë¥¼ ìˆ˜í–‰í•œë‹¤. ìœ„ì™€ ê°™ì´ ì‹ë³„ìë¥¼ ê°•ì œë¡œ ë„£ì–´ì„œ ì „ë‹¬í•˜ë©´ í•´ë‹¹ ì—”í‹°í‹°ì— ëŒ€í•´ì„œ em.mergeê°€ ë°œìƒí•˜ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤. mergeë‹ˆê¹Œ, í•´ë‹¹ ì‹ë³„ìë¡œ member í…Œì´ë¸”ì„ ì¡°íšŒí•˜ê³ , ì—”í‹°í‹°ê°€ ì¡´ì¬í•˜ë©´ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ë„£ê²Œ ëœë‹¤. ê·¸ë¦¬ê³  flush ë˜ë©´ ë³€ê²½ê°ì§€ì— ì˜í•´ update ë¬¸ì´ ë°œìƒí•˜ê²Œ ë  ê²ƒì´ë‹¤.(newEntityë¡œ ì™„ì „ ëŒ€ì²´ë˜ì—ˆê¸° ë•Œë¬¸ì—) ë§Œì•½ í•´ë‹¹ ì‹ë³„ìì— í•´ë‹¹í•˜ëŠ” ì—”í‹°í‹°ê°€ ì—†ë‹¤ë©´, ìƒˆë¡œ insert ë  ê²ƒì´ë‹¤. PUT REST APIë¥¼ ì‘ì„±í•˜ê¸°ì— ì ì ˆí•œ ë°©ë²•ì´ë‹¤.(í‹€ë¦´ìˆ˜ë„â€¦) ê·¸ë ‡ë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ í•˜ë©´ ì–´ë–»ê²Œ ë ê¹Œ? 12345678910Member newMember = newMemberDTO.toEntity();newMember.setId(1); // ê¸°ì¡´ memberì˜ idê°’ì„ ê·¸ëŒ€ë¡œ ìœ ì§€// oldItemì˜ ê°’ë“¤ì´ ëª‡ê°œ í•„ìš”í•´ì„œ ë“¤ê³ ì™€ì„œ ì„¸íŒ…Member oldMember = memberRepository.findById(1);newMember.setXXX(oldMember.getXXX()); oldItem.setXXX(~~~); // ì´ë ‡ê²Œ í•˜ë©´ ì–´ë–»ê²Œ ë˜ì§€? memberRepository.save(newMember); newItemìœ¼ë¡œ ëŒ€ì²´í•˜ëŠ”ë° oldItemì˜ ê°’ë“¤ì´ ëª‡ê°œ í•„ìš”í•´ì„œ oldEntityë¥¼ ì¡°íšŒí•œ ë‹¤ìŒ í•´ë‹¹ ê°’ì„ ì‚¬ìš©í•˜ëŠ” ì¼€ì´ìŠ¤ì´ë‹¤. ì´ëŸ´ ê²½ìš°, findì— ì˜í•´ ì²˜ìŒ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¡œ ë“¤ê³ ì˜¤ë©´ ì•„ë˜ì™€ ê°™ì„ ê²ƒì´ë‹¤. key entity 1 oldEntity ì´ ìƒíƒœì—ì„œ ì•„ë˜ì˜ saveì— ì˜í•´ mergeê°€ ìˆ˜í–‰ë  ê²ƒì´ê³ , ê²°ê³¼ì ìœ¼ë¡œ ì•„ë˜ì²˜ëŸ¼ ë³€í• ê²ƒì´ë‹¤. key entity 1 newEntity ì¦‰ oldEntityëŠ” ì•„ì˜ˆ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì˜í•´ ê´€ë¦¬ë˜ì§€ ì•ŠëŠ” ì¤€ì˜ì† ìƒíƒœê°€ ë˜ì–´ë²„ë¦¬ë¯€ë¡œ, ìœ„ì²˜ëŸ¼ oldItemì— ë¬´ì–¸ê°€ ë³€ê²½ì„ ìˆ˜í–‰í•´ë„ ì•„ë¬´ì¼ë„ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤. (ë‹¹ì—°í•œê°€?) ìì‹ì´ ìˆì„ ê²½ìš° í•´ë‹¹ ì—”í‹°í‹°ì— ì†í•˜ëŠ” ìì‹ ì—”í‹°í‹°ë“¤ì´ ìˆì„ ê²½ìš° ì¡°ê¸ˆ ë³µì¡í•´ì§„ë‹¤.(ì•ˆ ë³µì¡í• ìˆ˜ë„ ìˆë‹¤) 1234class Member&#123; @OneToMany(mappedBy = "member", cascade = CascadeType.PERSIST) private List&lt;Order&gt; orderList = new ArrayList&lt;&gt;();&#125; ìœ„ì™€ ê°™ë‹¤ê³  í•  ë•Œ, ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í•˜ë©´ ë¬¸ì œê°€ ë°œìƒí•œë‹¤. 12345Member newMember = newMemberDTO.toEntity(); // orderListë¥¼ ê°€ì§€ê³  ìˆìŒnewMember.setId(1); // ê¸°ì¡´ memberì˜ idê°’ì„ ê·¸ëŒ€ë¡œ ìœ ì§€memberRepository.save(newMember); ì´ë•ŒëŠ”, newMemberì˜ orderListì— ëŒ€í•´ ì—°ì‡„ì ìœ¼ë¡œ persistë¥¼ ìˆ˜í–‰í•˜ê³  ëë‚˜ë²„ë¦´ ê²ƒì´ë¯€ë¡œ, ë§Œì•½ ê¸°ì¡´ì˜ 1ë²ˆ memberì— í•´ë‹¹í•˜ëŠ” orderê°€ ìˆì—ˆë‹¤ê³  í•  ê²½ìš°, í•´ë‹¹ orderëŠ” ê·¸ëŒ€ë¡œ ìˆê³  ì‹ ê·œë¡œ ì „ë‹¬ëœ orderë“¤ì´ ì €ì¥ë˜ê²Œ ë  ê²ƒì´ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ë§Œì•½ ê¸°ì¡´ 1ë²ˆ memberì— í•´ë‹¹í•˜ëŠ” orderê°€ 2ê°œ ìˆê³ , ì „ë‹¬ëœ orderê°€ 2ê°œì¸ ìƒíƒœì—ì„œ ìœ„ì˜ ë©”ì„œë“œë¥¼ ì‹¤í–‰í•˜ê²Œ ë˜ë©´ orderê°€ ì´ 4ê°œê°€ ë˜ì–´ë²„ë¦°ë‹¤. ì‚¬ì‹¤ìƒ ì´ê±´ ëª…í™•í•œ êµì²´ê°€ ì•„ë‹ˆë¯€ë¡œ, ì˜ë„í•œ ìƒí™©ì´ë¼ë©´ ìƒê´€ì—†ëŠ”ë°, ê·¸ê²Œ ì•„ë‹ˆë¼ë©´ orphanRemoval = trueë¥¼ ì‚¬ìš©í•˜ì—¬ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì—”í‹°í‹°ì— ëŒ€í•´ ì‚­ì œí•˜ê²Œë” í•´ì•¼í•œë‹¤. 1234class Member&#123; @OneToMany(mappedBy = "member", cascade = CascadeType.PERSIST, orphanRemoval = true) private List&lt;Order&gt; orderList = new ArrayList&lt;&gt;();&#125; 1234Member newMember = newMemberDTO.toEntity(); // orderListë¥¼ ê°€ì§€ê³  ìˆìŒnewMember.setId(1); // ê¸°ì¡´ memberì˜ idê°’ì„ ê·¸ëŒ€ë¡œ ìœ ì§€memberRepository.save(newMember); ì´ë ‡ê²Œ í•˜ë©´ ê¸°ì¡´ 1ë²ˆ memberì— ìˆë˜ orderëŠ” ëª¨ë‘ ì‚­ì œë˜ê³ , newMemberì— ìˆëŠ” orderê°€ ì „ë¶€ insert ëœë‹¤. ë§Œì•½ ê¸°ì¡´ orderì— ìƒˆë¡œ ì „ë‹¬ë°›ì€ orderë¥¼ ë§ë¶™ì´ê³  ì‹¶ìœ¼ë©´ newMemberì˜ orderListì— ì‚´ë ¤ë†“ì„ orderë“¤ì„ ì¶”ê°€í•´ì¤˜ì•¼ í•œë‹¤. 123456789Member newMember = newMemberDTO.toEntity(); // orderListë¥¼ ê°€ì§€ê³  ìˆìŒnewMember.setId(1); // ê¸°ì¡´ memberì˜ idê°’ì„ ê·¸ëŒ€ë¡œ ìœ ì§€Member oldMember = memberRepository.findById(1);List&lt;Order&gt; aliveOrder = ì‚´ë ¤ë†“ì„_ì£¼ë¬¸_êµ¬í•˜ê¸°(oldMember.getOrder());newMember.getOrderList().addAll(aliveOrder);memberRepository.save(newMember); ì°¸ê³ ë¡œ ì—¬ê¸°ì„œ mergeê°€ ì§„í–‰ë˜ê³  ë‚˜ë©´ ê¸°ì¡´ì— oldMemberì˜ ìì‹ë“¤ì— ë³€í˜•ì´ ê°€í•´ì§„ë‹¤(ë¬´ìŠ¨ ê¸°ì¤€ì¸ì§€ëŠ” ëª¨ë¥´ê² ë‹¤) ì´ê±°ê¹Œì§€ ì‹ ê²½ì“°ëŠ”ê±´ ì¢‹ì§€ ì•Šì€ ê²ƒ ê°™ë‹¤â€¦ idë¥¼ ë°”ê¾¸ê³  merge í•  ìƒê°ì´ë¼ë©´ merge í•  ëŒ€ìƒë§Œ ì‹ ê²½ì“°ë„ë¡ í•˜ê³ , ê¸°ì¡´ entityì˜ listì— ë­”ê°€ë¥¼ ìˆ˜í–‰í•˜ê³  ì‹¶ì„ ê²½ìš° merge ì „ì— í•´ì£¼ëŠ”ê²Œ ì¢‹ê² ë‹¤.]]></content>
      <categories>
        <category>jpa</category>
      </categories>
      <tags>
        <tag>orphanRemoval</tag>
        <tag>entity child diff</tag>
        <tag>merge</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[jpa] CascadeType.PERSISTë¥¼ í•¨ë¶€ë¡œ ì‚¬ìš©í•˜ë©´ ì•ˆë˜ëŠ” ì´ìœ ]]></title>
    <url>%2Fjpa%2FCascadeType-PERSIST%EB%A5%BC-%ED%95%A8%EB%B6%80%EB%A1%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EB%A9%B4-%EC%95%88%EB%90%98%EB%8A%94-%EC%9D%B4%EC%9C%A0%2F</url>
    <content type="text"><![CDATA[ì—”í‹°í‹°ì˜ ìì‹ì— CascadeType.PERSISTë¥¼ ì§€ì •í•  ê²½ìš° JPAì—ì„œ ì¶”ê°€ì ìœ¼ë¡œ ìˆ˜í–‰í•˜ëŠ” ë™ì‘ì´ ìˆê³ , ì´ ë•Œë¬¸ì— ì˜ˆìƒì¹˜ ëª»í•œ ì‚¬ì´ë“œ ì´í™íŠ¸ê°€ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì´ë¥¼ ë‚¨ê²¨ë‘ê³ ì í•œë‹¤. ì¼ë‹¨ ê¸°ë³¸ì ìœ¼ë¡œ cascade(ì˜ì†ì„± ì „ì´)ëŠ” ê°„ë‹¨í•˜ë‹¤. EntityManagerë¥¼ í†µí•´ ì˜ì†ì„± ê°ì²´ì— ìˆ˜í–‰í•˜ëŠ” í–‰ë™ì´ ìì‹ê¹Œì§€ ì „íŒŒë˜ëŠ” ê²ƒì´ë‹¤. 12345em.persist(parent);==em.persist(parent);em.persist(child1);em.persist(child2); ë³€ê²½ ê°ì§€ì—ì„œì˜ CascadeType.PERSIST ê·¼ë° ì—¬ê¸° JPA 2.2 specification ë¬¸ì„œì˜ 3.2 ì¥ Entity Instance's Life Cycleì— ë³€ê²½ê°ì§€ ë¶€ë¶„ì¸ 3.2.4 Synchronization to the Databaseì— ë³´ë©´ ì•„ë˜ì™€ ê°™ì€ ë‚´ìš©ì´ ì¶”ê°€ì ìœ¼ë¡œ ìˆìŒì„ ë³¼ ìˆ˜ ìˆë‹¤. The semantics of the flush operation, applied to an entity X are as follows: â€¢ If X is a managed entity, it is synchronized to the database. â€¢ For all entities Y referenced by a relationship from X, if the relationship to Y has been annotated with the cascade element value cascade=PERSIST or cascade=ALL, the persist operation is applied to Y. flushê°€ ë°œìƒí•  ë•Œ CascadeType.PERSISTë‚˜ CascadeType.ALLì´ ìˆì„ ê²½ìš° ìì‹ì— ì—°ì‡„ì ìœ¼ë¡œ persist operationì´ ë°œìƒí•œë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤. ì´ íŠ¹ì§•ì„ ê¸°ë°˜ìœ¼ë¡œ ì•„ë˜ì˜ í–‰ìœ„ë“¤ì„ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤. Memberì™€ Orderì˜ ê´€ê³„ëŠ” ì•„ë˜ì™€ ê°™ë‹¤ê³  ê°€ì •í•œë‹¤. 123456789class Member&#123; @OneToMany(mappedBy = "member", cascade = CascadeType.PERSIST) private List&lt;Order&gt; orderList = new ArrayList&lt;&gt;();&#125;class Order&#123; @ManyToOne @JoinColumn(name = "member_id") private Member member;&#125; em.persist 12345678910111213Member member = new Member();Order order1 = new Order();Order order2= new Order();member.addOrder(order1);member.addOrder(order2);em.persist(member);Order order3 = new Order();member.addOrder(order3);// order1, order2, order3 insert ë¨ memberë¥¼ persistí•  ë•Œ order1, order2 ê¹Œì§€ ì—°ì‡„ì  persistê°€ ë°œìƒí•˜ê³ , íŠ¸ëœì­ì…˜ì´ ëë‚˜ê³  flush ë  ë•Œ ìì‹ë“¤ì— ëŒ€í•´ ë‹¤ì‹œ persist operationì„ ìˆ˜í–‰í•˜ê²Œ ëœë‹¤. specì— ë³´ë©´ persist operationì€ ì•„ë˜ì™€ ê°™ë‹¤. â€¢ If X is a new entity, it becomes managed. The entity X will be entered into the database at or before transaction commit or as a result of the flush operation. â€¢ If X is a preexisting managed entity, it is ignored by the persist operation. // â€¦ ì¦‰ memberì˜ orderList 3ê°œì— ëŒ€í•´ ëª¨ë‘ persist operationì´ ë°œìƒí•˜ê³ , ì•ì˜ 2ê°œëŠ” ì´ë¯¸ ì¡´ì¬í•˜ë˜ ê²ƒì´ë¯€ë¡œ ë¬´ì‹œë˜ê³ , ë§ˆì§€ë§‰ order3ëŠ” ì¶”ê°€ì ìœ¼ë¡œ insert ë˜ëŠ” ê²ƒì´ë‹¤. em.merge 12345678910111213Member member = new Member();Order order1 = new Order();Order order2 = new Order();member.addOrder(order1);member.addOrder(order2);member = em.merge(member);Order order3 = new Order();member.addOrder(order3);// order1, order2, order3 insert ë¨ CascadeType.PERSIST ì´ë¯€ë¡œ em.merge í•  ë•Œ ìì‹ê¹Œì§€ ì—°ì‡„ì ìœ¼ë¡œ mergeê°€ ë°œìƒí•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. í•˜ì§€ë§Œ flush ë  ë•Œ CascadeType.PERSISTì— ì˜í•´ member 3ê°œì— ëŒ€í•´ ëª¨ë‘ persist operationì´ ë°œìƒí•œë‹¤. em.find 12345678Member member = em.find(Member.class, 1);Order order1 = new Order();Order order2 = new Order();member.addOrder(order1);member.addOrder(order2);// order1, order2 insert ë¨ ì´ ë˜í•œ flush ë  ë–„ CascadeType.PERSISTì— ì˜í•´ ìì‹ order1, order2ì— ëŒ€í•´ persist operationì´ ìˆ˜í–‰ëœë‹¤. ì¦‰ ëª¨ë“  í–‰ìœ„ëŠ” flushì˜ CascadeTypeì— ëŒ€í•œ íŠ¹ì§• ë•Œë¬¸ì´ë‹¤. ì´ëŸ¬í•œ íŠ¹ì§•ìœ¼ë¡œ ë´¤ì„ë•Œ, ìš°ë¦¬ê°€ ì˜ë¬¸ì„ ê°€ì¡Œë˜ ì•„ë˜ ì½”ë“œ ë˜í•œ ì„¤ëª…ì´ ëœë‹¤. 1234567891011121314151617class Member&#123; @OneToMany(mappedBy = "member", cascade = CascadeType.MERGE) private List&lt;Order&gt; orderList = new ArrayList&lt;&gt;();&#125;Member member = new Member();Order order1 = new Order();Order order2= new Order();member.addOrder(order1);member.addOrder(order2);member = em.merge(member);Order order3 = new Order();member.addOrder(order3); // order1, order2 insert ë¨ ë°˜ë©´ì— CascadeType.MERGEì˜ ê²½ìš° flushì™€ ê´€ë ¨ì´ ì—†ê¸° ë–„ë¬¸ì—, em.merge ë©”ì„œë“œì— ì „ë‹¬í•œ ì—”í‹°í‹°ê¹Œì§€ë§Œ ì—°ì‡„ì ìœ¼ë¡œ mergeê°€ ë˜ê³ , ì•„ë˜ëŠ” ê·¸ëƒ¥ ë¬´ì‹œë˜ì—ˆë˜ ê²ƒì´ë‹¤. persist operationì˜ ëŒ€ìƒ ìœ„ì—ì„œ ì–¸ê¸‰í–ˆë‹¤ì‹œí”¼ CascadeType.ALL, CascadeType.PERSIST ì–´ë…¸í…Œì´ì…˜ì´ ì¶”ê°€ëœ ìì‹ì— ëŒ€í•´ ëª¨ë‘ persist operationì„ ë°œìƒì‹œí‚¨ë‹¤. (ì†ŒìŠ¤ë¥¼ ì •í™•íˆ ë³¸ê²ƒì€ ì•„ë‹ˆë¯€ë¡œ í‹€ë¦´ ìˆ˜ ìˆìŒ) ê·¸ëŸ¬ë¯€ë¡œ ì•„ë˜ì˜ ë‘ ì½”ë“œì—ì„œ ë°œìƒí•˜ëŠ” insertê°€ ë™ì¼í•˜ê²Œ ëœë‹¤. 12345678910111213141516public void cascadeTest()&#123; Member member = em.find(Member.class, 1); // 5ê°œì˜ orderListê°€ ìˆë‹¤ê³  ê°€ì • member.addOrder(order1); member.addOrder(order2);&#125;// ==public void cascadeTest()&#123; Member member = em.find(Member.class, 1); // 5ê°œì˜ orderListê°€ ìˆë‹¤ê³  ê°€ì • member.getOrderList().clear(); // ê¸°ì¡´ì˜ ì• ë“¤ì„ ë‹¤ ì§€ì›Œë²„ë ¤ë„ member.addOrder(order1); member.addOrder(order2);&#125; ì²«ë²ˆì¨°ì˜ ê²½ìš° ì´ 7ê°œì˜ orderì— ëŒ€í•´ persist operationì„ ìˆ˜í–‰í•˜ì—¬ 5ê°œëŠ” ë¬´ì‹œë˜ê³ , 2ê°œê°€ insert ëœê²ƒì´ê³ , ë‘ë²ˆì¨°ì˜ ê²½ìš° clearë¡œ ë‚ ë ¤ë²„ë ¸ê¸° ë•Œë¬¸ì— ì´ 2ê°œì˜ orderì— ëŒ€í•´ persist operationì´ ìˆ˜í–‰ë˜ì–´ 2ê°œê°€ insert ëœ ê²ƒì´ë‹¤.(ê¸°ì¡´ì— ìˆë˜ ê²ƒì„ ì‚­ì œí•˜ê³  ì‹¶ìœ¼ë©´ orphanRemoval = trueë¥¼ ì¤˜ì•¼í•œë‹¤) ê·¸ëŸ¬ë¯€ë¡œ ìœ„ì˜ ë‘ í–‰ìœ„ëŠ” ê²°ê³¼ì ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ì— ë™ì¼í•œ í–‰ìœ„ë¥¼ ìˆ˜í–‰í•˜ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤. ì˜ˆìƒì¹˜ ëª»í•œ ë™ì‘1 1234567891011121314151617181920212223class Member&#123; // ... @OneToMany(mappedBy = "member", cascade = CascadeType.PERSIST) private List&lt;Order&gt; orderList = new ArrayList&lt;&gt;();&#125;class Order&#123; // ... @ManyToOne @JoinColumn(name = "member_id") private Member member;&#125;public void deleteTest()&#123; Member member = em.find(Member.class, 1); List&lt;Order&gt; orderList = member.getOrderLsit(); for(Order order : orderList)&#123; em.remove(order); &#125;&#125; (ì§€ê¸ˆì€ ì˜ˆì œê°€ ê°„ë‹¨í•˜ì§€ë§Œ, ìœ„ì™€ ê°™ì€ ìƒí™©ì€ ì–¼ë§ˆë“ ì§€ ë‚˜ì˜¬ ìˆ˜ ìˆìŒ) orderê°€ ì‚­ì œë  ê²ƒì´ë¼ê³  ì˜ˆìƒí•  ìˆ˜ ìˆì§€ë§Œ, flushì‹œì— orderListì— ë‚¨ì•„ìˆëŠ” ëª¨ë“  orderì— ëŒ€í•´ persist ì—°ì‚°ì„ ìˆ˜í–‰í•˜ë¯€ë¡œ ê²°ê³¼ì ìœ¼ë¡œ delete ë©”ì„œë“œê°€ ë‚ ë¼ê°€ì§€ ì•ŠëŠ” í˜„ìƒì´ ë°œìƒí•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ CascadeType.PERSISTë¥¼ ì‚¬ìš©í•˜ê³ ì í•  ê²½ìš° ì‚­ì œí•˜ëŠ” orderì— ë§ì¶° orderListì—ì„œ ìš”ì†Œë¥¼ ì‚­ì œí•´ì£¼ê±°ë‚˜, orphanRemoval = trueë¥¼ ì‚¬ìš©í•´ orderListì—ì„œ ì‚­ì œë˜ë©´ ìë™ìœ¼ë¡œ delete ê°€ ë‚ ë¼ê°€ê²Œë” í•´ì•¼í•œë‹¤. ì˜ˆìƒì¹˜ ëª»í•œ ë™ì‘2 12345678910111213141516171819202122232425262728@Entityclass Member&#123; // ... @OneToMany(mappedBy = "member", cascade = CascadeType.ALL, orphanRemoval = true) private List&lt;Order&gt; orders;&#125;@Entityclass Item&#123; // ... @OneToMany(mappedBy = "item", cascade = CascadeType.ALL, orphanRemoval = true) private List&lt;Order&gt; orders;&#125;@Entityclass Order&#123; // ... @ManyToOne(fetch = FetchType.LAZY) @JoinColumn(name = "member_id") private Member member; @ManyToOne(fetch = FetchType.LAZY) @JoinColumn(nane = "item_id") private Item item;&#125; Member, Itemì´ ìˆê³  ì¤‘ê°„ì— ì—°ê²°í…Œì´ë¸”ë¡œ Orderë¥¼ ê°€ì§€ê³  ìˆëŠ” ì¼ë°˜ì ì¸ êµ¬ì¡°ì´ë‹¤. ì—¬ê¸°ì„œ ë§Œì•½ ì•„ë˜ì™€ ê°™ì€ í–‰ìœ„ë¥¼ ìˆ˜í–‰í•˜ë©´ ì–´ë–»ê²Œ ë ê¹Œ? 123456789Member member = em.find(Member.class, 1);List&lt;Order&gt; orders = member.getOrders();for(Order order : orders)&#123; Integer size = order.getItem().getOrders().size(); // ...&#125;member.getOrders().clear(); // expecting delete operation Memberê°€ ê°€ì§„ orderë“¤ì˜ itemì´ ê°€ì§„ orderë“¤ì˜ sizeë¥¼ ê°€ì ¸ì˜¤ê³  ìˆë‹¤. (ì¢€ ì–´ê±°ì§€ìŠ¤ëŸ½ê¸´ í•˜ì§€ë§Œ ë­ ë°œìƒí• ë ¤ê³  í•˜ë©´ ì–´ë–»ê²Œë“  ë°œìƒí•  ìˆ˜ëŠ” ìˆëŠ” ìƒí™©ì´ë‹¤.) ì–´ì°Œëë“  ì—¬ê¸°ì„œ ì¤‘ìš”í•œê²ƒì€, sizeë¥¼ ì–»ê¸° ìœ„í•œ í–‰ìœ„ ë•Œë¬¸ì— Itemì´ lazy ë¡œë”© ë˜ì—ˆê³ , itemì˜ Orderë“¤ì´ lazy ë¡œë”© ë˜ì—ˆë‹¤ëŠ” ì ì´ë‹¤. í•˜ê³ ì‹¶ì€ í–‰ìœ„ë¥¼ ë‹¤ í•˜ê³ â€¦ ê²°ê³¼ì ìœ¼ë¡œ member ë‚´ì˜ orderë“¤ì´ ë‹¤ ì“¸ëª¨ì—†ë‹¤ê³  íŒë‹¨í•´ì„œ ë²„ë¦¬ê¸°ë¡œ í•œ ëª¨ì–‘ì´ë‹¤. orphanRemovalì— ì˜í•´ clear() ë§Œ í•´ì¤˜ë„ ë‹¤ ì‚­ì œë˜ì–´ì•¼ í•˜ëŠ”ë°, ì‚­ì œê°€ ì˜ ë ê¹Œ? ì•„ì‰½ê²Œë„ ì‚­ì œë˜ì§€ ì•ŠëŠ”ë‹¤. Memberì˜ ì…ì¥ì—ì„œëŠ” ordersì˜ ê°œìˆ˜ê°€ 0ê°œê°€ ë˜ì—ˆìœ¼ë¯€ë¡œ ì‚­ì œë¥¼ ì‹œë„í•˜ë ¤ê³  í•  ê²ƒì´ë‹¤. í•˜ì§€ë§Œ ìœ„ì—ì„œ sizeë¥¼ ì–»ê¸°ìœ„í•´ Item, Itemì˜ ordersë¥¼ Lazy ë¡œë”© ì‹œí‚¨ê²ƒì´ ë¬¸ì œì´ë‹¤. (êµ³ì´ lazy ë¡œë”©ì´ ì•„ë‹Œ EAGERë¡œ ì´ˆê¸° ë¡œë”© ë“±ë“± ì–´ë–»ê²Œë“  ë°˜ëŒ€í¸ë„ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì˜¬ë¼ê°”ë‹¤ëŠ” ì ì´ ì¤‘ìš” í¬ì¸íŠ¸ì´ë‹¤) Itemì´ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì˜¬ë¼ê°€ê²Œ ë˜ì—ˆëŠ”ë°, ordersì—ëŠ” CascadeType.ALL(PERSIST)ê°€ ê±¸ë ¤ìˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ memberì˜ ordersë¥¼ ë¹„ì›Œì„œ delete operationì„ ìˆ˜í–‰í•˜ê³  ì‹¶ì–´ë„, itemì˜ orders ìš”ì†Œë“¤ì´ ì•„ì§ ë‚¨ì•„ìˆê¸° ë•Œë¬¸ì— PERSIST operationì´ ë°œìƒí•˜ê²Œ ë˜ê³ , ê²°ê³¼ì ìœ¼ë¡œ deleteê°€ ì”¹íˆê²Œ ë˜ëŠ” ê²ƒì´ë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ê°€ì¥ ì ì ˆí•œ(?) ë°©ë²•ìœ¼ë¡œëŠ”, ì–‘ìª½ ë‹¤ CascadeType.ALLì„ ê±¸ì§€ì•Šê³  ì •ë§ í•„ìš”í•œ í•œìª½ë§Œ ê±°ëŠ” ê²ƒì´ë‹¤. ìœ„ì˜ ê²½ìš°ë„ ë‹¤ì‹œë³´ë©´ itemìª½ì—ì„œ orderë¥¼ cascadeë¡œ ì—¬ëŸ¬ê°œ ë“±ë¡ì‹œí‚¬ ìƒí™©ì€ êµ³ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤(ë¬¼ë¡  ìˆì„ìˆ˜ë„ ìˆë‹¤) ê³¼ê°íˆ ì œê±°í•´ì£¼ë©´, delete ëª…ë ¹ì´ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•  ê²ƒì´ë‹¤.]]></content>
      <categories>
        <category>jpa</category>
      </categories>
      <tags>
        <tag>CascadeType.PERSIST</tag>
        <tag>CascadeType.ALL</tag>
        <tag>add list insert</tag>
        <tag>delete doesn&#39;t work</tag>
        <tag>orphanRemoval doesn&#39;t work</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[jpa] í”„ë¡ì‹œì™€ ì—°ê´€ê´€ê³„ ê´€ë¦¬]]></title>
    <url>%2Fjpa%2F%ED%94%84%EB%A1%9D%EC%8B%9C%EC%99%80-%EC%97%B0%EA%B4%80%EA%B4%80%EA%B3%84-%EA%B4%80%EB%A6%AC%2F</url>
    <content type="text"><![CDATA[JPAì—ëŠ” ì§€ì—° ë¡œë”©ì´ë¼ëŠ” ê¸°ëŠ¥ì´ ìˆë‹¤. ì•„ë˜ì™€ ê°™ì€ ì—”í‹°í‹°ê°€ ìˆë‹¤ê³  í•  ë•Œ, 12345678910111213141516171819@Entityclass Member&#123; @Id private Long id; // ... @ManyToOne @JoinColumn(name = "team_id") private Team team;&#125;@Entityclass Team&#123; @Id private Long id; // ...&#125; ì•„ë˜ì™€ ê°™ì´ Memberë¥¼ ì¡°íšŒí•˜ë©´ Team í…Œì´ë¸”ì´ join ë˜ì–´ ê°™ì´ ì¡°íšŒë˜ì—ˆì—ˆë‹¤. 12Member member = em.find(Member.class, 1);// do something 1234SELECT T.*FROM MEMBER M LEFT JOIN TEAM T ON M.TEAM_ID = T.IDWHERE M.ID = 1; ë§Œì•½ Member í…Œì´ë¸”ë§Œ í•„ìš”í•˜ë‹¤ê³  í•˜ë©´, ë§¤ë²ˆ ìœ„ì²˜ëŸ¼ ì¡°íšŒë˜ëŠ” ê²ƒì€ ë§¤ìš° ë¹„íš¨ìœ¨ì ì´ë‹¤. JPAëŠ” ì´ëŸ° ìƒí™©ì„ ìœ„í•´ ì§€ì—° ë¡œë”©ì´ë¼ëŠ” ê¸°ëŠ¥(ëª…ì„¸?)ì„ ì œê³µí•œë‹¤. ë§ ê·¸ëŒ€ë¡œ ì§€ì—°í•´ì„œ ë¡œë”©í•˜ëŠ” ê²ƒìœ¼ë¡œì¨, Memberì˜ Teamì´ ì‹¤ì œë¡œ ì‚¬ìš©ë˜ëŠ” ìˆœê°„ì— í•´ë‹¹ ì—”í‹°í‹°ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¡°íšŒí•´ì˜¬ ìˆ˜ ìˆë‹¤. JPAì˜ í‘œì¤€ ëª…ì„¸ëŠ” ì§€ì—°ë¡œë”©ì˜ êµ¬í˜„ ë°©ë²•ì„ JPA êµ¬í˜„ì²´ì— ìœ„ì„í–ˆë‹¤. í•˜ì´ë²„ë„¤ì´íŠ¸ëŠ” ì§€ì—°ë¡œë”©ì„ ì§€ì›í•˜ê¸° ìœ„í•´ í”„ë¡ì‹œë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ê³¼ ë°”ì´íŠ¸ì½”ë“œë¥¼ ìˆ˜ì •í•˜ëŠ” ë°©ë²•ì„ ì‚¬ìš©í•œë‹¤. í”„ë¡ì‹œ em.getReference() EntityManagerì˜ getRefernece() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ì—”í‹°í‹°ë¥¼ ë°”ë¡œ ì¡°íšŒí•´ì˜¤ì§€ ì•Šê³ , ì‹¤ì œ ì‚¬ìš©í•˜ëŠ” ì‹œì ì— ì¡°íšŒí•´ì˜¬ ìˆ˜ ìˆë‹¤.(findëŠ” ë°”ë¡œ ì¡°íšŒí•´ì˜¨ë‹¤) ì´ëŸ¬í•œ ì§€ì—° ë¡œë”©ì„ ì§€ì›í•˜ê¸° ìœ„í•´ í”„ë¡ì‹œ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ”ë°, ë°˜í™˜ë˜ëŠ” í”„ë¡ì‹œ ê°ì²´ì˜ ëª¨ìŠµì€ ì•„ë§ˆ ì•„ë˜ì™€ ê°™ì„ ê²ƒì´ë‹¤. 1234567891011121314151617181920class MemberProxy extends Member&#123; Member target = null; public String getName()&#123; if(target == null)&#123; // DB ì¡°íšŒ // ì‹¤ì œ ì—”í‹°í‹° ìƒì„± ë° ì°¸ì¡° ë³´ê´€ this.target = // ... &#125; return this.target.getName(); &#125;&#125;// ì‚¬ìš©@Testpublic void getReferneceTest()&#123; Member member = em.getReference(Member.class, 1); member.getName();&#125; ë³´ë‹¤ì‹œí”¼ í”„ë¡ì‹œ ê°ì²´ëŠ” ìƒì†ì„ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„í•œë‹¤. if(target == null) ë‚´ë¶€ì—ì„œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì˜í•´ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¡°íšŒí•´ ì‹¤ì œ ì—”í‹°í‹°ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì„ í”„ë¡ì‹œ ê°ì²´ì˜ ì´ˆê¸°í™”ë¼ê³  í•œë‹¤. íë¦„ì€ ì•„ë˜ì™€ ê°™ë‹¤.(ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” ë¹„ì–´ìˆë‹¤ê³  ê°€ì •í•œë‹¤) getReference()ë¥¼ í˜¸ì¶œí•˜ë©´ í”„ë¡ì‹œ ê°ì²´ë¥¼ ìƒì„±í•œ ë’¤ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸(1ì°¨ ìºì‹œ)ì— ì €ì¥í•œë‹¤. ì‹¤ì œ ë°ì´í„°ë¥¼ ì–»ê¸° ìœ„í•´ getName()ì„ í˜¸ì¶œí•œë‹¤. í”„ë¡ì‹œ ê°ì²´ëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì‹¤ì œ ì—”í‹°í‹° ìƒì„±ì„ ìš”ì²­í•œë‹¤(ì´ˆê¸°í™”) ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¡°íšŒí•´ì„œ ì‹¤ì œ ì—”í‹°í‹° ê°ì²´ë¥¼ ìƒì„±í•˜ê³ , í•´ë‹¹ ê°ì²´ì˜ ì°¸ì¡°ë¥¼ target ë³€ìˆ˜ì— ë³´ê´€í•œë‹¤. í”„ë¡ì‹œ ê°ì²´ëŠ” target ë³€ìˆ˜ì— ì €ì¥ëœ ì‹¤ì œ ì—”í‹°í‹° ê°ì²´ì˜ getName()ì„ í˜¸ì¶œí•´ì„œ ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤. ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” 1ì°¨ ìºì‹œë¥¼ í¬í•¨í•œ í° ê°œë…ì´ë¯€ë¡œ, í—·ê°ˆë¦´ ìˆ˜ ìˆìŒì— ìœ ì˜ í”„ë¡ì‹œ ê°ì²´ëŠ” ë‹¤ìŒê³¼ ê°™ì€ íŠ¹ì§•ì„ ê°€ì§„ë‹¤. í”„ë¡ì‹œ ê°ì²´ì˜ ì´ˆê¸°í™”ëŠ” ë”± í•œë²ˆë§Œ ì‹¤í–‰ëœë‹¤. target ê°ì²´ì— ì €ì¥ë˜ë©´ ê·¸ê²ƒì„ ê³„ì† ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ì›ë³¸ ì—”í‹°í‹°ë¥¼ ìƒì†ë°›ì€ ê°ì²´ì´ë¯€ë¡œ íƒ€ì… ì²´í¬ì— ì£¼ì˜í•´ì•¼ í•œë‹¤. em.getReference() ì‹¤í–‰ ì‹œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì°¾ëŠ” ì—”í‹°í‹°ê°€ ì´ë¯¸ ìˆìœ¼ë©´(ì‹ë³„ìë¡œ ì¡°íšŒ), í”„ë¡ì‹œ ê°ì²´ ëŒ€ì‹  ì‹¤ì œ ì—”í‹°í‹°ë¥¼ ë°˜í™˜í•œë‹¤. 12345Member member1 = em.getReference(Member.class, 1);Member member2 = em.find(Member.class, 1);System.out.println("member1 : " + member1.getClass().getName());System.out.println("member2 : " + member2.getClass().getName()); member1 : Member$HibernateProxy8guhz2idmemver2:Member8guhz2id memver2 : Member8guhz2idmemver2:MemberHibernateProxy$8guhz2id ì²˜ìŒ í˜¸ì¶œë  ë•Œ ì‹ë³„ìë¥¼ ì´ìš©í•´ 1ì°¨ ìºì‹œì— ì €ì¥í•˜ê³ , ì´ˆê¸°í™” ë˜ë©´ í•´ë‹¹ í”„ë¡ì‹œ ê°ì²´ë‚´ì˜ target ë³€ìˆ˜ì— ê°’ì´ ì €ì¥ë˜ê²Œ ë˜ëŠ”ê²ƒì´ë‹¤. ì´í›„ì— em.findë¡œ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•´ì™€ë„ ì´ë¯¸ í”„ë¡ì‹œ ê°ì²´ê°€ ì €ì¥ë˜ì–´ ìˆê¸° ë–„ë¬¸ì— í•´ë‹¹ ê°ì²´ê°€ ë°˜í™˜ëœë‹¤. ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ë™ì‘ ë°©ì‹ì„ ë” ì˜ ì„¤ëª…í•˜ê¸° ìœ„í•´ ì¼ë¶€ëŸ¬ ë°˜ëŒ€ë¡œ ì˜ˆì‹œë¥¼ ë“¤ì—ˆë‹¤. ì°¸ê³ ë¡œ ì•„ë˜ëŠ” getReference() ì—ì„œ ì¶”ì í•œ ë‚´ìš©ì¸ë°, ë³´ë‹¤ì‹œí”¼ ì²˜ìŒ ì´ˆê¸°í™” ë  ë•Œ proxy ê°ì²´ë“¤ì„ ë”°ë¡œ ì €ì¥í•´ë‘”ë‹¤. 123456789101112131415161718192021222324// ì´ˆê¸°í™”public void initialize(MetadataImplementor mappingMetadata, JpaMetaModelPopulationSetting jpaMetaModelPopulationSetting) &#123; // ... for ( final PersistentClass model : mappingMetadata.getEntityBindings() ) &#123; // ... // entity ê°ì²´ ì €ì¥ entityPersisterMap.put( model.getEntityName(), cp ); // .... // proxy ê°ì²´ ì €ì¥ final String old = entityProxyInterfaceMap.put( cp.getConcreteProxyClass(), cp.getEntityName() ); // ... &#125;&#125;// ì‚¬ìš©@Overridepublic EntityPersister locateEntityPersister(Class byClass) &#123; EntityPersister entityPersister = entityPersisterMap.get( byClass.getName() ); if ( entityPersister == null ) &#123; String mappedEntityName = entityProxyInterfaceMap.get( byClass ); // ... &#125;&#125; í”„ë¡ì‹œì™€ ì‹ë³„ì í”„ë¡ì‹œ ê°ì²´ëŠ” target ë³€ìˆ˜ë§Œ ê°€ì§€ê³  ìˆëŠ”ê²ƒì´ ì•„ë‹ˆë¼, ì „ë‹¬ë°›ì€ ì‹ë³„ì ê°’ë„ ê°™ì´ ì €ì¥í•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì•„ë˜ì™€ ê°™ì´ ì‹ë³„ì ê°’ë§Œ ì¡°íšŒí•  ê²½ìš° ì§ì ‘ì ì¸ ë°ì´í„°ë² ì´ìŠ¤ ì¡°íšŒê°€ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤. 12Member member = em.getRefernece(Member.class, 1);member.getId(); // SQL ì‹¤í–‰í•˜ì§€ ì•ŠìŒ ì´ëŸ¬í•œ íŠ¹ì§•ì„ ì´ìš©í•˜ë©´ ì—°ê´€ê´€ê²Œë¥¼ ì„¤ì •í•  ë•Œ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 123456789Member member = new Member();member.setName("joont");member.setAge(27);// team settingTeam team = em.getReference(Team.class, 1);member.setTeam(team);em.persist(member); ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì—°ê´€ê´€ê³„ë¥¼ ì„¤ì •í• ë•Œ ì™¸ë˜í‚¤ë¡œ í•´ë‹¹ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì‹ë³„ìë°–ì— ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. ì¦‰, memberë¥¼ persist í•  ë•Œ teamì˜ idë§Œ í•„ìš”í• ê²ƒì´ê³ , ì‹¤ì œë¡œë„ ê·¸ë ‡ê²Œ ì²˜ë¦¬ë ê²ƒì´ë‹¤. ì´ëŸ´ ê²½ìš° teamì„ ì „ì²´ ì¡°íšŒí•´ì˜¤ëŠ” find ë³´ë‹¤ëŠ” getReference()ë¥¼ ì‚¬ìš©í•´ì„œ ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼ íšŸìˆ˜ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤. ì°¸ê³ ë¡œ í˜„ì—…ì—ì„œëŠ” ì™¸ë˜í‚¤ ì œì•½ì¡°ê±´ì„ ì•ˆê±°ëŠ” ê²½ìš°ê°€ ë§ìœ¼ë‹ˆâ€¦ DBë ˆë²¨ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ìœ„í—˜í•  ìˆ˜ ìˆë‹¤. í”„ë¡ì‹œ í™•ì¸ JPAì—ì„œ ì œê³µí•˜ëŠ” PersistenceUnitUtil.isLoaded(Object entity) ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©´ í”„ë¡ì‹œ ê°ì²´ì˜ ì´ˆê¸°í™” ì—¬ë¶€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì•„ì§ ì´ˆê¸°í™” ë˜ì§€ ì•Šì€ ì—”í‹°í‹°ì˜ ê²½ìš° falseë¥¼ ë°˜í™˜í•œë‹¤. ì“¸ì¼ì´ ìˆì„ë‘ê°€â€¦ ì¦‰ì‹œë¡œë”©, ì§€ì—°ë¡œë”© JPAì—ì„œëŠ” ì—°ê´€ëœ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•´ì˜¬ ë•Œë„ í”„ë¡ì‹œ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì§€ì—°ë¡œë”©ì„ í•  ìˆ˜ ìˆë‹¤. ì§€ì—°ë¡œë”© ì—¬ë¶€ëŠ” ì—°ê´€ê´€ê³„ë¥¼ ë§ºëŠ” ì–´ë…¸í…Œì´ì…˜(@ManyToOne, @OneToManyâ€¦)ì˜ ì†ì„±(fetch)ìœ¼ë¡œ ì œê³µí•˜ì—¬ ìƒí™©ì— ë”°ë¼ ê°œë°œìê°€ ì„ íƒí•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤. ì œê³µë˜ëŠ” ì†ì„±ì€ ì¦‰ì‹œë¡œë”©, ì§€ì—°ë¡œë”© ë‘ ê°€ì§€ì´ë‹¤. ì¦‰ì‹œë¡œë”© fetch ì†ì„±ì„ FetchType.EAGERë¡œ ì£¼ë©´ ëœë‹¤. 123456789@Entityclass Member&#123; @Id private Long id; @ManyToOne(fetch = FetchType.EAGER) // ì¦‰ì‹œë¡œë”©ìœ¼ë¡œ ì„¤ì • @JoinColumn(name = "team_id") private Team team;&#125; 12Member member = em.find(Member.class, 1); // team ê¹Œì§€ ê°™ì´ ì¡°íšŒë¨ Team team = em.getTeam(); // ì‹¤ì œ ì—”í‹°í‹° ì´ë ‡ê²Œ ì„¤ì •í•´ë‘ë©´ Member ì—”í‹°í‹°ê°€ ì¡°íšŒë  ë•Œ Team ì—”í‹°í‹°ê°€ í•­ìƒ ê°™ì´ ì¡°íšŒëœë‹¤. ëŒ€ë¶€ë¶„ì˜ JPA êµ¬í˜„ì²´ëŠ” ì¦‰ì‹œë¡œë”©ì„ ìµœì í™”í•˜ê¸° ìœ„í•´ ê°€ëŠ¥í•˜ë©´ ì¡°ì¸ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•œë‹¤. ì§€ì—°ë¡œë”© fetch ì†ì„±ì„ FetchType.LAZYë¡œ ì£¼ë©´ ëœë‹¤. 123456789@Entityclass Member&#123; @Id private Long id; @ManyToOne(fetch = FetchType.LAZY) // ì§€ì—°ë¡œë”©ìœ¼ë¡œ ì„¤ì • @JoinColumn(name = "team_id") private Team team;&#125; 123Member member = em.find(Member.class, 1); Team team = member.getTeam(); // í”„ë¡ì‹œ ê°ì²´team.getName(); // ì´ë•Œ ì¡°íšŒë¨! em.find(Member.class, 1)ì„ í˜¸ì¶œí•˜ë©´ Memberë§Œ ì¡°íšŒí•˜ê³  team ë©¤ë²„ë³€ìˆ˜ì—ëŠ” í”„ë¡ì‹œ ê°ì²´ë¥¼ ë„£ì–´ë‘”ë‹¤. ê·¸ë¦¬ê³  ì•„ë˜ ì‹¤ì œ ì‚¬ìš©ë˜ëŠ” ë¶€ë¶„ì—ì„œ ë°ì´í„°ê°€ ì¡°íšŒëœë‹¤.(ë™ì‘ ë°©ì‹ì€ em.getReference()ì™€ ë™ì¼í•˜ë‹¤) ì‚¬ìš© ì‹œì ì— ì¡°íšŒí•´ì˜¤ë¯€ë¡œ ì¿¼ë¦¬ëŠ” ë‹¹ì—°íˆ ë”°ë¡œë”°ë¡œ ë‚ ë¼ê°„ë‹¤. ì»¬ë ‰ì…˜ ë˜í¼ í•˜ì´ë²„ë„¤ì´íŠ¸ëŠ” ì—”í‹°í‹°ë¥¼ ì˜ì†ìƒíƒœë¡œ ë§Œë“¤ ë•Œ ì—”í‹°í‹°ì— ì»¬ë ‰ì…˜ì´ ìˆìœ¼ë©´ í•´ë‹¹ ì»¬ë ‰ì…˜ì„ ì¶”ì í•˜ê³  ê´€ë¦¬í•  ëª©ì ìœ¼ë¡œ ì›ë³¸ ì»¬ë ‰ì…˜ì„ í•˜ì´ë²„ë„¤ì´íŠ¸ê°€ ì œê³µí•˜ëŠ” ë‚´ì¥ ì»¬ë ‰ì…˜ìœ¼ë¡œ ë³€ê²½í•œë‹¤. ì´ë¥¼ ì»¬ë ‰ì…˜ ë˜í¼ë¼ê³  í•˜ê³ , org.hibernate.collection.internal.PersistentBag í´ë˜ìŠ¤ì´ë‹¤. ì— í´ë˜ìŠ¤ê°€ ì»¬ë ‰ì…˜ ë ˆë²¨ì—ì„œ í”„ë¡ì‹œ ê°ì²´ì˜ ì—­í• ê¹Œì§€ ê°™ì´ í•´ì£¼ë¯€ë¡œ, ì´ í´ë˜ìŠ¤ë¥¼ í†µí•´ ì§€ì—°ë¡œë”©ì„ ë‹¬ì„±í•  ìˆ˜ ìˆë‹¤. ì°¸ê³ ë¡œ ì»¬ë ‰ì…˜ì˜ ì‹¤ì œ ë°ì´í„°ë¥¼ ì¡°íšŒí•  ë•Œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì¡°íšŒí•´ì„œ ì´ˆê¸°í™”í•œë‹¤. 12member.getTeam(); // SQL ì‹¤í–‰ì•ˆí•¨ member.getTeam().get(0); // SQL ì‹¤í–‰ ê·¸ë˜ì„œ ë­˜ ì„¤ì •í•´ì•¼ í•˜ëŠ”ë°? ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ ì„¤ì •ê³¼ ë˜‘ê°™ë‹¤. ì‚¬ìš©ë˜ëŠ” ê³³ì— ë”°ë¼ ì–´ë–¤ ì „ëµì„ ì„ íƒí•˜ë©´ ì¢‹ì„ì§€ ì²´í¬í•´ë³´ê³ , ì„ íƒí•˜ë©´ ëœë‹¤. ì°¸ê³ ë¡œ ê° ì—°ê´€ê´€ê³„ë“¤ì€ default fetch ê°’ì´ ìˆë‹¤. @OneToOne : EAGER @ManyToOne : EAGER @OneToMany : LAZY @ManyToMany : LAZY ë³´ë‹¤ì‹œí”¼ defaultê°’ì€ ì¶”ê°€ì ìœ¼ë¡œ í•˜ë‚˜ë§Œ ë¡œë”©í•´ë„ ë ë•ŒëŠ” ì¦‰ì‹œë¡œë”© ë˜ë„ë¡, ì¶”ê°€ì ìœ¼ë¡œ ë§ì€ ë°ì´í„°ê°€ ë¡œë”©ë  ìˆ˜ ìˆì„ ê²½ìš°ì—ëŠ” ì§€ì—°ë¡œë”© ë˜ë„ë¡ ì„¤ì •ë˜ì–´ ìˆë‹¤. (ì»¬ë ‰ì…˜ì„ ë¡œë”©í•˜ëŠ” ê²ƒì€ ë¹„ìš©ë„ ë§ì´ë“¤ê³ , í•œë²ˆì— ë„ˆë¬´ ë§ì€ ë°ì´í„°ë¥¼ ë¡œë”©í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.) ì¶”ì²œí•˜ëŠ” ë°©ë²•ì€ ì „ë¶€ FetchType.LAZYë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤. ê·¸ë¦¬ê³  ì–´í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œì´ ì–´ëŠì •ë„ ì™„ë£Œë‹¨ê³„ì— ì™”ì„ ë•Œ, ì‹¤ì œ ì‚¬ìš© ìƒí™©ì„ ë³´ê³  ê¼­ í•„ìš”í•œ ê³³ì—ë§Œ ì¦‰ì‹œ ë¡œë”©ì„ ì‚¬ìš©í•˜ë„ë¡ ìµœì í™”í•˜ë©´ ëœë‹¤. ì°¸ê³ ë¡œ SQL Mapperë¥¼ ì‚¬ìš©í•˜ë©´ ì´ëŸ° ìœ ì—°í•œ ìµœì í™”ê°€ ì–´ë µë‹¤.(ã…ã…) ì»¬ë ‰ì…˜ì— FetchType.EAGERë¥¼ ì‚¬ìš©í•  ë•Œ ì£¼ì˜í•  ì  EAGERë¥¼ í•˜ë‚˜ ì´ìƒ ì„¤ì •í•˜ëŠ” ê²ƒì€ ê¶Œì¥í•˜ì§€ ì•ŠëŠ”ë‹¤. ì»¬ë ‰ì…˜ì€ ê¸°ë³¸ì ìœ¼ë¡œ ì¼ëŒ€ë‹¤ ê´€ê³„ì—ì„œ ì‚¬ìš©ë˜ë¯€ë¡œ, ì¡°ì¸ë˜ëŠ” í…Œì´ë¸”ì´ ë§ì•„ì§ˆìˆ˜ë¡ ì¶œë ¥ë˜ëŠ” rowê°€ ê¸‰ê²©í•˜ê²Œ ì¦ê°€í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ A í…Œì´ë¸”ê³¼ N, M í…Œì´ë¸”ì„ ì¼ëŒ€ë‹¤ ì¡°ì¸í•˜ë©´ N * M ê°œìˆ˜ì˜ í–‰ì´ ë°˜í™˜ë˜ê³ , ê²°ê³¼ì ìœ¼ë¡œ ì„±ëŠ¥ì´ ì €í•˜ë  ìˆ˜ ìˆë‹¤. ë˜í•œ JPAëŠ” ì´ë ‡ê²Œ ì¡°íšŒëœ ê²°ê³¼ Nê³¼ Mì„ ë©”ëª¨ë¦¬ì—ì„œ í•„í„°ë§ í•´ì„œ ë°˜í™˜í•˜ë¯€ë¡œ, 2ê°œ ì´ìƒì˜ ì»¬ë ‰ì…˜ì„ ì¦‰ì‹œ ë¡œë”©ìœ¼ë¡œ ì„¤ì •í•˜ëŠ” ê²ƒì€ ê¶Œì¥ë˜ì§€ ì•ŠëŠ”ë‹¤. ì»¬ë ‰ì…˜ ì¦‰ì‹œ ë¡œë”©ì€ í•­ìƒ ì™¸ë¶€ ì¡°ì¸ì„ ì‚¬ìš©í•œë‹¤. ë‚´ë¶€ ì¡°ì¸ì„ ì‚¬ìš©í•˜ë©´ ìì‹ì´ ì—†ëŠ” ì—”í‹°í‹°ê°€ ì¡°íšŒë˜ì§€ ì•ŠëŠ” ê²°ê³¼ê°€ ë°œìƒí•œë‹¤. ì´ë¥¼ ì œì•½ì¡°ê±´ìœ¼ë¡œ ë§‰ì„ ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ì—†ìœ¼ë¯€ë¡œ, ë¬´ì¡°ê±´ ì™¸ë¶€ ì¡°ì¸ì„ ì‚¬ìš©í•œë‹¤. ì˜ì†ì„± ì „ì´(CASCADE) íŠ¹ì • ì—”í‹°í‹°ë¥¼ ì˜ì† ìƒíƒœë¡œ ë§Œë“¤ ë•Œ ì—°ê´€ëœ ì—”í‹°í‹°ë„ í•¨ê»˜ ì˜ì† ìƒíƒœë¡œ ë§Œë“¤ê³  ì‹¶ì„ ë•Œ ì˜ì†ì„± ì „ì´ë¥¼ ì‚¬ìš©í•œë‹¤. CASCADEë¼ëŠ” ì˜µì…˜ìœ¼ë¡œ ì œê³µí•˜ê³ , ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ì˜ CASCADEì™€ ë™ì¼í•˜ë‹¤. ì˜ì†ì„± ì „ì´ëŠ” ë§¤ìš° ê°„ë‹¨í•˜ë‹¤. EntityManagerë¥¼ í†µí•´ ì˜ì†ì„± ê°ì²´ì— ìˆ˜í–‰í•˜ëŠ” í–‰ë™ì´ ìì‹ê¹Œì§€ ì „íŒŒëœë‹¤ê³  ë³´ë©´ ëœë‹¤. ê°ì²´ì— ì„ ì–¸í•œ ê´€ê³„(@OneToOne, @OneToManyâ€¦)ì— cascade ë¼ëŠ” ì†ì„±ê°’ìœ¼ë¡œ ì§€ì •í•´ ì¤„ ìˆ˜ ìˆë‹¤. 1234567891011121314151617181920212223242526@Entityclass Parent&#123; @Id private Long id; @OneToMany(mappedBy = "parent", cascade = CascadeType.PERSIST) private List&lt;Child&gt; children = new ArrayList&lt;&gt;();&#125;class Child&#123; @Id private Long id;&#125;public void save()&#123; Parent parent = new Parent(); // ... Child child1 = new Child(); Child child2 = new Child(); parent.addChild(child1); parent.addChild(child2); em.persist(parent); // í•œë°©ìœ¼ë¡œ í•´ê²°&#125; ì›ë˜ë¼ë©´ child, child2 ë”°ë¡œë”°ë¡œ ë‹¤ ì €ì¥í•´ì¤¬ì–´ì•¼ í–ˆì„ê²ƒì´ì§€ë§Œ, ì˜ì†ì„± ì „ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ í¸ë¦¬í•˜ê²Œ ì €ì¥í•¨ì„ ë³¼ ìˆ˜ ìˆë‹¤. ì¿¼ë¦¬ëŠ” ì•„ë˜ì™€ ê°™ì´ ë‚ ë¼ê°„ë‹¤. 1234insert into parent values(...);insert into child values(...);insert into child values(...); ê°„ë‹¨í•˜ê²Œ ì„¤ëª…í•´ CascadeType.PERSISTë¥¼ ì„¤ì •í•¨ìœ¼ë¡œì¨ ì•„ë˜ì™€ ê°™ì•„ì¡Œë‹¤ê³  ë³´ë©´ ëœë‹¤. 12345em.persist(parent);==em.persist(parent);em.persist(child1);em.persist(child2); ì˜ì†ì„± ì „ì´ì˜ ë²”ìœ„ëŠ” ìœ„ì˜ cascade ì†ì„±ì˜ ê°’ìœ¼ë¡œ ì¤€ ì• ë“¤ì— ëŒ€í•´ì„œë§Œ ë™ì‘í•œë‹¤. cascadeì˜ ì¢…ë¥˜ëŠ” ì•„ë˜ì™€ ê°™ë‹¤. 12345678public enum CascadeType &#123; ALL, PERSIST, MERGE, REMOVE, REFRESH, DETACH&#125; CascadeType.MERGEë¥¼ ì£¼ê³  em.mergeë¥¼ ì‹¤í–‰í•˜ë©´ ìì‹ê¹Œì§€ ëª¨ë‘ em.mergeê°€ ì‹¤í–‰ë˜ëŠ” ê²ƒì´ê³ , CascadeType.REMOVEë¥¼ ì£¼ê³  em.removeë¥¼ ì‹¤í–‰í•˜ë©´ ìì‹ê¹Œì§€ ëª¨ë‘ em.removeê°€ ì‹¤í–‰ë˜ëŠ” ê²ƒì´ë‹¤. ê°„ë‹¨í•˜ë‹¤. í‚¤ì›Œë“œëŠ” ê°„ë‹¨íˆ ë¶€ëª¨ê°€ XXX ë  ë•Œ, ìì‹ë“¤ë„ ì „ë¶€ XXX ì‹œì¼œë¼ ì •ë„ë¡œ ì´í•´í•˜ë©´ ëœë‹¤. ë‹¹ì—°í•œ ì–˜ê¸°ì§€ë§Œ cascade ì†ì„±ì„ ì¤¬ì„ ê²½ìš° ì†ì„±ì´ ì„¤ì •ëœ ì—”í‹°í‹°ì˜ ìì‹ê¹Œì§€ ëª¨ë‘ cascade ì†ì„±ì„ ì¤˜ì•¼í•œë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ CascadeType.PERSISTë¥¼ ì¤¬ì„ ê²½ìš° ìì‹ ì—”í‹°í‹°ê°€ ì „ë¶€ ì €ì¥ë˜ì§€ ì•Šì„ ê²ƒì´ê³ , CascadeType.REMOVEë¥¼ ì¤¬ì„ ê²½ìš° FK ì œì•½ì¡°ê±´ì— ê±¸ë ¤ ì—ëŸ¬ê°€ ë°œìƒí•  ê²ƒì´ë‹¤. ì–´ë””ì—, ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠ”ê²Œ ì¢‹ì€ê°€? https://vladmihalcea.com/a-beginners-guide-to-jpa-and-hibernate-cascade-types/ ì´ ë¸”ë¡œê·¸ì—ì„œ ì˜ì†ì„± ì „ì´ì˜ Best Practiceì— ëŒ€í•´ ì„¤ëª…í•˜ê³  ìˆë‹¤(ì§±ì§±ë§¨) ì²« ë¶€ë¶„ì—ì„œ JPAì™€ Hibernateì˜ CascadeType ì†ì„±ì— ëŒ€í•´ ë¹„êµí•´ì£¼ê³  ìˆëŠ”ë°, ë³´ë‹¤ì‹œí”¼ hibernateê°€ ë” ë§ì€ CascadeTypeì„ ì§€ì›í•¨ì„ ë³¼ ìˆ˜ ìˆë‹¤. ì—¬ê¸°ì„œ ë¬¸ì œê°€ ë  ìˆ˜ ìˆëŠ”ê±´, CascadeType.ALLì„ ì§€ì •í–ˆì„ ê²½ìš°ë‹¤. êµ¬í˜„ì²´ê°€ hibernateì´ê¸° ë•Œë¬¸ì—, JPAì˜ CascadeType.ALL ì„ ì§€ì •í•˜ë©´ hibernateì˜ LOCK CascadeType ë“±ë“±ì´ ë‹¤ ì ìš©ë  ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì£¼ì˜í•´ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤. ê°œì¸ì ìœ¼ë¡œ ALLë³´ë‹¤ëŠ” ì‚¬ìš©í•˜ëŠ” ì• ë“¤ë§Œ ì ì ˆíˆ ì¨ì£¼ëŠ”ê²Œ ì¢‹ì„ê²ƒ ê°™ë‹¤ê³  ìƒê°í•¨. ê·¸ë¦¬ê³  ê·¸ ì•„ë˜ì—ì„œ ê° ê´€ê³„ì—ì„œì˜ Best Praceticeì— ëŒ€í•´ ì„¤ëª…í•´ì£¼ê³  ìˆëŠ”ë°, ê°„ë‹¨íˆ ìš”ì•½í•˜ë©´ ì•„ë˜ì™€ ê°™ë‹¤. @OneToOneì€ bidirection í•˜ê²Œ ì„¤ì •í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ê³ , orphanRemoval ê¹Œì§€ ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤. í¸ì˜ ë©”ì„œë“œ ë˜í•œ ê°™ì´ ë„£ì–´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ @OneToMany ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ê³ , ê°€ì¥ ë§ì´ ì‚¬ìš©ëœë‹¤. @ManyToOneì—ì„œ cascadeë¥¼ ê±°ëŠ” ê²ƒì€ ë¹„ì •ìƒì ì¸ í–‰ìœ„ì´ë‹ˆ, í•˜ì§€ ì•Šë„ë¡ í•œë‹¤. @ManyToManyì—ì„œ CascadeType.REMOVEë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ë‚´ê°€ ì˜ˆìƒí•œ ê²ƒ ë³´ë‹¤ í›¨ì”¬ ë§ì€ ì‚­ì œê°€ ì¼ì–´ë‚  ìˆ˜ ìˆë‹¤. ê³ ì•„ ê°ì²´ JPAëŠ” ë¶€ëª¨ ì—”í‹°í‹°ì™€ ì—°ê´€ê´€ê³„ê°€ ëŠì–´ì§„ ìì‹ ì—”í‹°í‹°ë¥¼ ìë™ìœ¼ë¡œ ì‚­ì œí•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ”ë°, ì´ë¥¼ ê³ ì•„(orphan)ê°ì²´ ì œê±°ë¼ê³  í•œë‹¤. ì£¼ê°€ ë˜ëŠ” ì—”í‹°í‹°ì—ì„œ ì—°ê´€ëœ ê°ì²´ì˜ ì°¸ì¡°ê°€ ì œê±°ë˜ë©´, ê·¸ê²ƒì„ ê³ ì•„ ê°ì²´ë¡œ ë³´ê³  ì‚­ì œí•˜ëŠ” ê¸°ëŠ¥ì´ë‹¤. 1234567// @OneToOneMember member = em.find(Member.class, 1);member.setLocker(null); // locker ì‚­ì œë¨// @OneToManyParent parent = em.find(Parent.class, 1);member.getChildren().remove(0); // child ì‚­ì œë¨ ìì‹ì´ ë¶€ëª¨ì˜ ìƒëª…ì£¼ê¸°ì— ë¬¶ì—¬ìˆëŠ”(íŠ¹ì • ì—”í‹°í‹°ê°€ ê°œì¸ ì†Œìœ í•˜ëŠ”) ì—”í‹°í‹°ì—ë§Œ ì´ ê¸°ëŠ¥ì„ ì ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì‚­ì œí•œ ì—”í‹°í‹°ë¥¼ ë‹¤ë¥¸ ê³³ì—ì„œë„ ì°¸ì¡°í•˜ë©´ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆê¸° ë–„ë¬¸ì´ë‹¤. ê·¸ë˜ì„œ orphanRemovalì€ @OneToMany, @OneToOne ê´€ê³„ì—ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì°¸ê³ ë¡œ orphanRemovalì—ëŠ” ì¶”ê°€ì ì¸ ê¸°ëŠ¥ì´ í•˜ë‚˜ ë” ìˆëŠ”ë°, ë¶€ëª¨ë¥¼ ìì‹ê¹Œì§€ ê°™ì´ ì œê±°ë˜ëŠ” CascadeType.REMOVEì˜ ê¸°ëŠ¥ì´ë‹¤. ê°œë…ì ìœ¼ë¡œ ë¶€ëª¨ë¥¼ ì œê±°í•˜ë©´ ìì‹ì´ ê³ ì•„ê°€ ë˜ê¸° ë–„ë¬¸ì´ë‹¤. ì˜ì†ì„± ì „ì´ + ê³ ì•„ê°ì²´ CacadeType.ALL + orphanRemoval = true ë¥¼ ë™ì‹œì— ì‚¬ìš©í•˜ë©´ ë¶€ëª¨ë¥¼ í†µí•´ì„œ ìì‹ ì—”í‹°í‹°ì˜ ìƒëª…ì£¼ê¸°ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ ëœë‹¤. 1234567// child insertParent parent = em.find(Parent.class, 1);parent.addChild(child); // child removeParent parent = em.find(Parent.class, 1);parent.getChildren().remove(0); CacadeType.PERSISTë¡œ ìì‹ì„ ì»¨íŠ¸ë¡¤ í•  ìˆ˜ ìˆê²Œ í•œ ì´ìœ ê°€ ì´í•´ê°€ ì•ˆê°„ë‹¤. ì¼ë‹¨, EntityManagerë¡œ ìˆ˜í–‰í•˜ëŠ” ë©”ì„œë“œì™€ CascadeTypeì€ ë³„ê°œë¼ê³  ìƒê°í•´ì•¼ í•œë‹¤.]]></content>
      <categories>
        <category>jpa</category>
      </categories>
      <tags>
        <tag>ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë°</tag>
        <tag>orphanRemoval</tag>
        <tag>FetchType.EAGER</tag>
        <tag>FetchType.LAZY</tag>
        <tag>ì§€ì—° ë¡œë”©</tag>
        <tag>Cascade</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[spring] spring boot test]]></title>
    <url>%2Fspring%2Fspring-boot-test%2F</url>
    <content type="text"><![CDATA[https://meetup.toast.com/posts/124 spring boot test ëª¨ë“ˆì€ ì•„ë˜ì˜ 2ê°œê°€ ì¡´ì¬í•¨ spring-boot-test spring-boot-test-autoconfigure ëŒ€ë¶€ë¶„ spring-boot-starter-testë¡œ ì¶©ë¶„í•¨(ìœ„ì˜ 2ê°œë¥¼ ë‹¤ í¬í•¨í•˜ê³  ìˆë‚˜?) @SpringBootTest @ContextConfigurationì˜ ë°œì „ëœ ê¸°ëŠ¥? í…ŒìŠ¤íŠ¸ì— ì‚¬ìš©í•  ApplicationContextë¥¼ ì‰½ê²Œ ì¡°ì‘í•  ìˆ˜ ìˆìŒ ë°˜ë“œì‹œ @RunWith(SpringRunner.class)ì™€ í•¨ê»˜ ì‚¬ìš©í•´ì•¼í•¨ Bean ì„¤ì • classes ì†ì„±ì„ í†µí•´ í•  ìˆ˜ ìˆìŒ ì„¤ì •í•œ í´ë˜ìŠ¤ë“¤ë§Œ ë¹ˆìœ¼ë¡œ ë“±ë¡í•¨ @Configurationì„ ì„¤ì •í•  ê²½ìš° ë‚´ë¶€ì˜ ë¹ˆë“¤ë„ ì „ë¶€ ë“±ë¡ë¨ @TestConfiguration ê¸°ì¡´ì— ì •ì˜í•œ @Congifurationì„ ì¬ì •ì˜í•˜ê³  ì‹¶ì„ ê²½ìš° @TestConfigurationì— ì •ì˜ëœ beanìœ¼ë¡œ override ëœë‹¤ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ë‚´ì— ì„ ì–¸í• ìˆ˜ë„ ìˆì§€ë§Œ, ì´ëŸ¬ë©´ @ComponentScanì‹œì—ë§Œ ê°ì§€ë˜ë¯€ë¡œ classesë¥¼ ëª…ì‹œí–ˆì„ ê²½ìš° ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤ @Importë¥¼ ì¨ì„œ ì§ì ‘ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ì¢‹ë‹¤ ì´ë ‡ê²Œ í•˜ë©´ ì—¬ëŸ¬í´ë˜ìŠ¤ì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ @MockBean @MockBean ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ë©´ mock ê°ì²´ë¥¼ ë¹ˆë“œë¡œ ë“±ë¡í•  ìˆ˜ ìˆë‹¤ @Autowired ë“±ìœ¼ë¡œ ì£¼ì…ë°›ëŠ” ê°ì²´ê°€ @MockBeanìœ¼ë¡œ ì„ ì–¸ëœ ê°ì²´ë¼ë©´, í•´ë‹¹ mock ê°ì²´ê°€ ì£¼ì…ëœë‹¤ @MockBeanìœ¼ë¡œ ì„ ì–¸í•œ ê°ì²´ê°€ ì´ë¯¸ ë¹ˆì— ë“±ë¡ë˜ì–´ì ¸ ìˆë‹¤ë©´ override ëœë‹¤ properties ìŠ¤í”„ë§ì€ í…ŒìŠ¤íŠ¸ì‹œì— ê¸°ë³¸ì ìœ¼ë¡œ class pathì˜ application.properties(yml)ì„ ì°¸ì¡°í•œë‹¤ properties ì†ì„±ìœ¼ë¡œ ë³„ë„ì˜ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ì„¤ì •íŒŒì¼ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤ test classpathì˜ application.ymlì´ ìˆìœ¼ë©´ ê·¸ê±¸ ë¨¼ì € ì°¸ì¡°â€¦í•˜ë‚˜? TestRestTemplate @SpringBootTestì™€ RestTestTemplateë¥¼ ê°™ì´ ì‚¬ìš©í•œë‹¤ë©´ í¸ë¦¬í•˜ê²Œ ì›¹ í†µí•©í…ŒìŠ¤íŠ¸ê°€ ê°€ëŠ¥í•˜ë‹¤ @SpringBootTestì—ì„œ Web Environmentë¥¼ ì„¤ì •í–ˆë‹¤ë©´ TestRestTemplateëŠ” ê·¸ì—ë§ì¶° ìë™ìœ¼ë¡œ ë¹ˆìœ¼ë¡œ ìƒì„±ëœë‹¤ MockMvcëŠ” servlet containerë¥¼ ìƒì„±í•˜ì§€ ì•Šê³ , TestRestTemplateëŠ” servlet containerë¥¼ ìƒì„±í•¨ ê·¸ëŸ¬ë¯€ë¡œ ì‹¤ì œ ë™ì‘ë˜ëŠ” ê²ƒì²˜ëŸ¼ í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤ í´ë¼ì´ì–¸íŠ¸ê°€ ìˆ˜í–‰í•˜ëŠ” ê²ƒ ì²˜ëŸ¼ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë‹¤ íŠ¸ëœì­ì…˜ @Test ì–´ë…¸í…Œì´ì…˜ê³¼ @Transactional ì–´ë…¸í…Œì´ì…˜ì„ í•¨ê¼ ì‚¬ìš©í–ˆì„ ê²½ìš° í…ŒìŠ¤íŠ¸ê°€ ëë‚˜ë©´ rollback ë¨ ê¸°ì¡´ì˜ spring-testì™€ ë™ì¼ ë§Œì•½ ë¡¤ë°±í•˜ê³  ì‹¶ì§€ ì•Šë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ í•¨ 12345@Test@Rollback(false)public void insetTest()&#123; // ...&#125; í•˜ì§€ë§Œ webEnvironmentì˜ RANDOM_PORTë‚˜ DEFINED_PORTë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì„¤ì •í•˜ë©´ í…ŒìŠ¤íŠ¸ê°€ ë³„ë„ì˜ ìŠ¤ë ˆë“œì—ì„œ ìˆ˜í–‰ë˜ê¸° ë•Œë¬¸ì— rollbackì´ ìˆ˜í–‰ë˜ì§€ ì•ŠìŒ @JsonTest json serialize, deserializeë¥¼ í¸í•˜ê²Œ í…ŒìŠ¤íŠ¸í•´ë³¼ ìˆ˜ ìˆë‹¤ @WebMvcTest ì„œë²„ì‚¬ì´ë“œ API Test? Async web Test async í…ŒìŠ¤íŠ¸? @DataJpaTest memory dbë¥¼ ì‚¬ìš©í•˜ê³  í…ŒìŠ¤íŠ¸ê°€ ëë‚ ë–„ë§ˆë‹¤ ë¡¤ë°±ë¨ @Transactional ì–´ë…¸í…Œì´ì…˜ì„ í¬í•¨í•˜ê³  ìˆìŒ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ TestEntityManager í´ë˜ìŠ¤ê°€ ë¹ˆìœ¼ë¡œ ë“±ë¡ëœë‹¤ Spring Data JPAë¥¼ ì“°ì§€ ì•Šì„ ê²½ìš° ìœ ìš©í• ê¹Œ? @JdbcTest @DataJpaTestì™€ ìœ ì‚¬í•˜ê²Œ ìˆœìˆ˜ JDBCë¥¼ í…ŒìŠ¤íŠ¸í•˜ê³  ì‹¶ì„ ê²½ìš° ì‚¬ìš© í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ JdbcTemplateê°€ ìƒì„±ëœë‹¤ @DataMongoTest mongodb @RestClientTest ì¢€ ë” ë¦¬ì–¼í™˜ê²½ì— ê°€ê¹ê²Œ api í…ŒìŠ¤íŠ¸ë¥¼ í•  ìˆ˜ ìˆìŒ RestTemplateì— ë°˜ì‘í•˜ëŠ” ê°€ìƒì˜ mock ì„œë²„ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤?]]></content>
      <categories>
        <category>spring</category>
      </categories>
      <tags>
        <tag>@SpringBootTest</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[db] externalIdì˜ ìš©ë„]]></title>
    <url>%2Fdb%2FexternalId%EC%9D%98-%EC%9A%A9%EB%8F%84%2F</url>
    <content type="text"><![CDATA[ì‚¬ìš©ë°©ë²• PKë¥¼ ê·¸ëƒ¥ keyë¡œ ì‚¬ìš©í•  ê²½ìš° ì™¸ë¶€ì—ì„œ ë§ˆìŠ¤í„° ë°ì´í„°ì˜ ì–‘ì„ ì–´ëŠì •ë„ ì•Œ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— externalId ì»¬ëŸ¼ì„ ë”°ë¡œ ë§Œë“¤ì–´ì£¼ê³ , ì´ê²ƒì„ ì™¸ë¶€ì— ë…¸ì¶œì‹œí‚¤ëŠ” ê²ƒì´ ì¢‹ë‹¤. externalIdëŠ” PKì™€ ë™ì¼í•˜ê²Œ unique keyê°€ ë˜ì–´ì•¼ í•œë‹¤(unique constraints í•„ìš”) ë‚´ë¶€ì ì¸ ë£°ì„ í†µí•´ ì´ ê°’ì„ ì§€ì •í•˜ê±°ë‚˜ íŠ¹ì •í•œ ë£°ì´ ì—†ë‹¤ë©´ UUIDë¡œ ìƒì„±í•œë‹¤ ì£¼ì˜ externalIdë¥¼ PKë¡œ ì¡ìœ¼ë©´ í´ëŸ¬ìŠ¤í„°ë“œ ì¸ë±ìŠ¤ì˜ íŠ¹ì§•ìƒ ë¯¸ì¹œë“¯í•œ ì¬ì •ë ¬ì´ ì¼ì–´ë‚˜ë¯€ë¡œ, ì¶”ê°€ ì»¬ëŸ¼ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.]]></content>
      <categories>
        <category>db</category>
      </categories>
      <tags>
        <tag>externalId</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[liquibase]]></title>
    <url>%2Fetc%2Fliquibase%2F</url>
    <content type="text"><![CDATA[ê°œë… database schema ë³€ê²½ì„ tracking í•˜ì—¬ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” open sourceì´ë‹¤. liquibase ë¬¸ë²•ì— ë§ì¶° xml(yml) íŒŒì¼ì„ ì‘ì„±í•œ ë’¤ liquibase ë¥¼ ì‹¤í–‰í•˜ë©´ í•´ë‹¹ íŒŒì¼ì˜ ë‚´ìš©ì´ ë°ì´í„°ë² ì´ìŠ¤ì— ë°˜ì˜ëœë‹¤. ë°˜ì˜ ë°©ë²•ì€ command line, maven, gradle ë“± ë‹¤ì–‘í•œ ë°©ë²•ìœ¼ë¡œ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤. (gradleì€ liquibase-gradle-pluginì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤) ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•œ ì´í›„ ë¶€í„°ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆë¥¼ ì§ì ‘ ìˆ˜ì •í•˜ëŠ” ì¼ì€ ì§€ì–‘(ê¸ˆì§€)í•´ì•¼ í•œë‹¤. ê·¸ë¦¬ê³  ì–´ëŠ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì¶”ê°€í•´ì¤€ taskì¸ì§€ëŠ” ëª¨ë¥´ê³˜ìœ¼ë‚˜â€¦(jhipsterì• ì„œ generate ëœê±¸ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ë‹¤ë³´ë‹ˆâ€¦) gradleì— ìˆëŠ” liquibase ê´€ë ¨ taskë“¤ ì¤‘ liquibaseDiffChangeLogë¥¼ ì‹¤í–‰í•˜ë©´ í”„ë¡œì íŠ¸ì— ì‘ì„±í•œ entityì™€ ë°ì´í„°ë² ì´ìŠ¤ ë‚´ ìŠ¤í‚¤ë§ˆë¥¼ ì°¸ê³ í•˜ì—¬ ë‹¤ë¥¸ ë¶€ë¶„ì„ liquibase ë¬¸ë²•ì˜ xml íŒŒì¼ë¡œ ìƒì„±í•´ì¤€ë‹¤. (diffê°€ ì™„ë²½í•˜ê²Œ ìƒì„±ë˜ì§€ëŠ” ì•Šìœ¼ë‹ˆ, xml íŒŒì¼ì„ ë‹¤ì‹œ ë³´ë©´ì„œ ì˜ëª»ëœ ë¶€ë¶„ì´ ì—†ë‚˜ ìµœì¢…ì ìœ¼ë¡œ í™•ì¸í•´ì•¼í•œë‹¤. ì§ì ‘ ì‘ì„±í•´ë„ ë¨) ë¬¸ë²• ì•„ë˜ëŠ” liquibaseì˜ ê°„ë‹¨í•œ ì˜ˆì œì´ë‹¤. 123456789101112131415161718192021222324252627282930&lt;databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd"&gt; &lt;preConditions&gt; &lt;runningAs username="liquibase"/&gt; &lt;/preConditions&gt; &lt;changeSet id="1" author="nvoxland"&gt; &lt;createTable tableName="person"&gt; &lt;column name="id" type="int" autoIncrement="true"&gt; &lt;constraints primaryKey="true" nullable="false"/&gt; &lt;/column&gt; &lt;column name="firstname" type="varchar(50)"/&gt; &lt;column name="lastname" type="varchar(50)"&gt; &lt;constraints nullable="false"/&gt; &lt;/column&gt; &lt;column name="state" type="char(2)"/&gt; &lt;/createTable&gt; &lt;/changeSet&gt; &lt;changeSet id="2" author="nvoxland"&gt; &lt;addColumn tableName="person"&gt; &lt;column name="username" type="varchar(8)"/&gt; &lt;/addColumn&gt; &lt;/changeSet&gt; &lt;/databaseChangeLog&gt; changeSetì— ì–´ë–¤ í–‰ìœ„ë“¤ì„ í•  ì§€ ë‚˜ì—´ë˜ì–´ ìˆë‹¤.(createTable, addColumn ë“±) ì´ íŒŒì¼ì„ liquibaseë¡œ ì‹¤í–‰í•˜ë©´ ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ì— ë°˜ì˜ë  ê²ƒì´ë‹¤. ê·¸ë¦¬ê³  ë³€ê²½ì‚¬í•­ì´ ë°˜ì˜ë˜ë©´ DATABASECHANGELOGë¼ëŠ” í…Œì´ë¸”ì—(liquibaseì—ì„œ ì‚¬ìš©í•˜ëŠ” í…Œì´ë¸”) ìœ„ì˜ changeLog idê°’ìœ¼ë¡œ ë¡œìš°ê°€ ìŒ“ì´ê²Œ ëœë‹¤. ì´ ë§ì€ í•´ë‹¹ ë³€ê²½ì‚¬í•­ì€ ì ìš©ë˜ì—ˆë‹¤ëŠ” ëœ»ì´ë‹¤. liquibaseëŠ” ì´ í…Œì´ë¸” ë¡œìš°ë¥¼ ì°¸ê³ í•˜ì—¬ changeSetì´ ì´ë¯¸ ë°˜ì˜ë˜ì—ˆìœ¼ë©´ skip, ë°˜ì˜ë˜ì§€ ì•Šì•˜ë‹¤ë©´ ë°˜ì˜í•œë‹¤. sql ì¿¼ë¦¬ë¥¼ ê·¸ëŒ€ë¡œ ì ìš©í•˜ëŠ”ë²• 123456789&lt;changeSet author="junyoung.park (generated)" id="20190307124000-7"&gt; &lt;sql&gt; CREATE TABLE BATCH_STEP_EXECUTION_SEQ ( ID BIGINT NOT NULL, UNIQUE_KEY CHAR(1) NOT NULL, constraint UNIQUE_KEY_UN unique (UNIQUE_KEY) ) ENGINE=InnoDB; &lt;/sql&gt;&lt;/changeSet&gt; ì—¬ëŸ¬ íŒŒì¼ ì ìš© í•œë²ˆì— ì—¬ëŸ¬ changelog íŒŒì¼ì„ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤. 12345678910&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd"&gt; &lt;include file="config/liquibase/changelog/00000000_initial_schema.xml" relativeToChangelogFile="false"/&gt; &lt;include file="config/liquibase/changelog/2018103001_added_spring_acl_schema.xml" relativeToChangelogFile="false"/&gt; &lt;include file="config/liquibase/changelog/2018122001_refactor-column-length.xml" relativeToChangelogFile="false"/&gt;&lt;/databaseChangeLog&gt; ì´ íŒŒì¼ì„ liquibaseë¡œ ì‹¤í–‰í•˜ë©´ ìœ„ì—ì„œë¶€í„° ìˆœì„œëŒ€ë¡œ ë°˜ì˜í•œë‹¤. ì£¼ì˜ì‚¬í•­ liquibaseëŠ” ë³€ê²½ì‚¬í•­ì„ ë°˜ì˜í•˜ê¸° ì „ì— DATABASECHANGELOGLOCK í…Œì´ë¸”ì— LOCKED=1 ì¸ ìƒíƒœë¡œ ë ˆì½”ë“œë¥¼ ë„£ê³  ë½ì„ ê±´ë‹¤ ì¼ë°˜ì ì¸ ìƒí™©ì—ì„œëŠ” ë¬¸ì œë˜ì§€ ì•Šì§€ë§Œ, í•œë²ˆì— ì„œë²„ë¥¼ 2ê°œ ì´ìƒ ë„ì›Œì•¼ í•  ê²½ìš° ë°ë“œë½ì´ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë‹ˆ ì‘ì„±ì „ì— ì´ ë ˆì½”ë“œê°€ ë“¤ì–´ìˆëŠ”ì§€ ì²´í¬í•´ë³´ë©´ ì¢‹ë‹¤ í˜¹ì€ ì˜ ëœ¨ì§€ ì•ŠëŠ”ë‹¤ë©´ ì´ í…Œì´ë¸”ì— ë°ì´í„°ê°€ ìˆëŠ”ì§€ ì²´í¬í•´ë³´ìâ€¦]]></content>
      <categories>
        <category>etc</category>
      </categories>
      <tags>
        <tag>liquibase ì‚¬ìš©ë²•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MapStruct]]></title>
    <url>%2Fetc%2FMapStruct%2F</url>
    <content type="text"><![CDATA[ê¸°ë³¸ ì‚¬ìš©ë²• installation http://mapstruct.org/documentation/stable/reference/html/#setup ê¸°ë³¸ ì‚¬ìš©ë²• http://mapstruct.org/documentation/stable/reference/html/#basic-mappings í´ë˜ìŠ¤ê°„ ë³€í™˜ì„ ê°„í¸í•˜ê²Œ í•´ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë‹¤(Car &lt;&gt; CarDTO) ì•„ë˜ëŠ” Mapper ì„ ì–¸ë²•ì´ë‹¤. 123456789101112@Mapper(componentModel = "spring", uses = &#123; OwnerMapper.class // 3&#125;)public interface CarMapper &#123; CarMapper INSTANCE = Mappers.getMapper( CarMapper.class ); @Mapping(source = "numberOfSeats", target = "seatCount") // 1 CarDto toDto(Car car); @Mapping(target = "id", ignore = true) // 2 Car toEntity(CarDTO dto);&#125; ë³´ë‹¤ì‹œí”¼ entityë¥¼ DTOë¡œ ë³€í™˜í•´ì£¼ëŠ” ì‘ì—…ì„ í•œë‹¤(ì§€ê¸ˆì€ ì—”í‹°í‹°ì™€ DTOë¥¼ ì˜ˆì‹œë¡œ ë“¤ì—ˆì§€ë§Œ ì–´ë–¤ í´ë˜ìŠ¤ë“  ìƒê´€ì—†ë‹¤). ì•„ë˜ì˜ generate ëœ ì½”ë“œë¥¼ ë³´ë©´ ì•Œ ìˆ˜ ìˆê³˜ì§€ë§Œ, ë³€í™˜ë  í´ë˜ìŠ¤ëŠ” setterê°€ í•„ìš”í•˜ê³ , ë³€í™˜ëŒ€ìƒ í´ë˜ìŠ¤ëŠ” getterê°€ í•„ìš”í•˜ë‹¤. sourceì™€ targetì˜ í•„ë“œ ì´ë¦„ì´ ë‹¤ë¥¼ ê²½ìš° ì§ì ‘ ì§€ì •í•  ìˆ˜ ìˆë‹¤ ignoreë¥¼ í†µí•´ íŠ¹ì • í•„ë“œëŠ” ë³€í™˜ë˜ì§€ ì•Šë„ë¡ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. targetë§Œ ì‹ ê²½ì“°ë©´ ëœë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ deep mapping í•˜ëŠ” ì½”ë“œê¹Œì§€ generation í•´ì£¼ê¸´í•˜ë‚˜, ê¸°ë³¸ì ì¸ ë°©ì‹ìœ¼ë¡œë§Œ generation ëœë‹¤(ì´ë¦„ì— ë§ì¶°ì„œ get/set) ê·¸ëŸ¬ë¯€ë¡œ customí•œ mapperê°€ í•„ìš”í•˜ë‹¤ë©´ ìœ„ì™€ ê°™ì´ ì„ ì–¸í•´ì¤˜ì•¼ í•œë‹¤. installí•œ libraryë¡œ ë¹Œë“œí•˜ë©´ @Mapper ì¸í„°í˜ì´ìŠ¤ë“¤ì„ ì°¾ì•„ì„œ XXXImplì˜ í˜•íƒœë¡œ êµ¬í˜„ì²´ë¥¼ ëª¨ë‘ ë§Œë“ ë‹¤.(ë¹Œë“œ ë°©ì‹ ì•Œì•„ë´ì•¼í•¨) í˜„ì¬ componentModelì„ springìœ¼ë¡œ ì¤¬ê¸°ë•Œë¬¸ì— ìƒì„±ë˜ëŠ” Implì€ ìŠ¤í”„ë§ì˜ ì‹±ê¸€í†¤ ë¹ˆìœ¼ë¡œ ê´€ë¦¬ëœë‹¤(@Component ë¶™ìŒ) ìƒì„±ëœ êµ¬í˜„ì²´ëŠ” ì•„ë˜ì™€ ê°™ë‹¤. ê°„ë‹¨í•˜ë‹¤. 1234567891011121314@Overridepublic CarDTO toDto(Car entity) &#123; if ( entity == null ) &#123; return null; &#125; CarDTO carDTO = new CarDTO(); carDTO.setName( entity.getName() ); carDTO.setSeatCount( entity.numberOfSeats() ); carDTO.setOwner( ownerMapper.toDto(entity.getOwner() ) ); return carDTO;&#125; ì•„ë˜ëŠ” ê°„ë‹¨í•œ ì‚¬ìš©ë²•ì´ë‹¤. 123456789101112// some servicepublic void save(CarDTO carDTO)&#123; Car car = CarMapper.INSTANCE.toEntity(carDTO); em.persist(car);&#125;public CarDTO select()&#123; Car car = em.find(Car.class, 1); return CarMapper.INSTANCE.toDTO(car);&#125;]]></content>
      <categories>
        <category>etc</category>
      </categories>
      <tags>
        <tag>@Mapper</tag>
        <tag>@Mapping</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[REST API Best Practice]]></title>
    <url>%2Frest%2FREST-API-Best-Practice%2F</url>
    <content type="text"><![CDATA[REST API ì¢‹ì€ ì˜ˆì œ(ì½ì–´ë´ì•¼í•¨) https://developer.github.com/v3/ REST APIëŠ” Github APIê°€ ì¢‹ì€ ì—ì œì´ë‹¤. êµ¬ê¸€ì´ë‚˜ í˜ì´ìŠ¤ë¶ì˜ ê²½ìš° ì‚¬ëŒì´ ë§ì•„ì„œ ì˜¤íˆë ¤ ê´€ë¦¬ê°€ ì˜ ì•ˆë˜ê³  ìˆëŒœ. ê·¸ì— ë¹„í•´ Githubì€ 300ëª… ì •ë„ë¡œ ìš´ì˜í•˜ê¸° ë•Œë¬¸ì—, ì¢€ ë” ë‚«ë‹¤ê³  í•¨. Rest API ì¢‹ì€ ê°€ì´ë“œë¼ì¸(ì½ì–´ë´ì•¼í•¨) https://allegro-restapi-guideline.readthedocs.io/en/latest/ https://docs.microsoft.com/ko-kr/azure/architecture/best-practices/api-design ë¦¬ìŠ¤íŠ¸ responseì— ëŒ€í•œ ì•ˆí‹°íŒ¨í„´ 123456[ &#123; ... &#125; ...] ì¶”ê°€ì ì¸ ì •ë³´ëŠ” ëŒ€ë¶€ë¶„ í—¤ë”ì— ë‚´ë ¤ì£¼ê¸´ í•˜ì§€ë§Œ, ê°€ë”ì”© í—¤ë”ì— ë„£ê¸° ì• ë§¤í•œ ì• ë“¤ì´ ìˆë‹¤(page meta information ë“±). ê·¸ëŸ° ì• ë“¤ì€ ì‘ë‹µ ë°”ë””ì— ë„£ì–´ì£¼ëŠ” ê²ƒì´ ì¢‹ì€ë°, ìœ„ì™€ ê°™ì´ api ì„¤ê³„ë¥¼ í•˜ë©´ ì¶”ê°€ì ì¸ ì •ë³´ë¥¼ ë‚´ë ¤ì¤„ ìˆ˜ ì—†ê²Œëœë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì•„ë˜ì™€ ê°™ì´ í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤. 12345678&#123; "data": [ &#123; ... &#125;, ... ]&#125;]]></content>
      <categories>
        <category>rest</category>
      </categories>
      <tags>
        <tag>REST</tag>
        <tag>REST API example</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[java] lombok practice ì •ë¦¬]]></title>
    <url>%2Fjava%2Flombok-practice-%EC%A0%95%EB%A6%AC%2F</url>
    <content type="text"><![CDATA[ìƒì† í´ë˜ìŠ¤ì— builder ì ìš© https://reinhard.codes/2015/09/16/lomboks-builder-annotation-and-inheritance/ ë˜ëŠ” @SuperBuilderë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ intellij êµ¬ì¡°ì  ë¬¸ì œë¡œ ì—ëŸ¬ë¡œ í‘œì‹œëœë‹¤ëŠ” íŠ¹ì§•ì´ ìˆë‹¤â€¦ ì»´íŒŒì¼ì€ ì˜ ëœë‹¤. Builderì—ì„œ í•„ìˆ˜ê°’, ì„ íƒê°’ êµ¬ë¶„í•˜ê¸° ë¹Œë” íŒ¨í„´ì€ í•„ìˆ˜ê°’ê³¼ ì„ íƒê°’ì„ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ë„ ê°€ì§€ê³ ìˆëŠ”ë°, í´ë˜ìŠ¤ ìœ„ì— ê·¸ëƒ¥ @Builderë¥¼ ì„ ì–¸í•˜ë©´ ê·¸ ì¥ì ì„ ëˆ„ë¦¬ì§€ ëª»í•˜ê²Œ ëœë‹¤. ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í•´ì„œ í•„ìˆ˜ê°’, ì„ íƒê°’ì„ êµ¬ë¶„í•˜ê²Œë” í•  ìˆ˜ ìˆë‹¤. 1234567891011121314@Builder@AllArgsConstructorpublic class Member &#123; private String name; private Integer age; private String nickname; private String address; public static MemberBuilder builder(String name, Integer age)&#123; return new MemberBuilder() .name(name) .age(age); &#125;&#125; ì‚¬ìš©ì€ ì•„ë˜ì™€ ê°™ì´ í•  ìˆ˜ ìˆë‹¤. 123Member.builder("joont",28) .address("somewhere in seoul") .build();]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>lombok</tag>
        <tag>@Builder</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[jpa] ê³ ê¸‰ ë§¤í•‘]]></title>
    <url>%2Fjpa%2F%EA%B3%A0%EA%B8%89-%EB%A7%A4%ED%95%91%2F</url>
    <content type="text"><![CDATA[ìƒì† ê´€ê³„ ë§¤í•‘ RDBëŠ” ê°ì²´ì§€í–¥ ì–¸ì–´ì²˜ëŸ¼ ìƒì†ì´ë¼ëŠ” ê°œë…ì´ ì—†ë‹¤. ëŒ€ì‹  ìŠˆí¼íƒ€ì… ì„œë¸Œíƒ€ì… ê´€ê³„ë¼ëŠ” ëª¨ë¸ë§ ê¸°ë²•ì´ ìˆëŠ”ë°, ì´ê²Œ ìƒì† ê°œë…ê³¼ ê°€ì¥ ìœ ì‚¬í•˜ë‹¤. ìƒì† ê´€ê³„ ë§¤í•‘ ê¸°ë²•ì€ ë¬¼ë¦¬ ëª¨ë¸ë¡œ êµ¬í˜„ëœ ì–´ë– í•œ ìŠˆí¼íƒ€ì… ì„œë¸Œíƒ€ì… ê´€ê³„ë“ , ê°ì²´ ì§€í–¥ ìƒì† ê¸°ë²•ìœ¼ë¡œ ì¶”ìƒí™”í•´ì„œ ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤ëŠ” ê²ƒì´ í•µì‹¬ì´ë‹¤. DBë¥¼ ìŠˆí¼íƒ€ì… ì„œë¸Œíƒ€ì… ê´€ê³„ì˜ ì¡°ì¸ ì „ëµìœ¼ë¡œ ëª¨ë¸ë§í–ˆë“ , ë‹¨ì¼ í…Œì´ë¸” ì „ëµìœ¼ë¡œ ëª¨ë¸ë§í–ˆë“  ê°ì²´ ì…ì¥ì—ì„œëŠ” ë™ì¼í•œ ìƒì† êµ¬ì¡°ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤. ê°ê°ì˜ í…Œì´ë¸”ë¡œ ë³€í™˜(ì¡°ì¸ ì „ëµ) ì—”í‹°í‹° ê°ê°(ìì‹, ë¶€ëª¨ ì „ë¶€)ì„ í…Œì´ë¸”ë¡œ ë§Œë“¤ê³ , ìì‹ í…Œì´ë¸”ì´ ë¶€ëª¨ì˜ ê¸°ë³¸í‚¤ë¥¼ ë°›ì•„ì„œ ê¸°ë³¸í‚¤ + ì™¸ë˜í‚¤ë¡œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ë‹¤. í´ë˜ìŠ¤ ìƒì† êµ¬ì¡°ë‘ ê°€ê¹ê²Œ ìƒê¸°ê¸´ í–ˆë‹¤. ì¥ì  í…Œì´ë¸”ì´ ì •ê·œí™”ëœë‹¤ ì™¸ë˜í‚¤ ì°¸ì¡° ë¬´ê²°ì„± ì œì•½ ì¡°ê±´ ì‚¬ìš© ê°€ëŠ¥ ì €ì¥ ê³µê°„ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•¨(ë¶ˆí•„ìš”í•˜ê²Œ nullì„ ë„£ëŠ” ë¶€ë¶„ì´ ì—†ìœ¼ë¯€ë¡œ) ë‹¨ì  ì¡°íšŒí•  ë•Œ í•­ìƒ ì¡°ì¸í•´ì„œ ë“¤ê³ ì™€ì•¼í•¨ ë“±ë¡í•  ë•Œ INSERTë¥¼ í•­ìƒ 2ë²ˆ ì‹¤í–‰í•´ì•¼í•¨ ì´ˆë°˜ì— ëª¨ë“  ê²ƒì´ ì˜ˆì¸¡ëœ ì¼€ì´ìŠ¤ê°€ ì•„ë‹ˆë¼ë©´ ì´ ì „ëµì„ ì‚¬ìš©í•  ì¼ì´ ë³„ë¡œ ì—†ì„ ê²ƒ ê°™ë‹¤. ê°ì²´ëŠ” ë¦¬íŒ©í† ë§ì„ í†µí•´ì„œ ê³µí†µ ë¶€ë¶„ì„ ì¶”ì¶œí•´ë‚´ëŠ” ë“± ììœ ë¡­ê²Œ ë³€ê²½ë  ìˆ˜ ìˆì§€ë§Œ, ë°ì´í„°ë² ì´ìŠ¤ëŠ” ë§ˆì´ê·¸ë ˆì´ì…˜ì´ í•„ìš”í•˜ê¸° ë•Œë¬¸ì´ë‹¤. 1234567891011121314151617181920212223242526272829303132333435363738394041424344/** * ì—”í‹°í‹° ì •ì˜**/@Entity@Inheritance(strategy = InheritanceType.JOINED) // 1@DiscriminatorColumn(name = "DTYPE") // 2public abstract class Item&#123; @Id @GeneratedValue private Integer id; private String name; private int price;&#125;@Entity@DiscriminatorValue("A") // 3public class Album extends Item&#123; private String author;&#125;@Entity@DiscriminatorValue("M") // 3@PrimaryKeyJoinColumn(name = "MOVIE_ID")public class Movie extends Item&#123; private String director; private String actor;&#125;/** * ë“±ë¡, ì¡°íšŒ**/public void save()&#123; Album album = new Album(); // set... em.persist(album);&#125;public void select()&#123; Album album = em.find(Album.class, 1);&#125; ì‚¬ìš©í•˜ëŠ” ë¶€ë¶„ì€ ë³„ë¡œ ë‹¤ë¥¼ ê²ƒ ì—†ë‹¤. ìƒì† ë§¤í•‘ì„ ì‚¬ìš©í•  ê²ƒì´ê³ , ì¡°ì¸ ì „ëµì„ ì‚¬ìš©í•  ê²ƒì´ë¼ëŠ” ì˜ë¯¸ì´ë‹¤. ìì‹ í…Œì´ë¸”ì„ êµ¬ë¶„í•  ì»¬ëŸ¼ì´ë‹¤. ì‹¤ì œ í…Œì´ë¸”ì˜ ì»¬ëŸ¼ìœ¼ë¡œ ìƒì„±ëœë‹¤. ê¸°ë³¸ê°’ì´ DTYPE ì´ë‹¤. ì¡°ì¸ ì „ëµì—ì„œëŠ” ì´ ì»¬ëŸ¼ì´ ìƒëµ ê°€ëŠ¥í•˜ë‹¤.(hibernateëŠ” ê·¸ë ‡ê³ , ë‹¤ë¥¸ êµ¬í˜„ì²´ëŠ” ì•„ë‹ìˆ˜ë„ ìˆë‹¤) ìì‹ìœ¼ë¡œ ì§ì ‘ ì ‘ê·¼í• ë•ŒëŠ”(e.g. Album ì—”í‹°í‹°ë¡œ ì ‘ê·¼) ìƒëµí•´ë„ ë¬¸ì œê°€ ë˜ì§€ ì•ŠëŠ”ë°, ë¶€ëª¨ë¡œ ì§ì ‘ ì ‘ê·¼í• ë•ŒëŠ”(e.g. í†µê³„ë¥¼ ìœ„í•´ Item ì—”í‹°í‹°ë¡œ ì ‘ê·¼) TYPEì´ ì—†ìœ¼ë©´ í•´ë‹¹ ë°ì´í„°ê°€ ì–´ëŠ ë°ì´í„°ë¥¼ ë‚˜íƒ€ë‚´ëŠ”ì§€ ì•Œ ìˆ˜ ì—†ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ hibernateëŠ” ì•„ë˜ì™€ ê°™ì€ ì „ëµì„ ì„ íƒí•œë‹¤. 1234567891011121314151617select -- ~~~ case -- ìƒì†ëœ í…Œì´ë¸”ì˜ ê°œìˆ˜ë§Œí¼ when ë°˜ë³µ when itemlist0_1_.id is not null then 1 when itemlist0_2_.id is not null then 2 when itemlist0_.id is not null then 0 end as clazz_1_ from item itemlist0_ left outer join movie itemlist0_1_ on itemlist0_.id=itemlist0_1_.id left outer join album itemlist0_2_ on itemlist0_.id=itemlist0_2_.id -- ìƒì†ëœ í…Œì´ë¸”ì˜ ê°œìˆ˜ë§Œí¼ left join ë°˜ë³µ ê²°êµ­ ì´ëŸ°ì‹ìœ¼ë¡œ ì²˜ë¦¬ë˜ê¸° ë•Œë¬¸ì—, TYPEì„ ì§€ì •í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤. êµ¬ë¶„ ì»¬ëŸ¼ì— ì €ì¥ë  ê°’ì´ë‹¤. ìƒëµí•˜ë©´ ì—”í‹°í‹° ì´ë¦„ì„ ì‚¬ìš©í•œë‹¤. https://stackoverflow.com/questions/3639225/single-table-inheritance-strategy-using-enums-as-discriminator-value @DiscriminatorValueì— enumì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ë¼ëŠ”ë°, ì™œ ì´ë ‡ê²Œ ì“°ëŠ”ì§€ ëª¨ë¥´ê² ë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ìì‹ í…Œì´ë¸”ì€ ë¶€ëª¨ í…Œì´ë¸”ì˜ ID ì»¬ëŸ¼ëª…ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ëŠ”ë°, ì´ë¥¼ ë°”ê¿”ì£¼ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•œë‹¤. ì‹¤í–‰ê²°ê³¼ 123456789101112131415161718-- ì‚½ì…INSERT INTO ITEM(id, name, price, DTYPE) VALUES(1, 'ì•¨ë²”', 10000, 'A');INSERT INTO ALBUM(id, author) VALUES(1, 'ì†Œë…€ì‹œëŒ€');INSERT INTO ITEM(id, name, price, DTYPE) VALUES(1, 'ì¸ì…‰ì…˜', 10000, 'M');INSERT INTO MOVIE(id, director, actor) VALUES(1, 'í¬ë¦¬ìŠ¤í† í¼ ë†€ë€', 'ë””ì¹´í”„ë¦¬ì˜¤');-- ì¡°íšŒselect *from album album0_ inner join item album0_1_ on album0_.id=album0_1_.id where album0_.id = 1 -- and i.DTYPE = 'A' (hibernateì—ì„œëŠ” ì¡°ê±´ì ˆì— ë”°ë¡œ DTYPEì´ ì¶”ê°€ë˜ì§€ ì•Šì•˜ë‹¤) í†µí•© í…Œì´ë¸”ë¡œ ë³€í™˜(ë‹¨ì¼ í…Œì´ë¸” ì „ëµ) ì „ëµ ì´ë¦„ ê·¸ëŒ€ë¡œ í•˜ë‚˜ì˜ í…Œì´ë¸”ì— ë‹¤ ë•Œë ¤ë„£ëŠ” ì „ëµì´ë‹¤. ì €ì¥ëœ ì„œë¸Œ íƒ€ì…ë§ˆë‹¤ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì»¬ëŸ¼ë“¤ì—ëŠ” nullì´ ë“¤ì–´ê°€ê²Œ ëœë‹¤. ì¡°ì¸ ì „ëµê³¼ ë‹¬ë¦¬ êµ¬ë¶„ ì»¬ëŸ¼ì€ ìƒëµì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤. ìƒëµí•˜ë©´ ê¸°ë³¸ê°’ì´ ì‚¬ìš©ëœë‹¤. ì¥ì  ì¡°ì¸ì´ í•„ìš”ì—†ë‹¤ ë‹¨ì  ìì‹ ì—”í‹°í‹°ê°€ ë§¤í•‘í•œ ì»¬ëŸ¼ì€ ëª¨ë‘ nullì„ í—ˆìš©í•´ì•¼ í•œë‹¤.(ë°ì´í„° ê´€ì ì—ì„œ ì•„ì£¼ ì¢‹ì§€ ì•ŠìŒ) ë‹¨ì¼ í…Œì´ë¸”ì— ëª¨ë“  ê²ƒì„ ì €ì¥í•˜ë¯€ë¡œ í…Œì´ë¸”ì´ ì»¤ì§ˆ ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì˜¤íˆë ¤ ì„±ëŠ¥ì´ ëŠë ¤ì§ˆ ìˆ˜ ìˆë‹¤. 123456789101112131415161718192021@Entity@Inheritance(strategy = InheritanceType.SINGLE_TABLE) // 1@DiscriminatorColumn(name = "DTYPE")public abstract class Item&#123; @Id @GeneratedValue private Long id; private String name; private int price;&#125;@Entity@DiscriminatorValue("A")public class Album extends Item&#123;&#125;@Entity@DiscriminatorValue("M")public class Movie extends Item&#123;&#125; ë‹¨ì¼ í…Œì´ë¸” ì „ëµì„ ì‚¬ìš©í•  ê²ƒì´ë¼ëŠ” ì˜ë¯¸ì´ë‹¤. ì‹¤í–‰ ê²°ê³¼ 1234567891011-- ì‚½ì…INSERT INTO ITEM(id, name, price, artist, DTYPE) VALUES(1, 'ì•¨ë²”', 10000, 'ì†Œë…€ì‹œëŒ€', 'A');-- ì¡°íšŒselect *from item album0_ where album0_.id=1 and album0_.DTYPE='A' ì„œë¸Œíƒ€ì… í…Œì´ë¸”ë¡œ ë³€í™˜(êµ¬í˜„ í´ë˜ìŠ¤ë§ˆë‹¤ í…Œì´ë¸” ì „ëµ) ì‹¤ì œ ë°ì´í„°ë“¤ì„ ëª¨ë‘ ë³„ë„ì˜ í…Œì´ë¸”ì— ì €ì¥í•˜ëŠ” ë°©ë²•ì´ë‹¤. í…Œì´ë¸”ì´ ëª¨ë‘ ë³„ê°œì´ë‹¤ ë³´ë‹ˆ, ê³µí†µ ë¶€ë¶„ì— ëŒ€í•œ ë‚´ìš©ì´ ë³´ì¥ë˜ì§€ë„ ì•Šê³ , ê´€ë¦¬í•˜ê¸°ë„ í˜ë“¤ë‹¤. ì¿¼ë¦¬ë„ ì „ë¶€ UNIONìœ¼ë¡œ ë‚ ë¼ê°€ì„œ ì„±ëŠ¥ ë¡œìŠ¤ê°€ ê·¹ì‹¬í•˜ë‹¤. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ìì™€ ê°ì²´ì§€í–¥ ì„¤ê³„ì ë‘˜ ë‹¤ ì¶”ì²œí•˜ì§€ ì•ŠëŠ” ë°©ë²•ì´ë‹¤. ì¡°ì¸ì´ë‚˜ ë‹¨ì¼ í…Œì´ë¸” ì „ëµì„ ê³ ë ¤í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. 1234567891011121314151617181920@Entity@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS) // 1public abstract class Item&#123; @Id @GeneratedValue private Long id; private String name; private int price;&#125;@Entity@DiscriminatorValue("A")public class Album extends Item&#123;&#125;@Entity@DiscriminatorValue("M")public class Movie extends Item&#123;&#125; êµ¬í˜„ í´ë˜ìŠ¤ë§ˆë‹¤ í…Œì´ë¸” ì „ëµì„ ì‚¬ìš©í•˜ê² ë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤. ë§¤í•‘ ì •ë³´ë§Œ ìƒì†(@MappedSuperClass) ë¶€ëª¨ í´ë˜ìŠ¤ëŠ” í…Œì´ë¸”ê³¼ ë§¤í•‘í•˜ì§€ ì•Šê³  ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ ìƒì† ë°›ëŠ” ìì‹ í´ë˜ìŠ¤ì—ê²Œ ë§¤í•‘ ì •ë³´ë§Œ ì œê³µí•˜ê³  ì‹¶ì„ ê²½ìš° ì‚¬ìš©í•œë‹¤. ë‹¨ìˆœíˆ ë§¤í•‘ ì •ë³´ë§Œ ìƒì†í•  ëª©ì ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤. 1234567891011121314151617181920212223@MappedSuperClass // 1public abstract class BaseEntity&#123; @Id @GeneratedValue private Long id; @Temporal(TemporalType.TIMESTAMP) private Date createdDate; @Temporal(TemporalType.TIMESTAMP) private Date lastModifiedDate;&#125;@Entityclass Member extends BaseEntity&#123; // ...&#125;@Entity@AttributeOverride(name = "id", column = @Column(name = "TEAM_ID")) // 2class Team extends BaseEntity&#123; // ...&#125; BaseEntityëŠ” í…Œì´ë¸”ê³¼ ë§¤í•‘ë˜ì§€ ì•Šê³  ë‹¨ìˆœíˆ ìì‹ ì—”í‹°í‹°ì—ê²Œ ë§¤í•‘ ì •ë³´ë§Œ ì œê³µí•˜ëŠ” ìš©ë„ë¡œ ì‚¬ìš©ëœë‹¤. (ì°¸ê³ ë¡œ ORMì—ì„œ ë§í•˜ëŠ” ì§„ì •í•œ ìƒì† ë§¤í•‘ì€ ì²˜ìŒ ì„¤ëª…í–ˆë˜ ìƒì† ê´€ê³„ ë§¤í•‘ì„ ë§í•œë‹¤.) ë§¤í•‘ ì •ë³´ë§Œ ì œê³µí•  í´ë˜ìŠ¤ë¼ëŠ” ì˜ë¯¸ì´ë‹¤. ë§¤í•‘ì •ë³´ë¥¼ ì¬ì •ì˜ í•˜ê³  ì‹¶ì„ ê²½ìš° ì‚¬ìš©í•œë‹¤. ì—¬ëŸ¬ê°œë¥¼ ì§€ì •í•˜ê³  ì‹¶ì„ ê²½ìš° @AttributeOverridesë¥¼ ì‚¬ìš©í•œë‹¤. ìœ„ì— ëª…ì‹œí•˜ì§„ ì•Šì•˜ì§€ë§Œ ê´€ê³„ë¥¼ ì¬ì •ì˜ í•˜ê³  ì‹¶ì„ ê²½ìš° @AssociationOverrideë¥¼ ì‚¬ìš©í•œë‹¤. ê·¼ë° ì´ê²ƒë³´ë‹¤ ê·¸ëƒ¥ @Embeddableì„ ì“°ëŠ”ê²Œ ë‚˜ì„ ê²ƒ ê°™ë‹¤. @MappedSuperClassëŠ” ì¶”ìƒ í´ë˜ìŠ¤ë§Œì´ ê°€ëŠ¥í•œë°, ë‹¤ì¤‘ ìƒì†ì´ ì•ˆë˜ëŠ” ìë°”ì—ì„œ ë‹¨ìˆœíˆ ë§¤í•‘ ì •ë³´ë¥¼ ì¶”ê°€ ì •ì˜í•˜ê¸° ìœ„í•´ ìƒì†ì„ ì¨ë²„ë¦¬ëŠ” ê²ƒì€ ì¢‹ì§€ ì•Šì€ ê²ƒ ê°™ë‹¤â€¦ ì¼ë‹¨ ìœ„ì—ëŠ” createdDate, lastModifiedDateë¡œ ì‘ì„±í–ˆì§€ë§Œ, ì´ë ‡ê²Œ ì‚¬ìš©í•˜ëŠ”ê²Œ ì¢‹ì€ ì˜ˆì‹œëŠ” ì•„ë‹Œ ê²ƒ ê°™ë‹¤. ë³µí•©í‚¤ ë§¤í•‘ JPAì—ì„œ ì‹ë³„ìë¥¼ ë‘˜ ì´ìƒ ì‚¬ìš©í•˜ë ¤ë©´ ë³„ë„ì˜ ì‹ë³„ì í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ì•¼ í•œë‹¤. ê·¸ëƒ¥ ìë°” ê¸°ë³¸ íƒ€ì… 2ê°œ ì“°ê³  @Id ì„ ì–¸í•˜ë©´ ì•ˆëœë‹¤. JPAì—ì„œ ë³„ë„ì˜ ì‹ë³„ì í´ë˜ìŠ¤ë¥¼ ë§Œë“œëŠ” ë°©ë²•ì€ 2ê°€ì§€ê°€ ìˆë‹¤. ë‘ ë°©ì‹ì˜ ì¥ë‹¨ì ì´ ìˆìœ¼ë‹ˆ, ì›í•˜ëŠ” ë°©ì‹ì„ ì„ íƒí•´ì„œ ì¼ê´€ì„± ìˆê²Œ í•˜ë‚˜ë§Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. @IdClass @IdClassë¥¼ ì´ìš©í•œ ë³µí•©í‚¤ ì„ ì–¸ì€ ì•„ë˜ì™€ ê°™ë‹¤. 1234567891011121314151617181920@Entity@IdClass(ParendId.class)public class Parent&#123; @Id @Column(name = "PARENT_ID1") private String id1; @Id @Column(name = "PARENT_ID2") private String id2;&#125;@NoArgsConstructor@AllArgsConstructorpublic class ParentId implements Serializable&#123; private String id1; // Parent.id1 ì— ëŒ€í•œ ì •ë³´ ì œê³µ private String id2; // Parent.id2 ì— ëŒ€í•œ ì •ë³´ ì œê³µ // equals, hashCode&#125; @IdClassê°€ ì •ë³´ ì œê³µìš©ë„(ì‹ë³„ì ì •ë³´ëŠ” ì—¬ê¸°ë¥¼ ì°¸ê³ í•´ë¼) ì •ë„ë¡œ ì“°ì´ê³  ìˆë‹¤. @IdClassë¡œ ì‚¬ìš©ëœ ì‹ë³„ì í´ë˜ìŠ¤ëŠ” ì•„ë˜ ì¡°ê±´ì„ ë§Œì¡±í•´ì•¼ í•œë‹¤. ì‹ë³„ì í´ë˜ìŠ¤ì˜ ì†ì„±ëª…ê³¼ ì—”í‹°í‹°ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì‹ë³„ìì˜ ì†ì„±ëª…ì´ ê°™ì•„ì•¼ í•¨ Entityì— ë§¤í•‘ ì •ë³´ë¥¼ ì ê³ , IdClassì—ì„œ í•´ë‹¹ ë³€ìˆ˜ëª…ì— ë§ì¶° ì •ë³´ë¥¼ ì œê³µí•´ì£¼ê³  ìˆë‹¤. ì•„ë˜ ì‹ë³„/ë¹„ì‹ë³„ ê´€ê³„ì—ì„œ ë³µí•©í‚¤ ì‚¬ìš© ë§¤í•‘í•˜ëŠ” ë¶€ë¶„ì—ì„œ ë” ìƒì„¸íˆ ë³¼ ìˆ˜ ìˆë‹¤. Serializable ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„í•´ì•¼ í•¨ equals, hashCode êµ¬í˜„í•´ì•¼í•¨ ê¸°ë³¸ ìƒì„±ì í•„ìš” ì‹ë³„ì í´ë˜ìŠ¤ëŠ” public ì´ì–´ì•¼ í•¨ ì‹¤ì œ ì‚¬ìš©ì€ ì•„ë˜ì™€ ê°™ë‹¤. 1234567891011121314// savepublic void save()&#123; Parent parent = new Parent(); parent.setId1("id1"); parent.setId2("id2"); em.persist(parent);&#125;// selectpublic void select()&#125;&#123; ParentId parentId = new ParentId("id1", "id2"); Parent foundParent = em.find(Parent.class, parentId);&#125; @IdClassì˜ ì¥ì ì€ ì—”í‹°í‹°ì— flatí•œ attributeë¥¼ ì œê³µí•´ì„œ ê·¸ë‚˜ë§ˆ RDBì™€ ê°€ê¹ë‹¤ëŠ” ê²ƒì¸ë°, ì €ì¥ë§Œ ê·¸ë ‡ì§€ ì¡°íšŒëŠ” ë˜ ê·¸ë ‡ì§€ë„ ì•Šë‹¤. (ì €ì¥ì˜ ê²½ìš° em.persistë¥¼ í˜¸ì¶œí•˜ë©´ JPAê°€ ë‚´ë¶€ì—ì„œ Parent.id1, Parent.id2 ê°’ì„ ì´ìš©í•´ì„œ ParentIdë¥¼ ìƒì„±í•˜ê³  ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ í‚¤ë¡œ ì‚¬ìš©í•œë‹¤.) @EmbededId @IdClassë³´ë‹¤ ì¢€ ë” ê°ì²´ì§€í–¥ì ì¸ ë°©ë²•ì´ë‹¤. 1234567891011121314151617@Entitypublic class Parent&#123; @EmbeddedId private ParentId id;&#125;@NoArgsConstructor@AllArgsConstructor@Embeddablepublic class ParentId implements Serializable&#123; @Column(name = "PARENT_ID1") private String id1; @Column(name = "PARENT_ID2") private String id2; // equals, hashCode&#125; (ì‚¬ìš©í•˜ëŠ” ìª½ì—ì„œ @EmbeddedIdë¡œ ì‚¬ìš©í•˜ë¯€ë¡œ @Idë¥¼ ì‚¬ìš©í•  í•„ìš”ì—†ê³ , ë³µí•©í‚¤ì´ë¯€ë¡œ ìë™ìƒì„±ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤) @IdClass ì²˜ëŸ¼ ì •ë³´ ì œê³µ ìš©ë„ë¡œ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì§ì ‘ ì—”í‹°í‹°ì—ì„œ ì‚¬ìš©í•´ë²„ë ¸ë‹¤. ë§¤í•‘ ì •ë³´ë„ ParentId í´ë˜ìŠ¤ì— ë“¤ì–´ê°ìœ¼ë¡œì¨ í‚¤ë¥¼ ëª…í™•íˆ í•˜ë‚˜ì˜ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬í•œ ëŠë‚Œì´ë‚œë‹¤. ì¢€ ë” ê°ì²´ì§€í–¥ì ì¸ ë°©ë²•ì´ë‹¤.(id1ì— ì ‘ê·¼í•˜ê³ ì í•  ê²½ìš° entity.getId().getId1()ì²˜ëŸ¼, ì–¸ëœ»ë³´ê¸°ì— ì¢€ ì´ìƒí•œ ì ‘ê·¼ë²•ì´ ì‚¬ìš©ë˜ê¸´ í•˜ì§€ë§Œ) @EmbeddedIdë¥¼ ì‚¬ìš©í•œ ì‹ë³„ì í´ë˜ìŠ¤ëŠ” ì•„ë˜ ì¡°ê±´ì„ ë§Œì¡±í•´ì•¼ í•œë‹¤. @Embeddable ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì—¬ì£¼ì–´ì•¼ í•¨ Serializable ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„í•´ì•¼ í•¨ equals, hashCode êµ¬í˜„í•´ì•¼í•¨ ê¸°ë³¸ ìƒì„±ì í•„ìš” ì‹ë³„ì í´ë˜ìŠ¤ëŠ” public ì´ì–´ì•¼ í•¨ ì‹¤ì œ ì‚¬ìš©ì€ ì•„ë˜ì™€ ê°™ë‹¤. 1234567891011121314// savepublic void save()&#123; Parent parent = Parent.builder() .id(new ParentId("id1", "id2")) .build(); em.persist(parent);&#125;// selectpublic void select()&#125;&#123; ParentId parentId = new ParentId("id1", "id2"); Parent foundParent = em.find(Parent.class, parentId);&#125; ì˜ë¬¸ : @EmbeddedId ì‚¬ìš©ì‹œ JPQLì—ì„œ id.id1 ì˜ í˜•íƒœë¡œ ì ‘ê·¼í•´ì•¼í•˜ëŠ”ë°, delegate ë©”ì„œë“œë¥¼ í™œìš©í•  ìˆœ ì—†ë‚˜? ê²°ê³¼ : ì—”í‹°í‹°ì˜ ëŒ€ìƒì´ í•„ë“œì´ê¸° ë•Œë¬¸ì— delegate ë©”ì„œë“œë¡œëŠ” ë¶ˆê°€ëŠ¥í•˜ë‹¤ (ëŒ€ìƒì´ ì•„ë‹ˆê¸°ë•Œë¬¸) ë³µí•©í‚¤ì˜ equals, hashCode ìœ„ì˜ ë³µí•©í‚¤ ì¡°ê±´ì„ ë³´ë©´ equalsì™€ hashCodeë¥¼ í•„ìˆ˜ë¡œ êµ¬í˜„í•´ì¤˜ì•¼ í•œë‹¤ê³  í•˜ëŠ”ë°, ì´ëŠ” JPAëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì—”í‹°í‹°ë¥¼ ë³´ê´€í•  ë•Œ ì—”í‹°í‹°ì˜ ì‹ë³„ìë¥¼ í‚¤ë¡œ ì‚¬ìš©í•˜ê³ , ì‹ë³„ìë¥¼ êµ¬ë¶„í•˜ê¸° ìœ„í•´ equalsì™€ hashCodeë¥¼ ì‚¬ìš©í•´ì„œ ë™ë“±ì„± ë¹„êµë¥¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ì´ê²Œ ë‹¨ì¼ ì‹ë³„ìì¼ ê²½ìš°ì—ëŠ” ìë°”ì˜ ê¸°ë³¸ íƒ€ì…ì„ ì‚¬ìš©í•˜ë¯€ë¡œ ë³„ ë¬¸ì œì—†ì´ ë™ë“±ì„±ì´ ë³´ì¥ë˜ì§€ë§Œ, ë³µí•© ì‹ë³„ìì¼ ê²½ìš°ì—ëŠ” í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ equalsì™€ hashCodeë¥¼ êµ¬í˜„í•´ì£¼ì§€ ì•Šìœ¼ë©´ ë™ë“±ì„±ì„ ë³´ì¥í•  ìˆ˜ ì—†ë‹¤. 1234ParentId id1 = new ParentId("id1", "id2");ParentId id2 = new Parentid("id1", "id2");assertTrue(id1.equas(id2)); // fail ê°™ì€ id ê°’ì„ ê°€ì¡Œì§€ë§Œ, ë™ë“±í•˜ì§€ ì•Šì€ ê²ƒì´ ëœë‹¤. javaëŠ” equals, hashCodeë¥¼ ì˜¤ë²„ë¼ì´ë“œ í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ì ìœ¼ë¡œ Objectì˜ ê²ƒì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ Objectì˜ equalsëŠ” ë™ì¼ì„± ë¹„êµ(==)ë¥¼ í•˜ê¸° ë•Œë¬¸ì— ìœ„ì˜ ë‘ í‚¤ëŠ” ë™ë“±í•˜ì§€ ì•Šì€ ê²ƒì´ ëœë‹¤. JPAëŠ” ì—”í‹°í‹°ì˜ ì‹ë³„ìë¥¼ ê°€ì§€ê³  ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ê´€ë¦¬í•˜ê¸° ë•Œë¬¸ì— ì‹ë³„ìì˜ ë™ë“±ì„±ì´ ì§€ì¼œì§€ì§€ ì•Šìœ¼ë©´ ì˜ˆìƒê³¼ ë‹¤ë¥¸ ì—”í‹°í‹°ê°€ ì¡°íšŒë˜ê±°ë‚˜ ì—”í‹°í‹°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ëŠ” ë“± ì‹¬ê°í•œ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ equalsì™€ hashCodeëŠ” í•„ìˆ˜ë¡œ êµ¬í˜„í•´ì¤˜ì•¼ í•œë‹¤. ì‹ë³„/ë¹„ì‹ë³„ ê´€ê³„ì—ì„œ ë³µí•©í‚¤ ì‚¬ìš© ì‹ë³„ ê´€ê³„ì™€ ë¹„ì‹ë³„ ê´€ê³„ ì‹ë³„ê´€ê³„ ë¶€ëª¨ í…Œì´ë¸”ì˜ ê¸°ë³¸í‚¤ë¥¼ ë‚´ë ¤ë°›ì•„ì„œ ìì‹ í…Œì´ë¸”ì˜ ê¸°ë³¸í‚¤ + ì™¸ë˜í‚¤ë¡œ ì‚¬ìš©í•˜ëŠ” ê´€ê³„ì´ë‹¤. 1234567891011CREATE TABLE parent( parent_id integer, PRIMARY KEY(parent_id))CREATE TABLE child( parent_id integer, child_id integer, PRIMARY KEY(parent_id, child_id), FOREIGN KEY(parent_id) REFERENCES parent(parent_id)) ë¹„ì‹ë³„ ê´€ê³„ ë¶€ëª¨ í…Œì´ë¸”ì˜ ê¸°ë³¸í‚¤ë¥¼ ë‚´ë ¤ë°›ì•„ì„œ ìì‹ í…Œì´ë¸”ì˜ ì™¸ë˜í‚¤ë¡œë§Œ ì‚¬ìš©í•˜ëŠ” ê´€ê³„ì´ë‹¤. ìš”ì¦˜ì€ ë¹„ì‹ë³„ ê´€ê³„ë¥¼ ì£¼ë¡œ ì‚¬ìš©í•˜ê³ , í•„ìš”í•  ë•Œë§Œ ì‹ë³„ ê´€ê³„ë¥¼ ì‚¬ìš©í•˜ëŠ” ì¶”ì„¸ì´ë‹¤. 1234567891011CREATE TABLE parent( parent_id integer, PRIMARY KEY(parent_id))CREATE TABLE child( parent_id integer, child_id integer, PRIMARY KEY(child_id), FOREIGN KEY(parent_id) REFERENCES parent(parent_id)) í•„ìˆ˜ì  ë¹„ì‹ë³„ ê´€ê³„ : FK NOT NULL(INNER JOIN ì‚¬ìš©ë¨) ì„ íƒì  ë¹„ì‹ë³„ ê´€ê³„ : FK NULLALBE(OUTER JOIN ì‚¬ìš©ë¨) ì‹ë³„ ê´€ê³„ ë§¤í•‘ ë¶€ëª¨, ìì‹, ì†ìê¹Œì§€ ê³„ì† ê¸°ë³¸í‚¤ë¥¼ ì „ë‹¬í•˜ëŠ” ì‹ë³„ê´€ê³„ì´ë‹¤. ì‹ë³„ê´€ê³„ëŠ” ë¶€ëª¨ì˜ í‚¤ë¥¼ í¬í•¨í•´ ë³µí•©í‚¤ë¥¼ êµ¬ì„±í•´ì•¼ í•˜ë¯€ë¡œ @IdClassë‚˜ @EmbeddedIdë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤. 1234567891011121314151617181920CREATE TABLE parent( parent_id integer, PRIMARY KEY(parent_id))CREATE TABLE child( parent_id integer, child_id integer, PRIMARY KEY(parent_id, child_id), FOREIGN KEY(parent_id) REFERENCES parent(parent_id))CREATE TABLE grandchild( parent_id integer, child_id integer, grandchild_id integer, PRIMARY KEY(parent_id, child_id, grandchild_id), FOREIGN KEY(parent_id) REFERENCES parent(parent_id), FOREIGN KEY(child_id) REFERENCES child(child_id)) @IdClass 123456789101112131415161718192021222324252627282930313233343536373839404142434445@Entitypublic class Parent&#123; @Id private String parentId;&#125;@Entity@IdClass(ChildId.class)public class Child&#123; // ë§¤í•‘ ì •ë³´ ë‚˜ì—´ @Id @ManyToOne @JoinColumn(name = "parent_id") private Parent parent; @Id private String childId;&#125;@EqualsAndHashCodepublic class ChildId implements Serializable&#123; private String parent; // Child.parent ì— ëŒ€í•œ ì •ë³´ ì œê³µ private String childId; // Child.childId ì— ëŒ€í•œ ì •ë³´ ì œê³µ&#125;@Entity@IdClass(GrandChildId.class)public class GrandChild &#123; @Id @ManyToOne @JoinColumns(&#123; @JoinColumn(name = "parent_id"), @JoinColumn(name = "child_id") &#125;) private Child child; @Id private String grandChildId;&#125;@EqualsAndHashCodepublic class GrandChildId implements Serializable &#123; private ChildId child; // GrandChild.child ì— ëŒ€í•œ ì •ë³´ ì œê³µ private String grandChildId; // GrandChild.grandChildId ì— ëŒ€í•œ ì •ë³´ ì œê³µ&#125; @IdClassê°€ pkì— ë§¤í•‘ë˜ëŠ” ì• ë“¤ì—ê²Œ ì •ë³´ë¥¼ ë°”ë¡œ ì œê³µí•˜ê³  ìˆë‹¤. @EmbeddedId 1234567891011121314151617181920212223242526272829303132333435363738394041424344@Entitypublic class Parent &#123; @Id private String parentId;&#125;@Entitypublic class Child &#123; @EmbeddedId private ChildId childId; @MapsId("parentId") @ManyToOne @JoinColumn(name = "parent_id") private Parent parent;&#125;@EqualsAndHashCode@Embeddablepublic class ChildId implements Serializable &#123; private String parentId; // @MapsId("paretnId") ë¡œ ë§¤í•‘ private String childId;&#125;@Entitypublic class GrandChild &#123; @EmbeddedId private GrandChildId grandChildId; @MapsId("childId") @ManyToOne @JoinColumns(&#123; @JoinColumn(name = "parent_id"), @JoinColumn(name = "child_id") &#125;) private Child child;&#125;@EqualsAndHashCode@Embeddablepublic class GrandChildId implements Serializable &#123; private ChildId childId; // @MapsId("childId") ë¡œ ë§¤í•‘ private String grandChildId;&#125; idë“¤ì„ ë”°ë¡œ ë¬¶ê³  @MapsIdë¥¼ í†µí•´ ì—°ê´€ê´€ê³„ì™€ idë¥¼ ì—°ê²°í–ˆë‹¤. (@IdClassì—ì„œ idë“¤ì„ classë¡œ ëª¨ìœ¼ëŠ” ê³¼ì •ì´ ì¶”ê°€ëœ í˜•íƒœë¼ê³  ë´ë„ ë ë“¯í•˜ë‹¤.) @mapsidëŠ” @idë¡œ ì§€ì •í•œ ì»¬ëŸ¼ì— @OnetoOneì´ë‚˜ @ManyToOne ê´€ê³„ë¥¼ ë§¤í•‘ì‹œí‚¤ëŠ” ì—­í• ì„ í•œë‹¤. http://docs.jboss.org/hibernate/jpa/2.2/api/javax/persistence/MapsId.html ë§¤í•‘ì˜ ëŒ€ìƒì´ ë˜ëŠ” ì†ì„±ì€ @OnetoOneì´ë‚˜ @ManyToOneì˜ ê¸°ë³¸í‚¤ì™€ íƒ€ì…ì´ ê°™ì•„ì•¼í•œë‹¤. â€» ë²ˆì™¸ë¡œ ì•„ë˜ì™€ ê°™ì´ ì„¸íŒ… í• ìˆ˜ë„ ìˆëŠ”ë°, ì´ëŠ” ì˜ëª»ëœ ë°©ì‹ì´ë‹¤. 12345678910111213141516171819202122232425262728293031323334353637383940@Entitypublic class Parent &#123; @Id private String parentId;&#125;@Entitypublic class Child &#123; @EmbeddedId private ChildId childId;&#125;@EqualsAndHashCode@Embeddablepublic class ChildId implements Serializable &#123; @ManyToOne @JoinColumn(name = "parent_id") private Parent parent; private String childId;&#125;@Entitypublic class GrandChild &#123; @EmbeddedId private GrandChildId grandChildId;&#125;@EqualsAndHashCode@Embeddablepublic class GrandChildId implements Serializable &#123; @ManyToOne @JoinColumns(&#123; @JoinColumn(name = "parent_id"), @JoinColumn(name = "child_id") &#125;) private Child child; private String grandChildId;&#125; ì–¼í•ë³´ë©´ more ê°ì²´ì§€í–¥ìŠ¤ëŸ½ê¸´ í•˜ì§€ë§Œ, ì—°ê´€ê´€ê³„ë¥¼ í•­ìƒ idë¥¼ í†µí•´ ì ‘ê·¼í•˜ëŠ” ì´ìƒí•œ ë°©ì‹ì´ íƒ„ìƒí•˜ê²Œ ë˜ê³ , @Embeddable ì—ì„œ ì—°ê´€ê´€ê³„ê¹Œì§€ equals, hashCodeì˜ ëŒ€ìƒì´ ë˜ëŠ” ì´ìƒí•œ êµ¬ì¡°ê°€ íƒ„ìƒí•œë‹¤. idëŠ” idëŒ€ë¡œ ë†”ë‘¬ì•¼ í•œë‹¤. ì¼ëŒ€ì¼ ì‹ë³„ ê´€ê³„(feat.@MapsId) ì¼ëŒ€ì¼ ì‹ë³„ ê´€ê³„ëŠ” ìì‹ í…Œì´ë¸”ì˜ ê¸°ë³¸í‚¤ ê°’ìœ¼ë¡œ ë¶€ëª¨ í…Œì´ë¸”ì˜ ê¸°ë³¸í‚¤ ê°’ì„ ì‚¬ìš©í•˜ëŠ” ì¡°ê¸ˆ íŠ¹ë³„í•œ ê´€ê³„ì´ë‹¤. ì´ ê²½ìš° ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ ë  ì™¸ë˜í‚¤ ì¹¼ëŸ¼ì´ ì—†ìœ¼ë¯€ë¡œ @MapsIdë¥¼ ì‚¬ìš©í•˜ì—¬ ë§¤í•‘í•´ì¤˜ì•¼ í•œë‹¤. 123456789101112131415161718192021222324@Entitypublic class Board&#123; @Id private Long boardId; private String title; @OneToOne(mappedBy = "board") private BoardDetail boardDetail;&#125;@Entitypublic class BoardDetail&#123; @Id private Long boardId; @Lob private String content; @MapsId("boardId") @OneToOne @JoinColumn(name = "board_id") private Board board;&#125; board.getBoardDetail().getContent()ë¡œ ì ‘ê·¼í•´ì•¼í•´ì„œ ì‚¬ìš©ì´ ì¡°ê¸ˆ ìì—°ìŠ¤ëŸ½ì§€ ì•Šê²Œ ëŠê»´ì§€ì§€ë§Œ, @Delegate ê°™ì€ê²ƒìœ¼ë¡œ ì¶©ë¶„íˆ í•´ê²°í•  ìˆ˜ ìˆë‹¤. ë¹„ì‹ë³„ ê´€ê³„ ë§¤í•‘ ë¹„ì‹ë³„ ê´€ê³„ëŠ” ë³µí•©í‚¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì•„ì£¼ ì‹¬í”Œí•˜ë‹¤. 12345678910111213141516171819202122232425@Entitypublic class Parent &#123; @Id private String parentId;&#125;@Entitypublic class Child &#123; @Id private String childId; @ManyToOne @JoinColumn(name = "parent_id") private Parent parent;&#125;@Entitypublic class GrandChild &#123; @Id private String grandChildId; @ManyToOne @JoinColumn(name = "child_id") private Child child;&#125; ê·¸ë˜ì„œ ì‹ë³„ì´ëƒ ë¹„ì‹ë³„ì´ëƒ? ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ê´€ì ì—ì„œ ë³´ë©´, ì•„ë˜ì™€ ê°™ì€ ì´ìœ ë¡œ ë¹„ì‹ë³„ ê´€ê³„ë¥¼ ì„ í˜¸í•œë‹¤. ì‹ë³„ ê´€ê³„ëŠ” ë¶€ëª¨ í…Œì´ë¸”ì˜ ê¸°ë³¸í‚¤ë¥¼ ìì‹ í…Œì´ë¸”ë¡œ ì „íŒŒí•˜ë©´ì„œ ìì‹ í…Œì´ë¸”ì˜ ê¸°ë³¸í‚¤ ì»¬ëŸ¼ì´ ì ì  ëŠ˜ì–´ë‚˜ëŠ” êµ¬ì¡°ì´ë‹¤. depthê°€ ê¹Šì–´ì§ˆìˆ˜ë¡ ê¸°ë³¸í‚¤ ì¸ë±ìŠ¤ê°€ ë¶ˆí•„ìš”í•˜ê²Œ ì»¤ì§€ê³ , ì¡°ì¸í•  ë•Œ SQLì´ ë³µì¡í•´ì§„ë‹¤. ì‹ë³„ ê´€ê³„ëŠ” 2ê°œ ì´ìƒì˜ ì»¬ëŸ¼ì„ ë¬¶ì–´ì„œ ë³µí•© ê¸°ë³¸í‚¤ë¥¼ ë§Œë“¤ì–´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤. ë³µí•© ê¸°ë³¸í‚¤ëŠ” ì»¬ëŸ¼ì´ í•˜ë‚˜ì¸ ë‹¨ì¼ ê¸°ë³¸í‚¤ë³´ë‹¤ ì‘ì„±í•˜ëŠ”ë° ë§ì€ ë…¸ë ¥ì´ í•„ìš”í•˜ë‹¤. ì‹ë³„ ê´€ê³„ì˜ ê²½ìš° ê¸°ë³¸í‚¤ë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ìˆëŠ” ìì—°í‚¤ ì»¬ëŸ¼ì„ ì¡°í•©í•˜ëŠ” ê²½ìš°ê°€ ë§ê³ , ë¹„ì‹ë³„ ê´€ê³„ì˜ ê²½ìš° ê¸°ë³¸í‚¤ë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ì™€ ì „í˜€ ê´€ê³„ì—†ëŠ” ëŒ€ë¦¬í‚¤ë¥¼ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤. ë³€í•˜ì§€ ì•ŠëŠ” ìš”êµ¬ì‚¬í•­ì´ë€ ì„¸ìƒì— ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤. ìì—°í‚¤ ì»¬ëŸ¼ ì¡°í•©ì€ ë‚˜ì¤‘ì— ë³€ê²½ë  ê°€ëŠ¥ì„±ì´ ìˆë‹¤. ì´ëŸ° ìƒíƒœì—ì„œ ì‹ë³„ ê´€ê³„ë¡œ êµ¬ì„±í•  ê²½ìš° ë‚˜ì¤‘ì— ë³€ê²½í•˜ê¸° ë§¤ìš° í˜ë“¤ì–´ì§„ë‹¤. e.g. ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ ì–¸ê¸‰í–ˆë“¯ì´ ë¹„ì‹ë³„ ê´€ê³„ì˜ ê²½ìš° ëŒ€ë¦¬í‚¤ë¥¼ ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ”ë°, JPAëŠ” @GeneratedValue ì²˜ëŸ¼ ëŒ€ë¦¬í‚¤ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•œ í¸ë¦¬í•œ ë°©ë²•ì„ ì œê³µí•œë‹¤. ê·¸ë˜ì„œ ì •ë¦¬í•˜ë©´! ë ìˆ˜ìˆìœ¼ë©´ ë¹„ì‹ë³„ ê´€ê³„ë¥¼ ì‚¬ìš©í•˜ê³  ê¸°ë³¸í‚¤ëŠ” Long íƒ€ì…ì˜ ëŒ€ë¦¬í‚¤ë¥¼ ì‚¬ìš©íˆê³  í•„ìˆ˜ì  ë¹„ì‹ë³„ ê´€ê³„ë¥¼ ì‚¬ìš©í•˜ì(optional = false) ì¡°ì¸ í…Œì´ë¸” ë°ì´í„°ë² ì´ìŠ¤ì˜ í…Œì´ë¸”ì˜ ì—°ê´€ê´€ê³„ë¥¼ ì„¤ì •í•˜ëŠ” ë°©ë²•ì€ ì´ 2ê°€ì§€ì´ë‹¤. ì¡°ì¸ ì»¬ëŸ¼ ì¼ë°˜ì ì¸ ì™¸ë˜í‚¤ ì»¬ëŸ¼ì„ ì‚¬ìš©í•˜ì—¬ ì—°ê´€ê´€ê³„ë¥¼ ê´€ë¦¬í•˜ëŠ” ê²ƒ ì¡°ì¸ í…Œì´ë¸” ë³„ë„ì˜ í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ì—¬ ì—°ê´€ê´€ê³„ë¥¼ ê´€ë¦¬í•˜ëŠ” ê²ƒ ì¡°ì¸ í…Œì´ë¸”ì˜ ê²½ìš° í…Œì´ë¸”ì„ í•˜ë‚˜ ì¶”ê°€í•´ì•¼ ëœë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤.(ì¶”ê°€ ì¡°ì¸ í•„ìš”) ê·¸ëŸ¬ë¯€ë¡œ ê¸°ë³¸ì ìœ¼ë¡œ ì¡°ì¸ ì»¬ëŸ¼ì„ ì‚¬ìš©í•˜ê³ , í•„ìš”í•  ë•Œë§Œ ì¡°ì¸ í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ë„ë¡ í•´ì•¼í•œë‹¤. ì¡°ì¸ í…Œì´ë¸” == ì—°ê²° í…Œì´ë¸” == ë§í¬ í…Œì´ë¸” í•˜ë‚˜ì˜ í…Œì´ë¸”ì´ ì—¬ëŸ¬ í…Œì´ë¸”ê³¼ ê´€ê³„ë¥¼ ë§ºì„ ìˆ˜ ìˆëŠ” êµ¬ì¡°ë¼ë˜ê°€, ì›ë˜ ê´€ê³„ê°€ ì—†ì—ˆëŠ”ë° ê´€ê³„ê°€ ìƒê²¼ë‹¤ê±°ë‚˜(FKë¥¼ ì¼ê´„ ì¶”ê°€í•˜ê¸°ì—ëŠ” ë„ˆë¬´ ë¶€ë‹´ìŠ¤ëŸ½), ê´€ê³„ ë³€ê²½(update) ë•Œë¬¸ì— ë©”ì¸ í…Œì´ë¸”ì— ë½ì´ ê±¸ë¦¬ëŠ” ê±¸ ë°©ì§€í•˜ê¸° ìœ„í•´(ì—°ê²° í…Œì´ë¸”ë§Œ ì»¨íŠ¸ë¡¤ í•˜ë¯€ë¡œì¨ ì„±ëŠ¥í–¥ìƒ) ì‚¬ìš©í•˜ëŠ” ë“± ì—¬ëŸ¬ ìƒí™©ì—ì„œ ì‚¬ìš©ë  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤. ì¼ëŒ€ì¼ ì¡°ì¸í…Œì´ë¸” 1234567891011121314151617181920@Entitypublic class A &#123; @Id private String id; @OneToOne(optional = false) @JoinTable(name = "a_b", joinColumns = @JoinColumn(name = "a_id"), inverseJoinColumns = @JoinColumn(name = "b_id")) private B b;&#125;@Entitypublic class B &#123; @Id private String id; @OneToOne(mappedBy = "b") // optional private A a;&#125; ìƒì„±ë˜ëŠ” DDLì€ ì•„ë˜ì™€ ê°™ë‹¤. 1234567891011121314151617181920CREATE TABLE A( id varchar(255) not null, primary key (id))create table B ( id varchar(255) not null, primary key (id))create table a_b ( b_id varchar(255) not null, a_id varchar(255) not null, primary key (a_id), FOREIGN KEY(a_id) REFERENCES A(a_id), FOREIGN KEY(b_id) REFERENCES B(b_id))alter table a_b add constraint UK_pam4mvekk45ceoippm3ffvi2t unique (b_id) a_idê°€ primary key, b_idì— unique constraintsê°€ ê±¸ë¦¬ë©´ì„œ 1:1 ê´€ê³„ê°€ í˜•ì„±ëœë‹¤. ë‹¤ëŒ€ì¼ ì¡°ì¸í…Œì´ë¸” Bë¥¼ ë‹¤ë¡œ í•œë‹¤. 1234567891011121314151617181920@Entitypublic class B &#123; @Id private String id; @ManyToOne @JoinTable(name = "a_b", joinColumns = @JoinColumn(name = "a_id"), inverseJoinColumns = @JoinColumn(name = "b_id")) private A a;&#125;@Entitypublic class A &#123; @Id private String id; @OneToMany(mappedBy = "a") // optional private List&lt;B&gt; bList;&#125; 1234567891011121314151617CREATE TABLE A( id varchar(255) not null, primary key (id))create table B ( id varchar(255) not null, primary key (id))CREATE TABLE a_b( a_id varchar(255) not null, b_id varchar(255) not null, PRIMARY KEY(b_id), FOREIGN KEY(a_id) REFERENCES A(a_id), FOREIGN KEY(b_id) REFERENCES B(b_id)) ë‹¤ ìª½ì´ primary keyë¡œ ìƒì„±ë¨ìœ¼ë¡œì¨ ë‹¤ëŒ€ì¼ ê´€ê³„ í˜•ì„±ì´ ê°€ëŠ¥í•˜ë‹¤. ì¼ëŒ€ë‹¤ ì¡°ì¸í…Œì´ë¸” ì¼ëŒ€ë‹¤ ì¡°ì¸ì»¬ëŸ¼ì²˜ëŸ¼ ì¼ìª½ì—ì„œ ì—°ê´€ê´€ê³„ë¥¼ ì»¨íŠ¸ë¡¤ í•˜ê³  ì‹¶ì„ ê²½ìš° í˜•ì„±í•˜ëŠ” ë°©ë²•ì´ë‹¤. 1234567891011121314151617@Entitypublic class A &#123; @Id private String id; @OneToMany @JoinTable(name = "a_b", joinColumns = @JoinColumn(name = "a_id"), inverseJoinColumns = @JoinColumn(name = "b_id")) private List&lt;B&gt; bList;&#125;@Entitypublic class B &#123; @Id private String id;&#125; ì¼ëŒ€ë‹¤ ì¡°ì¸ì»¬ëŸ¼ë•Œì™€ ê°™ì´ ë‹¨ë°©í–¥ë§Œì„ ì§€ì›í•œë‹¤. ì•„ë˜ëŠ” ìƒì„±ë˜ëŠ” DDLì´ë‹¤. 12345678910111213141516171819CREATE TABLE A( id varchar(255) not null, primary key (id))create table B ( id varchar(255) not null, primary key (id))CREATE TABLE a_b( a_id varchar(255) not null, b_id varchar(255) not null, FOREIGN KEY(a_id) REFERENCES A(a_id), FOREIGN KEY(b_id) REFERENCES B(b_id))alter table a_b add constraint UK_pam4mvekk45ceoippm3ffvi2t unique (b_id) pk ëŒ€ì‹  uniqueë¡œ ìƒì„±ë˜ëŠ”ê²Œ ì¡°ê¸ˆ ë‹¤ë¥´ë‹¤. ë‹¤ëŒ€ë‹¤ ì¡°ì¸í…Œì´ë¸” ì•ì„œ ë‚˜ì™”ìœ¼ë¯€ë¡œ ì‘ì„±í•˜ì§€ ì•Šê² ë‹¤. parent_id, child_id ì— ê°ê° FKê°€ ìƒì„±ë˜ê³ , PKë¡œ ë¬¶ì´ì§€ëŠ” ì•ŠëŠ”ë‹¤. ì—”í‹°í‹° í•˜ë‚˜ì— ì—¬ëŸ¬ í…Œì´ë¸” ë§¤í•‘ ì•„ê¹Œ ìœ„ì˜ ì¼ëŒ€ì¼ ì‹ë³„ ê´€ê³„ì—ì„œ ë‚˜ì™”ì—ˆë˜ í˜•íƒœì´ë‹¤. boardì™€ board_detailì„ ë‚˜ëˆ ì„œ ì €ì¥í•˜ê³ , ê°™ì€ PKë¥¼ ì“°ëŠ” í˜•íƒœ ìì£¼ ì‚¬ìš©í•˜ëŠ” í˜•íƒœëŠ” ì•„ë‹ˆì§€ë§Œ ê°€ë” ë‚˜ì˜¤ê¸°ë„ í•œë‹¤. 123456789101112@Entity@SecondaryTable(name = "board_detail", // 1 pkJoinColumns = @PrimaryKeyJoinColumn(name = "board_detail_id")) // 2public class Board&#123; @Id private Long boardId; private String title; @Column(table = "board_detail") // 3 private String content;&#125; @SecondaryTableì„ ì‚¬ìš©í•´ board_detail í…Œì´ë¸”ì„ ì¶”ê°€ë¡œ ë§¤í•‘í–ˆë‹¤. ì¶”ê°€ë¡œ ë§¤í•‘í•  í…Œì´ë¸”ì˜ ì´ë¦„ì´ë‹¤. ì¶”ê°€ë¡œ ë§¤í•‘ëœ í…Œì´ë¸”ì˜ ê¸°ë³¸í‚¤ ì»¬ëŸ¼ëª…ì´ë‹¤. ì¶”ê°€ë¡œ ë§¤í•‘ëœ í…Œì´ë¸”ì— ì €ì¥ë  ì†ì„±ì´ë‹¤. 1234567891011CREATE TABLE board ( board_id BIGINT NOT NULL, title VARCHAR(255), PRIMARY KEY (board_id)) CREATE TABLE board_detail ( board_detail_id BIGINT NOT NULL, content VARCHAR(255), PRIMARY KEY (board_detail_id)) ìœ„ì˜ ì¼ëŒ€ì¼ ì‹ë³„ê´€ê³„ì™€ ë°˜ëŒ€ë¡œ, board.getContent()ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆì–´ ì‚¬ìš©ì€ ìì—°ìŠ¤ëŸ½ë‹¤. í•˜ì§€ë§Œ ì´ ë°©ì‹ì˜ ê²½ìš°, ë§¤í•‘ì´ ë¶€ìì—°ìŠ¤ëŸ½ë‹¤.(lazy loadingë„ ì•ˆëœë‹¤) ê²°ê³¼ì ìœ¼ë¡œ ì‚¬ìš©ì˜ ìì—°ìŠ¤ëŸ¬ì›€ ë³´ë‹¤ëŠ” ë§¤í•‘ì˜ ìì—°ìŠ¤ëŸ¬ì›€ì„ ì¶”êµ¬í•˜ëŠ” ê²ƒì´ ë§ëŠ”ê²ƒ ê°™ë‹¤. ê·¸ë‹ˆê¹Œâ€¦ ì´ê±° ì–´ë””ì„œ ì“¸ì¼ì€ ì—†ì„êº¼ ê°™ìŒâ€¦ã…‹]]></content>
      <categories>
        <category>jpa</category>
      </categories>
      <tags>
        <tag>ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë°</tag>
        <tag>@MappedSuperClass</tag>
        <tag>@IdClass</tag>
        <tag>@EmbeddedId</tag>
        <tag>@JoinTable</tag>
        <tag>@SecondaryTable</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[java] java mysql ì—°ë™ì‹œ ì˜¤ë¥˜]]></title>
    <url>%2Fjava%2Fjava-mysql-%EC%97%B0%EB%8F%99%EC%8B%9C-%EC%98%A4%EB%A5%98%2F</url>
    <content type="text"><![CDATA[The server time zone value â€˜KSTâ€™ is unrecognized or represents more than one time zone https://yenaworldblog.wordpress.com/2018/01/24/java-mysql-ì—°ë™ì‹œ-ë°œìƒí•˜ëŠ”-ì—ëŸ¬-ëª¨ìŒ/ public key retrieval is not allowed mysql 8.x ë²„ì „ ì´í›„ë¡œ ë°œìƒ jdbc urlì— allowPublicKeyRetrieval=true&amp;useSSL=false í•„ìš” 1jdbc:mysql://localhost:3306/dev-product?useUnicode=true&amp;characterEncoding=utf8&amp;allowPublicKeyRetrieval=true&amp;useSSL=false]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>The server time zone value &#39;KST&#39; is unrecognized or represents more than one time zone</tag>
        <tag>public key retrieval is not allowed</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[java] UTF-8, UTF-16ê³¼ java ë¬¸ìí˜•]]></title>
    <url>%2Fjava%2FUTF-8-UTF-16%EA%B3%BC-java-%EB%AC%B8%EC%9E%90%ED%98%95%2F</url>
    <content type="text"><![CDATA[UTF-8, UTF-16 ì´ë€? UTF ë’¤ì— ë¶™ëŠ” ìˆ«ìì˜ ì˜ë¯¸ëŠ” ìœ ë‹ˆì½”ë“œ ë¬¸ì í•˜ë‚˜ë¥¼ í‘œí˜„í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ìµœì†Œ bitë¥¼ ì˜ë¯¸í•œë‹¤ ì´ê²Œ ë¬´ìŠ¨ë§ì´ëƒ í•˜ë©´ì€, UTF-8ì˜ ê²½ìš° ìµœì†Œ 1byteë¡œ ìœ ë‹ˆì½”ë“œ ë¬¸ìë¥¼ í•˜ë‚˜ ë‹´ì„ ìˆ˜ ìˆê³ , UTF-16ì˜ ê²½ìš° ìµœì†Œ 2byteë¡œ ìœ ë‹ˆì½”ë“œ ë¬¸ìë¥¼ í•˜ë‚˜ ë‹´ì„ ìˆ˜ ìˆë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤ ì´ ë‘ ì¸ì½”ë”© ë°©ì‹ì„ ì´ìš©í•´ ìœ ë‹ˆì½”ë“œì—ì„œ ê¸°ë³¸ ë‹¤êµ­ì–´ í‰ë©´ì— í•´ë‹¹í•˜ëŠ” BMP ì˜ì—­ì˜ ë¬¸ìë¥¼ ë‹´ëŠ”ë‹¤ê³  ìƒê°í•´ë³´ì BMPì˜ ê²½ìš° ì¼ë°˜ì ì¸ ë‹¤êµ­ì–´ ë¬¸ì ëŒ€ë¶€ë¶„ì„ í¬í•¨í•˜ë©°, ë²”ìœ„ëŠ” 0000 ~ FFFF ê¹Œì§€ì´ë‹¤ https://namu.wiki/w/ìœ ë‹ˆì½”ë“œ UTF-16ì˜ ê²½ìš° ìì‹ ì´ ê°€ì§€ê³  ìˆëŠ” ìµœì†Œ ê³µê°„ì— BMP ì˜ì—­ì˜ ëª¨ë“  ë¬¸ìë¥¼ ë‹¤ ë‹´ì„ ìˆ˜ ìˆì§€ë§Œ, UTF-8ì˜ ê²½ìš° FF ì˜ ë²”ìœ„ê°€ ë„˜ì–´ê°€ëŠ” ë¬¸ìì˜ ê²½ìš° ìì‹ ì˜ ì˜ì—­ì„ ì¶”ê°€ í™•ì¥í•œ ë’¤ í•´ë‹¹ ë¬¸ìë¥¼ ë‹´ì•„ì•¼ í•œë‹¤ ì´ëŸ¬í•œ íŠ¹ì§•ìœ¼ë¡œ ë´¤ì„ë•ŒëŠ” ë¬´ì¡°ê±´ UTF-8ì´ ì¢‹ì•„ë³´ì¸ë‹¤ 00 ~ FF ë²”ìœ„ëŠ” 1byteë¥¼ ì‚¬ìš©í•´ì„œ ì €ì¥í• ê²ƒì´ê³ , 100 ~ FFFF ë²”ìœ„ëŠ” 2byteë¥¼ ì‚¬ìš©í•´ì„œ ì €ì¥í•˜ë©´ ë˜ê¸° ë–„ë¬¸ì´ë‹¤ ë°˜ë©´ì— UTF-16ì˜ ê²½ìš° ë¬´ì¡°ê±´ 2byteë‹ˆ ë‚­ë¹„ì¸ ê²ƒ ì²˜ëŸ¼ ë³´ì¸ë‹¤ í•˜ì§€ë§Œ UTF-8 ê°™ì€ ê°€ë³€ ë¹„íŠ¸ì˜ ê²½ìš°, ê³ ì •ëœ ê³µê°„ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ì–´ë””ê°€ ë¬¸ìì˜ ì‹œì‘ì¸ì§€, ì–´ë””ê°€ ë¬¸ìì˜ ëì¸ì§€ë¥¼ í‘œì‹œí•˜ëŠ” ì˜ì—­ì´ ì¶”ê°€ë¡œ í•„ìš”í•˜ê²Œ ëœë‹¤ ì´ì™€ ê°™ì€ ì´ìœ ë¡œ UTF-8ì€ 1byteì˜ ê²½ìš° 7bit, 2byteëŠ” 11bit, 3byteëŠ” 16bit ë§Œì„ ë¬¸ìì €ì¥ì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ ì¦‰, ë˜‘ê°™ì€ BMP ë¬¸ìë¥¼ ì €ì¥í•˜ë”ë¼ë„ UTF-8ì€ ìµœëŒ€ 3byteê°€ í•„ìš”í•˜ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤ ê·¸ëŸ¬ë¯€ë¡œ ì²˜ìŒ ì¸ì½”ë”© ë°©ì‹ì„ ì„ íƒí• ë•ŒëŠ” ì´ëŸ¬í•œ íŠ¹ì§•ì„ ì´ìš©í•´ ì¸ì½”ë”© ë°©ì‹ì„ ì„ íƒí•´ì•¼ í•œë‹¤ ì˜ˆë¥¼ ë“¤ì–´ ì˜ë¬¸ìê°€ ë§ì´ ì‚¬ìš©ë˜ëŠ” ì‹œìŠ¤í…œì—ì„œëŠ” UTF-8ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ê³ , ë‹¤êµ­ì–´ê°€ ë§ì´ ì‚¬ìš©ë˜ëŠ” ì‹œìŠ¤í…œì—ì„œëŠ” UTF-16ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ì„ ê²ƒì´ë‹¤ (í™•ì‹¤í•˜ì§„ ì•Šì§€ë§Œ UTF-16ì˜ ê²½ìš° ë¬¸ìì—´ ê²€ìƒ‰ì—ì„œ ë” ë¹ ë¥´ë‹¤ê³  í•œë‹¤) ì›¹ì˜ ê²½ìš° ëŒ€ë¶€ë¶„ ì•„ìŠ¤í‚¤ì½”ë“œë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ, UTF-8ì„ ì±„íƒí–ˆë‹¤ ê·¸ë ‡ë‹¤ë©´ javaëŠ”? javaëŠ” ì¸ì½”ë”© ë°©ì‹ìœ¼ë¡œ UTF-16ì„ ì±„íƒí–ˆë‹¤ (ì´ìœ ëŠ” ëª¨ë¥´ê² ì§€ë§Œ ì•„ë§ˆë„ ascii ë¬¸ìì˜ ë¹„ìœ¨ì´ ì›¹ë§Œí¼ ë†’ì§€ ì•Šì•„ì„œê°€ ì•„ë‹ëŸ°ì§€â€¦ ê·¸ë¦¬ê³  ë¬¸ìì—´ ì²˜ë¦¬ ì†ë„ë„ ì´ìœ ê°€ ë  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤) ê·¸ëŸ¬ë¯€ë¡œ javaì—ì„œ ë¬¸ìë¥¼ ì €ì¥í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” charí˜•ì˜ ê²½ìš°, 2byteì˜ ìš©ëŸ‰ì„ ì°¨ì§€í•œë‹¤ BMP ì˜ì—­ì„ ë„˜ì–´ê°€ëŠ” ë¬¸ì(emoji ê°™ì€)ëŠ” char í˜•ì— ì €ì¥í•  ìˆ˜ ì—†ë‹¤ String ì— char ë°°ì—´ë¡œ ì €ì¥í•˜ëŠ” ê²ƒ ê°™ë‹¤ ì´ ê³¼ì •ì—ì„œ 4byte ë¥¼ ì“°ê²Œ ë  ê²ƒ ê°™ë‹¤(char ê°€ 2byte ì´ë¯€ë¡œ) ì´ëª¨ì§€ê°€ 4 byte ê°€ í•„ìš”í•˜ë‹¤ëŠ” ê²ƒì€ utf8 ê¸°ì¤€ì¸ ê²ƒ ê°™ë‹¤ ì–´ì©Œí”¼ utf16 ì€ ìµœì†Œìš©ëŸ‰ì´ 2 byte ì´ë¯€ë¡œ ë˜‘ê°™ì´ 4byte ê°€ ì“°ì¼ ê²ƒ ê°™ê¸´ í•˜ì§€ë§Œâ€¦ ë­ ì´ ì´ìƒ ì–˜ê¸°í•  ê²ƒì€ ì—†ëŠ”ê²ƒ ê°™ê³ , charí˜•ê³¼ ê´€ë ¨ëœ ëª‡ê°€ì§€ íŠ¹ì§•ë“¤ì€ ì•„ë˜ì™€ ê°™ë‹¤ ë¬¸ìì˜ ê²½ìš° ê²°êµ­ ë‹¤ ìœ ë‹ˆì½”ë“œ ìˆ«ìê°’ì´ê¸° ë•Œë¬¸ì— ìˆ«ìë¡œ ì €ì¥ ê°€ëŠ¥í•˜ë‹¤ 12345678910char a1 = 'a';char a2 = '97';char a3 = '\u0061';/**ì¶œë ¥aaa**/ ë¬¸ìì™€ ìˆ«ìë¥¼ ì €ì¥í•˜ë©´ ìˆ«ìê°€ ë¬¸ìë¡œ í˜• ë³€í™˜ë˜ì–´ ì—°ì‚°ëœë‹¤ 7 + â€œ7â€ == â€œ77â€ Stringì˜ ê²½ìš° charì˜ ë°°ì—´ì´ë‹¤]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>char</tag>
        <tag>UTF-8</tag>
        <tag>UTF-16</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[jpa] ë‹¤ì–‘í•œ ì—°ê´€ê´€ê³„ ë§¤í•‘]]></title>
    <url>%2Fjpa%2F%EB%8B%A4%EC%96%91%ED%95%9C-%EC%97%B0%EA%B4%80%EA%B4%80%EA%B3%84-%EB%A7%A4%ED%95%91%2F</url>
    <content type="text"><![CDATA[RDBì—ëŠ” ì•ì„œ ì–¸ê¸‰í–ˆë˜ ê²ƒ ë³´ë‹¤ ë” ë§ì€ ê´€ê³„ê°€ ì¡´ì¬í•œë‹¤. 1:N(@OneToMany, @ManyToOne) 1:1(@OneToOne) N:M(@ManyToMany) ì´ë¥¼ ë‹¤ì¤‘ì„±ì´ë¼ê³  í•œë‹¤. ê°ê°ì˜ ë‹¤ì¤‘ì„±ì—ì„œ í˜•ì„±ë  ìˆ˜ ìˆëŠ” ì—°ê´€ê´€ê³„ë“¤ê³¼ ê·¸ íŠ¹ì§•ì„ ë‚˜ì—´í•´ë³´ê² ë‹¤. ëª¨ë“  ë‹¤ì¤‘ì„±ì€ ì™¼ìª½ì´ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ë¼ê³  ê°€ì •í•˜ê² ë‹¤(ë‹¤ëŒ€ì¼ -&gt; ë‹¤ê°€ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸) ë‹¤ëŒ€ì¼ N:1ì˜ ê´€ê³„ì´ê³ , Nì´ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì¸(ì™¸ë˜í‚¤ë¥¼ ê´€ë¦¬í•˜ëŠ”) í˜•íƒœì´ë‹¤. RDBì—ì„œ ì™¸ë˜í‚¤ëŠ” í•­ìƒ Nìª½ì— ì¡´ì¬í•œë‹¤ëŠ” íŠ¹ì„±ì— ê°€ì¥ ì˜ ë“¤ì–´ë§ëŠ”ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ëŒ€ë¶€ë¶„ ì´ í˜•íƒœë¥¼ ì‚¬ìš©í•œë‹¤. ë‹¤ëŒ€ì¼ ë‹¨ë°©í–¥(N:1) 12345678910111213141516171819@Entityclass Member&#123; @Id private String id; private String username; @ManyToOne @JoinColumn(name = "TEAM_ID") private Team team;&#125;@Entityclass Team&#123; @Id private String id; private String name;&#125; Member.team í•„ë“œë¡œ TEAM í…Œì´ë¸”ì˜ TEAM_ID ì™¸ë˜í‚¤ë¥¼ ê´€ë¦¬í•œë‹¤. MemberëŠ” Teamì„ ì°¸ì¡°í•  ìˆ˜ ìˆì§€ë§Œ Teamì€ Memberë¥¼ ì°¸ì¡°í•  ìˆ˜ ì—†ë‹¤. ì´ ê´€ê³„ëŠ” ì„ íƒì´ ì•„ë‹Œ í•„ìˆ˜ì´ë‹¤. ë‹¤ëŒ€ì¼ ì–‘ë°©í–¥(N:1, 1:N) 1234567891011121314151617181920212223242526@Entityclass Member&#123; @Id private String id; private String name; @ManyToOne @JoinColumn(name = "TEAM_ID") private Team team; // ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì„œë“œ&#125;@Entityclass Team&#123; @Id private String id; private String name; @OneToMany(mappedBy = "team") private List&lt;Member&gt; members = new ArrayList&lt;&gt;(); // ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì„œë“œ&#125; ì°¸ì¡°ê°€ ì–‘ìª½ ëª¨ë‘ ìˆìœ¼ë¯€ë¡œ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì„ ì •í•´ì•¼ í•œë‹¤. RDBì—ì„œ 1:N, N:1 ê´€ê³„ì—ì„œ ì™¸ë˜í‚¤ëŠ” í•­ìƒ Nìª½ì— ìˆìœ¼ë¯€ë¡œ Memberê°€ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ ëœë‹¤. ë³´ë‹¤ì‹œí”¼ mappedBy ì†ì„±ìœ¼ë¡œ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ ì•„ë‹˜ì„ ëª…ì‹œí•´ì£¼ê³  ìˆë‹¤. ì•„ì£¼ ì¼ë°˜ì ì¸ êµ¬ì¡°ì´ë‹¤. ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ëŠ” í•­ìƒ ì„œë¡œ ì°¸ì¡°í•´ì•¼ í•˜ë¯€ë¡œ, ê°ê° ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì„œë“œë¥¼ ì‘ì„±í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤. RDBì—ì„œëŠ” ì™¸ë˜í‚¤ í•˜ë‚˜ë§Œ ë„£ì–´ì¤˜ë„ ì–‘ë°©í–¥ ê´€ê³„ê°€ ì„±ë¦½í•˜ì§€ë§Œ, ê°ì²´ì—ì„œëŠ” ê·¸ë ‡ì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤. ì´ ê´€ê³„ëŠ” í¸ì˜ë¥¼ ìœ„í•œ ì„ íƒì´ë‹¤. ì¼ëŒ€ë‹¤ 1:Nì˜ ê´€ê³„ì´ê³ , 1ì´ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì¸ í˜•íƒœì´ë‹¤. ì™¸ë˜í‚¤ëŠ” ë‹¹ì—°íˆ Nìª½ í…Œì´ë¸”ì— ìˆì§€ë§Œ, ê´€ë¦¬ë¥¼ 1ìª½ì—ì„œ í•˜ë¯€ë¡œ ê´€ë¦¬ì— ë¶ˆí¸í•¨ì´ ìˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì˜ ì“°ì´ì§€ëŠ” ì•ŠëŠ” ë°©ë²•ì´ë‹¤. ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥(1:N) ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ ê´€ê³„ëŠ” JPA 2.0ë¶€í„° ì§€ì›í•œë‹¤. 12345678910111213141516171819@Entityclass Team&#123; @Id private String id; private String name; @OneToMany @JoinColumn(name = "TEAM_ID") private List&lt;Member&gt; members = new ArrayList&lt;&gt;();&#125;@Entityclass Member&#123; @Id private String id; private String username;&#125; ì™¸ë˜í‚¤ëŠ” Nìª½ í…Œì´ë¸”ì— ìˆìœ¼ë‚˜, Nìª½ ì—”í‹°í‹°ì— ì™¸ë˜í‚¤ë¥¼ ë§¤í•‘í•  ìˆ˜ ìˆëŠ” ì°¸ì¡° í•„ë“œê°€ ì—†ê³ , 1ìª½ì—ë§Œ ì°¸ì¡°í•„ë“œê°€ ìˆë‹¤. ë‹¨ë°©í–¥ ê´€ê³„ì—ì„œëŠ” ì°¸ì¡°ë¥¼ ê°€ì§„ìª½ì´ ì™¸ë˜í‚¤ë¥¼ ê´€ë¦¬í•œë‹¤. ì¦‰, ì´ ìƒíƒœì—ì„œëŠ” 1ìª½ì—ì„œ ì™¸ë˜í‚¤ë¥¼ ê´€ë¦¬í•˜ëŠ”, ì¡°ê¸ˆ íŠ¹ì´í•œ(ë‹¤ì†Œ ë¶ˆí¸í•œ) í˜•íƒœê°€ ë‚˜ì˜¤ê²Œ ëœë‹¤. ì™¸ë˜í‚¤ë¥¼ ê´€ë¦¬í•´ì•¼í•˜ë¯€ë¡œ ë³´ë‹¤ì‹œí”¼ @JoinColumnì„ ê¼­ ëª…ì‹œí•´ì¤˜ì•¼ í•œë‹¤. ì´ë¥¼ ëª…ì‹œí•´ì£¼ì§€ ì•Šìœ¼ë©´ JPAëŠ” @JoinTable ì „ëµì„ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©í•´ë²„ë¦°ë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ì–´ë–¤ì ì´ ë¶ˆí¸í• ê¹Œ? ê¸°ë³¸ì ì¸ RDBì˜ 1:N êµ¬ì¡°ì— ì—­í–‰í•˜ëŠ” ë°©ì‹ì´ë¯€ë¡œ ê´€ë¦¬ê°€ ë¶ˆí¸í•˜ë‹¤. N ì—”í‹°í‹°ê°€ ì§ì ‘ ì™¸ë˜í‚¤ë¥¼ ì»¨íŠ¸ë¡¤ í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ, ì™¸ë˜í‚¤ë¥¼ ë³€ê²½í•˜ë ¤ë©´ ë¬´ì¡°ê±´ Teamì„ í†µí•´ì•¼ í•œë‹¤. ì„±ëŠ¥ìƒ ë¬¸ì œë„ ë°œìƒí•œë‹¤. N ì €ì¥ ì‹œ ì—°ê´€ê´€ê³„ë¥¼ ì„¤ì •í•˜ê³  ì €ì¥í•˜ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤. insert í›„ updateë¡œ ì—°ê´€ê´€ê³„ë¥¼ ì„¤ì •í•´ì¤˜ì•¼ í•œë‹¤. ì¿¼ë¦¬ê°€ 2ë²ˆ í•„ìš”í•˜ë‹¤. ì•„ë˜ëŠ” 1:N ë‹¨ë°©í–¥ í˜•íƒœì—ì„œ ì—°ê´€ê´€ê³„ë¥¼ ì„¤ì •í•˜ëŠ” ì˜ˆì‹œì´ë‹¤. 12345678910public void save()&#123; Member member = new Member("member1"); // ì™¸ë˜í‚¤ëŠ” memberê°€ ê°€ì§€ì§€ë§Œ ì™¸ë˜í‚¤ë¥¼ ì„¤ì •í•  ìˆ˜ ì—†ëŠ” ìƒí™© em.persist(member); Team team = new Team("team1"); team.getMembers().add(member); // 1ì´ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ë¼ ì™¸ë˜í‚¤ ì»¨íŠ¸ë¡¤ ê°€ëŠ¥ em.persist(team);&#125; ì‹¤í–‰ë˜ëŠ” ì¿¼ë¦¬ëŠ” ì•„ë˜ì™€ ê°™ë‹¤. 1234insert into Member (MEMBER_ID, username) values (null, ?)insert into Team (TEAM_ID, name) values (null, ?)update Member set TEAM_ID=? where MEMBER_ID=? ë³´ë‹¤ì‹œí”¼ ë¶ˆí•„ìš”í•œ UPDATE ì¿¼ë¦¬ê°€ ë°œìƒí•œë‹¤. MemberëŠ” Teamì˜ ì¡´ì¬ë¥¼ ëª¨ë¥´ê¸° ë•Œë¬¸ì— ë°”ë¡œ ì™¸ë˜í‚¤ë¥¼ ì„¤ì •í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì´ë‹¤. ë³´ë©´ ì•Œê² ì§€ë§Œ ì‚¬ìš©ë  ì¼ì´ ë§ì´ ì—†ëŠ” í˜•íƒœì´ë‹¤. í•­ìƒ ë¶€ëª¨ë¥¼ í†µí•´ ì ‘ê·¼í•˜ê³ , ìì‹ì´ ì§ì ‘ ë¶€ëª¨ë¥¼ ì°¸ì¡°í•  ì¼ì´ ì—†ëŠ” êµ¬ì¡°ì˜ ê²½ìš° ê°€ë”ì”© ì‚¬ìš©í•˜ê¸°ë„ í•œë‹¤. (ì´ëŸ´ ê²½ìš°ë¼ë„ ìœ„ì²˜ëŸ¼ 1ìª½ì—ì„œ ì˜ì¡´ê´€ê³„ë¥¼ ê´€ë¦¬í•  ê²½ìš°ëŠ” ê±°ì˜ ì—†ë‹¤. ëŒ€ë¶€ë¶„ cascade ì „ëµìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤) í•˜ì§€ë§Œ ìœ„ì™€ ê°™ì§€ ì•Šê³  ì¼ë°˜ì ì¸ ìƒí™©ì´ë¼ë©´ ì´ êµ¬ì¡°ë³´ë‹¤ëŠ” ë‹¤ëŒ€ì¼ ì–‘ë°©í–¥ ë§¤í•‘ì„ ê¶Œì¥í•œë‹¤. ì¼ëŒ€ë‹¤ ì–‘ë°©í–¥ ì¼ëŒ€ë‹¤ ì–‘ë°©í–¥ ë§¤í•‘ì€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤. ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ë¥¼ í˜•ì„±í•˜ê²Œ ë˜ë©´ Nìª½ í…Œì´ë¸”ì— @ManyToOneì„ ëª…ì‹œí•˜ê²Œ ë˜ëŠ”ë°, í…Œì´ë¸” ìƒì—ì„œ ì™¸ë˜í‚¤ë¥¼ ê°€ì§„ ì• ê°€ ê°ì²´ìƒì—ì„œë„ ì°¸ì¡°ë¥¼ ì»¨íŠ¸ë¡¤ í• ìˆ˜ ìˆê²Œ ëœ ìƒí™©ì—ì„œ êµ³ì´ 1ìª½ì—ì„œ ì—°ê´€ê´€ê³„ë¥¼ ì»¨íŠ¸ë¡¤ í•˜ë„ë¡ í•  ì´ìœ ê°€ ì—†ë‹¤. (ê¸°ëŠ¥ì´ë€ê±´ ê²°êµ­ í•„ìš”ì— ì˜í•´ ë§Œë“¤ì–´ì§€ëŠ”ë°, ì´ ê¸°ëŠ¥ì€ êµ³ì´ ì§€ì›í•  ì´ìœ ê°€ ì „í˜€ ì—†ë‹¤) ê·¸ë˜ì„œ @ManyToOneëŠ” mappedBy ì†ì„± ìì²´ê°€ ì—†ë‹¤. ê·¼ë° ë­â€¦ ì™„ì „íˆ ë¶ˆê°€ëŠ¥í•œ ê²ƒì€ ì•„ë‹ˆê³ , ì„¤ì •í•  ìˆ˜ëŠ” ìˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ì¼ëŒ€ë‹¤ ë‹¨ë°©í–¥ìœ¼ë¡œ ì„¤ì •í•˜ê³ , Nìª½ì˜ ë‹¨ë°©í–¥ ë§¤í•‘ì„ ì½ê¸°ì „ìš©ìœ¼ë¡œ ì„¤ì •í•˜ë©´ ëœë‹¤. 1234567891011@Entitypublic class Member &#123; @Id private Long id; private String name; @ManyToOne @JoinColumn(name = "TEAM_ID", insertable = false, updatable = false) private Team team;&#125; ì´ë ‡ê²Œ ê¹Œì§€ ì‚¬ìš©í•  ì¼ì´ ìˆì„ë¼ë‚˜ ëª¨ë¥´ê² ë‹¤. ì¼ëŒ€ì¼(1:1) ì–‘ìª½ì´ ì„œë¡œ í•˜ë‚˜ì˜ ê´€ê³„ë§Œì„ ê°€ì§€ëŠ” í˜•íƒœì´ë‹¤. ì‚¬ëŒê³¼ ì‚¬ë¬¼í•¨ì˜ ê´€ê³„ì™€ ê°™ë‹¤ê³  ë³´ë©´ ëœë‹¤. 1:1 êµ¬ì¡°ì˜ íŠ¹ì§•ì€ ì£¼ í…Œì´ë¸”, ëŒ€ìƒ í…Œì´ë¸” ì¤‘ ì–´ëŠ ê³³ì´ë˜ ì™¸ë˜í‚¤ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤. ì¦‰ ì¼ëŒ€ì¼ ê´€ê³„ì—ì„œëŠ” ëˆ„ê°€ ì™¸ë˜í‚¤ë¥¼ ê°€ì§ˆì§€ ì„ íƒí•´ì•¼ í•œë‹¤. ì£¼ í…Œì´ë¸”ì— ì™¸ë˜í‚¤ ê°ì²´ì§€í–¥ ê°œë°œìë“¤ì´ ì„ í˜¸í•˜ëŠ” ë°©ë²•ì´ë‹¤. ì™¸ë˜í‚¤ë¥¼ ê°ì²´ ì°¸ì¡° ë¹„ìŠ·í•˜ê²Œ ì‚¬ìš© í•  ìˆ˜ ìˆê³ , ì£¼ í…Œì´ë¸”ë§Œ í™•ì¸í•´ë„ ëŒ€ìƒ í…Œì´ë¸”ê³¼ì˜ ì—°ê´€ê´€ê³„ë¥¼ í™•ì¸ ê°€ëŠ¥í•˜ë‹¤. ëŒ€ìƒ í…Œì´ë¸”ì— ì™¸ë˜í‚¤ ë°ì´í„°ë² ì´ìŠ¤ ê°œë°œìë“¤ì´ ì„ í˜¸í•˜ëŠ” ë°©ë²•ì´ë‹¤. ê´€ê³„ë¥¼ ì¼ëŒ€ì¼ì—ì„œ ì¼ëŒ€ë‹¤ë¡œ ë³€ê²½í•  ë–„ í…Œì´ë¸” êµ¬ì¡°ë¥¼ ê·¸ëŒ€ë¡œ ìœ ì§€í•  ìˆ˜ ìˆëŠ” ì¥ì ì´ ìˆë‹¤. ì´ì œ í•´ë‹¹ ë°©ì‹ì— ëŒ€í•´ ê°ì²´ë¥¼ ë§¤í•‘í• ê±´ë°, ê²°ë¡ ë¶€í„° ì–˜ê¸°í•˜ìë©´ JPAëŠ” ëŒ€ìƒ í…Œì´ë¸”ì— ì™¸ë˜í‚¤ ë°©ì‹ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì„ ë°”ê¿”ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ë°–ì— ì—†ë‹¤. ì™œ ì§€ì›í•˜ì§€ ì•Šì„ê¹Œ ìƒê°í•´ë´¤ëŠ”ë°â€¦ ëª¨í˜¸í•œ ë¶€ë¶„ì´ ë§ì€ ë“¯ í•˜ë‹¤. ì¼ë‹¨ ë¬¸ë²•ì ìœ¼ë¡œ, ì´ëŸ° ëª¨ì–‘ìœ¼ë¡œ ë§¤í•‘í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ì—†ë‹¤. ì¼ëŒ€ë‹¤ ê´€ê³„ì²˜ëŸ¼ ê°ì²´-ì»¬ë ‰ì…˜ í˜•íƒœë¡œ êµ¬ë¶„ì§€ì–´ì§€ì§€ë„ ì•Šê¸° ë•Œë¬¸ì´ë‹¤. ê²°êµ­ ë¬¸ë²•ì ìœ¼ë¡œ êµ¬ë¶„í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì€ mappedByë¡œ ëª…ì‹œí•´ì£¼ëŠ” ë°©ë²•ë°–ì— ì—†ëŠ”ë°, ì´ëŸ´ë ¤ë©´ ë¬´ì¡°ê±´ ì–‘ë°©í–¥ ë§¤í•‘ì„ ì‚¬ìš©í•´ì•¼ í•˜ê³ , ì´ë ‡ê²Œ í•´ì„œ ëŒ€ìƒí…Œì´ë¸”ì— ì™¸ë˜í‚¤ë¥¼ êµ¬í˜„í•œë‹¤ê³  í•´ë„, ë°˜ëŒ€í¸ ì—”í‹°í‹°ì—ì„œ ë³´ë©´ ì–´ì©Œí”¼ ë˜ ì£¼ í…Œì´ë¸”ì— ì™¸ë˜í‚¤ ì „ëµì´ ëœë‹¤. ë‚˜ëŠ” â€¦ ì´ëŸ¬í•œ ì´ìœ ë¡œ ì£¼ í…Œì´ë¸”ì— ì™¸ë˜í‚¤ ì „ëµì„ ë” ì„ í˜¸í•œë‹¤. ë„ˆë¬´ RDBì˜ í˜•íƒœì— ê°‡í˜€ìˆì„ í•„ìš”ëŠ” ì—†ëŠ” ê²ƒ ê°™ë‹¤. ì¼ëŒ€ì¼ ë‹¨ë°©í–¥(ì£¼í…Œì´ë¸”ì— ì™¸ë˜í‚¤) 123456789101112131415161718@Entitypublic class Member &#123; @Id private Long id; private String name; @OneToOne @JoinColumn(name = "LOCKER_ID") private Locker locker;&#125;@Entitypublic class Locker &#123; @Id private Long id; private String naame;&#125; ì–‘ë°©í–¥(ì£¼í…Œì´ë¸”ì— ì™¸ë˜í‚¤) 1234567891011121314151617181920@Entitypublic class Member &#123; @Id private Long id; private String username; @OneToOne @JoinColumn(name = "LOCKER_ID") private Locker locker;&#125;@Entitypublic class Locker &#123; @Id private Long id; private String naame; @OneToOne(mappedBy = "locker") private Member member;&#125; ë‚˜ëŠ” ê°ì²´ì§€í–¥ ê´€ì ì—ì„œ ë´¤ì„ë–„, ì£¼í…Œì´ë¸”ì— ì™¸ë˜í‚¤ë¥¼ ê°€ì§€ëŠ”ê²ƒì´ ì¢€ ë” ê°ì²´ì§€í–¥ìŠ¤ëŸ½ë‹¤ê³  ìƒê°í•˜ê³ , ì´ ë°©ì‹ì„ ì¢€ ë” ì„ í˜¸í•œë‹¤(!!) ì‚¬ì‹¤ìƒ ëŒ€ìƒ í…Œì´ë¸”ì— ì™¸ë˜í‚¤ë¥¼ ê°€ì§€ëŠ” ê²ƒì€ RDB ìŠ¤ëŸ¬ìš´ ë°©ë²•ì´ë¼ê³  ìƒê°í•œë‹¤. ì£¼ í…Œì´ë¸”ì— ì™¸ë˜í‚¤ë¥¼ ê°€ì§€ëŠ” ì‹ìœ¼ë¡œ ì„¤ê³„í•˜ë©´ ì£¼ í…Œì´ë¸”ì—ì„œ ê´€ê³„ì˜ ê°œìˆ˜ë§Œí¼ ì™¸ë˜í‚¤ë¥¼ ê´€ë¦¬í•´ì¤˜ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ê·¼ë°â€¦ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“œëŠ” ê°œë°œìê°€, íŠ¹íˆ ê°ì²´ì§€í–¥ì„ ì‚¬ìš©í•˜ëŠ” ê°œë°œìê°€ ì´ëŸ° ê´€ì ì— êµ³ì´ ì–½ë§¤ì—¬ìˆì„ í•„ìš”ê°€ ìˆì„ê¹Œ? ê°ì²´ì§€í–¥ì˜ ì¥ì ì„ ëŒì–´ì˜¬ë¦¬ê³ ì ORMì„ ì‚¬ìš©í•˜ëŠ” ì…ì¥ì—ì„œ, ê·¸ëŸ¬í•œ ì„¤ê³„ì— ì–½ë§¤ì´ê³ , êµ³ì´ ì—°ê´€ê´€ê³„ë¥¼ ë’¤ì§‘ì–´ ê°€ë©° ê°œë°œí•´ì•¼ í•  ì´ìœ ê°€ ìˆë‚˜ ìƒê°ì´ ë“ ë‹¤â€¦ ê²Œë‹¤ê°€, ë‚˜ì¤‘ì— ë‚˜ì˜¤ê³˜ì§€ë§Œ ORMì—ì„œëŠ” í”„ë¡ì‹œì˜ í•œê³„ ë•Œë¬¸ì— ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ ì•„ë‹Œìª½ì—ì„œì˜ lazy ë¡œë”©ì„ í—ˆìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. ì´ ë§ì¸ ì¦‰, ëŒ€ìƒ í…Œì´ë¸”ì— ì™¸ë˜í‚¤ë¥¼ ì‚¬ìš©í•˜ëŠ” í˜•íƒœë¡œ ì–‘ë°©í–¥ ê´€ê³„ë¥¼ í˜•ì„±í•˜ë©´, ì£¼ í…Œì´ë¸” ìª½ì—ì„œëŠ” ì¡°íšŒë  ë•Œ ë§ˆë‹¤ ìì‹ ê³¼ ì—°ê´€ëœ ëª¨ë“  ê´€ê³„ë¥¼ ë‹¤ ê°€ì ¸ì™€ì•¼ í•œë‹¤ëŠ” ì˜ë¯¸ê°€ ëœë‹¤. (ë¬¼ë¡  í•´ê²° ë°©ë²•ì€ ìˆë‹¤. byte instrumentâ€¦) ë‹¤ëŒ€ë‹¤(N:M) RDBëŠ” ë‹¤ëŒ€ë‹¤ ê´€ê³„ë¥¼ í‘œí˜„í•  ìˆ˜ ì—†ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì—°ê²° í…Œì´ë¸”ì´ë¼ëŠ” ê²ƒì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤. íšŒì›ê³¼ ìƒí’ˆì€ ë°”ë¡œ N:M ê´€ê³„ë¥¼ ë§ºì„ ìˆ˜ ì—†ìœ¼ë‹ˆ ì¤‘ê°„ì— ì£¼ë¬¸ ê°™ì€ í…Œì´ë¸”ì„ ë„£ì–´ì¤˜ì•¼ N:M ê´€ê³„ë¥¼ í˜•ì„±í•  ìˆ˜ ìˆë‹¤. ë°˜ë©´ì— ê°ì²´ëŠ” ë‹¤ëŒ€ë‹¤ ê´€ê³„ë¥¼ í‘œí˜„í•  ìˆ˜ ìˆë‹¤. ì»¬ë ‰ì…˜ì„ ì‚¬ìš©í•´ì„œ ì„œë¡œ ì°¸ì¡°í•˜ê³  ìˆê¸°ë§Œ í•˜ë©´ëœë‹¤. ë‹¤ëŒ€ë‹¤ ê´€ê³„ëŠ” ì—°ê²° í…Œì´ë¸” ì—¬ë¶€ë¼ëŠ” íŒ¨ëŸ¬ë‹¤ì„ ì°¨ì´ê°€ ìˆê¸° ë•Œë¬¸ì—, ì´ë¥¼ í’€ì–´ì¤˜ì•¼ í•œë‹¤. ê·¸ëŸ¬ê¸°ì— ê¸°ì¡´ì˜ ë°©ì‹ì¸ ë‹¤ì¤‘ì„± í‘œí˜„ + ì™¸ë˜í‚¤ ì§€ì •ìœ¼ë¡œëŠ” ìœ„ì˜ íŒ¨ëŸ¬ë‹¤ì„ ì°¨ì´ë¥¼ í’€ ìˆ˜ ì—†ë‹¤. ê·¸ë˜ì„œ JPAëŠ” @JoinTableì´ë¼ëŠ” ì „ëµì„ ì‚¬ìš©í•´ ì´ë¥¼ ì§€ì›í•œë‹¤. ë‹¨ë°©í–¥ 1234567891011121314151617181920212223// ë‹¤ëŒ€ë‹¤ ë‹¨ë°©í–¥ íšŒì›@Entitypublic class Member &#123; @Id private String id; private String username; @ManyToMany @JoinTable( name = "MEMBER_PRODUCT", joinColumns = @JoinColumn(name = "MEMBER_ID"), inverseJoinColumns = @JoinColumn(name = "PRODUCT_ID")) private List&lt;Product&gt; products = new ArrayList&lt;&gt;();&#125;@Entitypublic class Product &#123; @Id private String id; private String name;&#125; ë‹¤ëŒ€ë‹¤ ê´€ê³„ì´ë¯€ë¡œ @ManyToManyë¥¼ ì‚¬ìš©í•˜ì˜€ê³ , ìœ„ì—ì„œ ì–¸ê¸‰í•œ @JoinTableì´ ë“±ì¥í•˜ì˜€ë‹¤. @ManyToManyëŠ” ë³„ë‹¤ë¥¸ê±° ì—†ê³ (ì§„ì§œ ê·¸ëŸ°ê±´ ì•„ë‹ˆì§€ë§Œ), @JoinTableì˜ ì†ì„± ëŒ€í•´ ì•Œì•„ë³´ì. name : ì—°ê²° í…Œì´ë¸”ì„ ì§€ì •í•œë‹¤ joinColumns : í˜„ì¬ ë°©í–¥ì—ì„œ ë§¤í•‘í•  ì¡°ì¸ ì»¬ëŸ¼ ì •ë³´ inverseJoinColumns : ë°˜ëŒ€ ë°©í–¥ì—ì„œ ë§¤í•‘í•  ì¡°ì¸ ì»¬ëŸ¼ ì •ë³´ ì´ ì •ë³´ë“¤ì„ ê¸°ë°˜ìœ¼ë¡œ ì—°ê²° í…Œì´ë¸”ì„ ìƒì„±í•œë‹¤. ì´ë¡œ ì¸í•´ ìš°ë¦¬ëŠ” ì—°ê²° í…Œì´ë¸”ì„ ì „í˜€ ì‹ ê²½ì“°ì§€ ì•Šì•„ë„ ëœë‹¤! ì•„ë˜ëŠ” ì €ì¥í•˜ëŠ” ì½”ë“œë‹¤. 12345678910111213public void save() &#123; Product product = new Product(); product.setId("productA"); product.setName("ìƒí’ˆA"); em.persist(productA); Member member = new Member(); member.setId("member1"); member.setUsername("íšŒì›1"); member.getProducts().add(ProductA); // ì—°ê´€ê´€ê³„ ì„¤ì • em.persist(member1);&#125; 123INSERT INTO PRODUCT ...INSERT INTO MEMBER ...INSERT INTO MEMBER_PRODUCT ... ì—°ê²° í…Œì´ë¸”ì— ë°ì´í„°ê°€ ì €ì¥ëœë‹¤. ì•„ë˜ëŠ” íƒìƒ‰í•˜ëŠ” ì½”ë“œì´ë‹¤. 12345678public void find() &#123; Member member = em.find(Member.class, "member1"); List&lt;Product&gt; products = member.getProducts(); // ê°ì²´ ê·¸ë˜í”„ íƒìƒ‰ for(Product product : products) &#123; System.out.println("product.name = " + product.getName()); &#125;&#125; 1234SELECT * FROM MEMBER_PRODUCT MP INNER JOIN PRODUCT P ON MP.PRODUCT_ID=P.PRODUCT_IDWHERE MP.MEMBER_ID=? ì—°ê²° í…Œì´ë¸”ê³¼ ì¡°ì¸í•´ì„œ ë°ì´í„°ë¥¼ ë“¤ê³ ì˜¨ë‹¤. ì–‘ë°©í–¥ ë‹¤ëŒ€ë‹¤ì˜ ë°˜ëŒ€ ë˜í•œ ë‹¤ëŒ€ë‹¤ì´ë¯€ë¡œ, @ManyToManyë¡œ ì—°ê²°í•´ì£¼ë©´ ëœë‹¤. 12345678@Entitypublic class Product &#123; @Id private String id; @ManyToMany(mappedBy = "products") private List&lt;Member&gt; members;&#125; mappedByë¡œ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ë§Œ ì§€ì •í•´ì£¼ë©´ ëœë‹¤. ì‚¬ì‹¤ìƒ ì—°ê²° í…Œì´ë¸”ë¡œ ê´€ë¦¬ë˜ëŠ” ë‹¤ëŒ€ë‹¤ ê´€ê³„ì—ì„œëŠ” ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ ë³„ë¡œ ì˜ë¯¸ê°€ ì—†ë‹¤â€¦ ë¬¼ë¡  ìœ„ì˜ ìƒí™©ì—ì„œëŠ” Memberë§Œì´ ì—°ê´€ê´€ê³„ë¥¼ ì»¨íŠ¸ë¡¤í•  ìˆ˜ ìˆì§€ë§Œ, ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì„œë“œë§Œ ì¶”ê°€í•´ì¤˜ë„ ì–‘ìª½ì—ì„œ ì»¨íŠ¸ë¡¤ í•  ìˆ˜ ìˆê²Œ ëœë‹¤. 12345678910111213141516171819202122232425262728293031323334353637383940414243444546@Entitypublic class Member &#123; @Id private String id; private String username; @ManyToMany @JoinTable(name = "MEMBER_PRODUCT" ,joinColumns = @JoinColumn(name = "MEMBER_ID") ,inverseJoinColumns = @JoinColumn(name = "PRODUCT_ID")) private List&lt;Product&gt; products = new ArrayList&lt;&gt;(); // ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì„œë“œ public void addProduct(Product product)&#123; if(!this.products.contains(product))&#123; this.products.add(product); &#125; if(!product.getMembers().contains(this))&#123; product.getMembers().add(this); &#125; &#125;&#125;@Entitypublic class Product &#123; @Id private String id; private String name; @ManyToMany(mappedBy = "products") private List&lt;Member&gt; members; // ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì„œë“œ public void addMember(Member member)&#123; if(!this.members.contains(member))&#123; this.members.add(member); &#125; if(!member.getProducts().contains(this))&#123; member.getProducts().add(this); &#125; &#125;&#125; ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ ì•„ë‹Œìª½ì—ì„œ í¸ì˜ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ê²°êµ­ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ìª½ì—ë„ ì¶”ê°€ë˜ë¯€ë¡œ, ì—°ê²° í…Œì´ë¸”ì´ ì˜í–¥ì„ ë°›ê²Œ ëœë‹¤. ì¦‰, í¸ì˜ë©”ì„œë“œë¥¼ í†µí•˜ë©´ ì–‘ìª½ì—ì„œ ë‹¤ ì»¨íŠ¸ë¡¤ ê°€ëŠ¥í•˜ë‹¤. ë‹¤ëŒ€ë‹¤ì—ì„œëŠ” ì—°ê´€ê´€ê³„ í¸ì˜ë©”ì„œë“œë¥¼ ì‘ì„±í•˜ì§€ ì•ŠëŠ”ê²ƒì´ ì¢‹ì•„ë³´ì¸ë‹¤. side effectê°€ ë§ë‹¤. ë‹¤ëŒ€ë‹¤ì˜ í•œê³„ @ManyToManyë¥¼ ì‚¬ìš©í•˜ë©´ ì—°ê²° í…Œì´ë¸”ì„ ì•Œì•„ì„œ ê´€ë¦¬í•´ì£¼ë¯€ë¡œ ì—¬ëŸ¬ëª¨ë¡œ í¸ë¦¬í•˜ì§€ë§Œ, ì‹¤ì œ ì‹¤ë¬´ì—ì„œëŠ” ì´ ì •ë„ë¡œë§Œ ì‚¬ìš©í•˜ê¸°ì—ëŠ” í•œê³„ê°€ ìˆë‹¤. MEMBER_IDì™€ PRODUCT_IDë§Œ ë‹´ì§€ ì•Šê³ , ì¶”ê°€ì ì¸ ì •ë³´ë¥¼ ë‹´ëŠ” ê²½ìš°ê°€ ë§ê¸° ë–„ë¬¸ì´ë‹¤. (ë‚ ì§œ, ìˆ˜ëŸ‰ë“±ì„ ì¶”ê°€í•´ì„œ ORDER í…Œì´ë¸”ë¡œ ì‚¬ìš©í•œë‹¤ê±°ë‚˜â€¦) í•˜ì§€ë§Œ ì´ë ‡ê²Œ ì»¬ëŸ¼ì„ ì¶”ê°€í•˜ë©´ ë”ì´ìƒ @ManyToManyë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ê²Œëœë‹¤. ì¶”ê°€ ì»¬ëŸ¼ì„ ì •ì˜í•œ ì—°ê²° í…Œì´ë¸”ì— ë§¤í•‘ë˜ëŠ” ì—”í‹°í‹°ë¥¼ ë§Œë“¤ì–´ì•¼í•˜ê³ , í…Œì´ë¸”ê°„ì˜ ê´€ê³„ë„ ë‹¤ëŒ€ë‹¤ì—ì„œ ì¼ëŒ€ë‹¤, ë‹¤ëŒ€ì¼ì˜ ê´€ê³„ë¡œ í’€ì–´ì•¼í•œë‹¤. 123456789101112131415161718192021222324252627282930313233343536373839@Entitypublic class Member &#123; @Id private String id; private String username; @OneToMany(mappedBy = "member") private List&lt;MemberProduct&gt; memberProducts = new ArrayList&lt;&gt;();&#125;@Entitypublic class Product &#123; @Id private String id; private String name; // ì—¬ê¸°ë„ í•„ìš”ì— ë”°ë¼ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤&#125;@Entity@IdClasspublic class MemberProduct&#123; @Id @ManyToOne @JoinColumn(name = "MEMBER_ID") private Member member; @Id @ManyToOne @JoinColumn(name = "PRODUCT_ID") private Product product; private Integer orderAmount; @Temporal(TemporalType.TIMESTAMP) private Date orderDate;&#125; (í˜„ì¬ @IdClassë¼ëŠ” ê²ƒì„ ì‚¬ìš©í•´ì„œ ë³µí•©í‚¤ë¥¼ ë§¤í•‘í•˜ì˜€ëŠ”ë°, ì´ëŠ” ë’·ë¶€ë¶„ì—ì„œ ë‹¤ë£¬ë‹¤.) ì¶”ê°€ì ì¸ ì»¬ëŸ¼ì„ ê°€ì§„ MemberProductë¥¼ ì •ì˜í•˜ì˜€ë‹¤. ì™¸ë˜í‚¤ë¥¼ ì§ì ‘ ê´€ë¦¬í•˜ë¯€ë¡œ ì´ ì—”í‹°í‹°ê°€ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ ëœë‹¤. @JoinColumnì„ ì„ ì–¸í–ˆìŒì„ ë³¼ ìˆ˜ ìˆë‹¤. Member ì—”í‹°í‹°ëŠ” ì™¸ë˜í‚¤ë¥¼ ê´€ë¦¬í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ mappedBy ì†ì„±ì„ ì¤˜ì„œ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ ì•„ë‹˜ì„ ëª…ì‹œí–ˆë‹¤. Product ì—”í‹°í‹°ì—ì„œ ì§ì ‘ MemberProductë¥¼ ì°¸ì¡°í•  ì¼ì´ ì—†ë‹¤ê³  íŒë‹¨í•´ì„œ ì—°ê´€ê´€ê³„ë¥¼ ì¶”ê°€í•˜ì§€ ì•Šì•˜ë‹¤. ì‹¤ë¬´(ì•„ë‹ˆ ê·¸ëƒ¥ ì¼ë°˜ì ìœ¼ë¡œ)ì—ì„œëŠ” ìœ„ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ë” ë§ì´ ì‚¬ìš©ëœë‹¤. ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì€ ì¼ë°˜ì ì¸ ë‹¤ëŒ€ì¼, ì¼ëŒ€ë‹¤ ê´€ê³„ì™€ ê°™ë‹¤.]]></content>
      <categories>
        <category>jpa</category>
      </categories>
      <tags>
        <tag>ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë°</tag>
        <tag>@JoinTable</tag>
        <tag>@OneToMany</tag>
        <tag>@ManyToOne</tag>
        <tag>@OneToOne</tag>
        <tag>@ManyToMany</tag>
        <tag>@JoinColumn</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[jpa] ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ì—ì„œ ì„œë¡œê°„ ì»¨íŠ¸ë¡¤ í• ìˆ˜ìˆëŠ” ë²”ìœ„]]></title>
    <url>%2Fjpa%2F%EC%96%91%EB%B0%A9%ED%96%A5-%EC%97%B0%EA%B4%80%EA%B4%80%EA%B3%84%EC%97%90%EC%84%9C-%EC%84%9C%EB%A1%9C%EA%B0%84-%EC%BB%A8%ED%8A%B8%EB%A1%A4-%ED%95%A0%EC%88%98%EC%9E%88%EB%8A%94-%EB%B2%94%EC%9C%84%2F</url>
    <content type="text"><![CDATA[ì „ì œ 12345678910111213141516171819202122232425262728293031@Entityclass Member&#123; @Id @GeneratedValue @Column("id") private Integer id; @Column("name") private String name; @Column("age") private String age; @ManyToOne(optional = false) @JoinColumn(name = "team_id") private Team team;&#125;@Entityclass Team&#123; @Id @GeneratedValue @Column("id") private Integer id; @Column("name") private String name; @OneToMany(mappedBy = "team") private List&lt;Member&gt; members;&#125; ê¸°ë³¸ê¸°ëŠ¥ Member ì™¸ë˜í‚¤ ì»¨íŠ¸ë¡¤ ê°€ëŠ¥ Team ì—…ë°ì´íŠ¸ ê°€ëŠ¥ Team ì™¸ë˜í‚¤ ì»¨íŠ¸ë¡¤ ë¶ˆê°€ëŠ¥ ìì‹ ì—ê²Œ ì†í•œ ëª¨ë“  Memberë“¤ update ê°€ëŠ¥ ì—°ê´€ê´€ê³„ í¸ì˜ë©”ì„œë“œë¥¼ ì¶”ê°€í•¨ìœ¼ë¡œì¨ Memberì—ì„œë„ ì™¸ë˜í‚¤ ì»¨íŠ¸ë¡¤ ê°€ëŠ¥ remove ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì„œë“œ + ì‚­ì œ ê¸°ëŠ¥ ì„ ì œê³µí•˜ëŠ” orphanRemovalì´ ìˆìŒ ì¼ë°˜ì ì¸ ì—°ê´€ê´€ê³„ í¸ì˜ë©”ì„œë“œëŠ” delete ê¹Œì§€ ìˆ˜í–‰í•˜ì§„ ì•Šê³ , FKë¥¼ null ì²˜ë¦¬í•¨]]></content>
      <categories>
        <category>jpa</category>
      </categories>
      <tags>
        <tag>orphanRemoval</tag>
        <tag>ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„</tag>
        <tag>ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì„œë“œ</tag>
        <tag>cascade</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[java] enum ì •ì˜ ë° í™œìš©ì˜ˆì œ]]></title>
    <url>%2Fjava%2Fenum-%EC%A0%95%EC%9D%98-%EB%B0%8F-%ED%99%9C%EC%9A%A9%EC%98%88%EC%A0%9C%2F</url>
    <content type="text"><![CDATA[enum ì •ì˜ http://www.nextree.co.kr/p11686/ ìƒìˆ˜ -&gt; interface ë‚´ ìƒìˆ˜ -&gt; í´ë˜ìŠ¤ -&gt; enum enum í™œìš©ì‚¬ë¡€ https://jojoldu.tistory.com/137]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>enum</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[db] íŒŒí‹°ì…”ë‹, ìƒ¤ë”©]]></title>
    <url>%2Fdb%2F%ED%8C%8C%ED%8B%B0%EC%85%94%EB%8B%9D-%EC%83%A4%EB%94%A9%2F</url>
    <content type="text"><![CDATA[íŒŒí‹°ì…”ë‹ : https://nesoy.github.io/articles/2018-02/Database-Partitioning ìƒ¤ë”© : https://nesoy.github.io/articles/2018-05/Database-Shard í…Œì´ë¸”ì„ ë‚˜ëˆ„ëŠ” ê³¼ì • ìì²´ë¥¼ íŒŒí‹°ì…”ë‹ì´ë¼ê³  í•œë‹¤ Vertical Partitioning ì •ê·œí™”ì™€ëŠ” ë‹¬ë¦¬ ì´ë¯¸ ì •ê·œí™”ëœ í…Œì´ë¸”ì„ ì„¸ë¡œë¡œ ìë¥¸ë‹¤ Horizontal Pratitioning ì´ë¥¼ ë‹¤ë¥¸ë§ë¡œ ìƒ¤ë”©ì´ë¼ê³  í•œë‹¤]]></content>
      <categories>
        <category>db</category>
      </categories>
      <tags>
        <tag>partitioning</tag>
        <tag>sharding</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[process concept]]></title>
    <url>%2Fos%2Fprocess-concept%2F</url>
    <content type="text"><![CDATA[ë³µì¡í•œ ì»´í“¨í„° ì‹œìŠ¤í…œì—ì„œ ê°€ì¥ ì¤‘ìš”í•œê²ƒ == abstraction, decompositon descomposition : ë³µì¡í•œ ë¬¸ì œë¥¼ ë‹¨ìˆœí•œ ì—¬ëŸ¬ê°œì˜ ë¬¸ì œë¡œ ë‚˜ëˆ„ëŠ” ë°©ë²•ë¡  process == program in execution(ìˆ˜í–‰ì¤‘ì¸ í”„ë¡œê·¸ë¨) OS == ì •ë¶€. ì‹œë¯¼ë“¤ì„ ê´€ë¦¬í•œë‹¤(ë²•ì„ ë§Œë“¤ì–´ ì‹œë¯¼ë“¤ì„ í†µì œí•˜ëŠ” ë“±) í”„ë¡œì„¸ìŠ¤ == ì‹œë¯¼, ìˆ˜í–‰ì˜ ì£¼ì²´, ìì›í• ë‹¹ì˜ ì£¼ì²´ í”„ë¡œì„¸ìŠ¤ëŠ” OSìœ„ì—ì„œ í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰ì‹œí‚¤ëŠ” ì£¼ì²´ OSì˜ ì…ì¥ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ë‹¨ìœ„ decompositionì˜ í•œ ìœ ë‹›ì´ í”„ë¡œì„¸ìŠ¤ì´ë‹¤. ê°ê°ì˜ ìª¼ê°œì§„ ì¡°ê°ë“¤ì„ í•˜ë‚˜í•˜ë‚˜ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤ë©´ í¸ë¦¬í•˜ë‹¤. decomposition ìœ ë‹›ë“¤ì´ ê¶ê·¹ì ìœ¼ë¡œ ìˆ˜í–‰ì˜ ë‹¨ìœ„ê¹Œì§€ ëœ ê²ƒ == í”„ë¡œì„¸ìŠ¤ Programê³¼ Processì˜ ì°¨ì´ì  Program ìŠ¤í† ë¦¬ì§€ë§Œ ì ìœ í•œë‹¤. ìˆ˜ë™ì ì¸ ì¡´ì¬ì´ë‹¤. Process CPU, memory, IO device ë“±ë“±ì„ ì ìœ í•œë‹¤. ëŠ¥ë™ì ì¸ ì¡´ì¬ì´ë‹¤. Process State í”„ë¡œê·¸ë¨ì´ ìˆ˜í–‰ë˜ëŠ”ë° í•„ìš”í•œ ì •ë³´, ìˆ˜í–‰ì˜ ê²°ê³¼ë¡œ ì˜í–¥ì„ ë°›ì„ ìˆ˜ ìˆëŠ” ì •ë³´ë“¤ Memory Context code segment : ì–´ì…ˆë¸”ë¦¬ì–´ data segment : í”„ë¡œê·¸ë¨ì˜ ì „ì—­ë³€ìˆ˜ë“¤ stack segment : í”„ë¡œê·¸ë¨ì˜ ì§€ì—­ë³€ìˆ˜, ë§¤ê°œë³€ìˆ˜ë“¤ heap segment : ë™ì í• ë‹¹ Hardware Context cpu register I/O register System Context OSê°€ ì—¬ëŸ¬ê°œì˜ processë“¤ì„ ê´€ë¦¬í•´ì•¼ í•˜ë‹¤ë³´ë‹ˆ ê° í”„ë¡œì„¸ìŠ¤ë“¤ì˜ ì •ë³´ë“¤ì„ ì €ì¥í•´ë‘”ë‹¤. process table open file table page table Executon Stream í”„ë¡œì„¸ìŠ¤ê°€ ìˆ˜í–‰í•œ ëª¨ë“  ëª…ë ¹ì–´ë“¤ì˜ ìˆœì„œ(sequence) Multi programming, Multi Processing Multi Programming ë©”ëª¨ë¦¬ì˜ ì…ì¥ì´ë‹¤. ë©”ì¸ ë©”ëª¨ë¦¬ì— ì•¡í‹°ë¸Œí•œ í”„ë¡œì„¸ìŠ¤ê°€ ì—¬ëŸ¬ê°œ ì˜¬ë¼ì™€ìˆëŠ” ìƒíƒœë¥¼ ë§í•œë‹¤. ì˜›ë‚ ì—ëŠ” ë©”ëª¨ë¦¬ì˜ ìš©ëŸ‰ì´ ì‘ì•˜ê¸°ë•Œë¬¸ì— ë©”ì¸ ë©”ëª¨ë¦¬ì— í˜„ì¬ ì‹¤í–‰ë˜ëŠ” í”„ë¡œì„¸ìŠ¤ë§Œ ì˜¬ë¼ê°€ê³ , ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í”„ë¡œì„¸ìŠ¤ëŠ” ë‹¤ë¥¸ ì €ì¥ ì¥ì¹˜ë¡œ ë‚´ë³´ë‚´ëŠ” ì‹ìœ¼ë¡œ ë©€í‹° í”„ë¡œê·¸ë˜ë°ì„ êµ¬í˜„í•˜ì˜€ë‹¤. ì´ë¥¼ swappingì´ë¼ê³  í•œë‹¤. ìš”ì¦˜ì€ ë©”ëª¨ë¦¬ì˜ ìš©ëŸ‰ì´ í¬ë¯€ë¡œ swapping í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. Multi Processing Multi Programmingì„ CPUì˜ ê´€ì ì—ì„œ ë°”ë¼ë³¸ ê²ƒì´ë‹¤. CPUëŠ” í•˜ë‚˜ì˜ ëª…ë ¹ë§Œ ìˆ˜í–‰ê°€ëŠ¥í•˜ë¯€ë¡œ ê³„ì† ìŠ¤ìœ„ì¹­ í•˜ë©´ì„œ ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ë“¤ì„ ì‹¤í–‰í•œë‹¤. Sw system ê°œë°œ ì„¤ê³„ ìš”êµ¬ì‚¬í•­ ëª…ì„¸ì„œ -&gt; ì„¤ê³„(decomposition) -&gt; tasks êµ¬í˜„ tasks -&gt; êµ¬í˜„ -&gt; program ì´ programì´ OSì— ì˜í•´ processê°€ ëœë‹¤.]]></content>
      <categories>
        <category>os</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[[jpa] ì—°ê´€ê´€ê³„ ë§¤í•‘ ê¸°ì´ˆ]]></title>
    <url>%2Fjpa%2F%EC%97%B0%EA%B4%80%EA%B4%80%EA%B3%84-%EB%A7%A4%ED%95%91-%EA%B8%B0%EC%B4%88%2F</url>
    <content type="text"><![CDATA[íƒœì•„ë¶ˆ(ì—”í‹°í‹°)ì´ ì„œë¡œ ì—°ê´€ê´€ê³„ë¥¼ ê°€ì§ˆ ë•Œ ë“œëŸ¬ë‚˜ëŠ” JPAì™€ SQL íŒ¨ëŸ¬ë‹¤ì„ ì°¨ì´ê°€ ìˆë‹¤. ë°”ë¡œ ì¡°ì¸ê³¼ ì°¸ì¡°ì´ë‹¤. SQLì€ ì™¸ë˜í‚¤ë¼ëŠ” ê²ƒì„ í†µí•´ í…Œì´ë¸”ë¼ë¦¬ ê´€ê³„ë¥¼ ê°€ì§€ê³ , ì¡°ì¸ì´ë¼ëŠ” ê²ƒì„ í†µí•´ ë‘ í…Œì´ë¸”ì˜ ëª¨ë“  ë°ì´í„°ì— ì ‘ê·¼ ê°€ëŠ¥í•˜ë‹¤. SQLì˜ ê²½ìš° ì™¸ë˜í‚¤ë§Œ ìˆìœ¼ë©´ ì–´ëŠìª½ì—ì„œë“  ì¡°íšŒê°€ ê°€ëŠ¥í•˜ë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ì–‘ë°©í–¥ì´ë‹¤. í•˜ì§€ë§Œ ê°ì²´ì—ì„œëŠ” ì´ëŸ° í–‰ìœ„ê°€ ë¶ˆê°€ëŠ¥í•˜ë‹¤. ì—”í‹°í‹°ê°„ì˜ ê´€ê³„ëŠ” ì°¸ì¡°ë¥¼ í†µí•´ í˜•ì„±ëœë‹¤. í´ë˜ìŠ¤ì˜ í•„ë“œë¡œ ë‹¤ë¥¸ í´ë˜ìŠ¤ë¥¼ ê°€ì§€ê³  ìˆì–´ì•¼í•˜ë©°, í•œìª½ìœ¼ë¡œë§Œ ì ‘ê·¼, ì¦‰ ë‹¨ë°©í–¥ íƒìƒ‰ë§Œ ê°€ëŠ¥í•˜ë‹¤. ê°ì²´ ì—°ê´€ê´€ê³„ vs í…Œì´ë¸” ì—°ê´€ê´€ê³„ ê°ì²´ 1234567891011121314151617181920212223242526272829@Setter@Getterclass Mamber&#123; private String id; private String username; private Team team;&#125;@Setter@Getterclass Team&#123; private String id; private String name;&#125;public void save()&#123; // ì—°ê´€ê´€ê³„ ì„¸íŒ… Team team = new Team("team1", "ì–´ë²¤ì ¸ìŠ¤"); Member member1 = new Member("member1", "ë©¤ë²„1"); Member member2 = new Member("member2", "ë©¤ë²„2"); member1.setTeam(team); member2.setTeam(team); // ì—°ê´€ê´€ê³„ íƒìƒ‰ Team foundTeam = member1.getTeam(); assertThat(foundTeam.getName(), is("ì–´ë²¤ì ¸ìŠ¤"));&#125; ìœ„ì²˜ëŸ¼ ì°¸ì¡°ë¥¼ í†µí•´ ì—°ê´€ê´€ê³„ë¥¼ íƒìƒ‰í•˜ëŠ” ê²ƒì„ ê°ì²´ ê·¸ë˜í”„ íƒìƒ‰ ì´ë¼ê³  í•œë‹¤. í…Œì´ë¸” 1234SELECT T.*FROM MEMBER M INNER JOIN TEAM T ON M.TEAM_ID = T.IDWHERE M.MEMBER_ID = 'member1' ìœ„ì²˜ëŸ¼ ì™¸ë˜í‚¤ë¥¼ í†µí•´ ì—°ê´€ê´€ê³„ë¥¼ íƒìƒ‰í•˜ëŠ” ê²ƒì„ ì¡°ì¸ ì´ë¼ê³  í•œë‹¤. ìœ„ì™€ê°™ì€ íŒ¨ëŸ¬ë‹¤ì„ì„ í’€ê¸°ìœ„í•´ ë‚˜ì˜¨ê²ƒì´ ë°©í–¥ì´ë¼ëŠ” ê°œë…ì´ê³ , ì—¬ê¸°ì„œ ë‹¨ë°©í–¥, ì–‘ë°©í–¥ì˜ ê°œë…ì´ ë‚˜ì˜¨ë‹¤. ë‹¨ë°©í–¥ ì—°ê´€ê´€ê³„ ìš°ë¦¬ëŠ” ORMì„ ì‚¬ìš©ì¤‘ì´ë‹¤. ìœ„ì˜ ê°ì²´ì—°ê´€ ê´€ê³„ë¥¼ ê·¸ëŒ€ë¡œ í™œìš©í•˜ë˜, JPAì—ê²Œ ì•Œë ¤ì£¼ê¸°ë§Œ í•˜ë©´ ëœë‹¤. 12345678910@Setter@Entityclass Member&#123; private String id; private String username; @ManyToOne @JoinColumn(name = "TEAM_ID") private Team team;&#125; ë‹¨ë°©í–¥ì´ë¯€ë¡œ Team ìª½ì— ë”°ë¡œ í•´ì¤„ê²ƒì€ ì—†ë‹¤. @ManyToOne N:1ì˜ ê´€ê³„ë¼ëŠ” ê²ƒì„ ë‚˜íƒ€ë‚´ì£¼ëŠ” ì–´ë…¸í…Œì´ì…˜ì´ë‹¤. Teamp í•˜ë‚˜ì— Member ì—¬ëŸ¬ê°œê°€ ì†Œì†ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤. ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì˜µì…˜ì€ ì•„ë˜ì™€ ê°™ë‹¤. ì†ì„± ê¸°ëŠ¥ ê¸°ë³¸ê°’ optional FK nullable í•œì§€ì˜ ì—¬ë¶€ì´ë‹¤ true referencedColumnName ì™¸ë˜ í‚¤ê°€ ì°¸ì¡°í•˜ëŠ” ëŒ€ìƒ í…Œì´ë¸”ì˜ ì»¬ëŸ¼ëª… ì°¸ì¡°í•˜ëŠ” í…Œì´ë¸”ì˜ ê¸°ë³¸í‚¤ ì»¬ëŸ¼ëª… fetch lazyë¡œë”©, eager ë¡œë”©ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. @ManyToOne = FetchType.EAGER, @OneToMany = FetchType.LAZY optonal ì†ì„±ì— ë”°ë¥¸ ì¿¼ë¦¬ ë°©ì‹ ì´ ê°’ì´ trueì¼ ê²½ìš° JPAëŠ” Nìª½ í…Œì´ë¸”ì„ ì¡°íšŒí•´ì˜¨ í›„, fk ê°’ì— ë”°ë¼ ì¡°íšŒë¥¼ 1ìª½ í…Œì´ë¸”ì„ ì¶”ê°€ë¡œ ì¡°íšŒí•˜ê±°ë‚˜(nullì¼ ê²½ìš° ì¡°íšŒí•˜ì§€ ì•ŠìŒ) LEFT OUTER JOINì„ ì‚¬ìš©í•œë‹¤. ë¬´ì‘ì • INNER JOINì„ í•˜ë©´ fkê°€ nullì¼ ê²½ìš° ì¶œë ¥ë˜ì§€ ì•Šì„ ê²ƒì´ë¯€ë¡œ, ë‹¹ì—°í•œ ê²°ê³¼ë‹¤. ë°˜ëŒ€ë¡œ falseë¡œ ì„¤ì •í•˜ë©´ ë°”ë¡œ INNER JOINìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤. í…Œì´ë¸” ì„¤ê³„ë¥¼ FK NOT NULLë¡œ í•´ë„ ì´ ì†ì„±ê°’ì´ trueì¼ ê²½ìš° LEFT OUTER JOIN ë“±ìœ¼ë¡œ ì²˜ë¦¬í•˜ë¯€ë¡œ, FK NOT NULLì¼ ê²½ìš°ì—ëŠ” falseë¡œ ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤. @JoinColumn ê´€ê³„ì— ì‚¬ìš©ë˜ëŠ” ì™¸ë˜í‚¤ë¥¼ ì‘ì„±í•˜ëŠ” ë¶€ë¶„ì´ë‹¤. (ì´ ì™¸ë˜í‚¤(TEAM_ID)ì— í•´ë‹¹í•˜ëŠ” ì—”í‹°í‹°ëŠ” ì´ê²ƒ(Team)ì´ë‹¤ ë¼ê³  ë³´ë©´ í¸í•˜ë‹¤) ê²°ê³¼ì ìœ¼ë¡œ ê°ì²´ë¥¼ RDBì™€ ë§¤í•‘í•  ê²ƒì´ê¸° ë•Œë¬¸ì—, ì´ë ‡ê²Œ í•˜ë‚˜ë¼ë„ ë” ì•Œë ¤ì¤˜ì•¼ íƒìƒ‰ì˜ ì‹œê°„ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.(ë¦¬í”Œë ‰ì…˜ìœ¼ë¡œ ê°ì²´ì˜ ëª¨ë“  ê°’ì„ íƒìƒ‰í•˜ë©° ê´€ê³„ë¥¼ ì•Œì•„ë‚´ê¸°ì—ëŠ” ë„ˆë¬´ ë‚­ë¹„ì´ê¸° ë–„ë¬¸ì—) ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì˜µì…˜ì€ ì•„ë˜ì™€ ê°™ë‹¤. ì†ì„± ê¸°ëŠ¥ ê¸°ë³¸ê°’ name ë§¤í•‘í•  ì™¸ë˜í‚¤ ì´ë¦„ í•„ë“œëª… + _ + ì°¸ì¡°í•˜ëŠ” í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ ì»¬ëŸ¼ëª… referencedColumnName ì™¸ë˜í‚¤ê°€ ì°¸ì¡°í•˜ëŠ” ëŒ€ìƒ í…Œì´ë¸”ì˜ ì»¬ëŸ¼ëª… ì°¸ì¡°í•˜ëŠ” í…Œì´ë¸”ì˜ ê¸°ë³¸í‚¤ ì»¬ëŸ¼ëª… foreignKey(DDL) ì™¸ë˜í‚¤ ì œì•½ì¡°ê±´ ì„¤ì • ê°€ëŠ¥ ì—°ê´€ê´€ê³„ ì‚¬ìš© ì €ì¥ 12345678910111213public void save()&#123; Team team = new Team("team1", "ì–´ë²¤ì ¸ìŠ¤"); em.persist(team); Member member1 = new Member("member1", "ë©¤ë²„1"); member1.setTeam(team); Member member2 = new Member("member2", "ë©¤ë²„2"); member2.setTeam(team); em.persist(member1); em.persist(member2);&#125; ê°ì²´ê°„ì— ê´€ê³„ë¥¼ ë§ºê³  persistë¥¼ ë•‹! ë•Œë ¤ì£¼ë©´ 1234INSERT INTO TEAM VALUES("team1", "ì–´ë²¤ì ¸ìŠ¤");INSERT INTO MEMBER VALUES("member1", "ë©¤ë²„1", "team1");INSERT INTO MEMBER VALUES("member2", "ë©¤ë²„2", "team1"); ì²˜ëŸ¼ teamì˜ idê°’ì´ memberì˜ ì™¸ë˜í‚¤ ê°’ìœ¼ë¡œ ì„¸íŒ…ë˜ì–´ ì €ì¥ëœë‹¤. ì—”í‹°í‹° ì €ì¥ ì‹œ ì—°ê´€ëœ ëª¨ë“  ì—”í‹°í‹°ëŠ” ì˜ì† ìƒíƒœì—¬ì•¼ í•œë‹¤. ì¡´ì¬í•˜ëŠ” ì—”í‹°í‹°ë¼ëŠ” ê²ƒì´ ë³´ì¥ë˜ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ì´ëŸ¬í•œ íŠ¹ì§• ë•Œë¬¸ì— ë¹„íš¨ìœ¨ì ì´ë¼ê³  ìƒê°í•  ìˆ˜ ìˆë‹¤. ì™¸ë¶€ì—ì„œ ëª…í™•í•œ identityê°€ ë„˜ì–´ì™”ìŒì—ë„ ë¶ˆêµ¬í•˜ê³ , findë¡œ ì¡°íšŒí•´ì„œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ë„£ì–´ì¤˜ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ì‚¬ì‹¤ìƒ ì™¸ë¶€ì—ì„œ ëª…í™•í•œ identityê°€ ë„˜ì–´ì™”ìŒì—ë„ ë¶ˆêµ¬í•˜ê³ ëŠ” ìš°ë¦¬ì˜ ì…ì¥ì´ì§€, frameworkëŠ” ê·¸ê²ƒì„ ëª¨ë¥¸ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ê³ ì§‘ì„ ë¶€ë¦´ìˆ˜ëŠ” ì—†ëŠ” ë…¸ë¦‡â€¦ ì¡°ê¸ˆ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ í’€ì–´ë³¼ ìˆ˜ëŠ” ìˆë‹¤(em.getReference) ì¡°íšŒ 123456public void find()&#123; Member memver = em.find(Member.class, "member1"); Team team = member.getTeam(); assertThat(team.getName(), is("ì–´ë²¤ì ¸ìŠ¤");&#125; ê°ì²´ ê·¸ë˜í”„ íƒìƒ‰ìœ¼ë¡œ ë§¤ìš° ê°„ë‹¨í•˜ê²Œ ì°¾ì•„ê°ˆ ìˆ˜ ìˆë‹¤. (ë˜ëŠ” JPQLë¡œë„ ì¡°íšŒ ê°€ëŠ¥í•˜ë‹¤) 123456-- optional = falseSELECT M.* FROM MEMBER M INNER JOIN TEAM T ON M.TEAM_ID = T.IDWHERE M.ID = "member1"; ìˆ˜ì • 123456public void update()&#123; Team team = em.find(Team.class, "team2"); Member givenMember = em.find(Member.class, "member1"); givenMember.setTeam(team);&#125; ë³€ê²½ê°ì§€ê°€ ë™ì¼í•˜ê²Œ ë™ì‘í•˜ì—¬ updateë¬¸ì´ ë°œìƒí•˜ê²Œ ëœë‹¤. 12345UPDATE MEMBERSET TEAM_ID = 'team2', ...WHERE ID = 'member1' ì—°ê´€ê´€ê³„ ì œê±° 1234public void remove()&#123; Member givenMember = em.find(Member.class, "member1"); givenMember.setTeam(null);&#125; ìœ„ì²˜ëŸ¼ nullë¡œ ì„¸íŒ…í•´ ì—°ê´€ê´€ê³„ë¥¼ ì œê±°í•´ì¤„ ìˆ˜ë„ ìˆë‹¤. fkì¸ team_idê°€ nullë¡œ ì„¸íŒ…ëœë‹¤. 12345UPDATE MEMBERSET TEAM_ID = null, ...WHERE ID = 'member1' ì‚­ì œ 123456public void save()&#123; member1.setTeam(null); member2.setTeam(null); em.remove(team);&#125; ì—°ê´€ê´€ê³„ë¥¼ ì œê±°í•´ì£¼ì§€ ì•Šê³  ì‚­ì œí•  ê²½ìš° ì™¸ë˜í‚¤ ì œì•½ì¡°ê±´ì— ê±¸ë¦¬ë¯€ë¡œ, ê´€ê³„ ì œê±°ë¥¼ ì„ í–‰í•´ì¤˜ì•¼ í•œë‹¤. ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ í˜„ì¬ëŠ” Member -&gt; Teamì˜ ê´€ê³„ë§Œ í˜•ì„±ë˜ì–´ìˆëŠ”ë°(ê°ì²´ì§€í–¥ ê´€ì ì—ì„œ) Team -&gt; Memberì˜ ê´€ê³„ê¹Œì§€ ì¶”ê°€í•˜ë©´ ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ê°€ ì„±ë¦½ëœë‹¤. Member -&gt; Teamì´ N:1 ê´€ê³„ì˜€ìœ¼ë¯€ë¡œ, Team -&gt; MemberëŠ” 1:Nì˜ ê´€ê³„ë¥¼ ê°€ì§„ë‹¤. ê´€ê³„ëŠ” ë°˜ëŒ€í¸ ê´€ê³„ì— ë‹¬ë ¤ìˆë‹¤. ë°˜ëŒ€í¸ì´ 1:N ê´€ê³„ì¼ ê²½ìš° N:1, 1:1ì¼ ê²½ìš° 1:1 ê´€ê³„ë¥¼ ê°€ì§„ë‹¤. ìë°”ì—ì„œ 1:Nì˜ ê´€ê³„ë¥¼ í‘œí˜„í•˜ë ¤ë©´ ë°°ì—´ì„ ì‚¬ìš©í•´ì•¼í•˜ëŠ”ë°, JPAì—ì„œëŠ” ì—¬ê¸°ì„œ Collectionì„ ì‚¬ìš©í•œë‹¤.(List, Set, Map ë“±) 1234567891011121314151617@Setter@Entityclass Team&#123; private String id; private String name; @OneToMany(mappedBy = "team") private List&lt;Member&gt; memberList;&#125;public void find()&#123; Team givenTeam = em.find(Team.class, "team"); List&lt;Member&gt; givenMembers = givenTeam.getMembers(); // do something...&#125; mappedBy ì†ì„±ì€ ì–‘ë°©í–¥ ë§¤í•‘ì¼ ë–„ ì‚¬ìš©í•˜ëŠ”ë° ë°˜ëŒ€ìª½ ë§¤í•‘ì˜ í•„ë“œ ì´ë¦„ì„ ê°’ìœ¼ë¡œ ì£¼ë©´ ëœë‹¤. ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ SQLì˜ ê²½ìš° ê¸°ë³¸ì ìœ¼ë¡œ ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ë¥¼ ê°€ì§€ì§€ë§Œ, ìœ„ì—ì„œë„ ì–¸ê¸‰í–ˆì§€ë§Œ, SQLì˜ ê²½ìš° ì™¸ë˜í‚¤ í•˜ë‚˜ë¡œ ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ê°€ í˜•ì„±ëœë‹¤ ê°ì²´ì§€í–¥ì˜ ê²½ìš° ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ë¼ëŠ” ê²ƒì´ ì• ì´ˆì— ì—†ë‹¤. ë‹¨ë°©í–¥ ì—°ê´€ê´€ê³„ 2ê°œë¥¼ ë¡œì§ìœ¼ë¡œ ì˜ ë¬¶ì–´ì„œ ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ì²˜ëŸ¼ ë³´ì´ê²Œ í•˜ëŠ” ê²ƒ ì¼ ë¿ì´ë‹¤. ê·¼ë° ì´ë ‡ê²Œ ì–‘ë°©í–¥ìœ¼ë¡œ ì—°ê´€ê´€ê³„ë¥¼ í˜•ì„±í•´ì£¼ë©´ ê²°ê³¼ì ìœ¼ë¡œ ì—°ê´€ê´€ê³„ë¥¼ ì»¨íŠ¸ë¡¤ í•´ì¤„ ìˆ˜ ìˆëŠ” ê³³ì´ 2êµ°ë°ê°€ ìƒê¸°ê²Œ ëœë‹¤. í•˜ì§€ë§Œ SQLì˜ ê²½ìš° ì–¸ê¸‰í–ˆë‹¤ì‹œí”¼, ì—°ê´€ê´€ê³„ë¥¼ ì»¨íŠ¸ë¡¤ í•˜ëŠ” ê³³ì€ ë‹¨ í•œêµ°ë°(ì™¸ë˜í‚¤)ì´ë‹¤. ì¦‰ ì´ ê°ì²´ë“¤ì´ SQLë¡œ ë§¤í•‘ë˜ë ¤ë©´, ëˆ„ê°€ ì—°ê´€ê´€ê³„ë¥¼ ì»¨íŠ¸ë¡¤í•˜ëŠ”ì§€ ì•Œë ¤ì¤˜ì•¼ í•˜ê³ , ì»¨íŠ¸ë¡¤í•˜ëŠ” ì£¼ì²´ë¥¼ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ ì´ë¼ê³  í•˜ëŠ” ê²ƒì´ë‹¤. ë§ì´ ê±°ì°½í•˜ì§€ë§Œ, ê·¸ëƒ¥ ì™¸ë˜í‚¤ ê´€ë¦¬ìë¥¼ ë§í•˜ëŠ” ê²ƒì´ë‹¤. ì¼ë°˜ì ì¸ ìƒí™©ì—ì„œëŠ” ê·¸ëƒ¥ í…Œì´ë¸”ìƒì—ì„œ ì™¸ë˜í‚¤ë¥¼ ê°–ê³ ìˆëŠ” ì—”í‹°í‹°ê°€ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ ëœë‹¤. ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì€ ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ë¥¼ ê°€ì¡Œì„ë–„ë§Œ ì§€ì •í•´ì£¼ë©´ ëœë‹¤. ë‹¨ë°©í–¥ìœ¼ë¡œ ì§€ì •í–ˆì„ ê²½ìš°ì—ëŠ” ORM ì…ì¥ì—ì„œ í˜¼ë™ìŠ¤ëŸ¬ìš¸ ë¶€ë¶„ì´ ì—†ê¸° ë•Œë¬¸ì´ë‹¤. ì•„ê¹Œ ìœ„ì—ì„œ ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ë¥¼ ë§ºìœ¼ë©´ì„œ mappedBy ì†ì„±ì„ ì‚¬ìš©í–ˆëŠ”ë°, ì´ ì†ì„±ì´ ê³§ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì„ ì•Œë ¤ì£¼ëŠ” ì†ì„±ì´ë‹¤. mappedBy ì†ì„± ì§€ì •ì—ëŠ” ì•„ë˜ì™€ ê°™ì€ ë£°ì´ ì¡´ì¬í•˜ëŠ”ë°, ì´ë¥¼ ë³´ë©´ ìš©ë„ë¥¼ ì•Œ ìˆ˜ ìˆë‹¤. ì£¼ì¸ì€ mappedBy ì†ì„±ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ ì£¼ì¸ì´ ì•„ë‹ˆë©´ mappedBy ì†ì„±ì„ ì‚¬ìš©í•´ì„œ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì„ ì§€ì •í•´ì•¼ í•œë‹¤. ê²°êµ­ ìœ„ì—ì„œë„ mappedBy ì†ì„±ì„ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ë‚´ê°€ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ ì•„ë‹ˆë¼ê³  ì•Œë ¤ì£¼ëŠ” ê²ƒì´ë‹¤. ORM ì…ì¥ì—ì„œëŠ” @OneToMayì—ì„œ ì°¸ì¡°í•˜ëŠ” í´ë˜ìŠ¤ë¥¼ íƒìƒ‰í•œ ë’¤, mappedByì— ëª…ì‹œëœ í•„ë“œë¥¼ ì°¾ì•„ê°€ ì™¸ë˜í‚¤ ì •ë³´ë¥¼ ì–»ì„ ê²ƒì´ë‹¤(ì•„ë§ˆë„) 1:N ê´€ê³„ì—ì„œ ì™¸ë˜í‚¤ë¥¼ ê´€ë¦¬í•˜ëŠ” ìª½ì€ N ìª½ì´ê¸° ë•Œë¬¸ì´ë‹¤. (ê·¸ë˜ì„œ @ManyToOneì— mappedBy ì†ì„±ì´ ì—†ë‹¤) ORM ì…ì¥ì—ì„œë„ ì´ ê°œë…ì´ ì¤‘ìš”í•˜ê²Œ ì‘ìš©í•˜ëŠ”ê²Œ, ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ë§Œì´ ì—°ê´€ê´€ê³„ì™€ ë§¤í•‘ë˜ëŠ” ì™¸ë˜í‚¤ë¥¼ ê´€ë¦¬(ë“±ë¡, ìˆ˜ì •, ì‚­ì œ)í•  ìˆ˜ ìˆê³ , ì£¼ì¸ì´ ì•„ë‹Œ ìª½ì€ ì½ê¸°ë§Œ ê°€ëŠ¥í•˜ê²Œ ëœë‹¤. Teamì˜ @OneToManyì— ìˆëŠ” membersì˜ ì›ì†Œë“¤ì„ ë°±ë‚  ë”í•˜ê³  ë¹¼ê³  í•´ë´¤ì ì•„ë¬´ì¼ë„ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤(ã…‹ã…‹) 1234567891011public void owner()&#123; Team team = em.find(Team.class, "team1"); Member member1 = em.find(Member.class, "member1"); Member member2 = em.find(Member.class, "member1"); team.getMembers().add(member1); // ë¬´ì‹œë¨ team.getMembers().add(member2); // ë¬´ì‹œë¨ member.setTeam(team); // ì„¤ì •ë¨ &#125; ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ë§Œì´ ì—°ê´€ê´€ê³„(ì™¸ë˜í‚¤)ë¥¼ ì»¨íŠ¸ë¡¤ í•  ìˆ˜ ìˆë‹¤ëŠ”ê±¸ ëª…ì‹¬í•˜ì. ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì„œë“œ ì‚¬ì‹¤ìƒ ìœ„ì˜ í–‰ìœ„ëŠ” ê°ì²´ì§€í–¥ ê´€ì ì—ì„œ ë³´ë©´ ì¢€ ë¬¸ì œê°€ ìˆë‹¤. 1234567891011121314151617181920public void save&#123; Team team = new Team("team1", "ì–´ë²¤ì ¸ìŠ¤"); em.persist(team); Member member1 = new Member("member1", "ë©¤ë²„1"); Member member2 = new Member("member2", "ë©¤ë²„2"); member1.setTeam(team); member2.setTeam(team); em.persist(member1); em.persist(member2);&#125;public void find&#123; Team team = em.find(Team.class, "team1"); List&lt;Member&gt; members = team.getMembers(); assertThat(members.size(), is(2));&#125; Team ë‚´ì— ìˆëŠ” List ì— ì•„ë¬´ë„ ê°’ì„ ë„£ì–´ì¤€ì ì´ ì—†ëŠ”ë° find ë©”ì„œë“œê°€ ì •ìƒ ë™ì‘í•œë‹¤. ì´ëŠ” hibernateë¼ëŠ” ì• ê°€ ì¤‘ê°„ì— ìˆê¸° ë•Œë¬¸ì¸ë°, ê°ì²´ì§€í–¥ì„ ì¤‘ìš”ì‹œí•˜ëŠ” ORMì„ ì‚¬ìš©í•˜ë©´ì„œ ìœ„ì²˜ëŸ¼ë§Œ ë†”ë‘ê²Œ ë˜ë©´ ê²°êµ­ RDB ì™€ ë‹¤ë¥¼ê²Œ ì—†ë‹¤ê³  ìƒê°ëœë‹¤. (ë§Œì•½ ORM Frameworkê°€ ì¤‘ê°„ì— ì—†ì—ˆë‹¤ë©´ ì‹¬ê°í•œ ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œì¼°ì„ ê²ƒì´ë‹¤.) ê·¸ëŸ¬ë¯€ë¡œ ìˆœìˆ˜í•œ ê°ì²´ê¹Œì§€ ê³ ë ¤í•˜ëŠ”, ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì„œë“œë¼ëŠ” ê²ƒì„ ì‘ì„±í•´ì¤˜ì•¼ í•œë‹¤. 12345678910111213class Member&#123; public void setTeam(Team team)&#123; this.team = team; this.team.getMembers().add(this); &#125;&#125;class Team&#123; public void addMembers(Member member)&#123; this.members.add(member); member.setTeam(this); &#125;&#125; N ìª½ì— set, 1 ìª½ì— addê°€ í•­ìƒ ë¬¶ì—¬ì„œ ìˆ˜í–‰ë˜ë„ë¡ ì‘ì„±í–ˆë‹¤. ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì„œë“œ ì‘ì„± ì‹œ ì£¼ì˜ì‚¬í•­ ì‚¬ì‹¤ìƒ ìœ„ì˜ ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì„œë“œëŠ” ì‹±í¬ë¥¼ ì™„ë²½íˆ ë§ì¶°ì£¼ëŠ” ë©”ì„œë“œëŠ” ì•„ë‹ˆë‹¤. ìœ„ì™€ ê°™ì€ í¸ì˜ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ê²½ìš° ì•„ë ˆì™€ ê°™ì€ ë²„ê·¸ë¥¼ ë§‰ì„ ìˆ˜ ì—†ë‹¤. 1234member1.setTeam(team1);member1.setTeam(team2); // team2ë¡œ ë³€ê²½Member foundMember = team1.getMember(); // member1ì´ ì—¬ì „íˆ ì¡°íšŒëœë‹¤ ë³„ë¡œ ë§ˆì£¼í•  ì¼ ì—†ëŠ” ì‹œë‚˜ë¦¬ì˜¤ë¼ê³  ìƒê°í•  ìˆ˜ ìˆìœ¼ë‚˜, ê·¸ë ‡ê²Œ ë”°ì§€ë©´ í•­ìƒ hibernateë¥¼ ê±°ì¹˜ë©´ ë˜ë¯€ë¡œ ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì„œë“œ ìì²´ë„ í•„ìš”ê°€ ì—†ì–´ì§€ê²Œ ëœë‹¤. í•˜ì§€ë§Œâ€¦ ìœ„ì—ì„œë„ ì–¸ê¸‰í–ˆì§€ë§Œ ê·¸ê±´ ì •ë§ ìœ„í—˜í•œ ì½”ë“œì´ë‹¤. ì–¸ì œ ì–´ë””ì„œ ì˜ˆê¸°ì¹˜ ëª»í•œ ì˜¤ë¥˜ê°€ ë°œìƒí• ì§€ ëª¨ë¥¸ë‹¤. ORMìœ¼ë¡œ ë°”ë¼ë³´ê¸° ë³´ë‹¤ ê°ì²´ì§€í–¥ìœ¼ë¡œ ë¨¼ì € ë°”ë¼ë´ì•¼ í•œë‹¤ê³  (ë‚˜ëŠ”) ìƒê°í•œë‹¤.(ã…‹ã…‹) ì¢€ ë” ì™„ë²½í•˜ê²Œ ë§Œë“¤ì–´ë³´ì. 1234567891011121314151617181920212223class Member&#123; public void setTeam(Team team)&#123; if(this.team != null)&#123; this.team.getMembers().remove(this); &#125; this.team = team; if(team != null &amp;&amp; !team.getMembers().contains(this))&#123; this.team.getMembers().add(this); &#125; &#125;&#125;class Team&#123; public void addMember(Member member)&#123; if(!this.members.contains(member))&#123; this.members.add(member); &#125; member.setTeam(this); &#125;&#125; ë¬´í•œë£¨í”„ì— ë¹ ì§ˆ ìˆ˜ ìˆëŠ” ê°€ì„±ì„±ê³¼ ìœ„ì˜ ë²„ê·¸ë¥¼ ì œê±°í•˜ì˜€ë‹¤. ì–‘ë°©í–¥ ì—°ê´€ê´€ê³„ë¥¼ í˜•ì„±í•  ë•ŒëŠ” í•­ìƒ ìœ„ì²˜ëŸ¼ ì—°ê´€ê´€ê³„ í¸ì˜ ë©”ì„œë“œë¥¼ ë§Œë“¤ì–´ì¤˜ì•¼ í•œë‹¤(í•„ìˆ˜!).]]></content>
      <categories>
        <category>jpa</category>
      </categories>
      <tags>
        <tag>ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë°</tag>
        <tag>@OneToMany</tag>
        <tag>@ManyToOne</tag>
        <tag>@JoinColumn</tag>
        <tag>ì—°ê´€ê´€ê³„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[DNS ê¸°ë³¸ ë™ì‘]]></title>
    <url>%2Fetc%2FDNS-%EA%B8%B0%EB%B3%B8-%EB%8F%99%EC%9E%91%2F</url>
    <content type="text"><![CDATA[ì •ì˜ https://netmanias.com/ko/?m=view&amp;id=blog&amp;no=5353 PC -&gt; local DNS -&gt; Root DNS -&gt; Top level DNS -&gt; Second level DNSâ€¦ -&gt; PC]]></content>
      <categories>
        <category>etc</category>
      </categories>
      <tags>
        <tag>DNS</tag>
        <tag>DNS ë™ì‘ ë°©ì‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[failover]]></title>
    <url>%2Fetc%2Ffailover%2F</url>
    <content type="text"><![CDATA[ì •ì˜ http://www.terms.co.kr/failover.htm 1ì°¨ ì‹œìŠ¤í…œì— ì¥ì• ê°€ ë°œìƒí–ˆì„ ë•Œ 2ì°¨ ì‹œìŠ¤í…œì—ì„œ ì´ë¥¼ ë°›ì•„ ìˆ˜í–‰í•˜ëŠ”, ë¬´ì¤‘ë‹¨ ì„œë¹„ìŠ¤ë¥¼ ìœ„í•œ ë°©ì‹.]]></content>
      <categories>
        <category>etc</category>
      </categories>
      <tags>
        <tag>failover</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[jhipster]]></title>
    <url>%2Fetc%2Fjhipster%2F</url>
    <content type="text"><![CDATA[ì •ì˜ https://inyl.github.io/programming/2016/10/15/JHipster.html Spring Boot + Front end + etcâ€¦ ë“±ë“±ìœ¼ë¡œ êµ¬ì„±ëœ í”„ë¡œì íŠ¸ë¥¼ generate í•´ì£¼ëŠ” ì„œë¹„ìŠ¤ì´ë‹¤. í˜„ì¬ëŠ” yo jhipster ëŒ€ì‹ ì— jhipster ëª…ë ¹ì–´ë§Œ ì…ë ¥í•´ì„œ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆë‹¤. ì´í›„ ë‚˜ì˜¤ëŠ” ì„ íƒì‚¬í•­ë“¤ì„ í† ëŒ€ë¡œ í”„ë¡œì íŠ¸ê°€ generator ëœë‹¤(ì•„ì£¼ ë°©ëŒ€í•œ ì–‘ì˜ ì†ŒìŠ¤ê°€ generate ëœë‹¤) ì§€ì›í•˜ëŠ” ê¸°ìˆ ì´ êµ‰ì¥íˆ ë§ë‹¤. msa í”„ë¡œì íŠ¸ ì´ˆê¸° êµ¬ì„±ì‹œì— ì¢‹ë‹¤. msa í”„ë¡œì íŠ¸ generate ì˜ˆì‹œ service type - Microservice Application project name port package name discovery server - jhipster registry authentication type - jhipster UAA uaa project path database type - SQL(H2, MySQLâ€¦) production database - MySQL development database - MySQL cache abstraction - Hazelcast 2nd level cache - Yes build tool - Gradle other technology - OpenAPI generator, Kafka internationalization - Yes native language - Korean additional language - English test framework - Cucumber other generator - No msa ì„¤ì • ì‹œ ì¶”ê°€ë¡œ í•´ì¤˜ì•¼í•  ë¶€ë¶„ jhipster-registry ì„¤ì • msa êµ¬ì„± ì‹œ eureka ì„œë²„ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ”ë° jhipster-registryê°€ ê·¸ ì—­í• ì„ í•´ì¤€ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ í´ë¡ ë°›ê³  ë„ì›Œì¤˜ì•¼ í•œë‹¤. 1234git clone https://github.com/jhipster/jhipster-registrycd jhipster-registry./mvnw kafka ì„¤ì •(ì„ íƒí–ˆì„ ê²½ìš°) jhipster init í• ë•Œ kafkaë¥¼ ì„¤ì •í–ˆì„ ê²½ìš°, dockerë¡œ kafkaë¥¼ ì‹¤í–‰í•œë‹¤ 12cd &#123;jhipster_project_home&#125;docker-compose -f src/main/docker/kafka.yml up -d jdl jhipsterì—ì„œ ë„ë©”ì¸ì„ ë‚˜íƒ€ë‚¼ ë–„ ì‚¬ìš©í•˜ëŠ” languageì´ë‹¤. https://www.jhipster.tech/jdl/ ì‘ì„±í•œ ë„ë©”ì¸ì˜ ê´€ê³„ë„ëŠ” ì•„ë˜ì˜ https://start.jhipster.tech/jdl-studio/ ì—ì„œ ê°€ì‹œì ìœ¼ë¡œ í™•ì¸í•´ë³¼ ìˆ˜ ìˆê³ , .jh í™•ì¥ìë¡œ ë”°ë¡œ ì €ì¥ë„ ê°€ëŠ¥í•˜ë‹¤. ì‘ì„±í•œ .jh íŒŒì¼ì€ ì•„ë˜ì˜ ëª…ë ¹ì„ í†µí•´ jhipsterì— ì ìš© ê°¸ëŠ¥í•˜ë‹¤. 1jhipster import-jdl &lt;jdl file path&gt; ìœ„ ëª…ë ¹ì„ ìˆ˜í–‰í•˜ë©´ ì‘ì„±í•œ ë‚´ìš©ì„ ê¸°ì¤€ìœ¼ë¡œ entity, repositoryë¥¼ ìƒì„±í•˜ê³  ìƒì„±ëœ repositoryë¥¼ ì‚¬ìš©í•˜ì—¬ ê¸°ë³¸ì ì¸ CRUDë¥¼ í˜¸ì¶œí•˜ëŠ” controllerë¥¼ ë§Œë“¤ì–´ì¤€ë‹¤. (ì´ˆë°˜ generate ì‹œì— ìœ„ íŒŒì¼ì„ ì§€ì •í•´ì¤„ìˆ˜ë„ ìˆë‹¤ê³  í•œë‹¤) í•˜ì§€ë§Œ ìƒì„±ëœ entity, repositoryë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í• ìˆ˜ëŠ” ì—†ìœ¼ë‹ˆ(ë‹¹ì—°í•˜ë‹¤) ì´ˆë°˜ ì™€ê¾¸ì¡ëŠ”ë°ë§Œ ì‚¬ìš©í•˜ê³ , ê·¸ ì‹œì ì´í›„ë¡œëŠ” jdl íŒŒì¼ì„ ê±´ë“œë¦¬ì§„ ì•ŠëŠ”ë‹¤.]]></content>
      <categories>
        <category>etc</category>
      </categories>
      <tags>
        <tag>jhipster example</tag>
        <tag>jhipster-registry</tag>
        <tag>jdl</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[spring] Spring ApplicationEvent]]></title>
    <url>%2Fspring%2FSpring%20ApplicationEvent%2F</url>
    <content type="text"><![CDATA[http://wonwoo.ml/index.php/post/1070#comment-7184 eventë¥¼ ë°œìƒì‹œí‚¤ëŠ” publisher(ApplicationEventPublish), eventë¥¼ ë°›ëŠ” lister(ApplicationEventLister), eventê°€ ìˆìŒ(ApplicationEvent). publisherì—ì„œ eventë¥¼ ìƒì„±í•´ì„œ ë°œìƒì‹œí‚¤ë©´ listerì—ì„œ ìì‹ ì´ êµ¬í˜„í•œ eventê°€ ë§ì„ ê²½ìš° ê·¸ ì´ë²¤íŠ¸ë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤ ìŠ¤í”„ë§ 4.2 ë¶€í„°ëŠ” ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ê°€ëŠ¥í•˜ê³ , ë§ì€ ì˜µì…˜ë“¤(spel ë“±)ì„ ì¤„ ìˆ˜ ìˆë‹¤.]]></content>
      <categories>
        <category>spring</category>
      </categories>
      <tags>
        <tag>Spring ApplicationEvent</tag>
        <tag>Spring event</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[íšŒì‚¬ ìš©ì–´]]></title>
    <url>%2Fetc%2F%ED%9A%8C%EC%82%AC-%EC%9A%A9%EC%96%B4%2F</url>
    <content type="text"><![CDATA[TBD To be determined. ê²°ì • ì˜ˆì • TBU To be updated, ì—…ë°ì´íŠ¸ ì˜ˆì • ASAP As soon as possible, ê°€ëŠ¥í•œ ë¹¨ë¦¬, â€˜ì•„ì‚½â€™ì´ë¼ê³ ë„ ì½ìŒ]]></content>
      <categories>
        <category>etc</category>
      </categories>
      <tags>
        <tag>íšŒì‚¬ ìš©ì–´</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mac custom setting]]></title>
    <url>%2Fetc%2Fmac-custom-setting%2F</url>
    <content type="text"><![CDATA[macì„ í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•˜ê³ ì ì§ì ‘ ì„¸íŒ…í•œ ë‚´ìš©ì„ ê³µìœ í•˜ê³ ì í•œë‹¤. ì¼ë°˜ í‚¤ë³´ë“œ ë ˆì˜¤í´ë“œ í‚¤ë³´ë“œ ì‚¬ìš© í•œì˜ ì „í™˜ ì•„ë˜ì˜ ë‚´ìš©ì„ bttì—ì„œ ë˜‘ê°™ì´ ì‚¬ìš©í–ˆë‹¤ https://jojoldu.tistory.com/345?category=798573 altí‚¤ë¥¼ command keyë¡œ ì‚¬ìš©í•˜ê¸° í™˜ê²½ì„¤ì • - í‚¤ë³´ë“œ - ë³´ì¡°í‚¤ì—ì„œ option, command í‚¤ ë°”ê¿€ ìˆ˜ ìˆìŒ home, end ì‚¬ìš©í•˜ê¸° ~/Library/KeyBindins/DefaultKeyBinding.dictë¥¼ ìˆ˜ì •í•˜ë©´ ëœë‹¤ http://junho85.pe.kr/580 key bindings ê°’ ì°¾ê¸° http://junho85.pe.kr/579 windowsì˜ aero snap ì‚¬ìš©í•˜ê¸° btt - keyboard Command + Control + ë°©í–¥í‚¤ë¡œ Maximize Window Left, Right, Top Half, Bottom Half ë¥¼ ì„¤ì •í–ˆë‹¤ ìµœëŒ€í™” btt - keyboard Command + ctrl + A = í˜„ì¬ ìœ„ì¹˜ì—ì„œ ìµœëŒ€í™” Command + ctrl + S = ë‹¤ë¥¸ ëª¨ë‹ˆí„°(ë“€ì–¼ëª¨ë‹ˆí„°)ë¡œ ë„˜ê¸°ê¸° Command + ctrl + D = ë‹¤ë¥¸ ëª¨ë‹ˆí„°ë¡œ ë„˜ê¸°ê¸° + ìµœëŒ€í™” ì¼ë°˜ ë§ˆìš°ìŠ¤ ì•ìœ¼ë¡œ ê°€ê¸°, ë’¤ë¡œê°€ê¸°ê°€ ìˆëŠ” ë²„í‹°ì»¬ í‚¤ë³´ë“œ ì‚¬ìš© ì•ìœ¼ë¡œ ê°€ê¸°, ë’¤ë¡œê°€ê¸° ë§¤í•‘ btt - normal mice button3ì— ë’¤ë¡œê°€ê¸°, button4ì— ì•ìœ¼ë¡œ ê°€ê¸° ë§¤í•‘í–ˆë‹¤. actionì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  Command + [, Command + ]ë¡œ ë§¤í•‘í–ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ intellij ì—ì„œë„ ë§ˆìš°ìŠ¤ë¡œ ì•ë’¤ë¡œ ì™”ë‹¤ê°”ë‹¤ í•  ìˆ˜ ìˆë‹¤. swipe ë§¤í•‘ btt - drawings ì˜¤ë¥¸ìª½ì—ì„œ ì™¼ìª½ìœ¼ë¡œ ê·¸ë¦¬ë©´ right swipe ì™¼ìª½ì—ì„œ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ê·¸ë¦¬ë©´ left swipe mission control btt - drawings ìœ„ë¡œ ê·¸ë¦¬ë©´ mission control ë‹«ê¸° btt - normal mice(chrome) ë§ˆìš°ìŠ¤ ì¤‘ê°„ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ctrl + wê°€ ë™ì‘í•˜ë„ë¡ í–ˆë‹¤ ìƒˆë¡œê³ ì¹¨ btt - drawings(chrome) ì•„ë˜ë¡œ ê¸¸~ê²Œ ë‚´ë¦¬ë©´ Command + r ì´ ë™ì‘í•˜ë„ë¡ í–ˆë‹¤(ìŠ¤ë§ˆíŠ¸í° ì²˜ëŸ¼) ê¸°íƒ€ itermì—cmd + ì¢Œìš° ë™ì‘ì•ˆí•˜ê³  fn í‚¤ë¡œë§Œ ë¨ https://stackoverflow.com/questions/6205157/iterm-2-how-to-set-keyboard-shortcuts-to-jump-to-beginning-end-of-line ì„¤ì •ì—ì„œ hex code ì…ë ¥ìœ¼ë¡œ ë°”ê¿”ì£¼ë©´ ë¨ ë“€ì–¼ ëª¨ë‹ˆí„° MonitorControl application ìœ¼ë¡œ ë°ê¸°, ì†Œë¦¬ ì¡°ì ˆ ê°€ëŠ¥ https://github.com/the0neyouseek/MonitorControl í•´ê²°í•˜ì§€ ëª»í•œ ë¶€ë¶„ keyboardë¡œ ë“€ì–¼ ëª¨ë‹ˆí„°ê°„ í¬ì»¤ìŠ¤ ì „í™˜ ê°œë°œí•˜ë‹¤ ë³´ë©´ ë§ˆìš°ìŠ¤ë³´ë‹¤ í‚¤ë³´ë“œë¥¼ ë§ì´ ì“°ëŠ”ë°, ë°˜ëŒ€í¸ ëª¨ë‹ˆí„°ì— ìˆëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‚¬ìš©í•˜ë ¤ë©´ ê²°êµ­ ë§ˆìš°ìŠ¤ë¡œ í´ë¦­í•´ì•¼ í•œë‹¤. Command + tabìœ¼ë¡œ í•˜ë‚˜í•˜ë‚˜ ì°¾ê¸°ëŠ” ë„ˆë¬´ ë‹µë‹µí•˜ê³ , ë°˜ëŒ€í¸ ëª¨ë‹ˆí„°ë¥¼ ë§ˆìš°ìŠ¤ë¡œ ì°ëŠ” í–‰ìœ„ë§Œ í•´ì£¼ë©´ ì¢‹ì„í…ë°â€¦ ì˜¤ë¥¸ìª½ commandì˜ ë³¸ë˜ ê¸°ëŠ¥ ì—†ì• ê¸° ì˜¤ë¥¸ìª½ commandë¥¼ í•œì˜í‚¤ë¡œ ì‚¬ìš©í•˜ë‹ˆê¹Œ ë¬¸ìí‚¤ì™€ í•œì˜í‚¤ë¥¼ ëˆŒë €ì„ë•Œ commandí‚¤ê°€ ë™ì‘í•´ì„œ ë‚œê°í•˜ë‹¤ q -&gt; ã…‚ë¡œ ë°”ê¾¸ë‹¤ê°€ Command + Qê°€ ë˜ì–´ë²„ë¦¬ëŠ”â€¦]]></content>
      <categories>
        <category>etc</category>
      </categories>
      <tags>
        <tag>mac í•œì˜í‚¤</tag>
        <tag>mac home/end</tag>
        <tag>mac mouse</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[jpa] ì—”í‹°í‹° ë§¤í•‘]]></title>
    <url>%2Fjpa%2F%EC%97%94%ED%8B%B0%ED%8B%B0-%EB%A7%A4%ED%95%91%2F</url>
    <content type="text"><![CDATA[@Entity JPAê°€ ê´€ë¦¬í•˜ëŠ” ì—”í‹°í‹°ê°€ ë˜ê¸° ìœ„í•´ì„œ í•„ìˆ˜ë¡œ ë¶™ì—¬ì•¼ í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜ì´ë‹¤. ì†ì„± ê¸°ëŠ¥ ê¸°ë³¸ê°’ name JPAì—ì„œ ì‚¬ìš©í•  ì—”í‹°í‹° ì´ë¦„ ì§€ì •. ì¤‘ë³µë˜ëŠ” ì´ë¦„ì´ ìˆì–´ì„  ì•ˆëœë‹¤. í´ë˜ìŠ¤ ì´ë¦„ ê·¸ëŒ€ë¡œ ì‚¬ìš©(e.g. Member) (nameì€ ë‚˜ì¤‘ì— JPQL ì‘ì„±í•  ë•Œ ì‚¬ìš©ëœë‹¤.) ì—”í‹°í‹°ê°€ ë  í´ë˜ìŠ¤ì—ëŠ” ëª‡ê°€ì§€ ë£°ì´ ì¡´ì¬í•œë‹¤. ê¸°ë³¸ ìƒì„±ì í•„ìˆ˜(public or protected) final class, enum, interface, inner class ì—ëŠ” ì‚¬ìš© ë¶ˆê°€ ì €ì¥í•  í•„ë“œì— final ì‚¬ìš© ë¶ˆê°€ ì´ ì œì•½ì¡°ê±´ì€ proxy íŒ¨í„´, reflectionì—ì„œ ìì£¼ ë“±ì¥í•˜ëŠ” ìš©ì–´ì´ë‹¤. proxy íŒ¨í„´ì„ ì‚¬ìš©í•˜ë ¤ë©´ ëŒ€ìƒ í´ë˜ìŠ¤ë¥¼ ìƒì† ë°›ì•„ì•¼ í•˜ëŠ”ë°, final class, enum, interface, inner classëŠ” ìƒì†ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤. reflectionìœ¼ë¡œ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•  ë•Œ, constructorëŠ” ëŒ€ë¶€ë¶„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. ì™¸ë¶€ì—ì„œëŠ” ìƒì„±ìì˜ ë§¤ê°œë³€ìˆ˜ë“¤ì´ ë¬´ì—‡ì„ ì˜ë¯¸í•˜ëŠ”ì§€ ì•Œìˆ˜ê°€ ì—†ê¸° ë•Œë¬¸ì´ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ëŒ€ë¶€ë¶„ ê¸°ë³¸ ìƒì„±ì + setterë¥¼ ì‚¬ìš©í•˜ëŠ”ë°, finalì€ setter í˜¸ì¶œì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤. ì•„ë§ˆ ì´ëŸ° ì´ìœ ì¼ê±°ë¼ê³  ìƒê°í•˜ê³ , JPAëŠ” ê²°êµ­ proxy íŒ¨í„´ê³¼ reflectionì„ ì“´ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤. (í‹€ë ¸ì„ìˆ˜ë„ ìˆìŒ) @Table ì—”í‹°í‹°ì™€ ë§¤í•‘í•  í…Œì´ë¸”ì„ ì§€ì •í•  ë•Œ ì‚¬ìš©í•œë‹¤. ìƒëµí•˜ë©´ ì—”í‹°í‹° ì´ë¦„ì„ í…Œì´ë¸” ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤. ì†ì„± ê¸°ëŠ¥ ê¸°ë³¸ê°’ name ë§¤í•‘í•  í…Œì´ë¸” ì´ë¦„ ì—”í‹°í‹° ì´ë¦„ uniqueConstraints(DDL) DDL ìƒì„± ì‹œì— unique constraints ë§Œë“¬. 2ê°œ ì´ìƒì˜ ë³µí•© unique constrainsë„ ê°€ëŠ¥ ê¸°ë³¸ í‚¤ ë§¤í•‘ ìœ„ì—ì„œë„ ì–¸ê¸‰í–ˆë“¯ì´ ê¸°ë³¸í‚¤ëŠ” í•„ìˆ˜ê°’ì´ë‹¤. @Id ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ì„œ ì§€ì •í•  ìˆ˜ ìˆë‹¤. 12345class Member&#123; @Id @Column(name="id") private String id;&#125; @Id ì ìš© ê°€ëŠ¥í•œ íƒ€ì…ì€ ì•„ë˜ì™€ ê°™ë‹¤. ìë°” ê¸°ë³¸í˜• ìë°” wrapperí˜• nullableí•œ ì»¬ëŸ¼ ë•Œë¬¸ì— primitive ëŒ€ì‹  wrapperë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê¶Œì¥(?)í•œë‹¤. ìƒí™©ì— ë”°ë¼ ì“°ë©´ë˜ê¸´ í•˜ì§€ë§Œ, ì•Œê´€ì„±ì„ ìœ„í•´ì„œë¼ë„ í•˜ë‚˜ë§Œ ì“°ëŠ” ê²ƒì´â€¦ String java.util.Date, java.sql.Date java.math.BigDecimal, java.math.BigInteger ê¸°ë³¸í‚¤ ìƒì„± ì „ëµ ì—”í‹°í‹°ì˜ ê¸°ë³¸í‚¤ë¥¼ ì„¤ì •í•˜ëŠ” ë°©ë²•ì—ëŠ” í¬ê²Œ ì§ì ‘í• ë‹¹ê³¼ ìë™ìƒì„±ì´ ìˆë‹¤. ì§ì ‘í• ë‹¹ì€ ë§ ê·¸ëŒ€ë¡œ ê¸°ë³¸í‚¤ ê°’ì„ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì§ì ‘ í• ë‹¹í•˜ëŠ” ë°©ë²•ì´ë‹¤. ìë™ìƒì„±ì˜ ê²½ìš° ì§ì ‘í• ë‹¹ê³¼ ë°˜ëŒ€ë¡œ ë°ì´í„°ë² ì´ìŠ¤ì— ì˜ì¡´í•˜ëŠ” ë°©ì‹ì´ë‹¤. ìë™ìƒì„±ì„ ì‚¬ìš©íˆë ¤ë©´ ê¸°ë³¸í‚¤ ì»¬ëŸ¼ì— @GeneratedValue ì–´ë…¸í…Œì´ì…˜ + ì „ëµ(strategy)ì„ ì§€ì •í•´ì¤˜ì•¼ í•˜ë©°, ì „ëµë“¤ì€ ì•„ë˜ì™€ ê°™ë‹¤. IDENTITY ì „ëµ MYSQLì˜ AUTO_INCREMENTì™€ ê°™ë‹¤ê³  ë³´ë©´ ëœë‹¤. ì•„ë˜ì™€ ê°™ì´ ì„ ì–¸í•´ì£¼ë©´ ëœë‹¤. 123@Id@GeneratedValue(strategy = GenerationType.IDENTITY)private Long id; row insertì‹œì— ë°ì´í„°ë² ì´ìŠ¤ê°€ ìë™ìœ¼ë¡œ ìƒì„±í•´ì£¼ëŠ” ê¸°ë³¸ í‚¤ ê°’ì„ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ë‹¤. ì´ ë§ì¸ ì¦‰ ë°ì´í„°ë² ì´ìŠ¤ì— ì§ì ‘ insert í•˜ëŠ” ì‘ì—…ì´ ì„ í–‰ë˜ì–´ì•¼ í•œë‹¤ëŠ” ëœ»ì´ë¯€ë¡œ, JPAì˜ ì“°ê¸°ì§€ì—°ì´ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤. ì›ë˜ë¼ë©´ insert 1íšŒ + select 1íšŒ(ì €ì¥ëœ ë¡œìš°ì˜ ê¸°ë³¸í‚¤ ê°’ì„ ì–»ì–´ì˜¤ê¸° ìœ„í•´)ë¡œ 2ë²ˆ íŠ±ì‚°í•´ì•¼ í•˜ëŠ”ë°, í•˜ì´ë²„ë„¤ì´íŠ¸ëŠ” JDBC3 ë¶€í„° ì¶”ê°€ëœ Statement,getGeneratedKeys()(ì €ì¥ê³¼ ë™ì‹œì— ìƒì„±ëœ ê¸°ë³¸ í‚¤ ê°’ì„ ì–»ì–´ì˜¤ëŠ” ë©”ì„œë“œ)ë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ë°ì´í„°ë² ì´ìŠ¤ì™€ í•œë²ˆë§Œ í†µì‹ í•œë‹¤(ìµœì í™”) SEQUENCE ì „ëµ ORACLEì˜ SEQUENCEì™€ ê°™ë‹¤ê³  ë³´ë©´ ëœë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ SEQUENCEê°€ ìƒì„±ë˜ì–´ ìˆì–´ì•¼í•œë‹¤. ê·¸ë¦¬ê³  ì•„ë˜ì™€ ê°™ì´ ì„ ì–¸í•´ì£¼ë©´ ëœë‹¤. 1234567891011121314@Entity@SequenceGenerator( name = "BOARD_SEQ_GENERATOR", // ì‚¬ìš©í•  sequence ì´ë¦„ sequenceName = "BOARD_SEQ", // ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ sequence ì´ë¦„ initialValue = 1, allocationSize = 1)public class Board&#123; @Id @GeneratedValue( strategy = GenerationType.SEQUENCE, generator = "BOARD_SEQ_GENERATOR" // ìœ„ì˜ sequence ì´ë¦„ ) private Long id;&#125; ì´ì œ id ì‹ë³„ì ê°’ì„ ì–»ì–´ì˜¬ ë•Œ ë§ˆë‹¤ BOARD_SEQ ì‹œí€€ìŠ¤ì—ì„œ ì‹ë³„ìë¥¼ ì¡°íšŒí•´ì˜¤ê²Œ ëœë‹¤. ì¡°íšŒí•œ ì‹ë³„ìë¥¼ ì—”í‹°í‹°ì— í• ë‹¹í•œ í›„, ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì €ì¥í•œë‹¤. ì´í›„ flushê°€ ë°œìƒí•˜ë©´ ì—”í‹°í‹°ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•œë‹¤. (identityì™€ ë‹¬ë¦¬ insertë¥¼ ì„ í–‰í•  í•„ìš” ì—†ì–´ë¯€ë¥´ ì“°ê¸°ì§€ì—°ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤) í•˜ì§€ë§Œ ê²°ê³¼ì ìœ¼ë¡œ ë³´ë©´ ë°ì´í„°ë² ì´ìŠ¤ì™€ 2ë²ˆ í†µì‹ í•˜ëŠ” ì…ˆì´ë‹¤(select 1íšŒ + insert 1íšŒ) @SequenceGeneratorë¥¼ í†µí•´ ìƒì„±ê¸°ë¥¼ ë“±ë¡í•´ì•¼ í•œë‹¤. ì†ì„± ê¸°ëŠ¥ ê¸°ë³¸ê°’ name ì‹ë³„ì ìƒì„±ê¸° ì´ë¦„ í•„ìˆ˜ sequenceName ë°ì´í„°ë² ì´ìŠ¤ì— ë“±ë¡ë˜ì–´ ìˆëŠ” ì‹œí€€ìŠ¤ ì´ë¦„ hibernate_sequence initialValue DDL ìƒì„± ì‹œì—ë§Œ ì‚¬ìš©ë¨, ì‹œí€€ìŠ¤ DDLì„ ìƒì„±í•  ë•Œ ì²˜ìŒ ì‹œì‘í•˜ëŠ” ìˆ˜ë¥¼ ì§€ì •í•œë‹¤. 1 allocationSize ì‹œí€€ìŠ¤ í•œ ë²ˆ í˜¸ì¶œì— ì¦ê°€í•˜ëŠ” ìˆ˜(ì„±ëŠ¥ ìµœì í™”ì— ì‚¬ìš©ë¨) 50 initialValueëŠ” sequence ì´ˆê¸°ê°’ì„ ì„¤ì •í•  ë–„ ì‚¬ìš©í•˜ëŠ” ì˜µì…˜ì¸ë°, ì´ë§ì¸ ì¦‰ sequenceë„ ë¯¸ë¦¬ ìƒì„±í•´ë†“ì§€ ì•Šìœ¼ë©´ ìë™ ìƒì„± ê°€ëŠ¥í•˜ë‹¤ëŠ” ê²ƒì´ë‹¤(DDL ìë™ìƒì„±ì„ on í•˜ë©´ ë¨) allocationSizeëŠ” ì‹œí€€ìŠ¤ í•œë²ˆ í˜¸ì¶œì— ì¦ê°€í•˜ëŠ” ìˆ˜ì´ë‹¤. default ê°’ì´ 50ì¸ë°, ì´ëŠ” ìµœì í™”ë¥¼ ìœ„í•´ì„œì´ë‹¤. 1-50ê¹Œì§€ì˜ sequence ê°’ì„ í•œë²ˆì— ë°›ê³  ë©”ëª¨ë¦¬ì— ì €ì¥í•´ì„œ í• ë‹¹í•´ì£¼ë‹¤ê°€, 51ë²ˆì§¸ sequenceê°€ í•„ìš”í•  ë–„ ë°ì´í„°ë² ì´ìŠ¤ sequenceì—ì„œ 51-100ì˜ sequenceë¥¼ ì¡°íšŒí•´ì˜¤ëŠ” ì‹ìœ¼ë¡œ ë™ì‘í•œë‹¤. TABLE ì „ëµ sequenceë¥¼ í‰ë‚´ë‚´ëŠ” ì „ëµì´ë‹¤. tableì„ í•˜ë‚˜ ë§Œë“¤ì–´ nameê³¼ sequence ê°’ì„ ì €ì¥í•´ë‘”ë‹¤. tableì„ ì‚¬ìš©í•˜ë¯€ë¡œ ëª¨ë“  ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤. ì‚¬ìš©ë²•ì€ sequenceì™€ ê±°ì˜ ë™ì¼í•˜ë‹¤. @TableGeneratorë¥¼ í†µí•´ ìƒì„±ê¸°ë¥¼ ë“±ë¡í•´ì•¼ í•œë‹¤. 1234567891011121314@Entity@TableGenerator( name = "MY_BOARD_SEQ_GENERATOR", // ì‚¬ìš©í•  table sequence ì´ë¦„ table = "MY_BOARD_SEQ", // ì‹¤ì œ ë°ì´í„°ë² ì´ìŠ¤ table ì´ë¦„ pkColumnValue = "BOARD_SEQ", allocationSize = 1)public class Board&#123; @Id @GeneratedValue( strategy = GenerationType.TABLE, generator = "MY_BOARD_SEQ_GENERATOR" // ìœ„ì˜ sequence ì´ë¦„ ) private Long id;&#125; ê¸°ë³¸ì ìœ¼ë¡œ í…Œì´ë¸”ì€ sequence_name, next_val ì˜ ì»¬ëŸ¼ì„ ê°€ì§„ í˜•íƒœë¡œ ìƒì„±ë˜ê³ , ë¡œìš°ì˜ ë‚´ìš©ì€ ì•„ë˜ì™€ ê°™ë‹¤. (ì´ë¦„ì´ ë§˜ì— ì•ˆë“¤ë©´ pkColumnName=XXX, valueColumnName=XXX ì˜ í˜•íƒœë¡œ ì§€ì •í•´ì£¼ë©´ ëœë‹¤.) sequence_name next_val BOARD_SEQ 2 MEMBER_SEQ 7 PRODUCT_SEQ 50 ë³´ë‹¤ì‹œí”¼ í•˜ë‚˜ì˜ í…Œì´ë¸”ë¡œ ê´€ë¦¬í•˜ë¯€ë¡œ, pkColumnValueë¡œ ì–´ë–¤ sequence_nameì„ ì‚¬ìš©í• ì§€ ì§€ì •í•´ì¤˜ì•¼ í•œë‹¤. ì°¸ê³ ë¡œ table keyëŠ” ì–‘ì´ ë§ì•„ì§ˆìˆ˜ë¡ ì„±ëŠ¥ì´ ê¸‰ê²©íˆ ì•ˆì¢‹ì•„ì§€ë¯€ë¡œ, ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ë‹¤. https://vladmihalcea.com/why-you-should-never-use-the-table-identifier-generator-with-jpa-and-hibernate/ AUTO ì „ëµ ì„ íƒí•œ ë°ì´í„°ë² ì´ìŠ¤ dialectì— ë”°ë¼ ì „ëµ(IDENTITY, SEQUENCE, TABLE)ì„ ìë™ìœ¼ë¡œ ì„ íƒí•´ì£¼ëŠ” ë°©ì‹ì´ë‹¤. ì˜ˆë¥¼ ë“¤ë©´ ì˜¤ë¼í´ì€ SEQUENCE, MYSQLì€ IDENTITYê°€ ì„ íƒëœë‹¤. @GeneratedValueì˜ ê¸°ë³¸ê°’ì€ AUTOì´ë‹¤. auto_incrementë‘ sequenceë¥¼ ì–‘ìª½ ë‹¤ ì§€ì›í•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ê°€ ìˆì„ ê²½ìš°(PostgreSQL) sequenceë¥¼ ìš°ì„ ì ìœ¼ë¡œ ì„ íƒí•œë‹¤ê³ ëŠ” í•˜ëŠ”ë°, dbë§ˆë‹¤ ë‹¤ë¥¼ ìˆ˜ ìˆì„ ë“¯ í•˜ë‹¤. ì°¸ê³ ë¡œ @GeneratedValueë¥¼ ì‚¬ìš©í•œ Id ì»¬ëŸ¼ì— ëŒ€í•´ì„œëŠ” wrapperí˜•ì„ ì¨ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤. primitive íƒ€ì…ì˜ ê²½ìš° ì´ˆê¸°í™” í•˜ì§€ ì•Šì„ ê²½ìš° ê°’ì´ 0ì¸ë°, ì´ëŠ” ëª…ì‹œì ì´ì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤. (0ìœ¼ë¡œ ì„¸íŒ…í•œê±´ì§€, ê°’ì´ ì„¸íŒ…í•˜ì§€ ì•Šì€ê±´ì§€ ëª¨í˜¸í•¨) ë¬¼ë¡  ê¸°ë³¸ auto_incrementê°€ 1ë¶€í„° ì‹œì‘í•˜ê¸° ë•Œë¬¸ì— 0ì¼ ê²½ìš° ORMì´ idë¥¼ generate í•´ì¤˜ì•¼ê² ë‹¤ê³  íŒë‹¨í•˜ê² ì§€ë§Œ, ê·¸ë˜ë„ ëª…ì‹œì ì¸ê²Œ ì¢‹ë‹¤ê³  ìƒê°í•œë‹¤. ì—”í‹°í‹° ëª¨ë¸ë§ì—ì„œ boxing/unboxing ë¹„ìš©ì€ í° ê´€ì‹¬ì‚¬ê°€ ì•„ë‹ˆë‹¤. ì‹ë³„ì ê¶Œì¥ ì „ëµ ê¸°ë³¸í‚¤ì˜ í˜•íƒœëŠ” í¬ê²Œ ìì—°í‚¤(ë¹„ì¦ˆë‹ˆìŠ¤ ì˜ë¯¸ê°€ ìˆëŠ” í‚¤. e.g. ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸) ì™€ ëŒ€ë¦¬í‚¤(ì„ì˜ë¡œ ë§Œë“¤ì–´ì§„ í‚¤)ê°€ ìˆëŠ”ë°, ì™¸ë¶€í’íŒŒì— ì‰½ê²Œ í”ë“¤ë¦¬ì§€ ì•ŠëŠ” ëŒ€ë¦¬í‚¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì•„ ì¢‹ë‹¤. ë¹„ì¦ˆë‹ˆìŠ¤ë¼ëŠ” ê²ƒì€ ë‚´ ìƒê°ë³´ë‹¤ í›¨ì”¬ ì‰½ê²Œ ë³€í•˜ê¸° ë•Œë¬¸ì´ë‹¤. í•„ë“œ ë§¤í•‘ @Column ê°ì²´ë¥¼ í•„ë“œ í…Œì´ë¸”ì— ë§¤í•‘í•  ë•Œ ì‚¬ìš©í•œë‹¤. ê°€ì¥ ë§ì´ ì‚¬ìš©ëœë‹¤. ì†ì„± ê¸°ëŠ¥ ê¸°ë³¸ê°’ name í•„ë“œì™€ í…Œì´ë¸” ì´ë¦„ ë§¤í•‘ ê°ì²´ í•„ë“œ ì´ë¦„ nullable(DDL) null ê°’ í—ˆìš© ì—¬ë¶€. false ì„¤ì •í•˜ë©´ DDL ìƒì„± ì‹œ not nullì´ ë¶™ëŠ”ë‹¤ true unique(DDL) ì»¬ëŸ¼ í•˜ë‚˜ì— unique constraints ì§€ì •í•  ë•Œ ì‚¬ìš©. ì—¬ëŸ¬ê°œ ì§€ì •í•˜ë ¤ë©´ @Tableì˜ uniqueConstraintsë¥¼ ì‚¬ìš©í•´ì•¼ í•¨ length(DDL) ë¬¸ì ê¸¸ì´ ì œì•½ì¡°ê±´. ëª…ì‹œì ìœ¼ë¡œ ê¸¸ì´ë¥¼ ë³¼ ìˆ˜ ìˆëŠ” ì¥ì ë„ ìˆë‹¤ 255 @Columnì„ ìƒëµí•´ë„ ì—”í‹°í‹°ì˜ í•„ë“œëŠ” ì „ë¶€ ìë™ìœ¼ë¡œ í…Œì´ë¸”ê³¼ ë§¤í•‘ëœë‹¤. ì´ ë•Œ ëª‡ê°€ì§€ íŠ¹ì§•ì´ ìˆë‹¤. ì´ë¦„ì€ ì–´ë–»ê²Œ ë§¤í•‘ë˜ëŠ”ê°€? @Columnì˜ ê¸°ë³¸ê°’ê³¼ ë™ì¼í•˜ê²Œ ì»¬ëŸ¼ëª…ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤. ê·¼ë° ì—¬ê¸°ì„œ ë”œë ˆë§ˆê°€ í•˜ë‚˜ ìˆë‹¤. javaëŠ” namingì„ ê´€ë¡€ì ìœ¼ë¡œ camel caseë¥¼ ì‚¬ìš©í•˜ê³ , databaseëŠ” namingì„ ê´€ë¡€ì ìœ¼ë¡œ under scoreë¥¼ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒì´ë‹¤. ì´ë–„ persistence.xmlì— 1&lt;property name="hibernate.ejb.naming_strategy" value="org.hibernate.cfg.ImprovedNamingStrategy"&gt;&lt;/property&gt; ì „ëµì„ ì£¼ê²Œ ë˜ë©´ ìœ„ì˜ ë”œë ˆë§ˆë¥¼ í•´ê²° ê°€ëŠ¥í•˜ë‹¤(ì„œë¡œê°„ì— ìë™ ë³€í™˜) nullable ì†ì„± 123456int id; // not nullë¡œ ìƒì„±ë¨. primitiveì—ëŠ” nullì´ ë“¤ì–´ê°ˆ ìˆ˜ ì—†ê¸° ë•Œë¬¸.Integer id; // nullable trueë¡œ ìƒì„±ë¨@Columnint id; // @Columnì˜ ê¸°ë³¸ê°’ì¸ nullable=trueê°€ ì ìš©ë˜ì„œ nullable=trueë¡œ ìƒì„±ë¨. ì£¼ì˜í•´ì•¼í•¨ ë³´ë‹¤ì‹œí”¼ 3ë²ˆì¨° ë°©ë²•ì€ nullable=true ì„ì—ë„ ë¶ˆêµ¬í•˜ê³  nullì„ ë„£ì„ ìˆ˜ ì—†ë‹¤. ì´ëŸ° ìƒí™©ì„ ìœ„í•´ ê·¸ëƒ¥ primitive ëŒ€ì‹  wrapperí˜•ì„ ì¨ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤. (not nullì—ëŠ” primitive, nullableì—ëŠ” wrapperí˜•ì„ ì“¸ìˆ˜ë„ ìˆì§€ë§Œ í†µì¼ì‹œí‚¤ì§€ ì•Šì•„ì„œ ì˜¤ëŠ” ë¶ˆí¸í•¨ì´ ë” í´ê²ƒì´ë‹¤) @Enumerated javaì˜ enum íƒ€ì…ì„ ë§¤í•‘í•  ë•Œ ì‚¬ìš©ëœë‹¤. ìœ ìš©í•˜ê²Œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤. 12@Enumerated(EnumType.STRING)private RoleType roleType; ì´ë ‡ê²Œ ì£¼ë©´ enumì˜ ê°’ ê·¸ëŒ€ë¡œ(ë¬¸ìì—´) ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ëœë‹¤. ORDINALì„ ì†ì„±ì„ ì‚¬ìš©í•˜ë©´ enumì˜ ìˆœì„œëŒ€ë¡œ indexê°€ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ë˜ëŠ”ë°, ìœ ì—°í•˜ì§€ ëª»í•˜ë¯€ë¡œ STRING ì†ì„±ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë‚«ë‹¤. @Temporal ë‚ ì§œ íƒ€ì…ì„ ë§¤í•‘í•  ë•Œ ì‚¬ìš©ëœë‹¤. 12345678@Temporal(TemporalType.DATE)private Date date; // date date ìƒì„±@Temporal(TemporalType.TIME)private Date time; // time time ìƒì„±@Temporal(TemporalType.TIMESTAMP)private Date timestamp; // timestamp timestamp ìƒì„± ìë°”ì˜ Date íƒ€ì…ì—ëŠ” ë…„ì›”ì¼ ì‹œë¶„ì´ˆê°€ ìˆì§€ë§Œ, ë°ì´í„°ë² ì´ìŠ¤ì—ì„œëŠ” date, time, datetime 3ê°€ì§€ íƒ€ì…ì´ ì¡´ì¬í•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ @Temporalì„ ìƒëµí•˜ì˜€ì„ ì‹œ, ê°€ì¥ ë¹„ìŠ·í•œ timestampê°€ ì§€ì •ëœë‹¤. @Temporalì€ Date, Calendarì—ë§Œ ë¶™ì´ëŠ” ì†ì„±ì´ê³ , java8 ë¶€í„° ë“±ì¥í•œ LocalDate, LocalTime, LocalDateTimeì—ëŠ” @Temporal ì†ì„±ì„ ë¶™ì¼ ìˆ˜ ì—†ë‹¤. java8 ë‚ ì§œ íƒ€ì…ë“¤ì€ jpaê°€ ë°”ë¡œ ì¸ì‹í•˜ì§€ ëª»í•˜ë¯€ë¡œ ì¶”ê°€ì ì¸ ì¡°ì¹˜ê°€ í•„ìš”í•˜ë‹¤ https://homoefficio.github.io/2016/11/19/Spring-Data-JPA-ì—ì„œ-Java8-Date-Time-JSR-310-ì‚¬ìš©í•˜ê¸°/ @Lob BLOB, CLOB íƒ€ì…ì— ë§¤í•‘ëœë‹¤. 12345@LobString lob; // CLOBìœ¼ë¡œ ë§¤í•‘. mysqlì—ì„  longtextë¡œ ìƒì„±ë¨@Lobbyte[] lob; // BLOBìœ¼ë¡œ ë§¤í•‘. mysqlì—ì„  longblobìœ¼ë¡œ ìƒì„±ë¨ @Transient ë§¤í•‘í•˜ì§€ ì•Šì„ í•„ë“œì— ì„¤ì •í•œë‹¤. ì„ì˜ë¡œ ê°’ì„ ë³´ê´€í•˜ê³  ì‹¶ì„ë•Œ ë“±ì— ì‚¬ìš©í•œë‹¤. @Access JPAê°€ ì—”í‹°í‹° ë°ì´í„°ì— ì ‘ê·¼í•˜ëŠ” ë°©ì‹ì„ ì§€ì •í•œë‹¤. í•„ë“œ ì ‘ê·¼: AccessType.FIELDë¡œ ì§€ì •í•œë‹¤. í•„ë“œì— ì§ì ‘ ì ‘ê·¼í•œë‹¤. ì ‘ê·¼ ê¶Œí•œì´ privateì´ì–´ë„ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤. í”„ë¡œí¼í‹° ì ‘ê·¼: AccessType.PROPERTYë¡œ ì§€ì •í•œë‹¤. Getterë¥¼ ì‚¬ìš©í•œë‹¤. ì„¤ì •í•˜ì§€ ì•Šìœ¼ë©´ @idì˜ ìœ„ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì ‘ê·¼ ë°©ì‹ì´ ì„¤ì •ëœë‹¤. 123456789@Entity@Access(AccessType.FIELD)public class Member&#123; @Id private String id; private String data1; private String data2;&#125; @idê°€ í•„ë“œì— ìˆìœ¼ë¯€ë¡œ @access(AccessType.FIELD)ë¡œ ì„¤ì •í•œ ê²ƒê³¼ ê°™ë‹¤. @access ìƒëµê°€ëŠ¥ 12345678910111213141516171819202122@Entity@Access(AccessType.PROPERTY)public class Member&#123; private String id; private String data1; private String data2; @Id public String getId()&#123; return id; &#125; @Column public String getData1()&#123; return data1; &#125; public String getData2()&#123; return data2; &#125;&#125; @idê°€ í”„ë¡œí¼í‹°ì— ìˆìœ¼ë¯€ë¡œ, @access ìƒëµê°€ëŠ¥ 1234567891011121314151617@Entitypublic class Member&#123; @Id private String id; @Transient private String firstName; @Transient private String lastName; private String fullName; @Access(AccessType.PROPERTY) public String getFullName()&#123; return firstName + lastName; &#125; @idê°€ í•„ë“œì— ìˆìœ¼ë¯€ë¡œ ê¸°ë³¸ì€ í•„ë“œ ì ‘ê·¼ ë°©ì‹ ì‚¬ìš©, @getFullName()ë§Œ í”„ë¡œí¼í‹° ì ‘ê·¼ë°©ì‹ì„ ì‚¬ìš©í•œë‹¤. ê²°ê³¼ì ìœ¼ë¡œ íšŒì› ì—”í‹°í‹°ë¥¼ ì €ì¥í•˜ë©´ íšŒì› í…Œì´ë¸”ì˜ FULLNAME ì»¬ëŸ¼ì— firstName + lastName ê²°ê³¼ê°€ ì €ì¥ëœë‹¤. @Accessë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ  https://stackoverflow.com/questions/13874528/what-is-the-purpose-of-accesstype-field-accesstype-property-and-access]]></content>
      <categories>
        <category>jpa</category>
      </categories>
      <tags>
        <tag>ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë°</tag>
        <tag>@Entity</tag>
        <tag>@Table</tag>
        <tag>@Column</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PUT, PATCHì˜ ì°¨ì´]]></title>
    <url>%2Frest%2FPUT-PATCH%EC%9D%98-%EC%B0%A8%EC%9D%B4%2F</url>
    <content type="text"><![CDATA[ì •ì˜ https://stackoverflow.com/questions/28459418/rest-api-put-vs-patch-with-real-life-examples PUTì€ ì „ì²´ ì—”í‹°í‹°ë¥¼ ì „ë‹¬í•´ì¤˜ì•¼í•˜ê³ , PATCHëŠ” ë³€ê²½í•˜ê³ ì í•˜ëŠ” ì†ì„±ë§Œ ì „ë‹¬í•´ì£¼ë©´ ëœë‹¤. 123456789101112// PUT&#123; "name" : "joont", "age" : 27, "sex" : "male", // send all data&#125;// PATCH&#123; "name" : "joont92" // send only data you want to change&#125; PUTì— ì „ë‹¬í•œ ì—”í‹°í‹°ì— ì¼ë¶€ ì†ì„±ì´ ëˆ„ë½ë  ê²½ìš° í•´ë‹¹ ì†ì„±ì€ API í˜¸ì¶œ í›„ ê°’ì´ ìœ ì‹¤ëœë‹¤.(ë§¤ìš° ì¤‘ìš”) PUTì€ ëŒ€ì²´í•œë‹¤ëŠ” ê°œë…ìœ¼ë¡œ ë³´ë©´ ëœë‹¤. ì—†ìœ¼ë©´ ìƒì„±ë„ ëœë‹¤. ì‚¬ë¡€ 123API : item/optionscontent : option listí–‰ìœ„ : ê¸°ì¡´ itemì— ìˆëŠ” optionë“¤ì„ ì „ë¶€ ì§€ìš°ê³ , ì „ë‹¬ë°›ì€ optionë“¤ë¡œ ì „ë¶€ ë‹¤ì‹œ ì¸ì„œíŠ¸í•¨ ìœ„ì²˜ëŸ¼ ìì‹ì˜ ë‚´ìš©ì„ ë‹¤ ì§€ìš°ê³  ë‹¤ì‹œ ì¸ì„œíŠ¸ í•˜ëŠ” í˜•íƒœì˜ APIì˜ ê²½ìš° PUTì´ ì¢€ ë” ë°”ëŒì§í•˜ë‹¤. êµì²´ì˜ ê°œë…ê³¼ ë”± ë§ê¸° ë–„ë¬¸ì´ë‹¤. ê·¼ë° ì—¬ê¸°ì„œ ì „ë‹¬ë°›ì€ optionsì˜ elementì— ì‹ë³„ìê°€ ìˆìœ¼ë©´ update í•œë‹¤ê³  í•  ê²½ìš°, ì´ê±´ PUTì´ ë§ì„ê¹Œ?]]></content>
      <categories>
        <category>rest</category>
      </categories>
      <tags>
        <tag>rest put patch</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[swagger 2.0 ë¬¸ë²•]]></title>
    <url>%2FopenAPI%2Fswagger-2-0-%EB%AC%B8%EB%B2%95%2F</url>
    <content type="text"><![CDATA[ë¬¸ë²• ê¸°ë³¸ êµ¬ì¡° https://swagger.io/docs/specification/2-0/basic-structure/ pathsì— api url, definitionsì— objectë¥¼ ì •ì˜í•´ì„œ ì„œë¡œ ì‚¬ìš© ê°€ëŠ¥ data types https://swagger.io/docs/specification/data-models/data-types/ ê¸°ë³¸ì ìœ¼ë¡œ string, number, integer, boolean, array, object íƒ€ì…ì„ ê°€ì§€ë©° 2.0ì—ì„œ ì € ë§ì€ ì˜µì…˜ë“¤ì„ ë‹¤ ì§€ì›í•˜ëŠ”ì§€ëŠ” ëª¨ë¥´ê³˜ë‹¤. arrayëŠ” í•­ìƒ items ì˜µì…˜ì„ ê°€ì§„ë‹¤. request https://swagger.io/docs/specification/2-0/describing-parameters/ path, query, formData typeë“¤ì„ ë°›ì„ ìˆ˜ ìˆìœ¼ë©° required, default, minimum ë“± ì—¬ëŸ¬ê°€ì§€ ì˜µì…˜ì„ ì¤„ ìˆ˜ ìˆë‹¤. https://swagger.io/docs/specification/2-0/describing-request-body/ body í˜•íƒœì˜ íŒŒë¼ë¯¸í„°ë„ ë°›ì„ ìˆ˜ ìˆë‹¤. path íŒŒë¼ë¯¸í„°ë¥¼ ì œì™¸í•˜ê³  í•˜ë‚˜ë§Œ ë°›ì„ ìˆ˜ ìˆë‹¤. response https://swagger.io/docs/specification/2-0/describing-responses/ response code, header, response data ë“±ì„ ì¤„ ìˆ˜ ìˆë‹¤. response dataë¡œ definitionsì— ì •ì˜í•œ(definitionsëŠ” ê·¸ëƒ¥ ì´ë¦„ì„ ë¿ì„) objectë¥¼ ì¤„ ìˆ˜ ìˆë‹¤. enum https://swagger.io/docs/specification/2-0/enums/ ê¸°ë³¸ì ìœ¼ë¡œ enumì€ string array í˜•íƒœë¡œ ì‘ì„±í•œë‹¤. ê·¸ë¦¬ê³  definitions ì²˜ëŸ¼ ë”°ë¡œ ì„ ì–¸í•´ì„œ ì¬ì‚¬ìš©í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤. parametersì—ì„œëŠ” &amp;ENUMì„ ì‚¬ìš©í•˜ì§€ë§Œ object ë‚´ì—ì„œëŠ” #/definitions/ENUMí˜•íƒœë¡œ ì„ ì–¸í•´ì•¼ í•œë‹¤. 1234567891011121314CategoryType: type: string enum: &amp;CATEGORYTYPE - MAIN - SUBCategoryDTO: title: CategoryDTO type: object properties: externalId: type: string type: enum: *CATEGORYTYPE ì´ëŸ°ì‹ìœ¼ë¡œ ì„ ì–¸í•  ê²½ìš° code-genì—ì„œ ì´ìƒí•œ TypeEnum í˜•íƒœì˜ inner enumì„ generate í•œë‹¤.]]></content>
      <categories>
        <category>openAPI</category>
      </categories>
      <tags>
        <tag>swagger</tag>
        <tag>swagger 2.0</tag>
        <tag>swagger ë¬¸ë²•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[jpa] ì˜ì†ì„± ê´€ë¦¬]]></title>
    <url>%2Fjpa%2F%EC%98%81%EC%86%8D%EC%84%B1-%EA%B4%80%EB%A6%AC%2F</url>
    <content type="text"><![CDATA[ì—”í‹°í‹°ë€? ê°„ë‹¨í•˜ê²Œ DB í…Œì´ë¸”ì— ë§¤í•‘ë˜ëŠ” ìë°” í´ë˜ìŠ¤ë¥¼ ì–˜ê¸°í•œë‹¤. ì´ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ê²°êµ­ RDBì˜ ë ˆì½”ë“œ í•˜ë‚˜ë¡œ ë§¤í•‘ë  ìˆ˜ ìˆë‹¤. ì˜ì†ì„± ê´€ë¦¬ ì˜ì†ì„±ì´ë€ ê°„ë‹¨í•˜ê²Œ ì˜êµ¬íˆ ì €ì¥ë˜ëŠ” ì„±ì§ˆì„ ì–˜ê¸°í•œë‹¤. ORM ì´ê¸° ë–„ë¬¸ì— ì˜êµ¬íˆ ì €ì¥ë˜ëŠ” í™˜ê²½ì€ ë‹¹ì—°íˆ RDBì´ê³ , ì˜êµ¬íˆ ì €ì¥í•  ëŒ€ìƒì€ ì—”í‹°í‹°ì´ë‹¤. JPAì—ì„œëŠ” ì´ í–‰ìœ„ë¥¼ ì—”í‹°í‹° ë§¤ë‹ˆì €ë¼ëŠ” ì• ê°€ ìˆ˜í–‰í•œë‹¤. ì—”í‹°í‹° ë§¤ë‹ˆì € ì´ë¦„ ê·¸ëŒ€ë¡œ ì—”í‹°í‹°ë¥¼ ê´€ë¦¬í•˜ëŠ” ê´€ë¦¬ìì´ë‹¤. ì—”í‹°í‹°ì™€ ê´€ë ¨ëœ ëª¨ë“  ì‘ì—…(ì‚½ì…, ìˆ˜ì •, ì‚­ì œ ë“±)ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤. ì—”í‹°í‹° ë§¤ë‹ˆì €ë¥¼ ìƒì„±í•˜ëŠ” í”Œë¡œìš°ëŠ” ì•„ë˜ì™€ ê°™ë‹¤. ë§¤íƒ€ì •ë³´ ì…ë ¥ 123456789&lt;persistence-unit name="test"&gt; &lt;properties&gt; &lt;property name="javax.persistence.jdbc.driver" value="org.h2.Driver"/&gt; &lt;property name="javax.persistence.jdbc.user" value="sa"/&gt; &lt;property name="javax.persistence.jdbc.password" value=""/&gt; &lt;property name="javax.persistence.jdbc.url" value="jdbc:h2:~/test"/&gt; &lt;property name="hibernate.dialect" value="org.hibernate.dialect.H2Dialect" /&gt; &lt;/properties&gt;&lt;/persistence-unit&gt; ì—”í‹°í‹° ë§¤ë‹ˆì €ê°€ ì‚¬ìš©í•  ë©”íƒ€ì •ë³´ì´ë‹¤. database ì ‘ì† ì •ë³´ ë“±ì´ ì„¤ì •ë˜ì–´ ìˆë‹¤. META-INF/persistence.xmlì— ì…ë ¥í•˜ë©´ ìë™ìœ¼ë¡œ ìŠ¤ìºë‹í•œë‹¤. ì—”í‹°í‹° ë§¤ë‹ˆì € íŒ©í† ë¦¬ ë“±ë¡ ì—”í‹°í‹° ë§¤ë‹ˆì €ëŠ” ì—”í‹°í‹° ë§¤ë‹ˆì € íŒ©í† ë¦¬ë¥¼ í†µí•´ ìƒì„±í•  ìˆ˜ ìˆë‹¤. 1EntityManagerFactory emf = Persistence.createEntityMangerFactory("test"); ì•ì„œ ë“±ë¡í•œ ë©”íƒ€ì •ë³´ë¥¼ í†µí•´ ì—”í‹°í‹° ë§¤ë‹ˆì € íŒ©í† ë¦¬ë¥¼ ìƒì„±í•œë‹¤. ë³´ë‹¤ì‹œí”¼ íŒ©í† ë¦¬ì´ë¯€ë¡œ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ ì‹œ í•œë²ˆë§Œ ìƒì„±í•´ì„œ ê³µìœ í•˜ë„ë¡ í•˜ë©´ ëœë‹¤.(ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ì ‘ê·¼í•´ë„ ì•ˆì „í•¨) ì´ ì‹œì ì— connection poolì„ init í•œë‹¤. J2SEì—ì„œëŠ” ì—”í‹°í‹° ë§¤ë‹ˆì € íŒ©í† ë¦¬ ìƒì„± ì‹œ ì»¤ë„¥ì…˜ í’€ì„ ìƒì„±í•˜ê³ , J2EEì˜ ê²½ìš° ì»¨í…Œì´ë„ˆê°€ ì œê³µí•˜ëŠ” ë°ì´í„° ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤. ì—”í‹°í‹° ë§¤ë‹ˆì € ìƒì„± ë“±ë¡í•œ ì—”í‹°í‹° ë§¤ë‹ˆì € íŒ©í† ë¦¬ì—ì„œ ìƒì„±í•˜ë©´ ëœë‹¤. 12345EntityManager em = emf.creteEntityManger();em.persist(entity); // ë“±ë¡em.find(entity); // ì¡°íšŒem.remove(entity); // ì‚­ì œ ë³´ë‹¤ì‹œí”¼ íŒ©í† ë¦¬ì—ì„œ ë§¤ë²ˆ ìƒì„±í•´ì„œ ì‚¬ìš©í•˜ëŠ” êµ¬ì¡°ì´ë©°, ìƒì„± ì‹œ ë§ˆë‹¤ connectionì„ í•˜ë‚˜ ì¤€ë‹¤ê³  ìƒê°í•˜ë©´ ëœë‹¤. (ì—”í‹°í‹° ë§¤ë‹ˆì €ë¥¼ ìƒì„±í–ˆë‹¤ê³  ë°”ë¡œ ì»¤ë„¥ì…˜ì„ ì–»ëŠ” ê²ƒì€ ì•„ë‹ˆê³ , ì •ë§ í•„ìš”í•  ì‹œì ì— ì»¤ë„¥ì…˜ì„ íšë“í•œë‹¤) ì—¬ê¸°ì„œ ìƒì„±ëœ ì—”í‹°í‹° ë§¤ë‹ˆì €ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•œ ì§ì ‘ì ì¸ í•˜ë‚˜ì˜ ì»¤ë„¥ì…˜ì´ë¯€ë¡œ, ì“°ë ˆë“œê°„ì— ì ˆëŒ€ ê³µìœ í•´ì„œëŠ” ì•ˆëœë‹¤. ê°œë°œì ì…ì¥ì—ì„œëŠ” ì—”í‹°í‹° ë§¤ë‹ˆì €ëŠ” ì—”í‹°í‹°ë¥¼ ì €ì¥í•˜ëŠ” ê°€ìƒì˜ ë°ì´í„°ë² ì´ìŠ¤ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤. ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ìš©ì–´ë¥¼ ì •ì˜í•˜ë©´ ì—”í‹°í‹°ë¥¼ ì˜êµ¬ ì €ì¥í•˜ëŠ” í™˜ê²½ì´ë‹¤. ì—”í‹°í‹° ë§¤ë‹ˆì €ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•  ë•Œ RDBì— ë°”ë¡œ ì ‘ê·¼í•˜ì§€ ì•Šê³ , ì´ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ í†µí•´ ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤. ì¦‰ ì–´í”Œë¦¬ì¼€ì´ì…˜ê³¼ RDB ì‚¬ì´ì— í•˜ë‚˜ ë” ìˆëŠ” ì˜ì—­ì¸ë°, ì´ ì˜ì—­ì„ í†µí•´ ì–»ëŠ” ì´ì ì€ ì•„ë˜ì™€ ê°™ë‹¤.(ë­ë“  ì¤‘ê°„ì— í•˜ë‚˜ ë‘ë©´ ì„±ëŠ¥ ìµœì í™”ë¥¼ í•  ìš”ì†Œê°€ ë§ì•„ì§„ë‹¤) 1ì°¨ ìºì‹œ 1ì°¨ ìºì‹œì˜ í‚¤ëŠ” ì‹ë³„ì ê°’ì´ë‹¤. em.find()ë¥¼ í˜¸ì¶œí•˜ë©´ ë¨¼ì € 1ì°¨ ìºì‹œì—ì„œ ì—”í‹°í‹°ë¥¼ ì°¾ê³  ë§Œì•½ ì—†ìœ¼ë©´ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¡°íšŒí•œë‹¤. ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¡°íšŒí›„ 1ì°¨ ìºì‹œì— ì €ì¥í•œ í›„ì— ì˜ì†ìƒíƒœì˜ ì—”í‹°í‹°ë¥¼ ë°˜í™˜í•œë‹¤. ì´í›„ í•œ íŠ¸ëœì ì…˜ì•ˆì—ì„œëŠ” ì—”í‹°í‹° ì¸ìŠ¤í„´ìŠ¤ëŠ” 1ì°¨ ìºì‹œì— ìˆìœ¼ë¯€ë¡œ ì´ ì—”í‹°í‹°ë¥¼ ì¡°íšŒì‹œ ë©”ëª¨ë¦¬ì— ìˆëŠ” 1ì°¨ ìºì‹œì—ì„œ ë°”ë¡œ ë¶ˆëŸ¬ì˜¤ë¯€ë¡œ ì„±ëŠ¥ìƒì˜ ì´ì ì„ ëˆ„ë¦´ ìˆ˜ ìˆìŒ ë™ì¼ì„± ë³´ì¥ ë™ì¼ì„±ê³¼ ë™ë“±ì„± ==, equal ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ ê´€ë¦¬í•˜ëŠ” ì—”í‹°í‹° ì¸ìŠ¤í„´ìŠ¤ëŠ” ë™ì¼ì„±ì„ ë³´ì¥í•œë‹¤. íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ëŠ” ì“°ê¸° ì§€ì—° ë³€ê²½ ê°ì§€ ì§€ì—° ë¡œë”© ì—”í‹°í‹° ë§¤ë‹ˆì €ê°€ ìƒì„±ë  ë•Œ í•˜ë‚˜ ìƒì„±ëœë‹¤. ë³´ë‹¤ì‹œí”¼ 1ì°¨ ìºì‹œ + ë¶€ê°€ì ì¸ ê¸°ëŠ¥ë“¤ì„ ë¬¶ì–´ì„œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¼ê³  ë¶€ë¥¸ë‹¤. ë ˆì´ì–´ë¡œ ë”± ë‚˜ë‰˜ì–´ì ¸ ìˆëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤. ê¶ê¸ˆí•´ì„œ em.persistì˜ ì†ŒìŠ¤ë¥¼ ì¡°ê¸ˆ ë”°ë¼ê°€ ë³´ë‹¤ë³´ë‹ˆâ€¦ 1ì°¨ ìºì‹œì— ëŒ€í•œ ë‚´ìš©ì„ ì•½ê°„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤. 12345678private Map&lt;EntityKey, Object&gt; entitiesByKey; // 1ì°¨ ìºì‹œ(!) // ... @Overridepublic void addEntity(EntityKey key, Object entity) &#123; entitiesByKey.put( key, entity ); // ì—¬ê¸°! getBatchFetchQueue().removeBatchLoadableEntityKey( key );&#125; ë³´ë‹¤ì‹œí”¼ SaveOrUpdateEventListener ì—ì„œ ì—”í‹°í‹°ë“¤ì„ Mapì— ì €ì¥í•˜ê³  ìˆë‹¤. key, objectì˜ í˜•íƒœë¡œ ì €ì¥í•¨ì„ ë³¼ ìˆ˜ ìˆë‹¤. (keyëŠ” hashCodeì™€ persister(?) ë“±ìœ¼ë¡œ ì¡°í•©ëœ í´ë˜ìŠ¤ì´ë‹¤) ì—”í‹°í‹° í‚¤ë¥¼ ë§Œë“œëŠ” í–‰ìœ„ë¥¼ ê°„ë‹¨íˆ ë³´ë©´ ì•„ë˜ì™€ ê°™ë‹¤. 1final EntityKey key = source.generateEntityKey( event.getRequestedId(), persister ); (ì—”í‹°í‹°ì˜ ì‹ë³„ìê°’(primary key)ì„ í†µí•´ ë§Œë“¤ê³  ìˆë‹¤. ì—”í‹°í‹° ë§¤ë‹ˆì €ì— ì˜í•´ ê´€ë¦¬ë˜ëŸ¬ë©´ ì‹ë³„ìê°’ì€ í•„ìˆ˜ì´ë‹¤!!) ëª¨ë“  í–‰ìœ„ë“¤ì— ëŒ€í•´ ì´ëŸ°ì‹ìœ¼ë¡œ ì €ì¥í•˜ê³ , íŠ¸ëœì­ì…˜ì´ ëë‚˜ëŠ” ì‹œì ì— ì´ëŸ° ì •ë³´ë“¤ì„ ì¢…í•©í•˜ì—¬ ìµœì¢… SQLì„ ë‚ ë¦°ë‹¤ê³  ë³´ë©´ ëœë‹¤.(ì´ í–‰ìœ„ë¥¼ flushë¼ê³  í•œë‹¤) ì˜ë¬¸. PKê°€ ì•„ë‹Œ ë‹¤ë¥¸ ì¡°ê±´ìœ¼ë¡œ ì¡°íšŒí–ˆì„ë•ŒëŠ” ì–´ë–»ê²Œ ë˜ëŠ”ê±´ê°€? ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” 1ì°¨ ìºì‹œì˜ ì—­í• ì„ í•˜ë¯€ë¡œ, ì´ë¯¸ ì¡°íšŒí•´ì˜¨ ì—”í‹°í‹°ì— ëŒ€í•´ì„œëŠ” ì¶”ê°€ ì¡°íšŒë¥¼ í•˜ì§€ ì•Šê³  1ì°¨ ìºì‹œì— ìˆëŠ” ì—”í‹°í‹°ë¥¼ ëŒë ¤ì¤€ë‹¤. ê·¼ë° ë§Œì•½â€¦ ì¡°íšŒì˜ ì¡°ê±´ì„ ë°”ê¿”ì„œ ê²€ìƒ‰í–ˆì„ë•ŒëŠ” ì–´ë–»ê²Œ ë˜ëŠ”ê±¸ê¹Œ? ì˜ˆë¥¼ ë“¤ì–´ findByUserNameContainingìœ¼ë¡œ ì¡°íšŒí•˜ë©´ í•´ë‹¹ ì—”í‹°í‹°ë“¤ì´ ì „ë¶€ 1ì°¨ ìºì‹œì— ì €ì¥ë  ê²ƒì´ë‹¤. ì´í›„ì— ë‹¤ë¥¸ ì¡°ê±´, ì˜ˆë¥¼ ë“¤ë©´ findByUserNickNameContainingìœ¼ë¡œ ì¡°íšŒí–ˆì„ ê²½ìš° ë¶„ëª… ì²«ë²ˆì§¸ ì¡°íšŒ ê²°ê³¼ì™€ ë‘ë²ˆì§¸ ì¡°íšŒ ê²°ê³¼ëŠ” ê²¹ì¹˜ëŠ” ë¶€ë¶„ì´ ìˆì„ ê²ƒì´ë‹¤. ì´ ë¶€ë¶„ì— ëŒ€í•´ì„œ ê·¸ëƒ¥ ì¬ì¡°íšŒë¥¼ í•˜ëŠ”ê±´ì§€, ì•„ë‹ˆë©´ ê²¹ì¹˜ëŠ” ë¶€ë¶„ì€ 1ì°¨ ìºì‹œì˜ ì—”í‹°í‹°ë¥¼ ë°˜í™˜í•´ì£¼ëŠ”ì§€ ê¶ê¸ˆí•˜ë‹¤. í›„ìì˜ ê²½ìš°ê°€ ë” ë¹„íš¨ìœ¨ì ì¼ê²ƒ ê°™ì€ë°â€¦(ë¦¬ìŠ¤íŠ¸ë¼ë¦¬ ì„œë¡œ ëŒë©´ì„œ ì—¬ë¶€ë¥¼ ì²´í¬í•´ì•¼í•˜ê¸° ë•Œë¬¸ì—) ì—”í‹°í‹° ìƒëª…ì£¼ê¸°(ìƒíƒœ) ìœ„ì—ì„œ ì–¸ê¸‰í•œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì €ì¥í•˜ëŠ” í–‰ìœ„ì—ë„ ê²°êµ­ ì¼ì¢…ì˜ ë£°ì´ í•„ìš”í•  ê²ƒì´ë‹¤. ì—¬ê¸°ì„œ ë“±ì¥í•˜ëŠ” ê²ƒì´ ì—”í‹°í‹° ìƒíƒœ ì´ë‹¤. ì—”í‹°í‹° ë§¤ë‹ˆì €ëŠ” ì—”í‹°í‹°ë“¤ì˜ ìƒíƒœë¥¼ í†µí•´ ì—¬ëŸ¬ê°€ì§€ ì‘ì—…ë“¤ì„ ìˆ˜í–‰í•œë‹¤. ì´ë¥¼ ì—”í‹°í‹° ìƒëª…ì£¼ê¸°ë¼ê³  í•œë‹¤. ë¹„ì˜ì† ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì™€ ì „í˜€ ê´€ê³„ì—†ëŠ” ìƒíƒœì´ë‹¤. ê·¸ëƒ¥ ì—”í‹°í‹°ë¥¼ ìƒì„±í•˜ë©´ ë¹„ì˜ì† ìƒíƒœì´ë‹¤. 1Member member = new Member(); // ë¹„ì˜ì† ìƒíƒœ! ì˜ì† ì—”í‹°í‹° ë§¤ë‹ˆì €ë¥¼ í†µí•´ ì—”í‹°í‹°ë¥¼ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì €ì¥í•œ ìƒíƒœë¥¼ ë§í•œë‹¤. (ê°„ë‹¨í•˜ê²Œ ë§í•˜ë©´ ìœ„ì˜ Mapì— ì €ì¥ëœ ìƒíƒœ) ì˜ì†ìƒíƒœë¡œ ì „í™˜í•˜ëŠ” ë²•ì€ ê°„ë‹¨í•˜ë‹¤. em.persistë‚˜ em.findë¥¼ í†µí•´ ì—”í‹°í‹°ë¥¼ ì €ì¥í•˜ê±°ë‚˜ ì¡°íšŒí•˜ê¸°ë§Œ í•˜ë©´ ì˜ì† ìƒíƒœê°€ ëœë‹¤. ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì €ì¥ë˜ê³ , ì—”í‹°í‹° ë§¤ë‹ˆì €ì— ì˜í•´ ê´€ë¦¬ëœë‹¤ëŠ” ëœ»! ì¤€ì˜ì† ì¡°ê¸ˆ íŠ¹ë³„í•œ ìƒíƒœì´ë‹¤. ì˜ì†ìƒíƒœì˜€ë‹¤ê°€ ë¹„ì˜ì†ìƒíƒœë¡œ ë³€í™˜ëœ ì—”í‹°í‹°ë¥¼ ì¤€ì˜ì† ìƒíƒœë¼ê³  í•œë‹¤. em.detach ë©”ì„œë“œë¥¼ í†µí•´ ì „í™˜í•  ìˆ˜ ìˆìœ¼ë©°, ì „í™˜ ì‹œ 1ì°¨ ìºì‹œ, ì“°ê¸°ì§€ì—° ì €ì¥ì†Œì— ì €ì¥ëœ ì •ë³´ë“¤ì´ ëª¨ë‘ ì‚­ì œëœë‹¤. ê²°ê³¼ì ìœ¼ë¡œ ì˜ì†ìƒíƒœê°€ ì•„ë‹ˆê°œ ë˜ëŠ” ê²ƒì´ë¯€ë¡œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ ì œê³µí•˜ëŠ” ëª¨ë“  ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. 12345em.persist(member); // ì˜ì† ìƒíƒœmember = em.detach(member); // ì¤€ì˜ì† ìƒíƒœmember.setName("changed name"); // update ë°œìƒí•˜ì§€ ì•ŠìŒ em.detachì™¸ì—ë„ em.clearë¥¼ í†µí•´ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ë‚´ì˜ ëª¨ë“  ì—”í‹°í‹°ë¥¼ ì§€ì›Œë²„ë¦¼ìœ¼ë¡œì¨ ì¤€ì˜ì† ìƒíƒœë¡œ ë§Œë“¤ ìˆ˜ ìˆê³ , em.closeë¥¼ í†µí•´ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì¢…ë£Œí•´ë²„ë¦¼ìœ¼ë¡œì¨ ì¤€ì˜ì† ìƒíƒœë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ë¹„ì˜ì† ìƒíƒœì™€ ë³„ ë‹¤ë¥¼ê²ƒ ì—†ì§€ë§Œ í•˜ë‚˜ í™•ì‹¤í•œ ê²ƒì€, ì‹¤ì¡´í•˜ëŠ” ë°ì´í„°ë¼ëŠ”ê²Œ ì¦ëª…ì´ ëœë‹¤ëŠ” ê²ƒì´ë‹¤. (ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ë“¤ì–´ê°”ì—ˆìœ¼ë©´ ë“±ë¡ë˜ê±°ë‚˜, ì¡°íšŒë˜ì–´ì§„ ë°ì´í„°ì´ë¯€ë¡œ) ì‹¤ì œë¡œ ê°œë°œìê°€ ì¤€ì˜ì† ìƒíƒœë¥¼ í™œìš©í•  ê²½ìš°ëŠ” ê±°ì˜ ì—†ë‹¤. í–‰ìœ„ ì¡°íšŒ em.findë¥¼ í†µí•´ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•´ì˜¬ ìˆ˜ ìˆë‹¤. ë°”ë¡œ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¡°íšŒí•´ì˜¤ëŠ” ê²ƒì€ ì•„ë‹ˆê³ , ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ê±°ì³ì„œ ì¡°íšŒí•œë‹¤. ì²˜ìŒ em.findë¥¼ í†µí•´ ì˜¤ë¸Œì íŠ¸ë¥¼ ì°¾ìœ¼ë©´ ë¨¼ì € ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— í•´ë‹¹ ì˜¤ë¸Œì íŠ¸(keyë¡œ ì¡°íšŒ)ê°€ ìˆëŠ”ì§€ ì°¾ê³  ìˆìœ¼ë©´ dbë¡œ ê°€ì§€ ì•Šê³  ê·¸ ì˜¤ë¸Œì íŠ¸ë¥¼ ë°”ë¡œ ë¦¬í„´í•˜ê³ , ì—†ìœ¼ë©´ dbì—ì„œ ì¡°íšŒí•´ì˜¨ ë’¤ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì €ì¥í•˜ê³  ê·¸ ì˜¤ë¸Œì íŠ¸ë¥¼ ë¦¬í„´í•œë‹¤. ì–´í”Œë¦¬ì¼€ì´ì…˜ ë ˆë²¨ì—ì„œ ìºì‹±ì´ ê°€ëŠ¥í•˜ë‹¨ ëœ»ì´ë‹¤! 1234Member member1 = em.find(Member.class, "joont92");Member member2 = em.find(Member.class, "joont92");assertSame(member1, member2); // success í•˜ì´ë²„ë„¤ì´íŠ¸ì™€ ê°™ì€ ORM í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ë‹¤ë©´ ë™ì¼í•œ ë ˆì½”ë“œì„ì—ë„ ë¶ˆêµ¬í•˜ê³  ì¿¼ë¦¬ë¥¼ ë‘ë²ˆ ë‚ ë¦¬ëŠ” ê²°ê³¼ê°€ ë°œìƒí–ˆì—ˆì„ ê²ƒì´ë‹¤. ë“±ë¡ em.persistë¥¼ í†µí•´ ì—”í‹°í‹°ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ë“±ë¡í•  ìˆ˜ ìˆë‹¤. (ì •í™•íˆ ì–˜ê¸°í•˜ë©´ persistëŠ” í•´ë‹¹ ì—”í‹°í‹°ë¥¼ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ë“±ë¡í•˜ë¼ëŠ” ì˜ë¯¸ì´ë‹¤. ë’¤ì— ë‚˜ì˜¬ @GeneratedValueì˜ íŠ¹ì§• ë–„ë¬¸ì— persist == ì €ì¥ ì´ë¼ê³  ì°©ê°í•  ìˆ˜ ìˆëŠ”ë°, ì´ëŠ” í‹€ë ¸ë‹¤) í•´ë‹¹ ë©”ì„œë“œë¥¼ ì‹¤í–‰í•¨ê³¼ ë™ì‹œì— ë°ì´í„°ë² ì´ìŠ¤ì— ë°”ë¡œ ì €ì¥í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆê³ , ë¨¼ì € ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì €ì¥í•œë‹¤. ê·¼ë° ì—¬ê¸°ì„œ ë‹¨ìˆœíˆ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì €ì¥í•˜ëŠ” ì‘ì—…ë§Œì„ í•˜ëŠ”ê²ƒì€ ì•„ë‹ˆê³ , ì“°ê¸°ì§€ì—° SQL ì €ì¥ì†Œë¼ëŠ” ê³³ì— insert ì¿¼ë¦¬ë¥¼ ë“±ë¡í•˜ëŠ” ì‘ì—…ê¹Œì§€ ë™ì‹œì— ì§„í–‰í•œë‹¤. ê·¸ë¦¬ê³  ë§ˆì§€ë§‰ì— flushê°€ ì¼ì–´ë‚˜ë©´ ì—¬ê¸°ì— ì €ì¥ëœ SQLì„ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ë°œì‚¬!í•˜ëŠ” ê²ƒì´ë‹¤. ì´ëŸ°ì‹ìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ë°”ë¡œ ë‚ ë¦¬ì§€ ì•Šê³  ì“°ê¸°ì§€ì—°ì„ ìˆ˜í–‰í•˜ëŠ” ì´ìœ ëŠ”, ë„¤íŠ¸ì›Œí¬ í†µì‹  íšŸìˆ˜ë¥¼ ì¤„ì—¬ ì´ë“ì„ ì·¨í•˜ê¸° ìœ„í•¨ì´ë‹¤. ì¶”í›„ì— ë‚˜ì˜¤ê² ì§€ë§Œ auto_generate keyë¥¼ ì‚¬ìš©í•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì´ flowëŒ€ë¡œ ì§„í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤. key ê°’ì„ ì–»ì–´ì˜¤ê¸° ìœ„í•´ persistì™€ ë™ì‹œì— insert ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•´ë²„ë¦°ë‹¤. ì–´ë–»ê²Œ ì“°ê¸° ì§€ì—°ì´ ê°€ëŠ¥í• ê¹Œ? ë°ì´í„°ë² ì´ìŠ¤ì— íŠ¸ëœì­ì…˜ì´ë¼ëŠ” ê°œë…ì´ ìˆê¸° ë•Œë¬¸ì´ë‹¤. ë°ì´í„°ë² ì´ìŠ¤ì— DMLì„ ì•„ë¬´ë¦¬ ë‚ ë ¤ë„ commitì„ í•˜ì§€ ì•Šìœ¼ë©´ ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” íŠ¹ì§•ì„ ì´ìš©í•˜ì—¬ ì“°ê¸° ì§€ì—°ì„ ê°€ëŠ¥í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤. ë°ì´í„°ë² ì´ìŠ¤ì— ì§ì ‘ ë‚ ë¦¬ì§€ ì•Šê³  ì¿¼ë¦¬ë¥¼ ë©”ëª¨ë¦¬ì— ì €ì¥í•´ë‘ëŠ” ë°©ì‹ìœ¼ë¡œ ê°€ëŠ¥í•˜ë‹¤. ìˆ˜ì • ìˆ˜ì •ì€ ë”±íˆ ë©”ì„œë“œê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤. ì´ëŠ” JPAì— ë³€ê²½ê°ì§€ë¼ëŠ” íŠ¹ì§•ì´ ìˆê¸° ë•Œë¬¸ì´ë‹¤. ì—”í‹°í‹°ê°€ ì²˜ìŒìœ¼ë¡œ ì˜ì†ìƒíƒœì— ë“¤ì–´ê°ˆ ê²½ìš°, Mapì— ì €ì¥ë§Œ í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì´ˆê¸° ì—”í‹°í‹°ì˜ ìŠ¤ëƒ…ìƒ·ì´ë¼ëŠ” ê²ƒì„ ì°ì–´ë‘”ë‹¤. ê·¸ë¦¬ê³  ë§ˆì§€ë§‰ flushê°€ ì¼ì–´ë‚  ë•Œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì €ì¥ëœ ì—”í‹°í‹°ì˜ ì†ì„± ê°’ë“¤ê³¼ ì—”í‹°í‹° ìŠ¤ëƒ…ìƒ·ì˜ ì†ì„± ê°’ë“¤ì„ ë¹„êµí•œë‹¤. ë©”ì„œë“œ ì‹¤í–‰ ì‹œì ì— ì¿¼ë¦¬ë¥¼ ìŒ“ëŠ” ë‹¤ë¥¸ ë©”ì„œë“œë“¤ê³¼ëŠ” ë‹¬ë¦¬, ì—”í‹°í‹° ë§¤ë‹ˆì €ê°€ flushë  ë•Œ ì¿¼ë¦¬ë¥¼ ìƒì„±í•œë‹¤. ì¦‰, ì‹œì ì´ ë‹¤ë¥´ë‹¤. deep íƒìƒ‰ê¹Œì§„ í•˜ì§€ ì•ŠëŠ”ë‹¤(listì˜ memberë“¤ê¹Œì§€ íƒìƒ‰í•˜ì§€ëŠ” ì•ŠìŒ) ê·¸ë¦¬ê³  ë³€ê²½ì´ ì¼ì–´ë‚¬ì„ ê²½ìš° update ë©”ì„œë“œë¥¼ ìƒì„±í•˜ì—¬ ì´ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ë°œì‚¬í•œë‹¤.(ë³€ê²½ ê°ì§€) (ì´ëŸ¬í•œ ë¡œì§ì´ë¯€ë¡œ ë”°ë¡œ dirty checkê°€ í•„ìš”ì—†ë‹¤) ìƒì„±ë˜ëŠ” updateë¬¸ì˜ í˜•íƒœ ì‹¤ì œë¡œ updateë¥¼ ë°œìƒì‹œì¼œë³´ë©´ ì•Œê² ì§€ë§Œ, ì—…ë°ì´íŠ¸ê°€ ë°œìƒí•˜ëŠ” íŠ¹ì • ì†ì„±ì— ëŒ€í•´ì„œë§Œ ì—…ë°ì´íŠ¸ í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì „ì²´ ì˜¤ë¸Œì íŠ¸ì— ëŒ€í•´ ì—…ë°ì´íŠ¸ë¥¼ ì‹¤í–‰í•˜ëŠ” ì¿¼ë¦¬ê°€ ìƒì„±ëœë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ë§¤ë²ˆ ì‚¬ìš©í•˜ëŠ” ìˆ˜ì • ì¿¼ë¦¬ê°€ ê°™ë‹¤ëŠ” ì ì„ ì´ìš©í•œ ê²ƒì´ê³ , ì†ì„± í•˜ë‚˜í•˜ë‚˜ì— ëŒ€í•´ ì¿¼ë¦¬ë¥¼ ë‹¤ ìƒì„±í•´ë†“ì§€ ì•Šì•„ë„ ëœë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤(ì§„ì§œ ì¥ì ì¸ê°€) JPAê°€ ë¡œë”© ì‹œì ì— ì—…ë°ì´íŠ¸ ì¿¼ë¦¬ë¥¼ ë¯¸ë¦¬ ìƒì„±í•´ë‘”ë‹¤. í•˜ì§€ë§Œ í•„ë“œì˜ ë‚´ìš©ì´ ë„ˆë¬´ ë§ì„ ê²½ìš° ë§¤ë²ˆ ì´ëŸ°ì‹ìœ¼ë¡œ í’€ ì—…ë°ì´íŠ¸ ì¿¼ë¦¬ë¥¼ ë‚ ë¦¬ëŠ” ê²ƒì€ ë¹„íš¨ìœ¨ì ì´ë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ëª¨ë“  ì»¬ëŸ¼ì„ ë‹¤ ë³´ë‚´ëŠ”ê²ƒ ìì²´ê°€ ë°ì´í„° ì „ì†¡ëŸ‰ ë‚­ë¹„ì´ê¸° ë•Œë¬¸ì´ë‹¤. ì´ë•ŒëŠ” ì•„ë˜ì™€ ê°™ì´ @DynamicUpdate ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ë©´ ìˆ˜ì •ëœ ë°ì´í„°ì— ëŒ€í•´ì„œë§Œ updateë¥¼ ì‹¤í–‰í•˜ëŠ” ì¿¼ë¦¬ë¥¼ ìƒì„±í•œë‹¤. 123456@Entity@Table(name = "MEMBER")@org.hibernate.annotations.DynamicUpdateclass Member&#123;&#125; ìƒí™©ì— ë”°ë¼ ë‹¤ë¥´ì§€ë§Œ í•„ë“œê°€ 30ê°œê°€ ë„˜ì–´ê°€ë©´ ìœ„ì™€ ê°™ì´ @DynamicUpdateë¥¼ ì“°ëŠ” ê²ƒì´ ì¢‹ë‹¤ê³  í•œë‹¤. ê·¸ë¦¬ê³  ê·¸ ì´ì „ì—, 30ê°œê°€ ë„˜ì–´ê°€ëŠ” í…Œì´ë¸”ì´ë©´ ì •ê·œí™”ê°€ ì œëŒ€ë¡œ ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê³ ë¯¼ì´ ì„ í–‰ë˜ì–´ì•¼ í•  ê²ƒì´ë‹¤. ì‚­ì œ ì—”í‹°í‹°ë¥¼ ì‚­ì œí•˜ë ¤ë©´ ë¨¼ì € ì‚­ì œ ëŒ€ìƒ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•´ì•¼ í•œë‹¤. 12Member member = em.find(Member.class, "joont92");em.remove(member); em.detach + delete ì¿¼ë¦¬ë¼ê³  ë³´ë©´ ëœë‹¤. ë©”ì„œë“œë¥¼ ì‹¤í–‰í•˜ë©´ í•´ë‹¹ ì—”í‹°í‹°ëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ detach ëœë‹¤(ê·¸ë¦¬ê³  delete ì¿¼ë¦¬ë¥¼ ì“°ê¸°ì§€ì—° SQL ì €ì¥ì†Œì— ì €ì¥?) ë³‘í•© ì¤€ì˜ì† ìƒíƒœì¸ ì—”í‹°í‹°ë¥¼ ë‹¤ì‹œ ì˜ì†ìƒíƒœë¡œ ë§Œë“œëŠ” í–‰ìœ„ë¥¼ ë§í•œë‹¤. em.merge ë©”ì„œë“œë¥¼ ì‚¬ìš©í•œë‹¤. 1Member foundMember = em.merge(member); memberëŠ” ì˜ì†ì„± ìƒíƒœì—ì„œ ì œê±°ëœ ì¤€ì˜ì† ìƒíƒœì´ë¯€ë¡œ ì‹ë³„ìë¥¼ ê°€ì§€ê³  ìˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ìœ„ ë©”ì„œë“œ ì‹¤í–‰ ì‹œ, í•´ë‹¹ ì‹ë³„ìë¡œ ì¡°íšŒì¿¼ë¦¬ê°€ ë‚ ë¼ê°€ì„œ í•´ë‹¹ ì—”í‹°í‹°ê°€ ì˜ì†í™”ë  ìˆ˜ ìˆëŠ”ì§€(ì‹¤ì œ ì¡´ì¬í•˜ëŠ”ì§€) ì²´í¬í•˜ê²Œ ëœë‹¤. ìˆë‹¤ë©´ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì €ì¥í•˜ê³ , ìƒˆë¡œìš´ ì—”í‹°í‹°ë¥¼ ë¦¬í„´í•œë‹¤. ì¦‰, foundMemberì™€ memberëŠ” ê°™ì§€ ì•Šë‹¤. ê¸°ì¡´ JPA ëª…ì„¸ì— ë”°ë¥´ë©´, ì „ë‹¬ë°›ì€ ì‹ë³„ìë¡œ í•´ë‹¹ ì—”í‹°í‹°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ì„ ê²½ìš°(ì‹ë³„ìê°€ ì „ë‹¬ë˜ì§€ ì•Šì€ ê²½ìš°ë„ ë§ˆì°¬ê°€ì§€) IllegalArgumentExceptionì´ ë°œìƒí•˜ê²Œ ëœë‹¤. í•˜ì§€ë§Œ hibernate ì—ì„œëŠ” ì´ëŸ´ ê²½ìš° ê·¸ëƒ¥ ìƒˆë¡œ ì €ì¥í•´ì£¼ê³ , ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ë“±ë¡í•˜ì—¬ ë¦¬í„´í•´ì¤€ë‹¤.(@GeneratedValueì¼ ê²½ìš° ì‹ë³„ì generate, ì•„ë‹ ê²½ìš° ì „ë‹¬ë°›ì€ ì‹ë³„ìë¡œ ë“±ë¡í•œë‹¤) flush ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ë³€ê²½ ë‚´ìš©ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ë°˜ì˜í•˜ëŠ” í–‰ìœ„ì´ë‹¤.(ì»¤ë°‹ë˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤) ì“°ê¸°ì§€ì—° SQLì— ì €ì¥ëœ SQLë“¤ì„ ë°œì‚¬!í•˜ê³ , ìœ„ì—ì„œ ì–¸ê¸‰í–ˆë“¯ì´ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ë“¤ì–´ìˆëŠ” ì˜¤ë¸Œì íŠ¸ì™€ ìŠ¤ëƒ…ìƒ·ì„ ë¹„êµí•˜ì—¬ ì—…ë°ì´íŠ¸ ì¿¼ë¦¬ë¥¼ ìƒì„±í•œ ë’¤, ì—…ë°ì´íŠ¸ ì¿¼ë¦¬ë¥¼ ìƒì„±í•˜ì—¬ ë°œì‚¬!í•œë‹¤. flushë¥¼ ë°œìƒì‹œí‚¤ëŠ” ë°©ë²•ì€ 3ê°€ì§€ ì •ë„ê°€ ìˆë‹¤. em.flush() ë©”ì„œë“œë¥¼ ì§ì ‘ í˜¸ì¶œ ê±°ì˜ ì‚¬ìš©í•  ì¼ì´ ì—†ë‹¤ íŠ¸ëœì­ì…˜ ì»¤ë°‹ ì‹œ í”ŒëŸ¬ì‹œ ìë™ í˜¸ì¶œ flush í•˜ì§€ ì•Šê³  commit í•  ê²½ìš°, SQLì´ í•˜ë‚˜ë„ ì‹¤í–‰ë˜ì§€ ì•Šì€ ìƒíƒœì´ê¸° ë–„ë¬¸ì— ì•„ë¬´ëŸ° ì¼ë„ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤. JPAì—ì„œëŠ” ì´ëŸ° ìƒí™©ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ commitì‹œ flushë¥¼ ìë™ìœ¼ë¡œ í˜¸ì¶œí•œë‹¤. JPQL ì‹¤í–‰ ì‹œ í”ŒëŸ¬ì‹œ ìë™ í˜¸ì¶œ JPQLì€ í˜¸ì¶œì‹œì— SQLë¡œ ë³€í™˜ë˜ì–´ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì¡°íšŒí•´ì˜¤ëŠ”ë°, ì´ëŸ´ë ¤ë©´ ë ˆì½”ë“œë“¤ì´ ì´ë¯¸ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤. persistì™€ JQPL í˜¸ì¶œ ì‘ì—…ì„ í•œ íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ í•˜ëŠ” í–‰ìœ„ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ìœ„ì™€ ê°™ì´ ì²˜ë¦¬í•œ ë“¯ í•˜ë‹¤. í”ŒëŸ¬ì‹œ ëª¨ë“œë¥¼ ë³€ê²½í•˜ë ¤ë©´ javax.persistence.FlushModeTypeì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤. FlushModeType.AUTO : ì»¤ë°‹ì´ë‚˜ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•  ë•Œ í”ŒëŸ¬ì‹œ(default) FlushModeType.COMMIT : ì»¤ë°‹í•  ë•Œë§Œ í”ŒëŸ¬ì‹œ flushë¥¼ í•œë‹¤ê³  í•´ì„œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ ì—”í‹°í‹°ê°€ ì§€ì›Œì§€ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤!! (ì´ê±¸ ì‹ ê²½ì“¸ ì¼ì´ ìˆê³˜ëŠëƒë§Œâ€¦)]]></content>
      <categories>
        <category>jpa</category>
      </categories>
      <tags>
        <tag>ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë°</tag>
        <tag>ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸</tag>
        <tag>ì—”í‹°í‹° ë§¤ë‹ˆì €</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[27ì‚´, 2ë²ˆì§¸ ì´ì§]]></title>
    <url>%2Flife%2F27%EC%82%B4-2%EB%B2%88%EC%A7%B8-%EC%9D%B4%EC%A7%81%2F</url>
    <content type="text"><![CDATA[2018ë…„ 6ì›” ë§. ë‹¤ë‹ˆê³  ìˆë˜ 2ë²ˆì§¸ íšŒì‚¬ë¥¼ í‡´ì‚¬í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ë²ˆ ì´ì§ ê³¼ì •ì—ì„œ ì¸í„°ë„·ì— ê³µìœ ëœ ì—¬ëŸ¬ ê¸€ë“¤ì„ í†µí•´ ë§ì€ ë„ì›€ì„ ì–»ì—ˆê³ , ë¸”ë¡œê·¸ì— ì´ì§ ê´€ë ¨ ê¸€ ì˜¬ë¦¬ì‹  ë¶„ë“¤ì´ ë‚˜ë¦„ ë©‹ìˆì–´ë³´ì—¬ì„œ(â€¦) ì´ì§ ì„±ê³µí•˜ë©´ ê¸€ì„ ì˜¬ë ¤ì•¼ê² ë‹¤ê³  ìƒê°í–ˆì—ˆìŠµë‹ˆë‹¤ ã…ã… ê·¸ë¦¬ê³  ì„±ê³µì ìœ¼ë¡œ ì´ì§ì„ í•˜ì˜€ê³ â€¦ ì´ì œ ì¶œê·¼í•œì§€ 4ì£¼ ì •ë„ ë˜ì—ˆë„¤ìš”. ë„ˆë¬´ ê°„ë§Œì— ì¼ì„ í•´ì„œ(4ê°œì›”ì´ë‚˜ ì‰¬ì—ˆì–´ìš” ã… ã… ) ì •ì‹ ì„ ëª» ì°¨ë¦¬ë‹¤ê°€â€¦ ì´ì œì„œì•¼ ê¸€ì„ ì˜¬ë¦½ë‹ˆë‹¤! ì´ë²ˆ ì´ì§ ê³¼ì •ì—ì„œ ê°œì¸ì ìœ¼ë¡œ ë§¤ìš° ì„±ì¥í–ˆë‹¤ê³  ìƒê°ë˜ì–´ì„œ, ë¯¸í¡í•˜ì§€ë§Œ ì œ ê²½í—˜ì„ ê³µìœ í•´ë³´ë ¤ê³  í•©ë‹ˆë‹¤. ë³´ì‹œëŠ” ë¶„ë“¤ì—ê²Œë„ í˜¹ì‹œë‚˜ ì¢‹ì€ ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆìœ¼ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤. ğŸ˜Š 2018ë…„ 4ì›” ì´ë•Œê°€ í‡´ì‚¬ë¥¼ ê²°ì‹¬í•˜ê²Œ ëœ ì‹œê¸°ì˜€ìŠµë‹ˆë‹¤. í‡´ì‚¬ë¥¼ ê²°ì‹¬í•˜ê³  ë¯¸êµ­í–‰ ë¹„í–‰ê¸°í‘œë¥¼ ëŠì–´ë²„ë¦° ì‹œì ì´ê¸°ë„ í•˜ì§€ìš” ã…‹.ã…‹ ë¶€ë„ëŸ½ì§€ë§Œ ì•„ë§ˆë„ ì²˜ìŒìœ¼ë¡œ íšŒì‚¬ì— ëŒ€í•´ ì§„ì§€í•˜ê²Œ ìƒê°í•´ë³¸ ë•Œì˜€ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ì´ì „ê¹Œì§€ëŠ” ë³„ ìƒê°ì—†ì´ íšŒì‚¬ì—ì„œ ë¶™ì—¬ì£¼ê³  ì¡°ê±´ë§Œ ë‚˜ì˜ì§€ ì•Šìœ¼ë©´ ë°”ë¡œ ê°”ì—ˆê±°ë“ ìš”â€¦ ê·¸ë˜ì„œ ì´ë•Œ íšŒì‚¬ê°€ 2ë²ˆì§¸ íšŒì‚¬ì˜€ëŠ”ë°, ê°œë°œìë¡œ ë©´ì ‘ì„ ë³¸ ê²½í—˜ì€ ë”± 2ë²ˆì´ì—ˆìŠµë‹ˆë‹¤. ì§„ì§€í•˜ì§€ë„ ëª»í•˜ê³ , ì‹œì•¼ë„ ì¢ì•˜ë˜ê±°ì£ . í•˜ì§€ë§Œ ì‹œê°„ì´ ì§€ë‚˜ê³ , ì—¬ëŸ¬ê°€ì§€ ê²½í—˜ì„ í•¨ìœ¼ë¡œì¨ ì €ì—ê²Œë„ ë‚˜ë¦„ì˜ ê°€ì¹˜ê´€ì´ ì •ë¦½ë˜ê¸° ì‹œì‘í–ˆê³ â€¦ ì›í•˜ëŠ” ê¸°ì—…ì˜ í˜•íƒœë„ ìƒê¸°ê²Œ ë˜ë”ë¼ê³ ìš”. ê·¸ë˜ì„œ ë§ì€ ê³ ë¯¼ì„ í–ˆì—ˆê³ , ê²°êµ­ì—ëŠ” ê·¸ë§Œë‘ìëŠ” ê²°ë¡ ì„ ë‚´ë¦¬ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. (ì‚¬ì‹¤ì€ 3ë…„ ì¯¤ ì¼í•˜ë‹ˆê¹Œ 1ë‹¬ ì •ë„ ì‰¬ê³  ì‹¶ì—ˆë˜ ê²ƒë„ í½ë‹ˆë‹¤) ê²°ë¡ ì„ ë‚´ë¦¼ê³¼ ë™ì‹œì— ë¯¸êµ­í–‰ ë¹„í–‰ê¸°ë„ ëŠì–´ë²„ë ¸ìŠµë‹ˆë‹¤ ã…‹ã…‹ã…‹ ì²˜ìŒìœ¼ë¡œ ì‰¬ì–´ë³´ëŠ”ê±° ì˜€ê±°ë“ ìš”(ë‘ë²ˆì§¸ íšŒì‚¬ë¡œ ì˜¬ë–„ëŠ” í…€ì´ ì—†ì—ˆìŒ) ì¶œêµ­ì´ 6ì›” ë§ì´ì—ˆê¸° ë–„ë¬¸ì— ê·¸ ì‹œì  ì´í›„ë¡œ 2ë‹¬ ì •ë„ ì¼ì„ ë” í•˜ë©° ë§ˆë¬´ë¦¬í•˜ê³ , 2018ë…„ 6ì›” ì¤‘ìˆœì— ìµœì¢…ì ìœ¼ë¡œ í‡´ì‚¬í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ì›í•˜ëŠ” íšŒì‚¬ ì € ì‹œì ì¯¤ì— ìƒê¸´ ì›í•˜ëŠ” íšŒì‚¬ì˜ ì¡°ê±´ì€ ì•„ë˜ì™€ ê°™ì•˜ìŠµë‹ˆë‹¤. ê°œë°œìê°€ ë§ì•˜ìœ¼ë©´ ì¢‹ê² ë‹¤ í•­ìƒ ì†Œê·œëª¨ ê°œë°œíŒ€ì—ë§Œ ìˆì–´ì„œ ì´ëŸ° í™˜ìƒì´ ì¢€ ì¡´ì¬í–ˆì—ˆìŠµë‹ˆë‹¤. ê°œë°œìê°€ ëª‡ì‹­ëª… ìˆìœ¼ë©´ ì§„ì§œ ì–´ë²¤ì ¸ìŠ¤ ëŠë‚Œë„ ë‚  ê±°ê°™ê³ â€¦ ê·¸ë ‡ê²Œ ê°™ì´ íŒ€ì›Œí¬í•˜ë©´ì„œ í”„ë¡œì íŠ¸ ì§„í–‰í•˜ê³ â€¦ í•˜ë©´ ì¬ë°Œì„ ê±° ê°™ë‹¨ ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤. (ê°œì¸ì ìœ¼ë¡œ ì´ì „ íšŒì‚¬ì—ì„œ í˜¼ìì„œ í”„ë¡œì íŠ¸ í•˜ëŠ”ê²ƒì´ ì¢€ í˜ë“¤ì—ˆìŠµë‹ˆë‹¤ ã… .ã… ) ì½”ë“œë¦¬ë·°ê°€ ìˆìœ¼ë©´ ì¢‹ê² ë‹¤ ì½”ë“œë¦¬ë·° ë¬¸í™”ê°€ ì¢‹ì€ê²ƒë§Œ ì•Œê³ â€¦ í•œë²ˆë„ ê²ªì–´ë³´ì§€ë¥¼ ëª»í•´ì„œ ê¼­ ì´ëŸ° ë¬¸í™”ê°€ ìˆëŠ” ê¸°ì—…ì´ì—ˆìœ¼ë©´ í–ˆìŠµë‹ˆë‹¤. ê¸°ìˆ  ìŠ¤íƒì´ ë†’ì•˜ìœ¼ë©´ ì¢‹ê² ë‹¤ ë¬´ì¡°ê±´ì ìœ¼ë¡œ ì‹ ê¸°ìˆ ì„ ì‚¬ìš©í–ˆìœ¼ë©´ ì¢‹ê² ë‹¤ëŠ” ì•„ë‹ˆì§€ë§Œ, ì¢‹ì€ ê²ƒë“¤ì€ ë‹¤ ì¼ìœ¼ë©´ ì¢‹ê² ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤! (Java8ë„ ì“°ê³ , JPAë„ ì“°ê³ , AWSë„ ì“°ê³ , MSAë„ í•˜ê³ â€¦!) ITê°€ ì£¼ ìˆ˜ìµëª¨ë¸ì¸ IT ê¸°ì—…ì´ë©´ ì¢‹ê² ë‹¤ ì´ë˜ì•¼ë§Œ ê°œë°œ ì¡°ì§ì— ì—­ëŸ‰ì´ ì§‘ì¤‘ ë  ê±°ë¼ê³  ìƒê°í•©ë‹ˆë‹¤. ì›”ê¸‰ì„ ì˜ ì£¼ë©´â€¦(ë§ì´ ì£¼ë©´?!) ì¢‹ê² ë‹¹â€¦ ëˆ ë§ì´ ë°›ê³  ì‹¶ì€ê±´ ëˆ„êµ¬ë‚˜ ê·¸ëŸ¬ë‹ˆê¹Œìš”â€¦ ã…ã…ã… (ì›”ê¸‰ ë°€ë¦¬ëŠ” ê²½í—˜ë„ ë‹¹í•´ë´ì„œ ã… ã… ) ë‚˜ì˜ í˜„ìœ„ì¹˜? ìŠ¤í™ì€ ê·¸ëƒ¥â€¦ ë³„ ê±° ì—†ìŠµë‹ˆë‹¤â€¦ ëŒ€í•™ì€ ë­ ê°€ìë§ˆì ê±°ì˜ ë°”ë¡œ ê´€ë‘ê³ â€¦ í•™ì€ì œë¡œ í•™ì‚¬ ë•„ìŠµë‹ˆë‹¤ ê°œë°œì€ ë¶€ì‚°ì—ì„œ êµ­ë¹„ì§€ì› êµìœ¡ì„ ë°›ìœ¼ë©´ì„œ ì²˜ìŒ ë°°ìš°ê³ , ìˆ˜ë£Œí•˜ê³  ì„œìš¸ì— ì·¨ì—…í–ˆìŠµë‹ˆë‹¤. íšŒì‚¬ëŠ” ì´ 2ê°œë¥¼ ë‹¤ë…”ê³ , ì´ ê²½ë ¥ì€ 3ë…„ ì •ë„ì˜€ìŠµë‹ˆë‹¤. ê³µê³µê¸°ê´€ SI/SM(1ë…„ ë°˜ ì •ë„) ì‚¬ì‹¤â€¦ ì—¬ê¸°ëŠ” ê²½ë ¥ì´ë¼ê³  í•˜ê¸´ ì¢€ ê·¸ë ‡ìŠµë‹ˆë‹¤â€¦ ê°œë°œì„ ì•ˆí–ˆê±°ë“ ìš”â€¦ã…‹ã…‹;; htmlì´ë‚˜ ì¢€ ê³ ì¹˜ê³ , cs ì—…ë¬´ ê°™ì€ê±° í–ˆë˜ê±° ê°™ë„¤ìš”â€¦ ì •ë§ ìµœì•… ã… ã…  1ë…„ì¯¤ ë„˜ì—ˆì„ë•Œ ê°œë°œ ìŠ¤í„°ë””ë¥¼ í•˜ë‚˜ ì‹œì‘í•˜ê²Œ ë˜ì—ˆê³ , ê±°ê¸°ì„œ ë‹¤ë¥¸ ê°œë°œìë¶„ë“¤ì„ ë§Œë‚¬ê³ , í˜„ì‹¤ì„ ì§ì‹œí•˜ê³  ë°”ë¡œ í‡´ì‚¬í–ˆìŠµë‹ˆë‹¤ ë§›ì§‘ ì¶”ì²œ ì„œë¹„ìŠ¤(ì—¬ê¸°ë„ 1ë…„ ë°˜ ì •ë„) ì—¬ê¸°ì„œ ë§ì€ê±¸ ë°°ìš°ê³ , ë§ì€ ê²½í—˜ì„ í–ˆìŠµë‹ˆë‹¤. ì‚¬ì‹¤ìƒ ì œ ê²½ë ¥ì€ ì—¬ê¸° ë‹¤ ìˆë‹¤ê³  ë³´ëŠ”ê²Œ ë‚«ê² ë„¤ìš” ã…ã… ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œë¥¼ ê°™ì´ í–ˆì—ˆìŠµë‹ˆë‹¤. ë¯¸êµ­ ê°”ë‹¤ì™€ì„œ ì •ë¦¬í•œë²ˆ í•˜ê³ , ì·¨ì—…ì¤€ë¹„ í•˜ë ¤ëŠ”ë° ê²½ë ¥ë„ ë³„ê±° ì—†ê³ â€¦ ì‹¤ë ¥ë„ ë¯¸í¡í•´ì„œ ì—„ì²­ ì•”ìš¸í–ˆì—ˆë˜ ê¸°ì–µì´ ë‚˜ë„¤ìš” ã… ã…  ê²Œë‹¤ê°€ ë°±ì—”ë“œ í”„ë¡ íŠ¸ì—”ë“œ ê°™ì´ í•˜ë‹¤ë³´ë‹ˆ ë­”ê°€ ì¡ìºê°€ ëœ ëŠë‚Œì´ì—ˆê³ â€¦ ê·¸ë˜ë„ ì´ì§ì€ í•´ì•¼ê² ì§€ìš”! ì´ë¯¸ íšŒì‚¬ê°€ ì—†ìœ¼ë‹ˆê¹Œìš”!!! ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ ì´ë ¥ì„œë¥¼ ì¨ë³´ì! ë¦¬í”„ë ˆì‰¬ í• ë§Œí¼ í•˜ê³ , ì„œìš¸ ëŒì•„ì™€ì„œ ì–´ëŠì •ë„ ì •ë¦¬í•œ ë’¤ 8ì›” ë§ì¯¤ë¶€í„° ì´ë ¥ì„œë¥¼ ì“°ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤. ë§‰ìƒ ì“°ë ¤ë‹ˆê¹Œ ë„ˆë¬´ ë§‰ë§‰í•˜ê³ â€¦ ì™œ ë¯¸ë¦¬ë¯¸ë¦¬ ì•ˆì¨ë†¨ë‚˜ ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤. ã… ã…  ê·¸ë˜ì„œ ì—¬ê¸°ì €ê¸° ê´€ë ¨ ê¸€ë“¤ì„ ì°¾ì•„ ì½ì–´ë³´ì•˜ê³ , ì£¼ë‹ˆì–´ ê°œë°œìë¥¼ ìœ„í•œ ì·¨ì—… ì •ë³´ì— ì˜¬ë¼ì™€ ìˆëŠ” Outsiderë‹˜, êµ¬ì¸ë³¸ë‹˜, ì´í•œë³„ë‹˜ì˜ ì´ë ¥ì„œë¥¼ ë§ì´ ì°¸ê³ í•˜ì—¬ ì•„ì£¼ ë§ˆìŒì— ë“œëŠ” ì´ë ¥ì„œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤(ë‹¤ë“¤ ë„ˆë¬´ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤ ã… ã… ) ì´ë ¥ì„œ ì‘ì„±ì€ mac pagesë¡œ í•˜ì˜€ìŠµë‹ˆë‹¤. ì²« ì¥ì—ì„œ ë°”ë¡œ ì œ ì—°ë½ì²˜ì™€ ê¸°ìˆ ìŠ¤íƒ, ê²½ë ¥ì„ ë‚˜ì—´í–ˆìŠµë‹ˆë‹¤. ê²½ë ¥ì§ ì´ì§ì´ë¼ ê¸°ìˆ ìŠ¤íƒì— ê´€ì‹¬ì´ ë§ì„ê±°ë¼ ìƒê°í–ˆê±°ë“ ìš” ã…ã… ê·¸ë¦¬ê³ â€¦ ê°œì¸ì ìœ¼ë¡œ ìŠ¤í‚¬ì— ë ˆë²¨ì„ ì“°ì§€ëŠ” ì•Šì•˜ìŠµë‹ˆë‹¤. ë§¤ìš° ì£¼ê´€ì ì¸ ë¶€ë¶„ì´ê¸°ë„ í•˜ê³ , ê·¸ëŸ°ê±° ì“°ì§€ ë§ë¼ëŠ” ê¸€ë„ ë´ì„œâ€¦ ê·¸ë¦¬ê³  ë‘ë²ˆì§¸ ì¥ì— ì œ í”„ë¡œì íŠ¸ì— ëŒ€í•´ ë‚˜ë¦„ ìƒì„¸í•˜ê²Œ ë‚˜ì—´í–ˆìŠµë‹ˆë‹¤. í”„ë¡œì íŠ¸ëª…, ì‚¬ìš©í•œ ê¸°ìˆ , ì„¤ëª…ë“±ì„ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. ì„¸ë²ˆì§¸ ì¥ì—ëŠ” ê¸°ë³¸ì ì¸ ì œ í•™ë ¥, êµìœ¡ ìˆ˜ë£Œ ë‚´ìš©, ìê²©ì¦ ë“±ì„ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ì¶”ê°€ì ìœ¼ë¡œ ì™¸ë¶€í™œë™ ì´ë¼ê³  ë§Œë“¤ì–´ì„œ ì œê°€ ìŠ¤í„°ë””í•˜ëŠ” ë‚´ìš©ì„ ë‚˜ì—´í–ˆëŠ”ë°, ì´ê±¸ ë§ˆì§€ë§‰ í˜ì´ì§€ë³´ë‹¤ ë” ìœ„ë¡œ ì˜¬ë ¤ì•¼ ë˜ë‚˜ ê³ ë¯¼í–ˆì—ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ë„ì €íˆ ë„£ì„ ê³µê°„ì´ ì•ˆë‚˜ì˜¤ë”ë¼ê³ ìš” ã…ã… ê·¸ë˜ì„œ ì €ê¸° ë’€ìŠµë‹ˆë‹¤. ì‘ì„±í•˜ê³ ë‚˜ë‹ˆ ì •ë§ ë§Œì¡±ìŠ¤ëŸ¬ì› ìŠµë‹ˆë‹¤. ë”±ë”±í•œ í‹€ì— ê°–ì¶°ì§„ ì´ë ¥ì„œë„ ì•„ë‹Œ ììœ ì–‘ì‹ì˜ ì´ë ¥ì„œë¥¼ ì²˜ìŒ ê°€ì ¸ë³´ê¸°ë„ í–ˆê³ , ë§‰ìƒ ì¨ë†“ê³  ë³´ë‹ˆ â€œì•„ ë‚´ê°€ ìƒê°ë³´ë‹¨ ì“¸ëª¨ìˆëŠ” ì‚¬ëŒì´êµ¬ë‚˜â€ ë¼ëŠ” ìƒê°ë„ ë“¤ë”ë¼ê³ ìš” ã…‹ã…‹ã…‹ã…‹ ì§€ì›í•˜ì! ì´ë ¥ì„œë¥¼ ìµœì¢… ì‘ì„±í–ˆìœ¼ë‹ˆ ì´ì œ ì§€ì›í•´ì•¼ê³˜ì§€ìš” ã…ã… ëŒ€ë¶€ë¶„ì˜ ì´ë ¥ì„œëŠ” ì›í‹°ë“œë¥¼ í†µí•´ ì§€ì›í–ˆê³ ìš”(ì¢‹ì€ ê¸°ì—…ë„ ë§ê³ â€¦ ëˆë„ ì£¼ë‹ˆê¹Œ!) ì¡í”Œë˜ë‹›ë„ ê°„ê°„íˆ ì´ìš©í–ˆìŠµë‹ˆë‹¤. ì¡í”Œë˜ë‹›ì—ì„œ ê³µê³ ë¥¼ ë³´ê³  í•´ë‹¹ ê¸°ì—…ì˜ ì±„ìš©ê³µê³  ì‚¬ì´íŠ¸ë¥¼ ë“¤ì–´ê°€ ì§€ì›í–ˆì—ˆì£ . ê·¸ë¦¬ê³  ì¡ì½”ë¦¬ì•„ëŠ” ì¸ì¬ë“±ë¡ë§Œ í•´ë‘ê³ , ë”°ë¡œ ì§€ì›í•˜ì§€ëŠ” ì•Šì•˜ìŠµë‹ˆë‹¤. ì²˜ìŒì—” ì¸ì¬ë“±ë¡ í›„ ëª¨ë“  ê¸°ì—…ì—ê²Œ ê³µê°œë˜ë„ë¡ ì„¤ì •í•´ë†¨ì—ˆëŠ”ë°, ì „í™”ë‘ ë©”ì¼ì´ ë„ˆë¬´ ë§ì´ì™€ì„œ ì»¨íŠ¸ë¡¤ì´ ë¶ˆê°€ëŠ¥í•˜ë”ë¼ê³ ìš”â€¦ ê²Œë‹¤ê°€ ì´ìƒí•œ ê³³ë„ ë„ˆë¬´ ë§ì•˜ìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ í•œ 3ì¼ ì •ë„ ì§€ì¼œë³´ë‹¤ê°€, í—¤ë“œí—Œí„°ë§Œ ê²€ìƒ‰í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •ì„ ë°”ê¿”ë²„ë ¸ìŠµë‹ˆë‹¤. ê°œì¸ì ìœ¼ë¡œ ì¡ì½”ë¦¬ì•„ì— ì¸ì¬ë“±ë¡ í•˜ì‹¤êº¼ë©´ í—¤ë“œí—Œí„°ë§Œ ë³¼ ìˆ˜ ìˆë„ë¡ í•´ë†“ëŠ”ê±¸ ì¶”ì²œí•©ë‹ˆë‹¤ ã… ã…  ê²°ê³¼ëŠ”?! ë†€ëê²Œë„ ì•„ì£¼ ë§ì€ ê³³ì—ì„œ ì„œë¥˜ë¥¼ í†µê³¼ì‹œì¼œ ì£¼ì…¨ìŠµë‹ˆë‹¤. ì¼ë‹¨ ë°©ê¸ˆë„ ì ì‹œ ì–¸ê¸‰í–ˆì§€ë§Œ ì¡ì½”ë¦¬ì•„â€¦ ì¡ì½”ë¦¬ì•„ í—¤ë“œí—Œí„° ë‹˜ë“¤í•œí…Œ ì—°ë½ì´ ì—„ì²­ ë§ì´ ì™”ìŠµë‹ˆë‹¤. ìµœì†Œ ë§¤ì¼ 1í†µì”©ì€ ì „í™”ë‚˜ ë©”ì¼ì„ ë°›ì•˜ë˜ ê²ƒ ê°™ë„¤ìš”. ì¢€ ë†€ë¼ì› ê³ , &quot;ì•„ ê²½ë ¥ì´ 3ë…„ì •ë„ë©´ ê½¤ë‚˜ ê·€í•´ì§€ëŠ”êµ¬ë‚˜â€¦&quot;ë¼ëŠ” ìƒê°ë„ ë“¤ì—ˆìŠµë‹ˆë‹¤. í—¤ë“œí—Œí„°ë‹˜ë“¤ì—ê²Œ ë°›ì€ JDì¤‘ ë§ˆìŒì— ë“œëŠ” ê¸°ì—…ë“¤ì´ ìˆìœ¼ë©´ ì´ë ¥ì„œë¥¼ ë“œë ¸ê³ , ëŒ€ë¶€ë¶„ ì´ë ¥ì„œë¥¼ ë‚´ìë§ˆì ë°”ë¡œ ë©´ì ‘ì´ ì¡í˜”ìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ê±°ì˜ ì´ë ¥ì„œ ì œì¶œê³¼ ë™ì‹œì— ë©´ì ‘ì„ ë³´ëŸ¬ ë‹¤ë‹ˆê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤â€¦ ê·¸ë ‡ê²Œ 1ì£¼ì¼ ì •ë„ ì§€ë‚¬ì„ ì¯¤, ì›í‹°ë“œì— ì§€ì›í•œ ê²ƒë“¤ë„ ìŠ¬ìŠ¬ ì„œë¥˜í†µê³¼/ì„œë¥˜íƒˆë½ ì´ ê²°ì •ë˜ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  2ì£¼ì°¨ë¶€í„°ëŠ” ë©´ì ‘ì´ ë„ˆë¬´ ë§ì•„ ì—„ì²­ ë°”ë¹´ìŠµë‹ˆë‹¤â€¦ (ì‘ìœ¼ë©´ í•˜ë£¨ì— 1ê°œ ì •ë„ ë´¤ê³ , ë‚ ì§œê°€ ëª°ë ¤ì„œ 3ê°œê¹Œì§€ ë©´ì ‘ì„ ë´¤ë˜ ì ë„ ìˆìŠµë‹ˆë‹¤ ã„·ã„·) ë‚˜ì˜ ë©´ì ‘ ì „ëµ?! ì „ëµì´ë¼ë‹ˆê¹Œ ë­”ê°€ ê±°ì°½í•˜ê¸´ í•œë°, ì œ ì…ì¥ì—ì„œëŠ” ë§ì€ ë„ì›€ì´ ë˜ì—ˆìœ¼ë¯€ë¡œ ì¼ë‹¨ ì¨ë³´ê² ìŠµë‹ˆë‹¤. ì´ë²ˆ ë©´ì ‘ì— ëŒ€í•œ ì €ì˜ ì „ëµì€, ê°„ë‹¨í•˜ì§€ë§Œ â€œë©´ì ‘ì„ ë¶„ì„í•˜ê³ , ë‚˜ë¥¼ ê°œì„ ì‹œí‚¤ìâ€ ì˜€ìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ì €ëŠ” ì œê°€ ë³´ëŠ” ëª¨ë“  ë©´ì ‘ì„ ë…¹ìŒí•˜ê³ , ì§‘ì—ì™€ì„œ ë‹¤ì‹œ ë“£ê³ , ê·¸ê²ƒì„ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤. ì¼ë‹¨ ë©´ì ‘ì„ ë…¹ìŒí•˜ê³ (ì´ê²Œ ë²”ë²• í–‰ìœ„ì¸ê°€â€¦) ì§‘ì—ì™€ì„œ ë‹¤ì‹œ ë“¤ì–´ë³´ë©´, ìƒê°ë³´ë‹¤ ì–»ëŠ” íš¨ê³¼ê°€ ë§¤ìš° í½ë‹ˆë‹¤. ì¼ë‹¨ ë‚´ê°€ ë¶™ì„ì§€ ë–¨ì–´ì§ˆì§€ ëŒ€ëµì ìœ¼ë¡œ ì˜ˆì¸¡ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. ë”± ë“¤ì–´ë³´ë©´ â€œì•„ ì—¬ê¸´ ë¶™ê² ë„¤â€, &quot;ì•„ ì—¬ê¸´ ë§í–ˆë„¤&quot;ê°€ ëŠê»´ì§€ë”ë¼ê³ ìš” ì œ ì…ì¥ì—ì„ .ã…‹ã…‹ ê·¸ë¦¬ê³  ì¤‘ìš”í•œê±´, ì´ê²ƒì„ í•˜ë‚˜í•˜ë‚˜ ë‹¤ ì •ë¦¬í•˜ëŠ” í–‰ìœ„ì…ë‹ˆë‹¤. ë©´ì ‘ì˜ ì§ˆë¬¸ê³¼ ë‚´ê°€ í•œ ë‹µë³€ì„ ì •ë¦¬í•˜ë©´ ë©´ì ‘ì—ì„œ ì£¼ë¡œ ë‚˜ì˜¤ëŠ” ì§ˆë¬¸ì˜ íŒ¨í„´ë“¤ë„ íŒŒì•…í•  ìˆ˜ ìˆê²Œë˜ê³ , ë‚´ê°€ ì–´ëŠ ë¶€ë¶„ì—ì„œ ë¶€ì¡±í•œ ë‹µì„ í•˜ê³  ìˆëŠ”ì§€ë„ íŒŒì•…ì´ ê°€ëŠ¥í•˜ê²Œ ë©ë‹ˆë‹¤. ê·¸ë ‡ë‹¤ë©´ ë‹¤ì‹œ ê·¸ ì§ˆë¬¸ì„ ë³´ë©´ì„œ ê¸°ìˆ ì ì¸ ì§ˆë¬¸ì´ë©´ êµ¬ê¸€ë§ì„ í†µí•´ ì°¾ì•„ë³´ê³ , ì² í•™ì ì´ê±°ë‚˜ ê°œì¸ì˜ ê°€ì¹˜ê´€ì ì¸ ì§ˆë¬¸ì´ë©´ ì´ê²ƒì— ëŒ€í•´ ë‹¤ì‹œ ìƒê°í•´ë³¼ ìˆ˜ ìˆê² ì£ . (ê°œì¸ì ìœ¼ë¡œëŠ” â€œì™œ ì´ëŸ° ì§ˆë¬¸ì„ í•œê±¸ê¹Œ?â€ ë¼ëŠ” ìƒê°ì„ í•´ë³´ë©´ ë” ì¢‹ì•˜ìŠµë‹ˆë‹¤) ì´ëŸ¬ë©´ ë‹¤ìŒ ë©´ì ‘ì—ì„œ ì´ ì§ˆë¬¸ì— ì¢€ ë” ì˜ ëŒ€ë‹µí•  ìˆ˜ ìˆê²Œë©ë‹ˆë‹¤. ë‹¹ì—°í•œ ì†Œë¦¬ì§€ë§Œ, ë©´ì ‘ì´ ê°œì„ ì´ ë˜ëŠ”ê²ƒì…ë‹ˆë‹¤! ê·¸ê²ƒë„ ì•„ì£¼ ëˆˆì— ë„ëŠ” ë°©í–¥ìœ¼ë¡œìš”. ê·¸ë¦¬ê³  ì—¬ê¸°ì„œ í•œê±¸ìŒ ë” ë‚˜ì•„ê°€ë©´ ì´ ëª¨ë“  ì¼ë ¨ì˜ ê³¼ì •ë“¤ì„ ì§„í–‰í•¨ìœ¼ë¡œì¨ ëŒ€ë¶€ë¶„ì˜ ê¸°ì—…ë“¤ì´ ì°¾ê³ ìˆëŠ” ì¸ì¬ìƒì´ ë­”ì§€ë„ ì•Œ ìˆ˜ ìˆê²Œ ë˜ê³ , ë‚´ê°€ ì–´ë–¤ ì‚¬ëŒì¸ì§€ë„ ì•Œ ìˆ˜ ìˆê²Œ ë˜ê³ , ì•ìœ¼ë¡œ ë‚´ê°€ ì–´ë–¤ ë°©í–¥ìœ¼ë¡œ ë‚˜ì•„ê°€ì•¼ ë˜ëŠ”ì§€ë„ ì•Œ ê²Œ ë©ë‹ˆë‹¤. ê°œì¸ì ìœ¼ë¡œ ì €ëŠ” ì´ ê³¼ì •ì´ ì €ë¥¼ ì—„ì²­ë‚˜ê²Œ ì„±ì¥ì‹œì¼œ ì£¼ì—ˆë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤. ì˜ˆì‹œë¥¼ í•œë²ˆ ë“¤ì–´ë³¼ê¹Œìš”. ì œê°€ ë©´ì ‘ì—ì„œ ë°›ì•˜ë˜ ì§ˆë¬¸ë“¤ì„ ì˜ˆë¡œ ë“¤ì–´ë³´ë©´ ì•Œê³ ë¦¬ì¦˜ì„ í’€ì–´ë³´ì„¸ìš”, A ì•„ì„¸ìš”? B ì•„ì„¸ìš”? ë¼ëŠ” ë‹¨ìˆœ ì‹œí—˜ í˜•íƒœì˜ ì§ˆë¬¸ë³´ë‹¤ëŠ” ë‚˜ì˜ ê³¼ê±°ì— ëŒ€í•´ ë¬»ëŠ” ì§ˆë¬¸ì´ ë” ë§ì•˜ìŠµë‹ˆë‹¤.(ë¬¼ë¡  ê¸°ìˆ ì ì¸ ì§ˆë¬¸ë„ ë§ì•˜ìŠµë‹ˆë‹¤â€¦) ì¼ë‹¨ ì œ ê³¼ê±°ë¥¼ ìˆ˜ì§‘í•˜ëŠ” ì§ˆë¬¸ë“¤ë¡œ ë¶€í„° ì‹œì‘í•´ì„œ, â€œì €ë²ˆ í”„ë¡œì íŠ¸ì—ì„œ ì¼ë˜ ê¸°ìˆ ì€ ë­”ê°€?â€ â€œAë¼ëŠ” ê¸°ìˆ ì„ ì¼ë˜ë°, ì–´ë–¤ì‹ìœ¼ë¡œ í™œìš©í–ˆë‚˜?â€ â€œì €ë²ˆ í”„ë¡œì íŠ¸ì—ì„œ í˜ë“¤ì—ˆë˜ ì ì€ ë­”ê°€?â€ â€œì™œâ€ ë¼ëŠ” ì§ˆë¬¸ìœ¼ë¡œ ì´ì–´ì§€ê¸° ì‹œì‘í•©ë‹ˆë‹¤. â€œê·¸ ê¸°ìˆ ì„ ì™œ ì“´ê±´ê°€?â€ â€œê·¸ ê¸°ìˆ ì„ í†µí•´ ì–»ëŠ” ì¥ì ì´ ë­”ê°€?â€ ê·¸ë¦¬ê³  ì–¼ë§ˆë‚˜ ì£¼ë„ì ì´ì—ˆëŠ”ê°€ë„ ë¬¼ì–´ë´…ë‹ˆë‹¤. â€œê·¸ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•´ë³´ë ¤ê³  ë„ˆëŠ” ì–´ë””ê¹Œì§€ í•´ë³´ì•˜ëŠ”ê°€?â€ â€œêµ¬ì²´ì ì¸ ì‚¬ë¡€ë¥¼ ë§í•´ì£¼ê² ë‚˜?â€ ë¬¼ë¡  ìœ„ ë¿ ì•„ë‹ˆë¼ ì—¬ëŸ¬ê°€ì§€ ìœ í˜•ë“¤ì˜ ì§ˆë¬¸ì´ ìˆì—ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ëŒ€ì²´ì ìœ¼ë¡œ ì €ëŸ° ì§ˆë¬¸ë“¤ì´ í•µì‹¬ì´ì—ˆë˜ê²ƒ ê°™ë„¤ìš”. ê·¸ë¦¬ê³  ì´ëŸ°ë¥˜ì˜ ì§ˆë¬¸ì„ ì§‘ì—ì™€ì„œ ì •ë¦¬í•˜ê³ , ë‚´ ê³¼ê±°ì— ì¶”ê°€ì ìœ¼ë¡œ ì§ˆë¬¸ì„ ë˜ì§€ë‹¤ë³´ë©´, ì•ìœ¼ë¡œ ë‚´ê°€ ì–´ë–¤ ì‚¬ëŒì´ ë˜ì–´ì•¼ í•˜ê² êµ¬ë‚˜, ì•ìœ¼ë¡œ ì–´ë–»ê²Œ ì¼ì„ í•´ì•¼ê² êµ¬ë‚˜ ë¼ëŠ” ê²ƒì´ êµ‰ì¥íˆ ëª…í™•í•´ì§‘ë‹ˆë‹¤. ì´ëŸ¬í•œ ê¸°ì¨!!ê³¼ ìµœì¢… ê²°ê³¼ì— ëŒ€í•œ ì´ˆì¡°í•¨ì„ ì´ëŒê³  ì•½ í•œë‹¬ì •ë„ ë©´ì ‘ì„ ì§„í–‰í–ˆë˜ ê²ƒ ê°™ë„¤ìš”. ã…ã… ê·¸ë˜ì„œ ê²°ê³¼ëŠ”? ì €ëŠ” ì´ 15êµ°ë° ì •ë„ ì§€ì›í–ˆê³ , 12êµ°ë° ì •ë„ì— ë©´ì ‘ì„ ë³´ì•˜ìœ¼ë©°, 5êµ°ë° ì •ë„ì— ìµœì¢… í•©ê²©ì„ í•˜ì˜€ìŠµë‹ˆë‹¤. ì œ ìƒê°ë³´ë‹¤ í›¨ì”¬ í° ê²°ê³¼ì˜€ê³ , ê·¸ì¤‘ì— ì €ë¥¼ ì •ë§ ë§ˆìŒì— ë“¤ì–´í•˜ì…¨ë˜ ê³³ë„ ìˆì—ˆìŠµë‹ˆë‹¤â€¦ ê·¸ë¦¬ê³  ê·¸ ì¤‘ ì œê°€ ê°€ì¥ ê°€ê³ ì‹¶ì—ˆë˜ ê¸°ì—…ì— ìµœì¢… ì…ì‚¬ë¥¼ í•˜ê²Œ ë˜ì—ˆê³ , í˜„ì¬ ì…ì‚¬í•œì§€ 1ë‹¬ì´ ë‹¤ ë˜ì–´ ê°€ëŠ” ìƒí™©ì´ë„¤ìš”. ê°œì¸ì ìœ¼ë¡œ ì œê°€ ì›í•˜ë˜ ìš”êµ¬ì‚¬í•­ë„ ë‹¤ ì‹¤í˜„ì´ ë˜ì—ˆê³ â€¦ ì˜†ì— ê³„ì‹  ë¶„ë“¤ë„ ë‹¤ ë„ˆë¬´ ë›°ì–´ë‚˜ì…”ì„œ ì¦ê±°ìš´ ë§ˆìŒìœ¼ë¡œ íšŒì‚¬ë¥¼ ë‹¤ë‹ˆê³  ìˆìŠµë‹ˆë‹¤ ã…ã… (ê¸°ìˆ  ìŠ¤íƒë„ ë†’ê³ , ì¶œí‡´ê·¼ë„ ììœ ê³ , ë°¥ê°’ë„ ì£¼ê³ , ìš´ë™ë„ ê³µì§œë¡œ í•˜ê²Œ í•´ì£¼ê³ â€¦!!!) ë²Œì¨ 3ë²ˆì§¸ íšŒì‚¬ì´ê¸´ í•˜ì§€ë§Œ, ê°œì¸ì ìœ¼ë¡œ ì´ì§ì„ ì˜ í•œê²ƒ ê°™ì•„ ë§¤ìš° ë§Œì¡±í•©ë‹ˆë‹¤ ğŸ˜Š ğŸ˜Š ìŒâ€¦ ë§ˆë¬´ë¦¬â€¦ ë„¤â€¦ ìŒâ€¦ ë§ˆë¬´ë¦¬ í•˜ê² ìŠµë‹ˆë‹¤. ì–´ë–»ê²Œ ì“°ë‹¤ë³´ë‹ˆ ìš”ìš°ë‹˜ì˜ í¬ìŠ¤íŠ¸ í¬ë©§ì„ ë§ì´ ë”°ë¼í•œ ê²ƒ ê°™ë„¤ìš” ã…‹ã…‹ã…‹ã…‹ (ê° ì ìœ¼ë¡œ ì •ë§ ì˜ ì½ì—ˆìŠµë‹ˆë‹¤) ì´ì§ì€ ì •ë§ ì¤‘ìš”í•œ í–‰ìœ„ì´ë‹¤. ì´ì§ì„ ì¤€ë¹„í•˜ëŠ” ê³¼ì • ìì²´ê°€ ê°œì¸ì„ êµ‰ì¥íˆ ì„±ì¥ì‹œí‚¨ë‹¤ ê·¸ë˜ì„œ ë‚˜ëŠ” ì„±ì¥í–ˆë‹¤!! ì´ì œ ì•ìœ¼ë¡œ ë” ì„±ì¥í• í…Œë‹¤!! ë­ ëœ ì“´ ë¶€ë¶„ì´ ìˆë‚˜â€¦? ê¸‰íˆ ì¨ì„œâ€¦ í•˜ì§€ë§Œ ì´ í¬ìŠ¤íŠ¸ê°€ ëˆ„êµ°ê°€ì—ê²Œ ì•„ì£¼ ì¡°ê¸ˆì´ë¼ë„ ë„ì›€ì´ ë˜ì—ˆìœ¼ë©´ ì¢‹ê³˜ìŠµë‹ˆë‹¤. ë!]]></content>
      <categories>
        <category>life</category>
      </categories>
      <tags>
        <tag>ì´ì§</tag>
        <tag>ê°œë°œì ì´ì§</tag>
        <tag>ê°œë°œì ì´ë ¥ì„œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[db] transaction]]></title>
    <url>%2Fdb%2Ftransaction%2F</url>
    <content type="text"><![CDATA[íŠ¸ëœì­ì…˜ì´ë€ ì‘ì—…ì„ ë…¼ë¦¬ì  ë‹¨ìœ„ë¡œ ë¬¶ì–´ì„œ ì›ìì„±(atomic)ì„ ë³´ì¥í•˜ê³ ì í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤. ì›ìì„± : ë…¼ë¦¬ì  ì‘ì—… ì…‹ì— 1ê°œì˜ ì¿¼ë¦¬ê°€ ìˆë“  2ê°œ ì´ìƒì˜ ì¿¼ë¦¬ê°€ ìˆë“  ê´€ê³„ì—†ì´ ë…¼ë¦¬ì ì¸ ì‘ì—… ì…‹ ìì²´ê°€ 100% ì ìš©ë˜ê±°ë‚˜ ì ìš©ë˜ì§€ ì•ŠëŠ”ê²ƒì„ ë³´ì¥í•´ì£¼ëŠ” ê²ƒ MySQLì—ì„œëŠ” InnoDBë§Œ ì§€ì›í•˜ê³ , ë‚˜ë¨¸ì§€(MyISAM ë“±)ì€ íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤. ì•„ë˜ì™€ ê°™ì€ ì¿¼ë¦¬ê°€ ìˆë‹¤(3ë²ˆì§¸ ë©¤ë²„ê°€ ì¤‘ë³µëœ ì´ë¦„ì´ë¼ ì—ëŸ¬ê°€ ë°œìƒí•  ê²ƒì´ë‹¤) 1INSERT INTO MEMBER VALUES(1,'joont'),(2,'junyoung'),(3,'duplicated name'); MyISAM ì¿¼ë¦¬ ì‹¤í–‰ì‹œì— ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì§€ë§Œ 3ë²ˆ ë©¤ë²„ë§Œ ì €ì¥ë˜ì§€ ì•Šì„ ë¿, 1,2ë²ˆ ë©¤ë²„ëŠ” ë¡¤ë°±ë˜ì§€ ì•Šê³  ì €ì¥ëœ ìƒíƒœ ê·¸ëŒ€ë¡œ ìˆë‹¤. ì´ëŸ¬ë©´ ë‚˜ì¤‘ì— ë°ì´í„° ì •í•©ì„±ì„ ë§ì¶”ê¸°ê°€ ë§¤ìš° í˜ë“¤ì–´ì§„ë‹¤. InnoDB 1,2,3ë²ˆ ëª¨ë‘ ì €ì¥ë˜ì§€ ì•ŠëŠ”ë‹¤. ìœ„ì²˜ëŸ¼ ê¼­ ì—¬ëŸ¬ê°œì˜ ì‘ì—… ë‹¨ìœ„ë¥¼ ë¬¶ì§€ ì•Šì•„ë„ ëœë‹¤. íŠ¸ëœì­ì…˜ì´ ì„±ê³µì ìœ¼ë¡œ ìˆ˜í–‰ë˜ë©´ ëª¨ë‘ commitë˜ê³ , ì‹¤íŒ¨í•˜ë©´ ëª¨ë‘ rollback í•œë‹¤ëŠ” ì‚¬ì‹¤ì´ ì¤‘ìš”í•œ ê²ƒì´ë‹¤. ì„¤ì •ë²• 12345START TRANSACTION; -- ë˜ëŠ” BEGIN;-- do somthingCOMMIT; -- ë˜ëŠ” ROLLBACK; ìœ„ì²˜ëŸ¼ íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•˜ê³ , ì»¤ë°‹ì´ë‚˜ ë¡¤ë°±í•˜ëŠ” ì‹œì ê¹Œì§€ê°€ í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ì´ë‹¤. AutoCommitì´ ì„¤ì •ë˜ì–´ ìˆìœ¼ë©´ ì¿¼ë¦¬ë¬¸ì¥ í•˜ë‚˜í•˜ë‚˜ê°€ ê³§ íŠ¸ëœì­ì…˜ì´ê³ , AutoCommitì´ ì„¤ì •ë˜ì–´ ìˆì§€ ì•Šìœ¼ë©´ COMMIT, ROLLBACK, DDL ì´í›„ ì‹œì‘ë¶€í„° ë‹¤ì‹œ ì´ ë¬¸ì¥ì„ ì‹¤í–‰ ì „ê¹Œì§€ê°€ ìë™ì ìœ¼ë¡œ íŠ¸ëœì­ì…˜ í•˜ë‚˜ë¡œ ì¡íŒë‹¤. ë‚˜ëŠ” AutoCommitì„ offë¡œ ì„¤ì •í•˜ë©´ íŠ¸ëœì­ì…˜ í…ŒìŠ¤íŠ¸ê°€ ì˜ ì•ˆë˜ì„œ AutoCommitì„ onìœ¼ë¡œ ì„¤ì •í•œ ë’¤ í…ŒìŠ¤íŠ¸í–ˆë‹¤(onì€ í•­ìƒ íŠ¸ëœì­ì…˜ì´ ëë‚¨ì„ ë³´ì¥í•´ì£¼ë‹ˆê¹Œ) íŠ¸ëœì­ì…˜ ì„¤ì • ì£¼ì˜ì  íŠ¸ëœì­ì…˜ì˜ ë‹¨ìœ„ëŠ” íŠ¹ë³„í•œ ì´ìœ ê°€ ì—†ìœ¼ë©´ ìµœì†Œí•œì˜ ë‹¨ìœ„ë¡œ í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤. ê°€ë ¹ ì•„ë˜ì™€ ê°™ì€ íŠ¸ëœì­ì…˜ ì„¤ì •ì€ ìœ„í—˜í•˜ë‹¤. 1234567891011121. ì²˜ë¦¬ ì‹œì‘ ==&gt; DB ì»¤ë„¥ì…˜ ìƒì„± ==&gt; START TRANSACTION;2. ì¸ê°€ëœ ì‚¬ìš©ìì¸ì§€ í™•ì¸3. ì‚¬ìš©ìê°€ ì‘ì„±í•œ ì»¨í…ì¸  Validation4. ì²¨ë¶€íŒŒì¼ ì„œë²„ì— ì—…ë¡œë“œ 5. ê²Œì‹œê¸€ê³¼ ì²¨ë¶€íŒŒì¼ ë‚´ìš©ì„ DBì— ì €ì¥ 6. ê²Œì‹œë¬¼ ë“±ë¡ì— ëŒ€í•œ ë©”ì¼ ë°œì†¡ 7. ë©”ì¼ ë°œì†¡ ë‚´ì—­ì„ DBì— ì €ì¥ ==&gt; COMMIT;==&gt; DB ì»¤í…ì…˜ ë°˜ë‚© 8. ì²˜ë¦¬ ì™„ë£Œ ë³´ë‹¤ì‹œí”¼ íŠ¸ëœì­ì…˜ì˜ ë²”ìœ„ê°€ ë„ˆë¬´ í¬ë‹¤. DBì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” êµ¬ê°„ì€ 5ë²ˆê³¼ 7ë²ˆë°–ì— ì—†ëŠ”ë° ì¸ì¦, Validation, ì²¨ë¶€íŒŒì¼ ì—…ë¡œë“œ, ë©”ì¼ ì „ì†¡ê³¼ ê°™ì€ í–‰ìœ„ê¹Œì§€ ì „ë¶€ íŠ¸ëœì­ì…˜ì— ê°™ì´ í¬í•¨ë˜ì–´ ìˆë‹¤. ì¦‰, ìœ„ì˜ ëª¨ë“  ì‘ì—…ë“¤ì´ ëë‚˜ê¸° ê¹Œì§€ í•´ë‹¹ íŠ¸ëœì­ì…˜ì„ ì¡ê³ ìˆëŠ” ì»¤ë„¥ì…˜ì€ ë°˜í™˜ë˜ì§€ ì•Šì„ ê²ƒì´ë©°, ì†Œìœ í•˜ëŠ” ì‹œê°„ì´ ê¸¸ì–´ì§ˆìˆ˜ë¡ ë‹¤ë¥¸ ì“°ë ˆë“œë“¤ì´ ì»¤ë„¥ì…˜ì„ ê°€ì ¸ê°€ì§€ ëª»í•˜ê³  ëŒ€ê¸°í•˜ëŠ” ìƒí™©ì´ ë²Œì–´ì§ˆ ê²ƒì´ë‹¤. (íŠ¹íˆ ì²¨ë¶€íŒŒì¼ ì—…ë¡œë“œ, ë©”ì¼ ì „ì†¡ê³¼ ê°™ì€ ë„¤íŠ¸ì›Œí¬ ì‘ì—…ì„ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ë¬¶ëŠ”ê²ƒì€ ì•„ì£¼ ìœ„í—˜í•˜ë‹¤. ë„¤íŠ¸ì›Œí¬ í†µì‹ ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤ë©´ íŠ¸ëœì­ì…˜ ì†Œìœ ì‹œê°„ì´ ë§¤ìš° ê¸¸ì–´ì§€ê²Œ ëœë‹¤) ì»¤ë„¥ì…˜ ë¿ë§Œ ì•„ë‹ˆë¼ CUDê°€ ë°œìƒí–ˆì„ ê²½ìš° í•´ë‹¹ ë ˆì½”ë“œì— ëŒ€í•´ì„œ ë©”ì„œë“œê°€ ëë‚ ë•Œê¹Œì§€ ë½ì´ ê±¸ë¦¬ê¸° ë•Œë¬¸ì— ë™ì‹œì²˜ë¦¬ ì„±ëŠ¥ ë˜í•œ ë§¤ìš° ë–¨ì–´ì§€ê²Œ ëœë‹¤. ì•„ë˜ì™€ ê°™ì´ ë³€ê²½í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤. 12345678910111213141. ì²˜ë¦¬ ì‹œì‘ ==&gt; DB ì»¤ë„¥ì…˜ ìƒì„± 2. ì¸ê°€ëœ ì‚¬ìš©ìì¸ì§€ í™•ì¸3. ì‚¬ìš©ìê°€ ì‘ì„±í•œ ì»¨í…ì¸  Validation4. ì²¨ë¶€íŒŒì¼ ì„œë²„ì— ì—…ë¡œë“œ ==&gt; START TRANSACTION;5. ê²Œì‹œê¸€ê³¼ ì²¨ë¶€íŒŒì¼ ë‚´ìš©ì„ DBì— ì €ì¥ ==&gt; COMMIT;6. ê²Œì‹œë¬¼ ë“±ë¡ì— ëŒ€í•œ ë©”ì¼ ë°œì†¡ ==&gt; START TRANSACTION;7. ë©”ì¼ ë°œì†¡ ë‚´ì—­ì„ DBì— ì €ì¥ ==&gt; COMMIT;==&gt; DB ì»¤í…ì…˜ ë°˜ë‚© 8. ì²˜ë¦¬ ì™„ë£Œ íŠ¸ëœì­ì…˜ì„ ìµœì†Œí™”í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤ëŠ” ê²ƒì„ ê°•ì¡°í•˜ê¸° ìœ„í•´ 7ë²ˆì„ ë”°ë¡œ ë¶„ë¦¬í•˜ì˜€ë‹¤. ìƒí™©ì— ë”°ë¼ í¬ê²Œ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤.]]></content>
      <categories>
        <category>db</category>
      </categories>
      <tags>
        <tag>íŠ¸ëœì­ì…˜</tag>
        <tag>íŠ¸ëœì­ì…˜ ì„¤ì •ë²•</tag>
        <tag>íŠ¸ëœì­ì…˜ ë²”ìœ„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[git] git rebase]]></title>
    <url>%2Fgit%2Fgit-rebase%2F</url>
    <content type="text"><![CDATA[https://jupiny.com/2018/05/07/git-rebase-i-option/ -i : interactive mode(ëŒ€í™”í˜•) pick : ì»¤ë°‹ ê·¸ëŒ€ë¡œ ì‚¬ìš© reword : ì»¤ë°‹ ë©”ì‹œì§€ ë³€ê²½ edit : ì»¤ë°‹ ë©”ì‹œì§€ + ì‘ì—… ë‚´ìš© ë³€ê²½ squash : ì´ì „ ì»¤ë°‹ê³¼ í•©ì¹¨ fix : squash ì²˜ëŸ¼ ì´ì „ ì»¤ë°‹ê³¼ í•©ì¹˜ëŠ”ë°, ì»¤ë°‹ ë©”ì‹œì§€ëŠ” í•©ì¹˜ì§€ ì•Šê³  ì´ì „ ì»¤ë°‹ ë©”ì‹œì§€ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>rebase</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[spring] MessageConverter]]></title>
    <url>%2Fspring%2FMessageConverter%2F</url>
    <content type="text"><![CDATA[ì•ì„œ ìš°ë¦¬ê°€ HTTP ìš”ì²­ì„ ëª¨ë¸ì— ë°”ì¸ë”©í•˜ê³  í´ë¼ì´ì–¸íŠ¸ì— ë³´ë‚¼ HTTP ì‘ë‹µì„ ë§Œë“¤ê¸° ìœ„í•´ ë·°ë¥¼ ì‚¬ìš©í–ˆë˜ ë°©ì‹ê³¼ëŠ” ë‹¬ë¦¬, HTTP ìš”ì²­ ë³¸ë¬¸ê³¼ HTTP ì‘ë‹µ ë³¸ë¬¸ì„ í†µì§¸ë¡œ ë©”ì„¸ì§€ë¡œ ë‹¤ë£¨ëŠ” ë°©ì‹ì´ë‹¤. ì£¼ë¡œ XMLì´ë‚˜ JSONì„ ì´ìš©í•œ AJAX ê¸°ëŠ¥ì´ë‚˜ ì›¹ ì„œë¹„ìŠ¤ë¥¼ ê°œë°œí•  ë•Œ ì‚¬ìš©ëœë‹¤. ì•„ë˜ì™€ ê°™ì´ ìŠ¤í”„ë§ì˜ @RequestBodyì™€ @ResponseBodyë¥¼ í†µí•´ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. 12345@ResponseBody // ì‘ë‹µ@RequestMapping(value= "/hello", method=RequestMethod.POST)public String hello(@RequestBody String param)&#123; // ìš”ì²­ return "result";&#125; ìœ„ì™€ ê°™ì€ ì• ë…¸í…Œì´ì…˜ì„ ëª…ì‹œí•´ë‘ê²Œ ë˜ë©´ ìŠ¤í”„ë§ì€ ë©”ì„¸ì§€ ì»¨ë²„í„°ë¼ëŠ” ê²ƒì„ ì‚¬ìš©í•˜ì—¬ HTTP ìš”ì²­ì´ë‚˜ ì‘ë‹µì„ ë©”ì„¸ì§€ë¡œ ë³€í™˜í•˜ê²Œ ëœë‹¤. ì¦‰ ìœ„ì²˜ëŸ¼ íŒŒë¼ë¯¸í„° ë¶€ë¶„ì— @RequestBodyë¥¼ ì…ë ¥í•  ê²½ìš°, íŒŒë¼ë¯¸í„° íƒ€ì…ì— ë§ëŠ” ë©”ì„¸ì§€ ì»¨ë²„í„°ë¥¼ ì„ íƒí•œ ë’¤ HTTP ìš”ì²­ ë³¸ë¬¸ì„ í†µì§¸ë¡œ ë©”ì„¸ì§€ë¡œ ë³€í™˜í•˜ì—¬ íŒŒë¼ë¯¸í„°ì— ë°”ì¸ë”©í•˜ëŠ” ê²ƒì´ë‹¤. ë©”ì„œë“œì˜ ìƒë‹¨ì— @ResponseBodyë¥¼ ì…ë ¥í•  ê²½ìš° ë˜í•œ ë§ˆì°¬ê°€ì§€ë¡œ ë¦¬í„´ íƒ€ì…ì— ë§ëŠ” ë©”ì„¸ì§€ ì»¨ë²„í„°ë¥¼ ì„ íƒí•œ ë’¤ ë¦¬í„´ ê°’ì„ í†µì§¸ë¡œ ë©”ì„¸ì§€ë¡œ ë³€í™˜í•œ ë’¤ ë¦¬í„´í•´ì£¼ëŠ” ê²ƒì´ë‹¤. ì°¸ê³ ë¡œ GET ë°©ì‹ì˜ ìš”ì²­ì¼ ê²½ìš° HTTP ìš”ì²­ ë³¸ë¬¸ì´ ì—†ìœ¼ë¯€ë¡œ @RequestBodyë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. @RequestParamì´ë‚˜ @ModelAttributeë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤. ë©”ì„¸ì§€ ì»¨ë²„í„°ì˜ ì¢…ë¥˜ ì´ë ‡ê²Œ ì‚¬ìš©ë˜ëŠ” ë©”ì„¸ì§€ ì»¨ë²„í„°ëŠ” AnnotationMethodHandlerAdapterë¥¼ í†µí•´ ë“±ë¡í•  ìˆ˜ ìˆê³ , ì´ë¯¸ ë””í´íŠ¸ë¡œ 4ê°€ì§€ì˜ ë©”ì„¸ì§€ ì»¨ë²„í„°ê°€ ë“±ë¡ë˜ì–´ ìˆë‹¤. ì•„ë˜ëŠ” ë””í´íŠ¸ ë©”ì„¸ì§€ ì»¨ë²„í„°ë“¤ì´ë‹¤. ByteArrayHttpMessageConverter ì§€ì›í•˜ëŠ” ì˜¤ë¸Œì íŠ¸ íƒ€ì…ì€ byte[]ì´ê³ , ë¯¸ë””ì–´íƒ€ì…ì€ ëª¨ë“  ê²ƒì„ ë‹¤ ì§€ì›í•œë‹¤. ì¦‰ íŒŒë¼ë¯¸í„°ì— @RequestBody byte[] paramê³¼ ê°™ì´ ì‘ì„±í•˜ë©´ ëª¨ë“  ìš”ì²­ì„ ë‹¤ byteë°°ì—´ë¡œ ë°›ì„ ìˆ˜ ìˆë‹¤ëŠ” ë§ì´ë‹¤. ê·¸ë¦¬ê³  ë¦¬í„´íƒ€ì…ì„ byte[]ë¡œ í–ˆì„ ê²½ìš° Content-Typeì´ applcation/octet-streamìœ¼ë¡œ ì„¤ì •ë˜ì–´ ì „ë‹¬ëœë‹¤. ë°”ì´ë„ˆë¦¬ ì •ë³´ë¥¼ ì£¼ê³ ë°›ì„ ê²½ìš°ê°€ ì•„ë‹ˆë¼ë©´ ê·¸ë‹¥ ìœ ìš©í•´ ë³´ì´ì§„ ì•ŠëŠ”ë‹¤. StringHttpMessageConverter ì§€ì›í•˜ëŠ” ì˜¤ë¸Œì íŠ¸ íƒ€ì…ì€ Stringì´ê³ , ë¯¸ë””ì–´íƒ€ì…ì€ ëª¨ë“  ê²ƒì„ ë‹¤ ì§€ì›í•œë‹¤. íŒŒë¼ë¯¸í„°ì— ì‚¬ìš©í•  ê²½ìš° HTTP ë³¸ë¬¸ì„ ê·¸ëŒ€ë¡œ Stringìœ¼ë¡œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆê²Œë˜ê³ , ë¦¬í„´ì— ì‚¬ìš©í•  ê²½ìš° ë‹¨ìˆœ ë¬¸ìì—´ì„ ê·¸ëŒ€ë¡œ ì „ë‹¬í•´ì¤„ ìˆ˜ ìˆë‹¤. Content-Typeì€ text/plainìœ¼ë¡œ ì „ë‹¬ëœë‹¤. FormHttpMessageConverter ì§€ì›í•˜ëŠ” ì˜¤ë¸Œì íŠ¸ íƒ€ì…ì€ MultiValueMap&lt;String, String&gt;ì´ê³ , ë¯¸ë””ì–´íƒ€ì…ì€ application/x-www-form-urlencodedë§Œ ì§€ì›í•œë‹¤. ì¦‰ ì •ì˜ëœ í¼ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ì„ ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ë§ì¸ë°, í¼ ë°ì´í„°ëŠ” @ModelAttributeë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ í›¨ì”¬ ìœ ìš©í•˜ë¯€ë¡œ ì´ê²ƒ ë˜í•œ ìì£¼ ì‚¬ìš©í•  ì¼ì€ ì—†ë‹¤. SourceHttpMessageConvreter ì§€ì›í•˜ëŠ” ì˜¤ë¸Œì íŠ¸ íƒ€ì…ì€ DomSource, SAXSource, StreamSourceì´ê³ , ë¯¸ë””ì–´íƒ€ì…ì€ application/xml, application/*+xml, text/xml ì„¸ê°€ì§€ë¥¼ ì§€ì›í•œë‹¤. XML ë¬¸ì„œë¥¼ Source íƒ€ì…ì˜ ì˜¤ë¸Œì íŠ¸ë¡œ ë³€í™˜í•˜ê³  ì‹¶ì„ ë–„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ìš”ì¦˜ì€ OXM ê¸°ìˆ ì´ ë§ì´ ë°œë‹¬ë˜ì—ˆìœ¼ë¯€ë¡œ ì´ ë˜í•œ ì˜ ì“°ì´ì§€ ì•ŠëŠ”ë‹¤. ì´ì œ ì•„ë˜ëŠ” ë””í´íŠ¸ê°€ ì•„ë‹Œ ë©”ì„¸ì§€ ì»¨ë²„í„°ë“¤ì´ë‹¤. ì‹¤ì œë¡œ ì´ ì»¨ë²„í„°ë“¤ì´ ë” ìœ ìš©í•˜ë‹¤. ì—¬ê¸°ì„œ í•„ìš”í•œê²Œ ìˆë‹¤ë©´ ì§ì ‘ AnnotationMethodHanlderAdapterì˜ messageConvertersì— ë“±ë¡í•˜ê³  ì‚¬ìš©í•´ì•¼ í•œë‹¤. 12345678&lt;bean class="org.springframework...AnnotationMethodHandlerAdapter"&gt; &lt;property name="messageConverters"&gt; &lt;list&gt; &lt;bean class="org.springframework.http.converter.json.MappintJacksonHttpMessageConverter" /&gt; &lt;bean class="org.springframework.http.converter.xml.Jaxb2RootElementHttpMessageConverter" /&gt; &lt;/list&gt; &lt;/property&gt;&lt;/bean&gt; ë‹¤ë¥¸ ì „ëµê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ìœ„ì™€ ê°™ì´ ë“±ë¡ ì‹œ ë””í´íŠ¸ ì „ëµì´ ëª¨ë‘ ë¬´ì‹œëœë‹¤ëŠ” ì ì— ì£¼ì˜í•´ì•¼ í•œë‹¤. Jaxb2RootElementHttpMessageConverter JAXBì˜ @XmlRootElementì™€ @XmlTypeì´ ë¶™ì€ í´ë˜ìŠ¤ë¥¼ ì´ìš©í•´ XMLê³¼ ì˜¤ë¸Œì íŠ¸ ì‚¬ì´ì˜ ë©”ì„¸ì§€ ë³€í™˜ì„ ì§€ì›í•œë‹¤. ì§€ì›í•˜ëŠ” ë¯¸ë””ì–´ íƒ€ì…ì€ SourceHttpMessageConvreterì™€ ë™ì¼í•˜ë‹¤. MashallingHttpMessageConverter ìŠ¤í”„ë§ OXM ì¶”ìƒí™”ì˜ Mashallerì™€ Unmarshallerë¥¼ ì´ìš©í•´ì„œ XMLê³¼ ì˜¤ë¸Œì íŠ¸ ì‚¬ì´ì˜ ë³€í™˜ì„ ì§€ì›í•œë‹¤. ì´ ì»¨ë²„í„°ë¥¼ ë“±ë¡í•  ë•ŒëŠ” marshallerì™€ unmarshallerë¥¼ ì„¤ì •í•´ì¤˜ì•¼ í•œë‹¤. ì§€ì›í•˜ëŠ” ë¯¸ë””ì–´ íƒ€ì…ì€ SourceHttpMessageConvreterì™€ ë™ì¼í•˜ë‹¤. MappingJacksonHttpMessageConverter Jacksonì˜ ObjectMapperë¥¼ ì´ìš©í•´ì„œ JSONê³¼ ì˜¤ë¸Œì íŠ¸ ì‚¬ì´ì˜ ë³€í™˜ì„ ì§€ì›í•œë‹¤. ì§€ì›í•˜ëŠ” ë¯¸ë””ì–´ íƒ€ì…ì€ application/jsonì´ë‹¤. ë³€í™˜í•˜ëŠ” ì˜¤ë¸Œì íŠ¸ íƒ€ì…ì˜ ì œí•œì€ ì—†ì§€ë§Œ í”„ë¡œí¼í‹°ë¥¼ ê°€ì§„ ìë°”ë¹ˆ ìŠ¤íƒ€ì¼ì´ë‚˜ HashMapì„ ì´ìš©í•´ì•¼ ì •í™•í•œ ë³€í™˜ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤. From]]></content>
      <categories>
        <category>spring</category>
      </categories>
      <tags>
        <tag>í† ë¹„ì˜ ìŠ¤í”„ë§</tag>
        <tag>MessageConverter</tag>
        <tag>@RequestBody</tag>
        <tag>@ResponseBody</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[db] ì‹¤í–‰ê³„íš]]></title>
    <url>%2Fdb%2F%EC%8B%A4%ED%96%89%EA%B3%84%ED%9A%8D%2F</url>
    <content type="text"><![CDATA[ëª¨ë“  ì¼ì—ëŠ” ê³„íšì´ í•„ìš”í•˜ë‹¤. ì¼ì„ í•˜ë“ â€¦ ì—¬í–‰ì„ ê°€ë“ â€¦ ê·¸ë¦¬ê³  ìš°ë¦¬ëŠ” ê·¸ ì¼ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ì—¬ëŸ¬ê°€ì§€ ê³„íšì„ ì„¸ìš°ê³ , ê·¸ ì¤‘ì—ì„œ ì–´ë–¤ ë°©ì‹ì´ ìµœì ì´ê³  ìµœì†Œì˜ ë¹„ìš©ì´ ì†Œëª¨ë˜ëŠ”ì§€ë¥¼ ê²°ì •í•˜ê²Œ ëœë‹¤. ì´ëŠ” DBMSë„ ë§ˆì°¬ê°€ì§€ì´ë‹¤. ì˜µí‹°ë§ˆì´ì €ëŠ” ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ê¸°ì „ ì—¬ëŸ¬ê°€ì§€ í†µê³„ì •ë³´ë¥¼ ì°¸ì¡°í•˜ì—¬ ìµœì ì˜ ê³„íšì„ ì„¸ìš°ê³ , ê·¸ ê³„íšëŒ€ë¡œ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•œë‹¤. ì˜µí‹°ë§ˆì´ì € SQLì„ ê°€ì¥ ë¹ ë¥´ê³  íš¨ìœ¨ì ìœ¼ë¡œ ìˆ˜í–‰í•  ìµœì ì˜ ê²½ë¡œë¥¼ ìƒì„±í•˜ëŠ” DBMS ë‚´ë¶€ í•µì‹¬ì—”ì§„ì´ë‹¤. ì¦‰ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì—ì„œ ë‘ë‡Œì™€ ê°™ì€ ì—­í• ì„ ë‹´ë‹¹í•œë‹¤. ì˜µí‹°ë§ˆì´ì €ì˜ ìµœì í™” ë°©ë²•ìœ¼ë¡œëŠ” ê·œì¹™ ê¸°ë°˜ ìµœì í™”(RBO)ì™€ ë¹„ìš© ê¸°ë°˜ ìµœì í™”(CBO)ê°€ ìˆëŠ”ë°, í˜„ì¬ëŠ” ê±°ì˜ ëŒ€ë¶€ë¶„ì˜ DBMSì—ì„œ ë¹„ìš© ê¸°ë°˜ ìµœì í™”ë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤. MySQL ë˜í•œ ë§ˆì°¬ê°€ì§€ì´ë‹¤. í†µê³„ ì •ë³´ ë¹„ìš© ê¸°ë°˜ ìµœì í™”ì—ì„œ ì‹¤í–‰ê³„íš ìˆ˜ë¦½ ì‹œ ê°€ì¥ ì¤‘ìš”í•˜ê²Œ ì‚¬ìš©ë˜ëŠ” ì •ë³´ì´ë‹¤. í†µê³„ ì •ë³´ê°€ ì •í™•í•˜ì§€ ì•Šìœ¼ë©´ ì „í˜€ ì—‰ëš±í•œ ë°©í–¥ìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•´ ë²„ë¦´ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤. ì´ í†µê³„ì •ë³´ëŠ” ANALYZE ë¼ëŠ” ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ ì§ì ‘ ê°±ì‹ í•  ìˆ˜ ìˆëŠ”ë°, MySQLì˜ ê²½ìš° ì‚¬ìš©ìê°€ ì•Œì•„ì±„ì§€ ëª»í•˜ëŠ” ì‚¬ì´ì— ìë™ìœ¼ë¡œ ê³„ì† ë³€ê²½ë˜ê¸° ë•Œë¬¸ì— ì§ì ‘ ìˆ˜ë™ìœ¼ë¡œ ê°±ì‹ í•  ì¼ì€ ë³„ë¡œ ì—†ë‹¤. (í•˜ì§€ë§Œ ë ˆì½”ë“œ ê±´ìˆ˜ê°€ ì‘ìœ¼ë©´ í†µê³„ ì •ë³´ê°€ ë¶€ì •í™•í•  ë•Œê°€ ë§ìŒ) InnoDBì˜ ê²½ìš° ANALYZEë¥¼ ì‹¤í–‰í•˜ëŠ” ë™ì•ˆ ì½ê¸°ì™€ ì“°ê¸°ê°€ ëª¨ë‘ ë¶ˆê°€ëŠ¥í•˜ë¯€ë¡œ ì„œë¹„ìŠ¤ ë„ì¤‘ì—ëŠ” ì‹¤í–‰í•˜ì§€ ì•ŠëŠ”ê²ƒì´ ì¢‹ë‹¤. ì¿¼ë¦¬ ì‹¤í–‰ì ˆì°¨ MySQL ì„œë²„ì—ì„œ ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ëŠ” ê³¼ì •ì€ í¬ê²Œ 3ê°€ì§€ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤. ìš”ì²­ë°›ì€ SQL ë¬¸ì¥ì„ ì˜ê²Œ ìª¼ê°œì„œ MySQL ì„œë²„ê°€ ì´í•´í•  ìˆ˜ ìˆëŠ” ìˆ˜ì¤€ìœ¼ë¡œ ë¶„ë¦¬í•œë‹¤. ìœ„ì—ì„œ ìƒì„±ëœ SQL íŒŒì‹± ì •ë³´(íŒŒìŠ¤ íŠ¸ë¦¬)ë¥¼ í™•ì¸í•˜ë©´ì„œ ì–´ë–¤ í…Œì´ë¸”ë¶€í„° ì½ì„ì§€, ì–´ë–¤ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í• ì§€ ì„ íƒí•œë‹¤. ìœ„ì—ì„œ ì„ íƒëœ ìˆœì„œì™€ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œë¶€í„° ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤. 1ë²ˆ ë‹¨ê³„ë¥¼ SQL íŒŒì‹±ì´ë¼ê³  í•˜ê³ , MySQL ì„œë²„ì˜ SQL íŒŒì„œë¼ëŠ” ëª¨ë“ˆë¡œ ì²˜ë¦¬í•œë‹¤. ì´ ë‹¨ê³„ì—ì„œ ë§Œë“¤ì–´ì§„ ê²ƒì„ SQL íŒŒìŠ¤ íŠ¸ë¦¬ë¼ê³  í•œë‹¤. 2ë²ˆ ë‹¨ê³„ì—ì„œëŠ” 1ë²ˆ ë‹¨ê³„ì—ì„œ ìƒì„±ëœ SQL íŒŒìŠ¤ íŠ¸ë¦¬ë¥¼ ì°¸ì¡°í•˜ì—¬ ì˜µí‹°ë§ˆì´ì €ì—ì„œ ë‹¤ìŒ ë‚´ìš©ì„ ì²˜ë¦¬í•œë‹¤. ë¶ˆí•„ìš”í•œ ì¡°ê±´ ì œê±° ë° ë³µì¡í•œ ì—°ì‚° ë‹¨ìˆœí™” ì¡°ì¸ì´ ìˆëŠ” ê²½ìš°, ì–´ë–¤ ìˆœì„œë¡œ ì½ì„ ì§€ ê²°ì • ì¡°ê±´ê³¼ í†µê³„ì •ë³´ë¥¼ ì°¸ì¡°í•´ ì‚¬ìš©í•  ì¸ë±ìŠ¤ ê²°ì • ì„ì‹œí…Œì´ë¸”ì„ í†µí•´ ë‹¤ì‹œ ê°€ê³µí•´ì•¼ í•˜ëŠ”ì§€ ê²°ì • 3ë²ˆ ë‹¨ê³„ì—ì„œëŠ” 2ë²ˆ ë‹¨ê³„ì—ì„œ ìˆ˜ë¦½ëœ ì‹¤í–‰ ê³„íšëŒ€ë¡œ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì— ë ˆì½”ë“œë¥¼ ì½ì–´ì˜¤ë„ë¡ ìš”ì²­í•˜ê³ , ë°›ì€ ë ˆì½”ë“œë¥¼ MySQL ì—”ì§„ì´ ì¡°ì¸í•˜ê±°ë‚˜ ì •ë ¬í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤. MySQLì€ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ê³¼ MySQL ì—”ì§„ìœ¼ë¡œ êµ¬ë¶„ëœë‹¤. ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì€ ë””ìŠ¤í¬ë‚˜ ë©”ëª¨ë¦¬ìƒì—ì„œ í•„ìš”í•œ ë ˆì½”ë“œë¥¼ ì½ê±°ë‚˜ ì €ì¥í•˜ëŠ” ì—­í• ì„ í•˜ë©°, MySQL ì—”ì§„ì€ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œë¶€í„° ë°›ì€ ë ˆì½”ë“œë¥¼ ê°€ê³µ/ì—°ì‚°í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤. ë³´ë‹¤ì‹œí”¼ 1,2ë²ˆ ë‹¨ê³„ëŠ” ê±°ì˜ MySQL ì—”ì§„ì—ì„œ ì²˜ë¦¬í•˜ë©°, 3ë²ˆ ë‹¨ê³„ëŠ” MySQL ì—”ì§„ê³¼ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì´ ë™ì‹œì— ì°¸ì—¬í•´ì„œ ì²˜ë¦¬í•œë‹¤. ì‹¤í–‰ê³„íš ë¶„ì„ ì¿¼ë¦¬ì— EXPLAINì´ë¼ëŠ” ëª…ë ¹ì–´ë¥¼ ì¶”ê°€ë¡œ ì‚¬ìš©í•˜ë©´ MySQLì´ ìˆ˜ë¦½í•œ ì‹¤í–‰ê³„íšì„ ì§ì ‘ ë³¼ìˆ˜ìˆë‹¤. ì•„ë˜ëŠ” ì‹¤í–‰ê³„íšì˜ ì˜ˆì‹œì´ë‹¤. í‘œì˜ ê° ë¼ì¸ì€ ì‚¬ìš©ëœ í…Œì´ë¸”ì˜ ê°œìˆ˜(ì„ì‹œ í…Œì´ë¸” í¬í•¨)ì´ê³ , ì‹¤í–‰ìˆœì„œëŠ” ëŒ€ì²´ì ìœ¼ë¡œ ìœ„ì—ì„œ ì•„ë˜ë¡œ ì§„í–‰ëœë‹¤. ì°¸ê³ ë¡œ ì‹¤í–‰ê³„íšì€ SELECT ë¬¸ë§Œ í™•ì¸ ê°€ëŠ¥í•˜ë©°, DML ë¬¸ì¥ì˜ ì‹¤í–‰ê³„íšì„ í™•ì¸í•˜ê³  ì‹¶ìœ¼ë©´ WHERE ì¡°ê±´ì ˆë§Œ ê°™ì€ SELECT ë¬¸ì„ ë§Œë“¤ì–´ì„œ ëŒ€ëµì ìœ¼ë¡œ í™•ì¸í•´ë³´ëŠ” ìˆ˜ ë°–ì— ì—†ë‹¤. id SELECT ë‹¨ìœ„ ì¿¼ë¦¬ë³„ë¡œ ë¶€ì—¬ë˜ëŠ” ì‹ë³„ì ê°’ì´ë‹¤. í•˜ì§€ë§Œ ë§Œì•½ JOINì„ í–ˆì„ ê²½ìš°, ë ˆì½”ë“œëŠ” í…Œì´ë¸”ì˜ ê°œìˆ˜ë§Œí¼ ì¶œë ¥ë˜ì§€ë§Œ idëŠ” ë™ì¼í•˜ê²Œ ë¶€ì—¬ëœë‹¤. JOIN ì‹œ ë¨¼ì €(ìœ— ë¼ì¸)ì— í‘œì‹œëœ í…Œì´ë¸”ì´ ë“œë¼ì´ë¹™ í…Œì´ë¸”, ì´í›„ì— í‘œì‹œëœ í…Œì´ë¸”ì´ ë“œë¦¬ë¸ í…Œì´ë¸”ì´ ëœë‹¤. select_type ê° ë‹¨ìœ„ SELECTê°€ ì–´ë–¤ íƒ€ì…ì˜ ì¿¼ë¦¬ì¸ì§€ í‘œì‹œí•˜ëŠ” ì¹¼ëŸ¼ì´ë‹¤. SIMPLE UNIONì´ë‚˜ ì„œë¸Œ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë‹¨ìˆœí•œ SELECT ì¿¼ë¦¬ì¸ ê²½ìš° í‘œì‹œëœë‹¤. PRIMARY UNIONì´ë‚˜ ì„œë¸Œ ì¿¼ë¦¬ê°€ í¬í•¨ëœ SELECT ì¿¼ë¦¬ì˜ ì‹¤í–‰ê³„íšì—ì„œ ê°€ì¥ ë°”ê¹¥ìª½ì— ìˆëŠ” ë‹¨ìœ„ì¿¼ë¦¬ì¸ ê²½ìš° í‘œì‹œëœë‹¤. UNION UNIONì´ë‚˜ UNION ALLë¡œ ê²°í•©í•˜ëŠ” ë‹¨ìœ„ SELECT ì¿¼ë¦¬ë“¤ ì¤‘ ì²«ë²ˆì§¸ë¥¼ ì œì™¸í•œ ë‘ë²ˆì§¸ ì´í›„ë¶€í„° í‘œì‹œëœë‹¤. ì²«ë²ˆì§¸ ë ˆì½”ë“œì—ëŠ” UNION ëŒ€ì‹  DERIVEDê°€ í‘œì‹œëœë‹¤. ì¡°íšŒëœ ê²°ê³¼ë¥¼ UNIONìœ¼ë¡œ ê²°í•©í•´ ì„ì‹œí…Œì´ë¸”ì„ ë§Œë“¤ì–´ ì‚¬ìš©í•˜ê¸° ë–„ë¬¸ì´ë‹¤. DEPENDENT UNION UNION/UNION ALLì„ ì‚¬ìš©í•˜ëŠ” ë‹¨ìœ„ì¿¼ë¦¬ê°€ Outer ì¿¼ë¦¬ì— ì˜í•´ ì˜í–¥ì„ ë°›ì„ ê²½ìš° í‘œì‹œëœë‹¤. 12345678910EXPLAIN SELECT e.first_name,(SELECT CONCAT('Salary change count : ', COUNT(*)) AS message FROM salaries s WHERE s.emp_no=e.emp_noUNIONSELECT CONCAT('Department change count : ', COUNT(*)) AS message FROM dept_emp de WHERE de.emp_no=e.emp_no) AS messageFROM employees e; ì˜ˆì™¸ê°€ ì¡°ê¸ˆ ì–µì§€ìŠ¤ëŸ½ê¸´ í•˜ë‹¤â€¦ ë³´ë‹¤ì‹œí”¼ UNIONì—ì„œ Outer ì¿¼ë¦¬ì˜ emp_no ì¹¼ëŸ¼ì„ ì´ìš©í–ˆê¸° ë•Œë¬¸ì— DEPENDENT UNIONì´ í‘œì‹œë˜ê³  ìˆë‹¤. ìœ„ì™€ ê°™ì€ í˜•íƒœë¥¼ ì„œë¸Œ ì¿¼ë¦¬ë¼ê³  í•˜ëŠ”ë°, ì¼ë°˜ì ìœ¼ë¡œ ì„œë¸Œ ì¿¼ë¦¬ëŠ” Outer ì¿¼ë¦¬ë³´ë‹¤ ë¨¼ì € ì‹¤í–‰ë˜ë©°, ì†ë„ë„ ë¹ ë¥´ê²Œ ì²˜ë¦¬ëœë‹¤. í•˜ì§€ë§Œ ìœ„ì™€ ê°™ì´ Outer ì¿¼ë¦¬ì— ì˜ì¡´ì ì¸ ì„œë¸Œì¿¼ë¦¬, ì¦‰ DEPENDENT í˜•íƒœì˜ ê²½ìš° ì ˆëŒ€ Outer ì¿¼ë¦¬ë³´ë‹¤ ë¨¼ì € ì‹¤í–‰ë  ìˆ˜ ì—†ë‹¤. ê·¸ë˜ì„œ DEPENDENT ì‹¤í–‰ê³„íšì´ í¬í•¨ëœ ì¿¼ë¦¬ëŠ” ë¹„íš¨ìœ¨ì ì¸ ê²½ìš°ê°€ ë§ë‹¤. SUBQUERY í•˜ë‚˜ì˜ ë‹¨ìœ„ì¿¼ë¦¬ê°€ ë‹¤ë¥¸ ë‹¨ìœ„ì¿¼ë¦¬ë¥¼ í¬í•¨í–ˆì„ ê²½ìš° ì´ë¥¼ ì„œë¸Œì¿¼ë¦¬ ë¼ê³  í•˜ëŠ”ë°, SUBQUERY select_typeì€ FROMì ˆ ì´ì™¸ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì„œë¸Œì¿¼ë¦¬ë§Œì„ ì˜ë¯¸í•œë‹¤. FROMì ˆì— ì‚¬ìš©ëœ ì„œë¸Œì¿¼ë¦¬ëŠ” select_typeì´ DERIVEDë¡œ í‘œì‹œëœë‹¤. DEPENDENT SUBQUERY DEPENDENT UNIONê³¼ ê°™ì´ ì„œë¸Œì¿¼ë¦¬ê°€ Outer ì¿¼ë¦¬ì— ì •ì˜ëœ ì»¬ëŸ¼ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš° í‘œì‹œëœë‹¤. ì´ ë˜í•œ ì¼ë°˜ ì„œë¸Œì¿¼ë¦¬ë³´ë‹¤ ì²˜ë¦¬ì†ë„ê°€ ëŠë¦° ê²½ìš°ê°€ ë§ë‹¤. DERIVED ë‹¨ìœ„ SELECT ì¿¼ë¦¬ì˜ ì‹¤í–‰ ê²°ê³¼ë¥¼ ë©”ëª¨ë¦¬ë‚˜ ë””ìŠ¤í¬ì˜ ì„ì‹œ í…Œì´ë¸”ì„ ìƒì„±í•˜ì—¬ ì €ì¥í•  ë•Œ í‘œì‹œëœë‹¤. MySQLì€ FROMì ˆì— ì‚¬ìš©ëœ ì„œë¸Œì¿¼ë¦¬ë¥¼ ì œëŒ€ë¡œ ìµœì í™”í•˜ì§€ ëª»í•  ê²½ìš°ê°€ ëŒ€ë¶€ë¶„ì´ë‹¤.(ì¸ë±ìŠ¤ê°€ ì „í˜€ ì—†ìœ¼ë¯€ë¡œ) ê·¸ì— ë¹„í•´ MySQL 5.0 ì´í›„ë¡œëŠ” ì¡°ì¸ì´ ìƒë‹¹íˆ ìµœì í™” ëœ í¸ì´ë¯€ë¡œ, FROM ì„œë¸Œì¿¼ë¦¬ ëŒ€ì‹  ì¡°ì¸ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. UNCACHEABLE SUBQUERY ì˜µí‹°ë§ˆì´ì €ëŠ” ì¡°ê±´ì´ ë˜‘ê°™ì€ ì„œë¸Œì¿¼ë¦¬ì˜ ì‹¤í–‰ê²°ê³¼ëŠ” ë‚´ë¶€ì ì¸ ìºì‹œ ê³µê°„ì— ë‹´ì•„ë‘” ë’¤ ë‹¤ì‹œ ì‚¬ìš©í•˜ë©° ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¨ë‹¤. SUBQUERYì™€ DEPENDENT SUBQUERYê°€ ìºì‹œë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ë‹¤. SUBQUERY : Outer ì¿¼ë¦¬ì˜ ì˜í–¥ì„ ë°›ì§€ ì•Šìœ¼ë¯€ë¡œ ì²˜ìŒ í•œë²ˆë§Œ ì‹¤í–‰í•´ì„œ ê²°ê³¼ë¥¼ ìºì‹œí•˜ê³ , í•„ìš”í•  ë–„ ì´ìš©í•œë‹¤. DEPENDENT SUBQUERY : Outer ì¿¼ë¦¬ ì»¬ëŸ¼ì˜ ê°’ ë‹¨ìœ„ë¡œ ìºì‹œí•´ë‘ê³  ì‚¬ìš©í•œë‹¤. UNCACHEABLE SUBQUERYì˜ ê²½ìš° ìºì‹œë¥¼ í•˜ì§€ ëª»í•˜ëŠ” ê²½ìš° í‘œì‹œë˜ëŠ”ë°, ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤. ì‹œìš©ì ë³€ìˆ˜ê°€ ì„œë¸Œì¿¼ë¦¬ì— í¬í•¨ëœ ê²½ìš° NOT_DETERMINISTIC ì†ì„±ì˜ ìŠ¤í† ì–´ë“œ ë£¨í‹´ì´ ì„œë¸Œì¿¼ë¦¬ì— ì‚¬ìš©ëœ ê²½ìš° UUID()ë‚˜ RAND() ê°™ì´ í˜¸ì¶œí•  ë•Œ ë§ˆë‹¤ ë‹¬ë¼ì§€ëŠ” í•¨ìˆ˜ê°€ ì„œë¸Œì¿¼ë¦¬ì— ì‚¬ìš©ëœ ê²½ìš° UNCACHEABLE UNION ìœ„ì™€ ë™ì¼í•˜ê²Œ UNION ê²°ê³¼ë¥¼ ìºì‹œí•  ìˆ˜ ì—†ì„ ê²½ìš° ì‚¬ìš©ëœë‹¤. table MySQLì˜ ì‹¤í–‰ê³„íšì€ SELECT ì¿¼ë¦¬ ê¸°ì¤€ì´ ì•„ë‹ˆë¼ í…Œì´ë¸” ê¸°ì¤€ìœ¼ë¡œ í‘œì‹œëœë‹¤. alias(ë³„ì¹­)ë¥¼ ì‚¬ìš©í–ˆì„ ê²½ìš° aliasê°€ í‘œì‹œë˜ê³ , í…Œì´ë¸”ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ì„ ê²½ìš° NULLì´ í‘œì‹œëœë‹¤. ê·¸ë¦¬ê³  í…Œì´ë¸” ì´ë¦„ì´ &lt; &gt;ê°™ì´ ë‘˜ëŸ¬ì‹¸ì˜€ì„ ê²½ìš°, ì„ì‹œí…Œì´ë¸”ì„ ì˜ë¯¸í•œë‹¤. type MySQL ì„œë²„ê°€ ê° í…Œì´ë¸”ì˜ ë ˆì½”ë“œë¥¼ ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ì½ì—ˆëŠ”ì§€ë¥¼ í‘œì‹œí•´ì¤€ë‹¤. ì´ ì»¬ëŸ¼ì„ í†µí•´ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í–ˆëŠ”ì§€, í…Œì´ë¸”ì„ í’€ ìŠ¤ìº”í–ˆëŠ”ì§€ ë“±ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì¸ë±ìŠ¤ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ë§¤ìš° ì¤‘ìš”í•˜ë¯€ë¡œ, ì´ ì»¬ëŸ¼ì€ ê¼­ í™•ì¸í•´ì•¼ í•  ì •ë³´ì´ë‹¤. ì•„ë˜ëŠ” MySQLì—ì„œ ë¶€ì—¬í•œ ì ‘ê·¼ì†ë„ ìˆœìœ„ì´ë‹¤. ALL íƒ€ì…ë§Œ ë¹¼ê³  ëª¨ë‘ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ë‹¤. system ë ˆì½”ë“œê°€ 1ê±´ë§Œ ì¡´ì¬í•˜ê±°ë‚˜ 1ê±´ë„ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” í…Œì´ë¸”ì„ ì°¸ì¡°í•  ë–„ í‘œì‹œëœë‹¤. ì´ëŠ” InnoDBì—ì„œëŠ” ë‚˜íƒ€ë‚˜ì§€ ì•Šê³ , MyISAMì´ë‚˜ MEMORY í…Œì´ë¸”ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì ‘ê·¼ ë°©ì‹ì´ë‹¤. const í…Œì´ë¸” ë ˆì½”ë“œ ê±´ìˆ˜ì— ê´€ê³„ì—†ì´ WHERE ì¡°ê±´ì ˆì—ì„œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë‚˜ ìœ ë‹ˆí¬ í‚¤ ì»¬ëŸ¼ì„ ì‚¬ìš©í•˜ë©°, ë°˜ë“œì‹œ 1ê±´ë§Œ ë°˜í™˜í•  ê²½ìš° í‘œì‹œëœë‹¤. 1234EXPLAIN SELECT *FROM employeesWHERE emp_no = 10001; ë‹¤ì¤‘ì»¬ëŸ¼ìœ¼ë¡œ êµ¬ì„±ëœ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë‚˜ ìœ ë‹ˆí¬ í‚¤ì˜ ì¼ë¶€ ì»¬ëŸ¼ë§Œ ì‚¬ìš©í•  ê²½ìš° const íƒ€ì…ì˜ ì ‘ê·¼ ë°©ë²•ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. eq_ref ì—¬ëŸ¬ í…Œì´ë¸”ì´ ì¡°ì¸ë˜ëŠ” ì¿¼ë¦¬ì˜ ì‹¤í–‰ê³„íšì—ì„œë§Œ í‘œì‹œëœë‹¤. ì¡°ì¸ì—ì„œ ì²˜ìŒ ì½ì€ í…Œì´ë¸”ì˜ ì»¬ëŸ¼ ê°’ì„ ê·¸ ë‹¤ìŒ ì½ì–´ì•¼ í•  í…Œì´ë¸”ì˜ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë‚˜ ìœ ë‹ˆí¬ í‚¤ ì»¬ëŸ¼ ê²€ìƒ‰ ì¡°ê±´ì— ì‚¬ìš©í•˜ê³ , ê·¸ë¡œ ì¸í•´ ë‘ë²ˆì¨° í…Œì´ë¸”ì—ì„œ ì¶œë ¥ë˜ëŠ” ë ˆì½”ë“œê°€ ë°˜ë“œì‹œ 1ê±´ì´ë¼ëŠ” ë³´ì¥ì´ ìˆì„ ê²½ìš° í‘œì‹œëœë‹¤. 12345678EXPLAIN SELECT *FROM dept_emp de INNER JOIN employees e-- ë“œë¼ì´ë¹™ í…Œì´ë¸”ì—ì„œ ì½ì€ ì»¬ëŸ¼ì„ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ ì¡°ê±´ì— ì‚¬ìš©ON e.emp_no = de.emp_no -- employeesì—ì„œ ë°˜ë“œì‹œ 1ê±´ë§Œ ë‚˜ì˜¤ê²Œ ë³´ì¥WHERE de.dept_no = 'd005'; ref ì¸ë±ìŠ¤ë¥¼ Equal ì¡°ê±´ìœ¼ë¡œ ê²€ìƒ‰í•  ë•Œ ì‚¬ìš©ëœë‹¤. ì¡°ì¸ì˜ ìˆœì„œì™€ ê´€ê³„ì—†ê³ , í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë‚˜ ìœ ë‹ˆí¬ í‚¤ ë“±ì˜ ì œì•½ì¡°ê±´ë„ ì—†ë‹¤. ë°˜í™˜ë˜ëŠ” ë ˆì½”ë“œê°€ ë°˜ë“œì‹œ 1ê±´ì´ë¼ëŠ” ë³´ì¥ì´ ì—†ìœ¼ë¯€ë¡œ constë‚˜ eq_ref ë³´ë‹¤ëŠ” ëŠë¦¬ë‚˜, ê¸°ë³¸ì ìœ¼ë¡œ ë§¤ìš° ë¹ ë¥¸ ì¡°íšŒë°©ë²• ì¤‘ í•˜ë‚˜ì´ë‹¤. ref_or_null refì™€ ê°™ì€ë° NULL ë¹„êµê°€ ì¶”ê°€ëœ í˜•íƒœì´ë‹¤. 1234EXPLAIN SELECT *FROM titlesWHERE to_date = '1985-03-01' OR to_date IS NULL; ì‹¤ë¬´ì—ì„œ ë³„ë¡œ ì‚¬ìš©ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì´ ì •ë„ë§Œ ê¸°ì–µí•´ë„ ëœë‹¤. unique_subquery WHERE ì¡°ê±´ì ˆì—ì„œ ì‚¬ìš©ë  ìˆ˜ ìˆëŠ” IN (subquery) í˜•íƒœì˜ ì¿¼ë¦¬ë¥¼ ìœ„í•œ ì ‘ê·¼ ë°©ì‹ì´ë‹¤. ì„œë¸Œì¿¼ë¦¬ì—ì„œ ì¤‘ë³µë˜ì§€ ì•Šì€ ìœ ë‹ˆí¬í•œ ê°’ë§Œ ë°˜í™˜ë  ë•Œ í‘œì‹œëœë‹¤. index_subquery IN ì—°ì‚°ìì˜ íŠ¹ì„±ìƒ ê´„í˜¸ì•ˆì— ìˆëŠ” ê°’ì˜ ëª©ë¡ì—ëŠ” ì¤‘ë³µì´ ë¨¼ì € ì œê±°ë˜ì–´ì•¼ í•œë‹¤. index_subqueryì˜ ê²½ìš° ì„œë¸Œì¿¼ë¦¬ê°€ ì¤‘ë³µëœ ê°’ì„ ë°˜í™˜í•  ìˆ˜ ìˆì§€ë§Œ, ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ ì¤‘ë³µì„ ì œê±°í•  ìˆ˜ ìˆì„ë•Œ í‘œì‹œëœë‹¤. range ì¸ë±ìŠ¤ë¥¼ í•˜ë‚˜ì˜ ê°’ì´ ì•„ë‹ˆë¼ ë²”ìœ„ë¡œ ê²€ìƒ‰í•˜ëŠ” ê²½ìš°ì— í‘œì‹œëœë‹¤. ë²”ìœ„ ê²€ìƒ‰ ì—°ì‚°ìì˜ ê²½ìš° &lt;, &gt;, IS NULL, BETWEEN, IN, LIKE ë“±ì´ ìˆë‹¤. index_merge 2ê°œ ì´ìƒì˜ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ ê°ê°ì˜ ê²€ìƒ‰ ê²°ê³¼ë¥¼ ë§Œë“¤ì–´ ë‚¸ í›„, ì´ë¥¼ ë³‘í•©í•˜ì—¬ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì´ë‹¤. 12345EXPLAIN SELECT *FROM employeesWHERE emp_no BETWEEN 10001 AND 11000 -- primary keyë¡œ ì¡°íšŒOR first_name = 'Smith'; -- first_name indexë¡œ ì¡°íšŒ í•˜ì§€ë§Œ index_mergeì˜ ê²½ìš° ì´ë¦„ì²˜ëŸ¼ íš¨ìœ¨ì ìœ¼ë¡œ ì‘ë™í•˜ëŠ” ê²½ìš°ê°€ ê·¸ë ‡ê²Œ ë§ì§€ëŠ” ì•Šë‹¤. index ì´ë¦„ë§Œ ë³´ë©´ ì•„ì£¼ ì¢‹ì•„ë³´ì´ë‚˜, ì‹¤ì œë¡œëŠ” ì¸ë±ìŠ¤ë¥¼ ì²˜ìŒë¶€í„° ëê¹Œì§€ ì½ëŠ” ì¸ë±ìŠ¤ í’€ ìŠ¤ìº”ì„ ì˜ë¯¸í•œë‹¤. í’€ í…Œì´ë¸” ìŠ¤ìº”ê³¼ ì½ëŠ” ë ˆì½”ë“œ ìˆ˜ëŠ” ê°™ìœ¼ë‚˜, ì¸ë±ìŠ¤ê°€ ì¼ë°˜ì ìœ¼ë¡œ ë°ì´í„° íŒŒì¼ ì „ì²´ë³´ë‹¤ëŠ” í¬ê¸°ë„ ì‘ê³  ì •ë ¬ë„ ë˜ì–´ìˆìœ¼ë¯€ë¡œ í’€ í…Œì´ë¸” ìŠ¤ìº”ë³´ë‹¤ëŠ” ë¹¨ë¦¬ ì²˜ë¦¬ëœë‹¤. ì´ ë°©ì‹ì€ ë‹¤ìŒì˜ ì¡°ê±´ì„ ì¶©ì¡±í•  ë–„ í‘œì‹œëœë‹¤. range, const, refì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•˜ì§€ ëª»í•˜ëŠ” ê²½ìš° ì¸ë±ìŠ¤ì— í¬í•¨ëœ ì»¬ëŸ¼ìœ¼ë¡œë§Œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ê²½ìš° ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ ì •ë ¬ì´ë‚˜ ê·¸ë£¹í•‘ì´ ê°€ëŠ¥í•  ê²½ìš° ALL í’€ í…Œì´ë¸” ìŠ¤ìº”ì„ ì˜ë¯¸í•œë‹¤. í…Œì´ë¸”ì„ ì²˜ìŒë¶€í„° ëê¹Œì§€ ë‹¤ ì½ëŠ” ë°©ì‹ìœ¼ë¡œ, ê°€ì¥ ë¹„íš¨ìœ¨ì ì¸ ë°©ë²•ì´ë‹¤. possible_keys ì˜µí‹°ë§ˆì´ì €ê°€ ìµœì í™” ëœ ì‹¤í–‰ê³„íšì„ ë§Œë“¤ê¸° ìœ„í•´ í›„ë³´ë¡œ ì„ ì •í–ˆë˜ ì¸ë±ìŠ¤ì˜ ëª©ë¡ì´ë‹¤. ì¦‰, â€œì‚¬ìš©ë  ë»” í–ˆë˜ ì¸ë±ìŠ¤ ëª©ë¡â€ ì´ë¯€ë¡œ, ì•„ë¬´ ë„ì›€ë„ ë˜ì§€ ì•ŠëŠ”ë‹¤. ê·¸ëƒ¥ ë¬´ì‹œí•˜ì. key possible_keysì™€ ë‹¬ë¦¬ ìµœì¢… ì‹¤í–‰ê³„íšì—ì„œ ì„ íƒëœ ì¸ë±ìŠ¤ë¥¼ ì˜ë¯¸í•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì¿¼ë¦¬ íŠœë‹ ì‹œ ì˜ë„í–ˆë˜ ì¸ë±ìŠ¤ê°€ í‘œì‹œë˜ëŠ”ì§€ ì´ê³³ì„ í†µí•´ í™•ì¸í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤. 2ê°œ ì´ìƒì˜ ì¸ë±ìŠ¤ê°€ ì‚¬ìš©ë  ê²½ìš° ,ë¡œ êµ¬ë¶„ë˜ì–´ í‘œì‹œëœë‹¤. í”„ë¼ì´ë¨¸ë¦¬ í‚¤ì˜ ê²½ìš° PRIMARY KEYë¼ëŠ” ì´ë¦„ìœ¼ë¡œ í‘œì‹œëœë‹¤. key_len ì‹¤ì œ ì—…ë¬´ì—ì„œëŠ” ë‹¨ì¼ ì»¬ëŸ¼ ì¸ë±ìŠ¤ë³´ë‹¤ ë‹¤ì¤‘ ì»¬ëŸ¼ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ì¸ë±ìŠ¤ê°€ ë” ë§ì€ë°, key_lenì€ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ë‹¤ì¤‘ ì»¬ëŸ¼ìœ¼ë¡œ êµ¬ì„±ëœ ì¸ë±ìŠ¤ì—ì„œ ëª‡ ê°œì˜ ì»¬ëŸ¼ê¹Œì§€ ì‚¬ìš©í–ˆëŠ”ì§€ ì•Œë ¤ì¤€ë‹¤. ì •í™•íˆëŠ” ëª‡ ë°”ì´íŠ¸ê¹Œì§€ ì‚¬ìš©í–ˆëŠ”ì§€ ì•Œë ¤ì¤€ë‹¤. 1234EXPLAIN SELECT * FROM dept_emp where emp_no='10001'; PRIMARY KEYì˜ 4ë°”ì´íŠ¸ë§Œì„ ì´ìš©í–ˆë‹¤ê³  í‘œì‹œë˜ê³  ìˆë‹¤. emp_noì€ INTEGER íƒ€ì…ìœ¼ë¡œì¨ ì €ì¥ê³µê°„ìœ¼ë¡œ 4ë°”ì´íŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤. ì¦‰, ë³µí•©ì»¬ëŸ¼ ì¸ë±ìŠ¤ ì¤‘ emp_no ì»¬ëŸ¼ë§Œì„ ì‚¬ìš©í–ˆìŒì„ ë‚˜íƒ€ë‚¸ë‹¤. ref Equal ë¹„êµ ì¡°ê±´ìœ¼ë¡œ ì–´ë–¤ ê°’ì´ ì œê³µë˜ì—ˆëŠ”ì§€ í‘œì‹œí•´ì¤€ë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì´ ì»¬ëŸ¼ì€ í¬ê²Œ ì‹ ê²½ì“°ì§€ ì•Šì•„ë„ ë˜ëŠ”ë°, ì»¬ëŸ¼ì— funcë¼ê³  í‘œì‹œë ë•ŒëŠ” ì¡°ê¸ˆ ì£¼ì˜í•´ì„œ ì‚´í´ë´ì•¼ í•œë‹¤. ì´ëŠ” Functionì˜ ì¤„ì„ë§ìœ¼ë¡œ ê°’ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•œê²Œ ì•„ë‹ˆë¼ ë³€í™˜ì´ë‚˜ ì—°ì‚°ì„ ê±°ì¹œ ë’¤ ê°’ì„ ì‚¬ìš©í–ˆë‹¤ëŠ” ëœ»ì´ë‹¤. 12345EXPLAIN SELECT * FROM employees eINNER JOIN dept_emp deON e.emp_no = (de.emp_no-1); -- ì—°ì‚° ê·¼ë° ì¤‘ìš”í•œ ì ì€, ìœ„ì²˜ëŸ¼ ëª…ì‹œì ìœ¼ë¡œ ë³€í™˜í•  ë•Œ ë¿ë§Œ ì•„ë‹ˆë¼ MySQL ì„œë²„ê°€ ë‚´ë¶€ì ìœ¼ë¡œ ê°’ì„ ë³€ê²½í• ë–„ë„ funcê°€ ì¶œë ¥ëœë‹¤ëŠ” ì ì´ë‹¤. íƒ€ì…ì´ ì¼ì¹˜í•˜ì§€ ì•ŠëŠ” ë‘ ì»¬ëŸ¼ì„ ë¹„êµí• ë•Œê°€ ëŒ€í‘œì ì´ë‹¤. ê°€ëŠ¥í•˜ë‹¤ë©´ ì´ëŸ° ë‚´ë¶€ ì—°ì‚°ì´ ë°œìƒí•˜ì§€ ì•Šë„ë¡ íƒ€ì…ì„ ë§ì¶°ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤. rows í•´ë‹¹ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì–¼ë§ˆë‚˜ ë§ì€ ë ˆì½”ë“œë¥¼ ë””ìŠ¤í¬ë¡œë¶€í„° ì½ê³  ì²´í¬í•´ì•¼ í•˜ëŠ”ì§€ë¥¼ ì˜ë¯¸í•œë‹¤. ì´ëŠ” í†µê³„ ì •ë³´ë¥¼ ì°¸ì¡°í•´ ì˜µí‹°ë§ˆì´ì €ê°€ ì‚°ì¶œí•œ ê°’ì´ë¼ì„œ ì •í™•í•˜ì§€ëŠ” ì•Šë‹¤. ì•„ë˜ëŠ” rows ì»¬ëŸ¼ì´ ì‹¤í–‰ê³„íšì— ì˜í–¥ì„ ë¼ì¹œ ì˜ˆì‹œì´ë‹¤. 1234EXPLAINSELECT * FROM dept_empWHERE from_date &gt;= '1985-01-01'; ë³´ë‹¤ì‹œí”¼ í•´ë‹¹ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ì„œëŠ” 331,143 ê°œì˜ ë ˆì½”ë“œë¥¼ ì½ì–´ì•¼ í•œë‹¤ê³  ì˜ˆì¸¡í–ˆë‹¤. í•˜ì§€ë§Œ dept_emp í…Œì´ë¸”ì˜ ì „ì²´ ë ˆì½”ë“œ ê°œìˆ˜ê°€ 331,603ê°œë¡œ, ê±°ì˜ ì°¨ì´ê°€ ë‚˜ì§€ ì•ŠëŠ”ë‹¤. ê·¸ë˜ì„œ ì˜µí‹°ë§ˆì´ì €ëŠ” í’€ í…Œì´ë¸” ìŠ¤ìº”ì´ ë‚«ë‹¤ê³  íŒë‹¨í•˜ì—¬ ALLë¡œ ì²˜ë¦¬ëœê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. 1234EXPLAINSELECT * FROM dept_empWHERE from_date &gt;= '2002-07-01'; ì˜ˆì¸¡ë˜ëŠ” rowsë¥¼ ì¤„ì˜€ì„ ê²½ìš° rangeê°€ ì¶œë ¥ë¨ì„ ë³¼ ìˆ˜ ìˆë‹¤. Extra ì´ë¦„ê³¼ëŠ” ë‹¬ë¦¬ ì‹¤í–‰ê³„íšì—ì„œ ì„±ëŠ¥ì— ì¤‘ìš”í•œ ë‚´ìš©ì´ ì—¬ê¸° ìì£¼ í‘œì‹œëœë‹¤. ì—¬ê¸°ì— í‘œì¶œë˜ëŠ” ê³ ì •ëœ ëª‡ê°œì˜ ë¬¸ì¥ë“¤ì´ ìˆê³ , ì¼ë°˜ì ìœ¼ë¡œ 2~3ê°œì”© ê°™ì´ í‘œì‹œëœë‹¤. Distinct ì•„ë˜ëŠ” departments í…Œì´ë¸”ê³¼ dept_emp í…Œì´ë¸”ì— ëª¨ë‘ ì¡´ì¬í•˜ëŠ” dept_noì„ ì¤‘ë³µì—†ì´ ê°€ì ¸ì˜¤ê¸° ìœ„í•œ ì¿¼ë¦¬ì´ë‹¤. 1234EXPLAINSELECT DISTINCT d.dept_noFROM departments dINNER JOIN dept_emp de ON de.dept_no = d.dept_no; ìœ„ì²˜ëŸ¼ Distinctê°€ ì¶œë ¥ë˜ë©´ ì‹¤ì œë¡œ ì•„ë˜ì™€ ê°™ì´ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬ë¨ì„ ì˜ë¯¸í•œë‹¤. DISTINCT ì²˜ë¦¬ë¥¼ ìœ„í•´ ì¡°ì¸í•˜ì§€ ì•Šì•„ë„ ë˜ëŠ” í•­ëª©ì€ ë¬´ì‹œí•˜ê³  ê¼­ í•„ìš”í•œ ë ˆì½”ë“œë§Œ ì½ê³  ìˆë‹¤. Full scan on NULL key col1 IN(SELECT col2 FROM ...) í˜•íƒœì˜ ì¿¼ë¦¬ì—ì„œ ìì£¼ ë°œìƒí•  ìˆ˜ ìˆëŠ” í˜•íƒœì´ë‹¤. ë§Œì•½ col1ì˜ ê°’ì´ NULLì´ ëœë‹¤ë©´ ê²°ê³¼ì ìœ¼ë¡œ NULL IN(SELECT col2 FROM ...)ì˜ í˜•íƒœê°€ ë˜ê²Œ ë˜ëŠ”ë°, ì´ ë•Œ ì„œë¸Œì¿¼ë¦¬ì— ëŒ€í•´ í’€ í…Œì´ë¸” ìŠ¤ìº”ì´ ë°œìƒí•˜ê²Œ ë˜ê³ (ì´ìœ ë¥¼ ì •í™•íˆ ëª¨ë¥´ê² ë‹¤â€¦), ì´ë¡œ ì¸í•´ ìƒë‹¹í•œ ì„±ëŠ¥ì €í•˜ê°€ ë°œìƒí•˜ê²Œ ëœë‹¤. ì¦‰ ì´ ë©”ì„¸ì§€ëŠ” col1ì´ NULLì„ ë§Œë‚˜ë©´ í’€ í…Œì´ë¸” ìŠ¤ìº”ì„ ì‚¬ìš©í•  ê²ƒì´ë¼ê³  ì•Œë ¤ì£¼ëŠ” í‚¤ì›Œë“œì¸ ê²ƒì´ë‹¤. ë§Œì•½ col1ì´ NOT NULLë¡œ ì •ì˜ë˜ì—ˆë‹¤ë©´ ì´ ë©”ì„¸ì§€ëŠ” í‘œì‹œë˜ì§€ ì•Šì„ ê²ƒì´ë‹¤. Impossible HAVING HAVINGì ˆì˜ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë ˆì½”ë“œê°€ ì—†ì„ ë•Œ í‘œì‹œëœë‹¤. ì¿¼ë¦¬ë¥¼ ì˜ëª» ì‘ì„±í•œ ê²½ìš°ê°€ ëŒ€ë¶€ë¶„ì´ì§€ë§Œ, ì‹¤ì œ ì €ì¥ëœ ë°ì´í„° ë•Œë¬¸ì— ë°œìƒí•˜ëŠ” ê²½ìš°ë„ ì¢…ì¢… ìˆë‹¤. ì¿¼ë¦¬ì™€ ë°ì´í„°ë¥¼ ë‹¤ì‹œ í™•ì¸í•´ ë³´ëŠ”ê²ƒì´ ì¢‹ë‹¤. Impossible WHERE WHEREì ˆì˜ ì¡°ê±´ì´ í•­ìƒ FALSEê°€ ë  ìˆ˜ ë°–ì— ì—†ì„ ë•Œ í‘œì‹œëœë‹¤. Impossible WHERE noticed after reading const tables WHEREì ˆì˜ ì¡°ê±´ì´ í•­ìƒ FALSEê°€ ë  ìˆ˜ ë°–ì— ì—†ëŠ”ë°, í…Œì´ë¸”ì„ ì½ì–´ë³¸ ë’¤ ì•Œì•˜ë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤. ì•„ë˜ì™€ ê°™ì€ ì¿¼ë¦¬ê°€ ì´ì— í•´ë‹¹í•œë‹¤. 1234EXPLAINSELECT *FROM employees WHERE emp_no = 0; ì´ë¥¼ í†µí•´ ì‹¤í–‰ê³„íšì„ ë§Œë“œëŠ” ê³¼ì •ì—ì„œ ì˜µí‹°ë§ˆì´ì €ê°€ ì¿¼ë¦¬ì˜ ì¼ë¶€ë¶„ì„ ì‹¤í–‰í•´ ë³¸ë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œ ìˆ˜ ìˆë‹¤. No matching min/max row MIN()ì´ë‚˜ MAX()ì™€ ê°™ì€ ì§‘í•© í•¨ìˆ˜ê°€ ìˆëŠ” ì¿¼ë¦¬ì˜ ì¡°ê±´ì ˆì— ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œê°€ í•˜ë‚˜ë„ ì—†ì„ ë•Œ í‘œì‹œëœë‹¤. 1234EXPLAINSELECT MIN(dept_no), MAX(dept_no)FROM dept_empWHERE dept_no = ''; No tables used FROMì ˆ ìì²´ê°€ ì—†ê±°ë‚˜, ìƒìˆ˜ í…Œì´ë¸”ì„ ì˜ë¯¸í•˜ëŠ” DUALí…Œì´ë¸”ì„ ì‚¬ìš©í•  ë•Œ í‘œì‹œëœë‹¤. Not exists Outer Joinì„ ì´ìš©í•´ì„œ Anti-Joinì„ ìˆ˜í–‰í•  ê²½ìš° í‘œì‹œëœë‹¤. Anti-Join A í…Œì´ë¸”ì—ëŠ” ì¡´ì¬í•˜ì§€ë§Œ B í…Œì´ë¸”ì—ëŠ” ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê°’ì„ ì¡°íšŒí•  ë–„ ì‚¬ìš©í•˜ëŠ” ê¸°ë²•ì´ë‹¤. ì¼ë°˜ì ìœ¼ë¡œ NOT IN, NOT EXIST, Outer Joinì„ í†µí•´ì„œ ì²˜ë¦¬í•˜ëŠ”ë° ë ˆì½”ë“œì˜ ê±´ìˆ˜ê°€ ë§ì„ ë•ŒëŠ” Outer Joinì´ ë¹ ë¥´ë‹¤. 123456EXPLAINSELECT *FROM departments dLEFT JOIN dept_emp deON d.dept_no = de.dept_noWHERE de.dept_no IS NULL; Range checked for each record (index map: N) ë‹¤ìŒê³¼ ê°™ì€ ì¿¼ë¦¬ê°€ ìˆë‹¤ê³  í•˜ì. 1234EXPLAIN SELECT *FROM employees e1INNER JOIN employees e2 ON e1.emp_no &lt;= e2.emp_no; ë ˆì½”ë“œë¥¼ í•˜ë‚˜ì”© ì½ì„ ë•Œ ë§ˆë‹¤ e1.emp_noì˜ ê°’ì´ ë³€ê²½ë˜ê¸° ë•Œë¬¸ì— ì˜µí‹°ë§ˆì´ì € ì…ì¥ì—ì„œëŠ” e2ë¥¼ ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ìœ¼ë¡œ ì½ì„ì§€, í’€ í…Œì´ë¸” ìŠ¤ìº”ìœ¼ë¡œ ì½ì„ ì§€ íŒë‹¨í•˜ì§€ ëª»í•œë‹¤. ë§Œì•½ employees í…Œì´ë¸”ì˜ ë ˆì½”ë“œê°€ 1ì–µê±´ì´ë¼ê³  ê°€ì •í–ˆì„ë•Œ, e1.emp_noì´ 1ì¸ ê²½ìš°ëŠ” e2ì˜ ëª¨ë“  ë ˆì½”ë“œë¥¼ ì½ì–´ì•¼í•˜ì§€ë§Œ, e1.emp_noì´ 100,000,000ì¸ ê²½ìš°ì—ëŠ” e2ì˜ ë ˆì½”ë“œë¥¼ 1ê±´ë§Œ ì½ìœ¼ë©´ ëœë‹¤. ì¦‰ e1.emp_noì´ ì‘ì€ ê°’ì¼ ë•ŒëŠ” í’€ í…Œì´ë¸” ìŠ¤ìº”ì´ ì¢‹ê³ , í° ê°’ì¼ ë•ŒëŠ” ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ì´ ì¢‹ë‹¤. ì´ í˜„ìƒì„ ì¤„ì—¬ì„œ ì–˜ê¸°í•˜ë©´ ë§¤ ë ˆì½”ë“œ ë§ˆë‹¤ ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ì„ ì²´í¬í•œë‹¤ ë¼ê³  í•  ìˆ˜ ìˆëŠ”ë°, ì´ê²Œ ë°”ë¡œ Range checked for each record ë¬¸êµ¬ì¸ê²ƒì´ë‹¤. ì°¸ê³ ë¡œ ì´ ë¬¸êµ¬ê°€ í‘œì‹œë  ë•Œ ref ì»¬ëŸ¼ì˜ ê°’ì´ ALLë¡œ í‘œì¶œë˜ëŠ”ë°, ì´ëŠ” ì¸ë±ìŠ¤ ì‚¬ìš©ì—¬ë¶€ë¥¼ ê²€í† í•˜ê³  í’€ í…Œì´ë¸” ìŠ¤ìº”ì„ í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ALLë¡œ í‘œì‹œëœê²ƒì´ì§€ ì‹¤ì œë¡œ í’€ í…Œì´ë¸” ìŠ¤ìº”ì„ ì˜ë¯¸í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤. ê·¸ë¦¬ê³  ë’¤ì— (index map: N) ì´ë¼ëŠ” ë¬¸êµ¬ê°€ ì¶”ê°€ë¡œ ì¶œë ¥ë˜ëŠ”ë°, ì´ëŠ” ì‚¬ìš©í•  ì¸ë±ìŠ¤ì˜ í›„ë³´ë¥¼ ë‚˜íƒ€ë‚´ì¤€ë‹¤. ë§Œì•½ (index map: 0x19)ë¼ëŠ” ë¬¸êµ¬ê°€ í‘œì‹œë˜ì—ˆë‹¤ê³  ê°€ì •í•˜ì. ì¼ë‹¨ 16ì§„ìˆ˜ì¸ 0x19ë¥¼ 2ì§„ìˆ˜ë¡œ ë³€ê²½í•´ì¤˜ì•¼ í•œë‹¤. 11001ì´ ëœë‹¤. ê·¸ë¦¬ê³  ìƒì„±ëœ ì¸ë±ìŠ¤ì˜ ìˆœì„œë¥¼ ë³´ê¸°ìœ„í•´ SHOW CREATE TABLE table_nameì„ ì…ë ¥í•œë‹¤. ê·¸ëŸ¬ë©´ í…Œì´ë¸”ì´ ê°€ì§€ê³  ìˆëŠ” ì¸ë±ìŠ¤ë¥¼ ìˆœì„œëŒ€ë¡œ í™•ì¸ì´ ê°€ëŠ¥í•œë°, ì´ ìˆœì„œë¥¼ ìœ„ì˜ 2ì§„ìˆ˜ë¡œ ì²´í¬í•˜ë©´ ëœë‹¤. ì¦‰ í˜„ì¬ 11001ì´ë¼ëŠ” ê°’ì„ ì–»ì—ˆìœ¼ë¯€ë¡œ, 1ë²ˆì§¸, 2ë²ˆì§¸, 5ë²ˆì§¸ ìˆœì„œì— ë‚˜ì—´ëœ ì¸ë±ìŠ¤ê°€ ì‚¬ìš©í›„ë³´ê°€ ëœë‹¤ëŠ” ê²ƒì´ë‹¤. ë§¤ ë ˆì½”ë“œë¥¼ ëŒë©´ì„œ ìœ„ 3ê°œì˜ ì‚¬ìš©í›„ë³´ë“¤ ê°€ìš´ë° ì–´ë–¤ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í• ì§€ ê²°ì •í•˜ê²Œ ë˜ëŠ”ë°, ì‹¤ì œë¡œ ì–´ë–¤ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í–ˆëŠ”ì§€ëŠ” ì•Œ ìˆ˜ ì—†ë‹¤. Sanned N databases MySQLì—ëŠ” ì„œë²„ ë‚´ì— ì¡´ì¬í•˜ëŠ” DBì˜ ë©”íƒ€ì •ë³´ë¥¼ ë‹´ì€ INFORMATION_SCHEMAë¼ëŠ” DBê°€ ì œê³µë˜ëŠ”ë°, ì´ ë°ì´í„°ë¥¼ ì½ì—ˆì„ ë–„ í‘œì‹œëœë‹¤. Select table optimized away MIN()ì´ë‚˜ MAX() ì‚¬ìš© ì‹œ ì¸ë±ìŠ¤ë¥¼ ë‹¤ ì½ì§€ ì•Šê³  ì˜¤ë¦„ì°¨ìˆœ ë˜ëŠ” ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ 1ê±´ë§Œ ì½ëŠ” í˜•íƒœì˜ ìµœì í™”ê°€ ì ìš©ë  ë•Œ í‘œì‹œëœë‹¤. 1234EXPLAINSELECT MAX(from_date), MIN(from_date)FROM salariesWHERE emp_no = 10001; emp_noê³¼ from_dateë¡œ ë³µí•© í”„ë¼ì´ë¨¸ë¦¬ í‚¤ê°€ ì„¤ì •ë˜ì–´ ìˆìœ¼ë¯€ë¡œ emp_noì´ 10001ì¸ ë ˆì½”ë“œë¥¼ ì°¾ì€ ë’¤ ì²« í–‰ê³¼ ë§ˆì§€ë§‰ í–‰ë§Œì„ ì½ìœ¼ë©´ ëœë‹¤. unique row not found Not existsì˜ ë°˜ëŒ€ë¼ê³  ë³¼ ìˆ˜ë„ ìˆê² ë‹¤. Outer Joinì„ ìˆ˜í–‰í•˜ëŠ” ì¿¼ë¦¬ì—ì„œ ì•„ìš°í„° í…Œì´ë¸”ì— ì¡°ê±´ ì¡°ê±´ì— ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œê°€ ì—†ì„ ë•Œ í‘œì‹œëœë‹¤. Using filesort ORDER BYê°€ ì‚¬ìš©ëœ ì¿¼ë¦¬ì—ì„œë§Œ ë‚˜íƒ€ë‚  ìˆ˜ ìˆë‹¤. ORDER BY ì²˜ë¦¬ì— ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í–ˆì„ ê²½ìš° ë‚˜íƒ€ë‚œë‹¤. ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•  ê²½ìš° ì¡°íšŒëœ ë ˆì½”ë“œë¥¼ ë©”ëª¨ë¦¬ ë²„í¼ì— ë³µì‚¬í•œ ë’¤ í€µ ì†ŒíŠ¸ ì•Œê³ ë¦¬ì¦˜ì„ ìˆ˜í–‰í•œë‹¤. ì´ëŠ” ë§ì€ ë¶€í•˜ë¥¼ ì¼ìœ¼í‚¤ë¯€ë¡œ ê°€ëŠ¥í•˜ë©´ ì¿¼ë¦¬ë¥¼ íŠœë‹í•˜ê±°ë‚˜ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. Using index ë°ì´í„° íŒŒì¼ì„ ì „í˜€ ì½ì§€ ì•Šê³  ì¸ë±ìŠ¤ë§Œ ì½ì–´ì„œ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆì„ ë–„ í‘œì‹œëœë‹¤. ì°¸ê³ ë¡œ InnoDBì˜ í…Œì´ë¸”ì€ ëª¨ë‘ í´ëŸ¬ìŠ¤í„°ë§ ì¸ë±ìŠ¤ë¡œ êµ¬ì„±ë˜ì–´ ìˆì–´ì„œ ëª¨ë“  ë³´ì¡° ì¸ë±ìŠ¤ë“¤ì€ ë°ì´í„°ì˜ ë ˆì½”ë“œ ì£¼ì†Œ ê°’ìœ¼ë¡œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ ê°’ì„ ê°€ì§„ë‹¤. ì¦‰ ì•„ë˜ì™€ ê°™ì€ ì¿¼ë¦¬ë„ Using Indexë¡œ ì²˜ë¦¬ë˜ëŠ” íš¨ê³¼ë¥¼ ë‚¼ ìˆ˜ ìˆë‹¤. 123EXPLAIN SELECT emp_no, first_name FROM employees; í˜„ì¬ first_name ì»¬ëŸ¼ì— ëŒ€í•´ì„œë§Œ ì¸ë±ìŠ¤ê°€ ìƒì„±ë˜ì–´ ìˆì§€ë§Œ í´ëŸ¬ìŠ¤í„°ë§ ì¸ë±ìŠ¤ì˜ íŠ¹ì§•ìœ¼ë¡œ Using indexë¡œ ì²˜ë¦¬ ê°€ëŠ¥í•˜ê²Œ ëœë‹¤. Using index for group-by GROUP BY ì²˜ë¦¬ë¥¼ ìœ„í•´ì„œëŠ” ê·¸ë£¹í•‘ ê¸°ì¤€ ì»¬ëŸ¼ì„ ì´ìš©í•´ ì •ë ¬ ì‘ì—…ì„ ìˆ˜í–‰í•œ ë’¤ ê·¸ ê²°ê³¼ë¥¼ ê·¸ë£¹í•‘í•˜ëŠ” ê³ ë¶€í•˜ ì‘ì—…ì„ í•„ìš”ë¡œ í•œë‹¤. í•˜ì§€ë§Œ GROUP BY ì²˜ë¦¬ì— ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©´ ì •ë ¬ëœ ì¸ë±ìŠ¤ ì»¬ëŸ¼ì„ ì½ìœ¼ë©´ì„œ ê·¸ë£¹í•‘ ì‘ì—…ë§Œ ìˆ˜í–‰í•˜ë©´ ëœë‹¤. ì´ëŠ” ìƒë‹¹íˆ ë¹ ë¥´ê²Œ ì²˜ë¦¬ë˜ê³ , ì´ì²˜ëŸ¼ GROUP BYì— ì¸ë±ìŠ¤ê°€ ì‚¬ìš©ë˜ì—ˆì„ ë•Œ ì´ ë©”ì„¸ì§€ê°€ í‘œì‹œëœë‹¤. Using join buffer ì¼ë°˜ì ìœ¼ë¡œ ì¡°ì¸ì´ ë˜ëŠ” ì»¬ëŸ¼ì€ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•´ì•¼ ë¹ ë¥¸ ì²˜ë¦¬ë¥¼ í•  ìˆ˜ ìˆë‹¤. ì´ëŠ” MySQLì´ ì¡°ì¸ì„ Nested loop ë°©ì‹ìœ¼ë¡œë§Œ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì´ë‹¤. Nested loop join FROMì ˆì— ì•„ë¬´ë¦¬ í…Œì´ë¸”ì´ ë§ì•„ë„ ì¡°ì¸ì„ ìˆ˜í–‰í•  ë•Œ ë°˜ë“œì‹œ 2ê°œì˜ í…Œì´ë¸”ì´ ë¹„êµë˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ë‹¤. ë¨¼ì € ì½íˆëŠ” í…Œì´ë¸”ì´ ë“œë¼ì´ë¹™ í…Œì´ë¸”ì´ ë˜ê³ , ë’¤ì— ì½íˆëŠ” í…Œì´ë¸”ì´ ë“œë¦¬ë¸ í…Œì´ë¸”ì´ ëœë‹¤. ì¦‰ ë“œë¼ì´ë¹™ í…Œì´ë¸”ì˜ ê±´ìˆ˜ë§Œí¼ ë“œë¦¬ë¸ í…Œì´ë¸”ì´ ìŠ¤ìº”ë˜ë¯€ë¡œ ë“œë¼ì´ë¹™ í…Œì´ë¸”ì´ ì–´ë–¤ í…Œì´ë¸”ì´ëƒê°€ ì„±ëŠ¥ì„ ë§ì´ ì¢Œìš°í•œë‹¤. ì˜µí‹°ë§ˆì´ì €ëŠ” ë‘ í…Œì´ë¸”ì„ ì¡°ì¸í• ë•Œ ê° í…Œì´ë¸”ì˜ ì¡°ì¸ ê¸°ì¤€ ì»¬ëŸ¼ì— ì¸ë±ìŠ¤ê°€ ìˆëŠ”ì§€ ì¡°ì‚¬í•˜ê³ , ì¸ë±ìŠ¤ê°€ ì—†ëŠ” í…Œì´ë¸”ì´ ìˆë‹¤ë©´ ê·¸ í…Œì´ë¸”ì„ ë“œë¼ì´ë¹™ í…Œì´ë¸”ë¡œ ì§€ì •í•˜ì—¬ ì‹¤í–‰í•œë‹¤. ìœ„ì—ì„œ ì–¸ê¸‰í–ˆë“¯ì´ ë“œë¦¬ë¸ í…Œì´ë¸”ì€ ê³„ì†í•´ì„œ íƒìƒ‰ë˜ë¯€ë¡œ ì¸ë±ìŠ¤ê°€ ì—†ìœ¼ë©´ ì„±ëŠ¥ì— ì˜í–¥ì„ ë§ì´ ë¯¸ì¹˜ê¸° ë•Œë¬¸ì´ë‹¤. ê·¼ë° ë§Œì•½ ë“œë¦¬ë¸ í…Œì´ë¸”ì—ë„ ì¸ë±ìŠ¤ê°€ ì—†ë‹¤ë©´ ë§¤ë²ˆ ë“œë¦¬ë¸ í…Œì´ë¸”ì„ í’€ í…Œì´ë¸” ìŠ¤ìº”í•´ì•¼ í•˜ëŠ”ë°, MySQLì—ì„œëŠ” ì´ëŸ¬í•œ ë¹„íš¨ìœ¨ì ì¸ ê²€ìƒ‰ì„ ë³´ì•ˆí•˜ê¸° ìœ„í•´ ì¡°ì¸ ë²„í¼ë¼ëŠ” ê²ƒì„ ì‚¬ìš©í•œë‹¤. ë“œë¼ì´ë¹™ í…Œì´ë¸”ì—ì„œ ì½ì€ ë°ì´í„°ë¥¼ ì¡°ì¸ ë²„í¼ì— ì €ì¥í•´ë‘ê³ , í•„ìš”í•  ë•Œ ë§ˆë‹¤ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤. ì¡°ì¸ ë²„í¼ê°€ ì‚¬ìš©ë˜ëŠ” ì‹¤í–‰ê³„íšì— Using join buffer ë©”ì„¸ì§€ê°€ í‘œì‹œëœë‹¤. Using intersect, Using sort_union, Using union index_merge ë°©ì‹ì´ ì‚¬ìš©ë  ë•Œ ë‘ ì¸ë±ìŠ¤ì˜ ê²°ê³¼ë¥¼ ì–´ë–»ê²Œ ë³‘í•©í–ˆëŠ”ì§€ ì¡°ê¸ˆ ë” ìƒì„¸í•˜ê²Œ ì„¤ëª…í•˜ê¸° ìœ„í•œ ë©”ì„¸ì§€ì´ë‹¤. ì¶œë ¥ë˜ëŠ” ë©”ì„¸ì§€ëŠ” ì•„ë˜ì˜ 3ê°œì´ë‹¤. Using intersect : ê°ê°ì˜ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ì¡°ê±´ì´ ANDë¡œ ì—°ê²°ë  ë•Œ Using union : ê°ê°ì˜ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ì¡°ê±´ì´ ORë¡œ ì—°ê²°ë  ë•Œ Using sort_union : Using unionìœ¼ë¡œ ì²˜ë¦¬í•˜ê¸° í˜ë“¤ ì •ë„ë¡œ ëŒ€ëŸ‰ì˜ ì¡°ê±´ë“¤ì´ ORë¡œ ì—°ê²°ë  ë•Œ Using temporary MySQLì€ ì¿¼ë¦¬ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë™ì•ˆ ì¤‘ê°„ ê²°ê³¼ë¥¼ ë‹´ì•„ë‘ê¸° ìœ„í•´ ì„ì‹œ í…Œì´ë¸”ì„ ì‚¬ìš©í•œë‹¤. ì´ ë©”ì„¸ì§€ê°€ í‘œì‹œë˜ë©´ ì„ì‹œ í…Œì´ë¸”ì„ ì‚¬ìš©í–ˆë‹¤ëŠ” ì˜ë¯¸ì¸ë°, ì‚¬ìš©ëœ ì„ì‹œí…Œì´ë¸”ì´ ë©”ëª¨ë¦¬ì— ìƒì„±ë˜ì—ˆëŠ”ì§€ ë””ìŠ¤í¬ì— ìƒì„±ë˜ì—ˆëŠ”ì§€ëŠ” ì•Œ ìˆ˜ ì—†ë‹¤. Using where Using where ë©”ì„¸ì§€ëŠ” MySQL ì—”ì§„ì—ì„œ ë³„ë„ì˜ ê°€ê³µì„ í•´ì„œ í•„í„°ë§ ì‘ì—…ì„ ê±°ì³¤ì„ ê²½ìš° í‘œì‹œëœë‹¤. ì‹¤ì œë¡œ ê°€ì¥ í”í•˜ê²Œ í‘œì‹œë˜ëŠ” ë©”ì„¸ì§€ì´ë‹¤. ê·¸ëŸ¬ë‚˜ ì´ ë©”ì„¸ì§€ë§Œìœ¼ë¡œ ì •í™•í•˜ê²Œ ì„±ëŠ¥ ì´ìŠˆë¥¼ íŒë‹¨í•˜ê¸´ ì–´ë µê³ , MySQL 5.1ë¶€í„° ì¶”ê°€ëœ Filtered ì»¬ëŸ¼ê³¼ í•¨ê»˜ ë³´ì•„ì•¼ ì„±ëŠ¥ìƒ¹ ì´ìŠˆë¥¼ ì‰½ê²Œ ì²´í¬í•  ìˆ˜ ìˆë‹¤. Filtered ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œ ë°›ì€ ë ˆì½”ë“œê°€ MySQL ì—”ì§„ì„ ê±°ì¹œ ë’¤ ì–¼ë§ˆë‚˜ ë‚¨ì•˜ëŠ”ê°€ë¥¼ ì²´í¬í•´ì¤„ ìˆ˜ ìˆëŠ” ì»¬ëŸ¼ì´ë‹¤. ì¼ë°˜ ì‹¤í–‰ê³„íšì—ì„  ë³¼ ìˆ˜ ì—†ê³ , EXPLAIN EXTENDEDë¼ëŠ” ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤. 1234EXPLAIN EXTENDED SELECT * FROM employees WHERE first_name like '%Ab%'; í˜„ì¬ëŠ” ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì—ì„œ ì „ë‹¬ë°›ì€ 299,113ê±´ì˜ ë ˆì½”ë“œì— ëŒ€í•´ MySQL ì—”ì§„ì—ì„œ í•„í„°ë§ ëœ ê²ƒ ì—†ì´ 100% ì¶œë ¥ë˜ê³  ìˆìŒì„ ë³¼ ìˆ˜ ìˆë‹¤. EXPLAIN EXTENDEDì˜ ì¶”ê°€ ê¸°ëŠ¥ EXPLAIN EXTENDEDë¥¼ ì‹¤í–‰í•œ ë’¤ SHOW WARNINGS ëª…ë ¹ì„ ì‹¤í–‰í•˜ë©´ ì˜µí‹°ë§ˆì´ì €ê°€ ë‹¤ì‹œ ì¬ì¡°í•©í•œ ì¿¼ë¦¬ ë¬¸ì¥ì„ í™•ì¸ ê°€ëŠ¥í•˜ë‹¤. ì˜µí‹°ë§ˆì´ì €ê°€ ì–´ë–»ê²Œ ì¿¼ë¦¬ë¥¼ í•´ì„í•˜ê³  ë³€í™˜í–ˆëŠ”ì§€ ì§ì ‘ í™•ì¸í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì•Œì•„ë‘ë©´ ë„ì›€ì´ ëœë‹¤. ìŠ¤í† ë¦¬ì§€ ì—”ì§„ê³¼ mysql ì—”ì§„ì—ì„œ ì½ì–´ì˜¤ëŠ” ë°ì´í„° ì–‘ ì°¨ì´ì˜ ê¸°ì¤€ì€ ë­˜ê¹Œ? ì°¸ê³  : ì´ì„±ìš±, ã€Real MySQLã€, ìœ„í‚¤ë¶ìŠ¤(2012)]]></content>
      <categories>
        <category>db</category>
      </categories>
      <tags>
        <tag>Real MySQL</tag>
        <tag>MySQL ì‹¤í–‰ê³„íš</tag>
        <tag>ì¿¼ë¦¬ ì‹¤í–‰ì ˆì°¨</tag>
        <tag>ì‹¤í–‰ê³„íš ë¶„ì„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[db] ë°ì´í„° ëª¨ë¸ë§]]></title>
    <url>%2Fdb%2F%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%AA%A8%EB%8D%B8%EB%A7%81%2F</url>
    <content type="text"><![CDATA[ë°ì´í„° ëª¨ë¸ë§ì€ DBMS ì‚¬ìš©ì— ê°€ì¥ ì¤‘ìš”í•œ ë¶€ë¶„ì´ë©´ì„œ ê°€ì¥ ì‰½ê²Œ ê°„ê³¼ë˜ëŠ” ë¶€ë¶„ì´ê¸°ë„ í•˜ë‹¤. ë°ì´í„° ëª¨ë¸ë§ì€ í¬ê²Œ ë…¼ë¦¬ ëª¨ë¸ë§ê³¼ ë¬¼ë¦¬ ëª¨ë¸ë§ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤. ì œëŒ€ë¡œ í‘œí˜„ë˜ê³  ìˆëŠ” ê³³ì€ ì˜ ì—†ì§€ë§Œ, ì›ë˜ ë…¼ë¦¬ ëª¨ë¸ë§ê³¼ ë¬¼ë¦¬ ëª¨ë¸ë§ì˜ ì°¨ì´ëŠ” í…Œì´ë¸”/ì¹¼ëŸ¼ ë“±ì˜ ì´ë¦„ì´ ì˜ì–´ëƒ í•œê¸€ì´ëƒê°€ ì•„ë‹ˆë¼, ëª¨ë¸ì— í‘œí˜„í•˜ë ¤ëŠ” ê²ƒì´ ì—…ë¬´ëƒ ì‹œìŠ¤í…œì´ëƒì˜ ì°¨ì´ë‹¤. ì—…ë¬´ë¥¼ ë¶„ì„í•˜ì—¬ ê·¸ì— ëŒ€í•œ ë°ì´í„° ì§‘í•©/ê´€ê³„ë¥¼ ì¤‘ì ì ìœ¼ë¡œ í‘œí˜„í•˜ëŠ” ê²ƒì´ ë…¼ë¦¬ ëª¨ë¸ë§ì´ê³ , ê·¸ ì‚°ì¶œë¬¼ì„ ì‹œìŠ¤í…œìœ¼ë¡œ ì–´ë–»ê²Œ í‘œí˜„í• ì§€ ê³ ë ¤í•˜ëŠ” ê²ƒì„ ë¬¼ë¦¬ ëª¨ë¸ë§ì´ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤. ëª¨ë¸ë§ ìš©ì–´ ERDìƒì— í‘œí˜„ë˜ëŠ” ì˜¤ë¸Œì íŠ¸ëŠ” ë…¼ë¦¬ ëª¨ë¸ë§ì´ëƒ ë¬¼ë¦¬ ëª¨ë¸ë§ì´ëƒì— ë”°ë¼ ê°ê° ì´ë¦„ì´ ë‹¤ë¥´ê²Œ í‘œí˜„ëœë‹¤. ë…¼ë¦¬ ëª¨ë¸ ë¬¼ë¦¬ ëª¨ë¸ ì—”í‹°í‹°(Entity) í…Œì´ë¸”(Table) ì†ì„±, ì–´íŠ¸ë¦¬ë·°íŠ¸(Attribute) ì»¬ëŸ¼(Column) ê´€ê³„, ë¦´ë ˆì´ì…˜(Relation) ê´€ê³„, ë¦´ë ˆì´ì…˜(Relation) í‚¤ ê·¸ë£¹(Key group) ì¸ë±ìŠ¤(Index) ë…¼ë¦¬ ëª¨ë¸ë§ ì—”í‹°í‹° ê°ì²´ì§€í–¥ ì–¸ì–´ì—ì„œ í´ë˜ìŠ¤ì™€ ë™ê¸‰ì˜ ì˜ë¯¸ë‹¤. ì¼ë°˜ì ìœ¼ë¡œ 2ê°œ ì´ìƒì˜ ì†ì„±ì„ ê°€ì§€ê³ , 1ê°œ ì´ìƒì˜ ë ˆì½”ë“œë¥¼ ê°€ì§€ëŠ” ì˜¤ë¸Œì íŠ¸ë¥¼ ë§í•œë‹¤. ì—”í‹°í‹°ë¥¼ ë„ì¶œí•  ë•Œ ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì€ ìš©ì–´ì˜ ì •ì˜ë‹¤. í•´ë‹¹ ìš©ì–´ê°€ ì˜ë¯¸í•˜ëŠ” ë²”ìœ„ê°€ ì–´ë””ê¹Œì§€ì¸ì§€ ëª…í™•íˆ í•˜ê³ , ê·¸ì— ê±¸ë§ëŠ” ì´ë¦„ì„ ë¶€ì—¬í•´ì•¼ í•œë‹¤. ê·¸ë˜ì•¼ë§Œ ë‹¤ìŒìœ¼ë¡œ ë„ì¶œí•  ì†ì„±ì´ë‚˜ ì‹ë³„ì, ê´€ê³„ê°€ ëª…í™•í•´ì§ˆ ìˆ˜ ìˆë‹¤. ERD ì—ì„œ ì—”í‹°í‹°ëŠ” ì´ì™€ ê°™ì´ í‘œí˜„í•œë‹¤ ë°•ìŠ¤ ì™¸ë¶€ì—ëŠ” ì—”í‹°í‹°ì˜ ì´ë¦„ì„ ì ê³ , ë°•ìŠ¤ ë‚´ë¶€ ìƒë‹¨ì—ëŠ” PK, í•˜ë‹¨ì—ëŠ” ì¼ë°˜ ì†ì„±ì„ ë‚˜ì—´í•œë‹¤ ì—”í‹°í‹° ì¢…ë¥˜ ì—”í‹°í‹°ëŠ” í¬ê²Œ í‚¤ ì—”í‹°í‹°, ë©”ì¸ ì—”í‹°í‹°, ì•¡ì…˜ ì—”í‹°í‹°ë¡œ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤. í‚¤ ì—”í‹°í‹°ëŠ” ëŒ€ìƒ ë°ì´í„° ì¤‘ ê°€ì¥ ìµœìƒìœ„ì— ì¡´ì¬í•˜ëŠ” ì—”í‹°í‹°ì´ë©°, ì¼ë°˜ì ìœ¼ë¡œ ë©”ì¸ ì—”í‹°í‹°ì™€ ì•¡ì…˜ ì—”í‹°í‹°ë¥¼ ë§Œë“¤ì–´ë‚´ëŠ” ë¶€ëª¨ ì—­í• ì„ í•œë‹¤ ì¼ë°˜ì ìœ¼ë¡œ í˜„ì‹¤ì— ì¡´ì¬í•˜ëŠ” ê°ì²´ë¥¼ í‘œí˜„í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤. ì‚¬ì›, ê³ ê°, ìƒí’ˆ ë“±ì˜ ì—”í‹°í‹°ëŠ” ëŒ€í‘œì ì¸ í‚¤ ì—”í‹°í‹°ì´ë‹¤. ì´ëŸ¬í•œ í‚¤ ì—”í‹°í‹°ê°„ì˜ ì‘ìš©ìœ¼ë¡œ ë§Œë“¤ì–´ì§€ëŠ” ì—”í‹°í‹°ë¥¼ ì•¡ì…˜ ì—”í‹°í‹°ë¼ê³  í•œë‹¤ ì˜ˆë¡œëŠ” êµ¬ë§¤, ê³„ì•½ ë“±ì´ ìˆë‹¤ ì´ëŸ¬í•œ ì•¡ì…˜ ì—”í‹°í‹°ë“¤ ì¤‘ ì„œë¹„ìŠ¤ì—ì„œ ìƒë‹¹íˆ ì¤‘ìš”í•œ ì—­í• ì„ í•˜ëŠ” ì—”í‹°í‹°ë“¤ì„ ë©”ì¸ ì—”í‹°í‹° ë¼ê³  í•œë‹¤ ìœ„ì—ì„œ ì–¸ê¸‰í•œ êµ¬ë§¤, ê³„ì•½ ë“±ì€ ì‚¬ì‹¤ìƒ ë©”ì¸ ì—”í‹°í‹°ì˜ ëŒ€í‘œì ì¸ ì˜ˆì‹œì´ë‹¤ ì•¡ì…˜ ì—”í‹°í‹°ë„ ë‚˜ì¤‘ì— ì—…ë¬´ê°€ ë³€í™”í•˜ê³  í™•ì¥ë˜ë©´ ë©”ì¸ ì—”í‹°í‹°ë¡œ í–¥ìƒë  ìˆ˜ ìˆë‹¤. ì—”í‹°í‹° ì‘ëª… ì—”í‹°í‹°ì˜ ì´ë¦„ì€ ë³µìˆ˜í˜• í‘œí˜„ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  ë³„ë„ì˜ ìˆ˜ì‹ì–´ê°€ ì—†ëŠ” ë‹¨ìˆœ ë˜ëŠ” ë³µí•© ëª…ì‚¬ í˜•íƒœë¥¼ ì‚¬ìš©í•œë‹¤. ë³µìˆ˜í˜• í‘œí˜„ì˜ ì˜ˆë¡œ ëª©ë¡, ë¦¬ìŠ¤íŠ¸ ë“±ì˜ ë‹¨ì–´ê°€ ìˆëŠ”ë°, í…Œì´ë¸” ìì²´ê°€ ì´ë¯¸ ë ˆì½”ë“œì˜ ëª©ë¡ì„ ì €ì¥í•˜ëŠ” ê°ì²´ì´ë¯€ë¡œ ì´ ê°™ì€ ì´ë¦„ì„ ì‚¬ìš©í•  í•„ìš”ëŠ” ì—†ë‹¤. ì—”í‹°í‹°ì˜ ì´ë¦„ì— ìˆ˜ì‹ì–´ê°€ ìˆë‹¤ë©´ ì£¼ì˜í•´ì„œ ê²€í† í•˜ê³ , í•„ìš”í•˜ë‹¤ë©´ í†µí•©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ex) ìƒí’ˆ(O), ê³ ê°ìš©ìƒí’ˆ(X), ì§ì›ìš©ìƒí’ˆ(X) ì• ë§¤ëª¨í˜¸í•œ ë‹¨ì–´ë„ í”¼í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ex) ì‚¬ì›(O), ì‚¬ì›ì •ë³´(X) ì–´íŠ¸ë¦¬ë·°íŠ¸(ì†ì„±) ì—”í‹°í‹°ê°€ ê°€ì§€ê³  ìˆëŠ” ì†ì„±ìœ¼ë¡œì¨, ë” ì´ìƒ ë¶„ë¦¬ë  ìˆ˜ ì—†ëŠ” ìµœì†Œì˜ ë°ì´í„° ë³´ê´€ ë‹¨ìœ„ì´ë‹¤. ì–´íŠ¸ë¦¬ë·°íŠ¸ ì›ìì„± ì–´íŠ¸ë¦¬ë·°íŠ¸ëŠ” ë°˜ë“œì‹œ ë…ìì ì¸ ì„±ì§ˆì„ ê°€ì§€ëŠ” í•˜ë‚˜ì˜ ê°’ë§Œì„ ì €ì¥í•´ì•¼ í•œë‹¤. ê·¸ëŸ°ë° ê°’ì˜ ìµœì†Œ ë‹¨ìœ„(í•˜ë‚˜ì˜ ê°’)ë¼ëŠ” ê²ƒì´, í‘œí˜„ë˜ëŠ” ì„œë¹„ìŠ¤ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ë©´ ì£¼ì†Œê°€ ìˆë‹¤ ì£¼ì†Œë¥¼ ì‹œêµ°êµ¬, ìë©´ë™ ë‹¨ìœ„ë¡œ ì¡°ì‘í•˜ëŠ” í–‰ìœ„ê°€ ë§ë‹¤ë©´ ì†ì„±ì´ ì‹œ, êµ°, êµ¬ ë“±ìœ¼ë¡œ ì˜ê°œ ìª¼ê°œì§€ê² ì§€ë§Œ, ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ êµ³ì´ ì˜ê²Œ ìª¼ê°œì–´ ê´€ë¦¬ë¥¼ ì–´ë µê²Œ í•  ì´ìœ ëŠ” ì—†ë‹¤. ìœ„ì™€ ê°™ì€ ì´ìœ ê°€ ì•„ë‹Œ ìƒíƒœì—ì„œ ì–´íŠ¸ë¦¬ë·°íŠ¸ì— ì—¬ëŸ¬ ê°’ì„ ì €ì¥í•˜ëŠ” í–‰ìœ„ëŠ” ì§€ì–‘í•´ì•¼ í•œë‹¤. ì˜ˆë¥¼ ë“¤ë©´ íšŒì› ì·¨ë¯¸ ì •ë³´ë¥¼ í•˜ë‚˜ì˜ ì–´íŠ¸ë¦¬ë·°íŠ¸ì— êµ¬ë¶„ìë¡œ í•œêº¼ë²ˆì— ì €ì¥í•˜ëŠ” ê²½ìš°ì´ë‹¤. ì´ëŠ” ì–´íŠ¸ë¦¬ë·°íŠ¸ì˜ ì›ìì„±ì— ìœ„ë°°ë˜ë©° ë¬¼ë¦¬ ëª¨ë¸ë§(ì„±ëŠ¥)ì— ë‚˜ìœ ì˜í–¥ì„ ë¯¸ì¹  ê°€ëŠ¥ì„±ì´ í¬ë‹¤. ì–´íŠ¸ë¦¬ë·°íŠ¸ ì‘ëª… ì–´íŠ¸ë¦¬ë·°íŠ¸ëŠ” ê·¸ ì´ë¦„ ìì²´ë§Œìœ¼ë¡œ ê·¸ ì˜ë¯¸ë¥¼ ì´í•´í•  ìˆ˜ ìˆê²Œ ì‘ëª…í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì‚¬ëŒë“¤ì€ ëŒ€ë¶€ë¶„ ì–´íŠ¸ë¦¬ë·°íŠ¸ì˜ ì´ë¦„ì„ ìµœëŒ€í•œ ê°„ë‹¨íˆ ì‘ëª…í•˜ë ¤ëŠ” ê²½í–¥ì´ ìˆëŠ”ë°, ì´ë¦„ì„ ë„ˆë¬´ ê°„ëµíˆ ì‘ì„±í•˜ë©´ ë‚˜ì¤‘ì— ê·¸ ì˜ë¯¸ë¥¼ í˜¼ë™í•˜ê¸° ì‰½ë‹¤. ì•„ë˜ëŠ” ì˜ëª»ëœ ì–´íŠ¸ë¦¬ë·°íŠ¸ ëª…ëª…ì˜ ì˜ˆì‹œì´ë‹¤. ì†ì„±ì„ í•˜ë‚˜ì”© ì‚´í´ë³´ì. ë²ˆí˜¸ ì–´íŠ¸ë¦¬ë·°íŠ¸ì˜ ì´ë¦„ì€ ìµœì†Œí•œ ë²”ìœ„ë¥¼ í•œì •í•˜ëŠ” í•œì •ìì™€ ê°’ì„ í‘œí˜„í•˜ëŠ” ëª…ì‚¬ë¡œ êµ¬ì„±í•´ì¤˜ì•¼ í•œë‹¤. ë²ˆí˜¸ì˜ ê²½ìš° ê°’ì„ í‘œí˜„í•˜ëŠ” ëª…ì‚¬ë§Œ ì‚¬ìš©ë˜ì–´ ê°€ë…ì„±ì´ ë–¨ì–´ì§„ë‹¤. ëˆ„êµ°ê°€ëŠ” ì´ë¥¼ íšŒì›ë²ˆí˜¸ê°€ ì•„ë‹ˆë¼ ì „í™”ë²ˆí˜¸ë¼ê³  ìƒê°í•  ìˆ˜ë„ ìˆë‹¤. íšŒì›ì•„ì´ë””, íšŒì›ì¼ë ¨ë²ˆí˜¸ ë“±ìœ¼ë¡œ ë³€ê²½í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì£¼ì†Œ ì§€ê¸ˆì€ ì–´ëŠì •ë„ ì „ë‹¬ë ¥ì´ ìˆì§€ë§Œ ë§Œì•½ ì´ ì™¸ì— ì‚¬ë¬´ì‹¤ ì£¼ì†Œë¼ëŠ” ì–´íŠ¸ë¦¬ë·°íŠ¸ê°€ ì¶”ê°€ë¡œ ìˆë‹¤ë©´, ì´ ì–´íŠ¸ë¦¬ë·°íŠ¸ê°€ ìíƒ ì£¼ì†Œë¥¼ ë‚˜íƒ€ë‚¸ë‹¤ëŠ” ë³´ì¥ì´ ì—†ì–´ì§„ë‹¤. ì´ëŸ¬í•œ ê²½ìš° ë•Œë¬¸ì— ë‹¨ì–´ í•˜ë‚˜ë¡œë§Œ êµ¬ì„±ëœ ì–´íŠ¸ë¦¬ë·°íŠ¸ëŠ” ë°°ì œí•˜ë„ë¡ ë…¸ë ¥í•´ì•¼ í•œë‹¤. ìƒíƒœ ì´ê²Œ ë¬´ìŠ¨ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê²ƒì¸ì§€ëŠ” ERDë¥¼ ì„¤ê³„í•œ ì‚¬ëŒë§Œì´ ì•Œ ê²ƒì´ë‹¤. ê²Œë‹¤ê°€ ì‹¤ìˆ˜ë¡œë¼ë„ ì—¬ê¸°ì— ì„¤ê³„ìê°€ ì˜ë„í•œ ê°’ ì™¸ì˜ ê°’ì´ ë“¤ì–´ê°€ê²Œ ëœë‹¤ë©´, ì´ ì–´íŠ¸ë¦¬ë·°íŠ¸ëŠ” ê±°ì˜ ì“°ë ˆê¸° ìˆ˜ì¤€ìœ¼ë¡œ ê´€ë¦¬ë  ê²ƒì´ë‹¤. ë¡œê·¸ì¸ ë²ˆí˜¸ì™€ëŠ” ë°˜ëŒ€ë¡œ ë²”ìœ„ë¥¼ í•œì •í•˜ëŠ” í•œì •ìë§Œ ì‚¬ìš©ëœ ì¼€ì´ìŠ¤ì´ë‹¤. ë¡œê·¸ì¸ ì¼ì‹œë¥¼ ì˜ë¯¸í•˜ëŠ”ê±´ì§€, ë¡œê·¸ì¸ IPë¥¼ ì˜ë¯¸í•˜ëŠ” ê±´ì§€ ì „í˜€ ì•Œ ìˆ˜ ì—†ë‹¤. 1ë²ˆì—ì„œ ì–¸ê¸‰í•˜ì˜€ë“¯ì´ ì–´íŠ¸ë¦¬ë·°íŠ¸ì˜ ì´ë¦„ì€ ë²”ìœ„ë¥¼ í•œì •í•˜ëŠ” í•œì •ì + ê°’ì„ í‘œí˜„í•˜ëŠ” ëª…ì‚¬ë¡œ êµ¬ì„±í•˜ëŠ” ê²ƒì´ ê°€ì¥ ì´ìƒì ì´ë‹¤. ì–´íŠ¸ë¦¬ë·°íŠ¸ì˜ ì´ë¦„ì´ ë„ˆë¬´ ê¸¸ì–´ì§€ë©´ ë¬¼ë¦¬ëª¨ë¸ë§ ê³¼ì •ì—ì„œ ê¹Œë‹¤ë¡œì›Œì§€ë¯€ë¡œ ë‹¨ì–´ 2~4ê°œ ì •ë„ë¥¼ ê²°í•©í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì‹ë³„ì(í”„ë¼ì´ë¨¸ë¦¬ í‚¤) ì‹ë³„ìëŠ” ë³¸ì§ˆ ì‹ë³„ìì™€ ì‹¤ì§ˆ ì‹ë³„ìë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤. ë³¸ì§ˆ ì‹ë³„ìëŠ” ì—”í‹°í‹°ì˜ ë ˆì½”ë“œê°€ ìƒì„±ë  ìˆ˜ ìˆëŠ” ì¡°ê±´ì„ ì•Œë ¤ì£¼ëŠ” ì‹ë³„ìë¥¼ ì˜ë¯¸í•œë‹¤. ìœ„ì˜ êµ¬ë§¤ í…Œì´ë¸”ì—ì„œ ë³´ì´ë“¯ì´, ê³ ê°ì•„ì´ë”” + ìƒí’ˆì½”ë“œ + êµ¬ë§¤ì¼ìê°€ ìˆì–´ì•¼ ë ˆì½”ë“œê°€ í•œê±´ ìƒì„±ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ì´ 3ê°œì˜ ì–´íŠ¸ë¦¬ë·°íŠ¸ê°€ ë¬¶ì—¬ì„œ ë³¸ì§ˆ ì‹ë³„ìê°€ ë˜ëŠ” ê²ƒì´ë‹¤ ì‹¤ì§ˆ ì‹ë³„ìë€ ì‹¤ì§ˆì ìœ¼ë¡œ í…Œì´ë¸”ì—ì„œ ì‹ë³„ìë¡œ ì‚¬ìš©í•˜ê³  ìˆëŠ” ê°’ì„ ì˜ë¯¸í•˜ëŠë°, êµ¬ë§¤ í…Œì´ë¸”ì˜ ê²½ìš° ë³¸ì§ˆ ì‹ë³„ìë¥¼ ê·¸ëŒ€ë¡œ ì‹¤ì§ˆ ì‹ë³„ìë¡œ ì‚¬ìš©í•˜ê³  ìˆë‹¤ ê·¼ë° ì—¬ê¸°ì„œ ë¬¸ì œê°€ ë˜ëŠ”ê²Œ, ë³´í†µ êµ¬ë§¤ ì—”í‹°í‹°ì˜ ê²½ìš° ì£¼ë¬¸ì´ë ¥, ìƒíƒœë³€í™” ë“± ìˆ˜ë§ì€ ìì‹ ì—”í‹°í‹°ë¥¼ ê°€ì§ˆ ê°€ëŠ¥ì„±ì´ ìƒë‹¹íˆ ë†’ë‹¤. ê·¼ë° í˜„ì¬ì™€ ê°™ì´ ë³¸ì§ˆ ì‹ë³„ìë¥¼ ì‹ë³„ìë¡œ ì‚¬ìš©í•  ê²½ìš°, ìì‹ ì—”í‹°í‹°ì˜ ê²½ìš° ë¶€ë‹´í•´ì•¼í•˜ëŠ” ì–´íŠ¸ë¦¬ë·°íŠ¸ì˜ ê°œìˆ˜ê°€ ê³„ì†í•´ì„œ ë§ì•„ì§€ê²Œ ëœë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì¸ìœ„ì ì¸ ê°’ì„ ìƒì„±í•˜ì—¬ ì´ë¥¼ ì‹¤ì§ˆ ì‹¤ë³„ìë¡œ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤. ì´ë•Œ ì‚¬ìš©ë˜ëŠ” ì‹ë³„ìë¥¼ ì¸ì¡° ì‹ë³„ìë¼ê³  í•œë‹¤. ê´€ê³„(ë¦´ë ˆì´ì…˜) ì—”í‹°í‹°ê°„ ìƒí˜¸ì‘ìš©ì„ í‘œí˜„í•´ì£¼ëŠ” ê²ƒì„ ë§í•œë‹¤. ì—”í‹°í‹°ì™€ ë™ì¼í•˜ê²Œ ë§¤ìš° ì¤‘ìš”í•œ ì—­í• ì„ ìˆ˜í–‰í•œë‹¤. ê´€ê³„ì—†ì´ ì—”í‹°í‹°ë§Œ ìˆëŠ” ERDëŠ” ERDë¡œ ë³¼ ìˆ˜ ì—†ë‹¤. ì‹ë³„ ê´€ê³„ì™€ ë¹„ì‹ë³„ ê´€ê³„ ë¶€ëª¨ ì—”í‹°í‹°ì˜ ì‹ë³„ìê°€ ìì‹ ì—”í‹°í‹°ì˜ ì‹ë³„ìë¡œ í¬í•¨ë  ê²½ìš° ì‹ë³„ ê´€ê³„, ê·¸ëƒ¥ ì¼ë°˜ ì–´íŠ¸ë¦¬ë·°íŠ¸ë¡œ í¬í•¨ë  ê²½ìš° ë¹„ì‹ë³„ ê´€ê³„ë¼ê³  í•œë‹¤. ë¶€ëª¨ ì—”í‹°í‹°ê°€ ìì‹ ì—”í‹°í‹°ë¥¼ ë§Œë“¤ì–´ ë‚´ëŠ”ë° í•„ìˆ˜ì ì¸ ì—­í• ì„ í•˜ê³  ìˆì„ ê²½ìš° ì‹ë³„ ê´€ê³„ë¥¼ í˜•ì„±í•  ëŒ€ìƒì´ ë  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ê·¸ ëŒ€ìƒì„ ëª¨ë‘ ì‹ë³„ ê´€ê³„ë¡œ í˜•ì„±í•˜ë©´ ìì‹ì˜ ì‹ë³„ìê°€ ë„ˆë¬´ ë§ì•„ì§€ë¯€ë¡œ ê´€ê³„ ì¤‘ ìœ ì¼ì„±ì„ ë³´ì¥í•  ìˆ˜ ìˆëŠ” ìµœì†Œí•œì˜ ëŒ€í‘œ ê´€ê³„ë§Œ ì‹ë³„ ê´€ê³„ë¡œ ì„ íƒí•˜ê³ , ë‚˜ë¨¸ì§€ëŠ” ë¹„ì‹ë³„ ê´€ê³„ë¡œ ì„ íƒí•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ê´€ê³„ì˜ ê¸°ìˆ˜ì„±(Cardinality) ë¶€ëª¨ ì—”í‹°í‹°ì˜ ë ˆì½”ë“œ í•˜ë‚˜ì— ìì‹ ì—”í‹°í‹°ì˜ ë ˆì½”ë“œê°€ ì–¼ë§ˆë‚˜ ë§Œë“¤ì–´ì§ˆ ìˆ˜ ìˆëŠ”ì§€ë¥¼ ì˜ë¯¸í•œë‹¤. ì •í™•íˆ ëª‡ ê±´ì´ëƒë¥¼ í‘œì‹œí•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, 0ê±´, 1ê±´, Nê±´(1ê±´ ì´ìƒ) ìœ¼ë¡œ êµ¬ë¶„í•´ì„œ í‘œì‹œí•œë‹¤. ê¸°ìˆ˜ì„±ì€ ê´€ê³„ì„ ì˜ ì–‘ìª½ ëì— í‘œì‹œí•˜ë©°, ë‚˜íƒ€ë‚´ëŠ” ë²•ì€ ì•„ë˜ì™€ ê°™ë‹¤. (ì´ ê·¸ë¦¼ í•˜ë‚˜ ê·¸ë¦°ë‹¤ê³  30ë¶„ì„ ë„˜ê²Œ ì¼ë‹¤â€¦ ì—­ì‹œ ë‚œ ë¯¸ìˆ ì´ë‘ ì•ˆë§ë‹¤ ã…‹ã…‹ã…‹) ê·¸ë¦¬ê³  ì•„ë˜ëŠ” ì‹¤ì œ í‘œì‹œë˜ëŠ” í˜•íƒœì´ë‹¤. ì•„ë˜ëŠ” ê°„ë‹¨í•œ ì˜ˆì‹œì´ë‹¤. í•œëª…ì˜ íšŒì›ì€ í•œë²ˆë„ êµ¬ë§¤ë¥¼ í•˜ì§€ ì•Šì„ìˆ˜ë„, 1ë²ˆ ì´ìƒ êµ¬ë§¤í•  ìˆ˜ë„ ìˆìŒì„ ë‚˜íƒ€ë‚¸ë‹¤. ê´€ê³„ì˜ í˜•íƒœ ëª¨ë¸ë§ì—ëŠ” ìˆ˜ë§ì€ ê´€ê³„ë“¤ì´ ë‚˜íƒ€ë‚˜ê² ì§€ë§Œ, ëŒ€í‘œì ìœ¼ë¡œ ë§ì´ ë‚˜íƒ€ë‚˜ëŠ” ëª‡ê°œì˜ íŒ¨í„´ë“¤ì´ ìˆë‹¤. ê³„ì¸µ ê´€ê³„ ë¶€ëª¨ì™€ ìì‹ê°„ì˜ ì§ì„ ì ì¸ ê´€ê³„ê°€ ì—°ì†ë˜ëŠ” í˜•íƒœë¥¼ ë§í•œë‹¤. ìì‹ ì—”í‹°í‹°ë¡œ ê°ˆìˆ˜ë¡ ì‹ë³„ìì˜ ê°œìˆ˜ê°€ ë§ì•„ì§€ë¯€ë¡œ, ì ì ˆí•œ ìˆ˜ì¤€ì—ì„œ ì‹ë³„ìë¥¼ ì¸ì¡° ì‹ë³„ìë¡œ ëŒ€ì²´í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì—…ë¬´ì— ë”°ë¼ ë‹¤ë¥´ì§€ë§Œ ë³´í†µì€ 2~4ë‹¨ê³„ì—ì„œ ëŒ€ì²´í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë‹¤. ìˆœí™˜ ê´€ê³„ í•˜ë‚˜ì˜ ì—”í‹°í‹°ê°€ ë¶€ëª¨ì„ê³¼ ë™ì‹œì— ìì‹ì´ ë˜ëŠ” ì¬ê·€ì ì¸ í˜•íƒœë¥¼ ë§í•œë‹¤. MySQLì€ Oracleê³¼ ë‹¬ë¦¬ ì¬ê·€ ì¿¼ë¦¬ê°€ ì§€ì›ë˜ì§€ ì•ŠëŠ”ë°, ì´ë¥¼ ì´ìœ ë¡œ ìˆœí™˜ ê´€ê³„ë¥¼ í”¼í•˜ëŠ” ëª¨ë¸ë§ì€ ì˜ëª»ëœ ë°©ì‹ì´ë‹¤. ê·¸ëŸ¬í•œ ì´ìœ ë¡œ ìˆœí™˜ ê´€ê³„ë¥¼ ê³„ì¸µ ê´€ê³„ë¡œ í’€ì–´ë´¤ì ë‚˜ì•„ì§€ëŠ” ê²ƒì€ ì•„ë¬´ê²ƒë„ ì—†ê³ , ê²°êµ­ì— ë” ë³µì¡í•´ì§ˆ ë¿ì´ë‹¤. N:N ê´€ê³„ ë³´í†µì˜ ë°ì´í„° ëª¨ë¸ì—ì„œëŠ” 1:N ê´€ê³„ê°€ 90% ì •ë„ë¥¼ ì°¨ì§€í•  ì •ë„ë¡œ ë§ì´ ì¡´ì¬íˆë‚˜, ê°€ë”ì”© N:N(ë‹¤ëŒ€ë‹¤) ê´€ê³„ë„ ë“±ì¥í•œë‹¤. ì•„ë˜ëŠ” N:N ê´€ê³„ì˜ ëŒ€í‘œì ì¸ ì˜ˆì‹œë‹¤. í•™ìƒì€ ì—¬ëŸ¬ê°œì˜ ê³¼ëª©ì„ ìˆ˜ê°•í•  ìˆ˜ ìˆê³ , ê³¼ëª©ì€ ì—¬ëŸ¬ í•™ìƒì— ì˜í•´ ìˆ˜ê°•ë  ìˆ˜ ìˆë‹¤ ê·¸ëŸ¬ë‚˜ ì´ëŸ° í‘œê¸°ë²•ì€ ë…¼ë¦¬ëª¨ë¸ì—ì„œë‚˜ ê°€ëŠ¥í•˜ê³ , ë¬¼ë¦¬ëª¨ë¸ì—ì„œëŠ” ë¶ˆê°€ëŠ¥í•˜ë‹¤. ì¦‰ ë¬¼ë¦¬ëª¨ë¸ì—ì„œëŠ” ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ í’€ì–´ì•¼í•œë‹¤. ì´ì²˜ëŸ¼ 2ê°œì˜ 1:N ê´€ê³„ë¡œ í’€ì–´ì¤˜ì•¼ í•œë‹¤. ì´ë¥¼ N:N ê´€ê³„ í•´ì†Œ ë¼ê³  í•œë‹¤. ìˆ˜ê°•ê³¼ ê°™ì€ ì—”í‹°í‹°ë¥¼ ê´€ê³„ ì—”í‹°í‹°ë¼ê³  í‘œí˜„í•œë‹¤. ì´ëŠ” ìš”ì¦˜ì— ìœ í–‰í•˜ëŠ” SNSì˜ íŒ”ë¡œì‰, íŒ”ë¡œì›Œì˜ ëŒ€í‘œì ì¸ ì˜ˆì‹œì´ë‹¤. ì—”í‹°í‹° í†µí•© ERDë¥¼ ì‘ì„±í•˜ë‹¤ ë³´ë©´ ì—”í‹°í‹°ë¥¼ êµ¬ì„±í•˜ëŠ” ì–´íŠ¸ë¦¬ë·°íŠ¸ì™€ ê´€ê³„ê°€ ë¹„ìŠ·í•œ ì—”í‹°í‹°ë¥¼ ìì£¼ ë³´ê²Œ ëœë‹¤. ê´€ê³„ê°€ ë¹„ìŠ·í•˜ë‹¤ëŠ” ê²ƒì€ ìš©ë„ê°€ ë¹„ìŠ·í•˜ë‹¤ëŠ” ì˜ë¯¸ì¸ë°, ì´ëŸ° ì—”í‹°í‹°ëŠ” í†µí•©ì˜ ëŒ€ìƒì´ ì•„ë‹Œì§€ ì£¼ì˜ê¹Šê²Œ ì‚´í´ë³´ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì•„ë˜ëŠ” í†µí•©ì˜ ê°„ë‹¨í•œ ì˜ˆì‹œë‹¤. ë²•ì¸ê³ ê°ê³¼ ê°œì¸ê³ ê°ì´ ì„œë¡œ ë§ì€ ì–´íŠ¸ë¦¬ë·°íŠ¸ë¥¼ ê³µìœ í•˜ê³  ìˆì–´ ì´ë¥¼ í•˜ë‚˜ì˜ ì—”í‹°í‹°ë¡œ í•©ì¹œ ì˜ˆì‹œì´ë‹¤. ë§Œì•½ ë‘ ì—”í‹°í‹°ì˜ ì–´íŠ¸ë¦¬ë·°íŠ¸ ì°¨ì´ê°€ ê½¤ë‚˜ ë‚œë‹¤ë©´, ë‘˜ì˜ ê³µí†µ ì†ì„±ì„ ëª¨ì•„ì„œ í•˜ë‚˜ì˜ í†µí•© ì—”í‹°í‹°ë¡œ ë§Œë“œëŠ” ë°©ë²•ë„ ê³ ë ¤í•´ë³¼ ìˆ˜ ìˆë‹¤. ë˜í•œ ì´ ì„œë¹„ìŠ¤ì—ì„œ ì–´ë–¤ì‹ìœ¼ë¡œ ì—”í‹°í‹°ë‚˜ ì–´íŠ¸ë¦¬ë·°íŠ¸ì— ì ‘ê·¼í•˜ê²Œ ë  ì§€ë„ ê³ ë ¤í•˜ë©´ì„œ í†µí•©ì´ë‚˜ ë¶„ë¦¬ë¥¼ ì„ íƒí•˜ëŠ” ê²ƒì´ ê°€ì¥ ì¢‹ë‹¤. ê´€ê³„ í†µí•© ê´€ê³„ ë˜í•œ í†µí•©í•˜ëŠ” ê³¼ì •ì„ ê±°ì¹˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì™¼ìª½ ê´€ê³„ì˜ ê²½ìš° ê³ ê°ì˜ ìˆ˜ê°€ ëŠ˜ì–´ë‚˜ëŠ” ë“±ì˜ ìš”êµ¬ì‚¬í•­ì— ëŒ€ì‘í•˜ê¸° ì–´ë ¤ìš°ë¯€ë¡œ, ì˜¤ë¥¸ìª½ê³¼ ê°™ì´ ê³ ê°ë“¤ì„ ë³„ë„ì˜ ì—”í‹°í‹°ë¡œ ë¶„ë¦¬í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì°¸ê³ ë¡œ ê´€ê³„ë¥¼ í†µí•©í•˜ë©´ ì¡°ì¸ì´ë‚˜ ì €ì¥ë˜ëŠ” í…Œì´ë¸”ì´ ëŠ˜ì–´ë‚˜ì„œ ê°œë°œì´ ë²ˆê±°ë¡œì›Œì§ˆìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ëŒ€ì²´ë¡œ ê´€ê³„ì˜ í†µí•©ì€ ì„±ëŠ¥ì  ì´ìŠˆë³´ë‹¤ëŠ” ì—…ë¬´ì— ìœ ì—°í•˜ê²Œ ëŒ€ì‘í•˜ê¸° ìœ„í•œ ê²ƒì´ë‹¤. ëª¨ë¸ ì •ê·œí™” ë§Œì•½ ë°ì´í„°ë¥¼ í•˜ë‚˜ì˜ í…Œì´ë¸”ì— ë‹¤ ë•Œë ¤ë„£ìœ¼ë©´ ì–´ë–»ê²Œ ë ê¹Œ? ë¶ˆí•„ìš”í•œ ê³µê°„ ë‚­ë¹„ëŠ” ê¸°ë³¸ì´ê³  ì‚¬ëŒì´ ê´€ë¦¬í•˜ê¸°ë„ ë§¤ìš° í˜ë“¤ê²ƒì´ë©° ì‚½ì…ì´ìƒ, ê°±ì‹ ì´ìƒ, ì‚­ì œì´ìƒê³¼ ê°™ì€ ë¶€ì‘ìš© ë˜í•œ ì´ˆë˜í•  ìˆ˜ ìˆê²Œ ëœë‹¤ ì´ìƒí˜„ìƒ(abnomaly) : https://yaboong.github.io/database/2018/03/09/database-anomaly-and-functional-dependency/ ì •ê·œí™”ë€ ì¤‘ë³µê³¼ ì´ìƒí˜„ìƒì´ ë°œìƒí•˜ì§€ ì•Šë„ë¡ ë°ì´í„°ë¥¼ ì ì ˆí•œ ê¸°ì¤€ìœ¼ë¡œ ë‚˜ëˆ ì„œ ì €ì¥í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤ ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì—ì„œ ì¤‘ë³µì„ ì œê±°í•˜ê¸° ìœ„í•´ ê°ì²´ë“¤ì˜ ê´€ì‹¬ì‚¬ë¥¼ ë¶„ë¦¬í•˜ëŠ” ê³¼ì •ê³¼ ë¹„ìŠ·í•˜ë‹¤ê³  ë³´ë©´ ëœë‹¤ (ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ê´€ì‹¬ì‚¬ë¥¼ ë°œìƒí•˜ì§€ ì•Šì•„ ë°œìƒí•˜ëŠ” ë¬¸ì œì˜ ê²½ìš° ì½”ë“œë³´ë‹¤ í›¨ì”¬ ì¹˜ëª…ì ì´ë‹¤) ì œ1ì •ê·œí™”(No Reapeating Group) ì œ1ì •ê·œí™”ì˜ ìš”ê±´ì€ ëª¨ë“  ì†ì„±ì€ ë°˜ë“œì‹œ í•˜ë‚˜ì˜ ê°’ì„ ê°€ì ¸ì•¼ í•œë‹¤ì´ë‹¤. ì•„ë˜ì™€ ê°™ì´ í•˜ë‚˜ì˜ ì–´íŠ¸ë¦¬ë·°íŠ¸ì— ì—¬ëŸ¬ê°œì˜ ê°’ì„ ì €ì¥í•˜ê±°ë‚˜, í•˜ë‚˜ì˜ ì—”í‹°í‹°ì—ì„œ ë˜‘ê°™ì€ ì„±ê²©ì˜ ì–´íŠ¸ë¦¬ë·°íŠ¸ê°€ ì—¬ëŸ¬ë²ˆ ë‚˜ì—´ë˜ëŠ” ê²ƒì€ ì œ1ì •ê·œí™”ë¥¼ ìœ„ë°˜í•œ ê²ƒì´ë‹¤. ì œ2ì •ê·œí™”(Whole Key Dependent) ì œ2ì •ê·œí™”ì˜ ìš”ê±´ì€ ì‹ë³„ì ì¼ë¶€ì— ì¢…ì†ë˜ëŠ” ì–´íŠ¸ë¦¬ë·°íŠ¸ëŠ” ì œê±°í•´ì•¼ í•œë‹¤ì´ë‹¤. ì—”í‹°í‹°ì˜ ì‹ë³„ìë¥¼ êµ¬ì„±í•˜ëŠ” ì–´íŠ¸ë¦¬ë·°íŠ¸ê°€ 2ê°œì¼ë–„, ê·¸ ì—”í‹°í‹°ì˜ ëª¨ë“  ì–´íŠ¸ë¦¬ë·°íŠ¸ê°€ ì‹ë³„ì ëª¨ë‘ì— ì™„ì „í•˜ê²Œ ì¢…ì†ì ì´ì–´ì•¼ í•œë‹¤. ì¹œêµ¬íšŒì›ëª…ì´ë¼ëŠ” ì–´íŠ¸ë¦¬ë·°íŠ¸ëŠ” ì‹ë³„ì ì¤‘ ì¹œêµ¬íšŒì›ë²ˆí˜¸ì—ë§Œ ì¢…ì†ê´€ê³„ë¥¼ ê°€ì§„ë‹¤. ì´ëŠ” ì œ2ì •ê·œí™”ë¥¼ ìœ„ë°˜í•œ ê²ƒì´ë‹¤ ì œ3ì •ê·œí™”(Non-Key Independent) ì œ3ì •ê·œí™”ì˜ ìš”ê±´ì€ ì‹ë³„ì ì´ì™¸ì˜ ì†ì„±ê°„ì— ì¢…ì†ê´€ê³„ê°€ ì¡´ì¬í•˜ë©´ ì•ˆëœë‹¤ì´ë‹¤. ì§ì—…ëª…ì€ ì§ì—…ì½”ë“œì— ì¢…ì†ì ì¸ ì–´íŠ¸ë¦¬ë·°íŠ¸ì´ë¯€ë¡œ, ë”°ë¡œ ì—”í‹°í‹°ë¡œ ë¶„ë¦¬í•˜ë©° ì œê±°í•˜ì˜€ë‹¤. ë¬¼ë¦¬ ëª¨ë¸ë§ ë…¼ë¦¬ ëª¨ë¸ë§ì„ í†µí•´ ë‚˜ì˜¨ ì‚°ì¶œë¬¼ì„ RDBMSì˜ íŠ¹ì„±ì— ë§ê²Œ ë³€í™˜í•˜ëŠ” ì‘ì—…ì´ë‹¤. í”„ë¼ì´ë¨¸ë¦¬ í‚¤ ì„ íƒ ë¬¼ë¦¬ ëª¨ë¸ë§ì—ì„œëŠ” ì¸ë±ìŠ¤ë¼ëŠ” ì¡´ì¬ ë•Œë¬¸ì— í”„ë¼ì´ë¨¸ë¦¬ í‚¤ ì„ íƒì„ ë”ìš± ì‹ ì¤‘í•˜ê²Œ í•´ì•¼ í•œë‹¤. ì•ì˜ ë…¼ë¦¬ ëª¨ë¸ë§ì—ì„œë„ ê³ ë ¤í–ˆë˜ ì¸ì¡° ì‹ë³„ì ì‚¬ìš© ì—¬ë¶€ë¥¼ ë¬¼ë¦¬ ëª¨ë¸ë§ì—ì„œë„ ê³ ë ¤í•˜ê²Œ ë˜ëŠ”ë°, ì—¬ê¸°ì„œ ì¸ë±ìŠ¤ì˜ ì„±ëŠ¥ê¹Œì§€ ì¶”ê°€ì ìœ¼ë¡œ ìƒê°í•´ì¤˜ì•¼ í•œë‹¤. InnoDBëŠ” í”„ë¼ì´ë¨¸ë¦¬í‚¤ì— ì˜í•´ í´ëŸ¬ìŠ¤í„°ë§ ë˜ëŠ” ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì¸ë°, ì´ëŸ¬í•œ ì—”ì§„ì—ì„œëŠ” í”„ë¼ì´ë¨¸ë¦¬ í‚¤ë¥¼ ë ˆì½”ë“œì˜ ì£¼ì†Œ ëŒ€ì‹  ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— í”„ë¼ì´ë¨¸ë¦¬í‚¤ë¥¼ êµ¬ì„±í•˜ëŠ” ì»¬ëŸ¼ì˜ ê°œìˆ˜ê°€ ë§ì•„ì§€ë©´ ì„±ëŠ¥ì ìœ¼ë¡œ ì´ìŠˆê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤ ì•Œë‹¤ì‹œí”¼ ì¸ë±ìŠ¤ëŠ” ë ˆì½”ë“œì˜ ì£¼ì†Œë¥¼ ê°€ì§€ê³  ìˆê³ , ì´ ë§ì¸ ì¦‰ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ê°€ ë§ì„ ê²½ìš° ì¸ë±ìŠ¤ì˜ í¬ê¸°ë„ ê°™ì´ ë¹„ëŒ€í•´ì§ì„ ì˜ë¯¸í•œë‹¤ ì¸ë±ìŠ¤ì˜ í¬ê¸°ê°€ ì‘ì„ ê²½ìš° ì°¨ì´ê°€ ë¯¸ë¹„í•˜ì§€ë§Œ, í¬ê¸°ê°€ ì»¤ì§ˆ ê²½ìš° ê·¸ ì°¨ì´ê°€ í™•ì—°í•˜ê²Œ ë“œëŸ¬ë‚˜ê²Œ ëœë‹¤. ë””ìŠ¤í¬ë¥¼ ì°¨ì§€í•˜ëŠ” í¬ê¸°ê°€ ì»¤ì§„ë‹¤ëŠ” ê²ƒì€ ê·¸ë§Œí¼ ë§ì€ ë””ìŠ¤í¬ ì…ì¶œë ¥ì„ í•„ìš”ë¡œ í•˜ê³ , ë©”ëª¨ë¦¬ì— ìºì‹œë‚˜ ë²„í¼ë§ì„ í•˜ê¸° ìœ„í•´ ë” ë§ì€ ë¬¼ë¦¬ì  ë©”ëª¨ë¦¬ê°€ í•„ìš”í•˜ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ í”„ë¼ì´ë¨¸ë¦¬ í‚¤ëŠ” ì ì ˆí•œ ì„ ì—ì„œ ì¸ì¡° ì‹ë³„ìë¥¼ ì„ íƒí•´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤ ê·¸ë¦¬ê³  ì¶”ê°€ë¡œ, í”„ë¼ì´ë¨¸ë¦¬ í‚¤ ë˜í•œ ì¸ë±ìŠ¤ë¡œ ì‚¬ìš©ë˜ë¯€ë¡œ ë°˜ë“œì‹œ SELECTì˜ ì¡°ê±´ì ˆì— ìì£¼ ì‚¬ìš©ë˜ëŠ” ì»¬ëŸ¼ ìœ„ì£¼ë¡œ ìˆœì„œë¥¼ ë°°ì¹˜í•´ì¤˜ì•¼ í•œë‹¤ ë°ì´í„° íƒ€ì… ì„ ì • ë¬¼ë¦¬ ëª¨ë¸ë§ì—ì„œ ì¹¼ëŸ¼ì˜ ë°ì´í„° íƒ€ì…ì€ ê°€ëŠ¥í•œ í•œ ìµœì†Œ ë‹¨ìœ„ì˜ íƒ€ì…ì„ ë¶€ì—¬í•´ì•¼ í•œë‹¤. ë ˆì½”ë“œì˜ ê°œìˆ˜ê°€ ë§ì•„ì§€ë©´ ë°ì´í„° íƒ€ì… í•œ ë°”ì´íŠ¸ë¼ë„ ë§ì€ ì°¨ì´ë¥¼ ë§Œë“¤ì–´ë‚´ê¸° ë•Œë¬¸ì´ë‹¤. ë°ì´í„°ì˜ íƒ€ì… ë°ì´í„°ì˜ íƒ€ì…ì€ ì €ì¥í•˜ë ¤ëŠ” ë°ì´í„°ì˜ ì„±ê²© ê·¸ëŒ€ë¡œ íƒ€ì…ì„ ì„ ì •í•˜ëŠ” ê²ƒì´ ê°€ì¥ ì¢‹ë‹¤. ìˆ«ìë‚˜ ë‚ ì§œ ë°ì´í„°ë¥¼ ëª¨ë‘ ë¬¸ìì—´ ì¹¼ëŸ¼ì— ì €ì¥í•´ë„ ì•„ë¬´ëŸ° ì°¨ì´ê°€ ì—†ë‹¤ë©´ ì²˜ìŒë¶€í„° MySQLì— ì´ë ‡ê²Œ ë§ì€ ë°ì´í„° íƒ€ì…ì´ ì œê³µë˜ì§€ ì•Šì•˜ì„ ê²ƒì´ë‹¤. ë§Œì•½ ì €ì¥í•  ë°ì´í„° íƒ€ì…ì´ ëª…í™•í•˜ì§€ ì•Šê³  ë‘ê°œì˜ ë°ì´í„° íƒ€ì… ì¤‘ê°„ì¯¤ ìœ„ì¹˜í•´ ì• ë§¤í•˜ë‹¤ë©´, ê·¸ ë‘ ë°ì´í„° íƒ€ì…ì˜ ì¥ë‹¨ì ì„ ë¹„êµí•´ ì„ íƒí•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ëŒ€í‘œì  ì˜ˆì‹œë¡œëŠ” IPì£¼ì†Œê°€ ìˆë‹¤. ì»¬ëŸ¼ì˜ ê¸¸ì´ í•­ìƒ ìš°ë¦¬ëŠ” ì¹¼ëŸ¼ì— ì €ì¥ë  ë°ì´í„°ì˜ ìµœëŒ€ ê¸¸ì´ë§Œì„ ìƒê°í•˜ì—¬ ê¸¸ì´ë¥¼ ì§€ì •í•˜ëŠ” ê²½í–¥ì´ ìˆëŠ”ë°, ì´ê²ƒë³´ë‹¤ëŠ” ìš°ë¦¬ê°€ ì €ì¥í•  ë°ì´í„°ê°€ ì–´ë–¤ íŠ¹ì„±ì„ ê°€ì§€ëŠëƒì— ë”°ë¼ ì¹¼ëŸ¼ì˜ ê¸¸ì´ë¥¼ ê²°ì •í•´ì•¼ í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ URL ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ì¹¼ëŸ¼ì˜ ê²½ìš°, URLì˜ ìµœëŒ€ ê¸¸ì´ì— ì§‘ì¤‘í•  ê²ƒì´ ì•„ë‹ˆë¼ ìš°ë¦¬ ì„œë¹„ìŠ¤ì— í•„ìš”í•œ URL ê¸¸ì´ë§Œì„ ìƒê°í•˜ë©´ ëœë‹¤. ê·¸ë¦¬ê³  ì¸ì¡°ì‹ë³„ìì— INTEGER ëŒ€ì‹  BIGINTë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒë„ ì–´ë–»ê²Œ ë³´ë©´ ë„ˆë¬´ ê³¼ë„í•˜ê²Œ ë©€ë¦¬ ìƒê°í•˜ëŠ” í–‰ìœ„ë¼ê³  ë³¼ìˆ˜ë„ ìˆë‹¤. ë¬¸ìì§‘í•© ë¬¸ìì—´ íƒ€ì…ì—ì„œ ë¬¸ìì—´ì´ ì–´ë–¤ ë¬¸ìì§‘í•©ì„ ê°€ì§€ëŠ”ì§€ë„ ìƒë‹¹íˆ ì¤‘ìš”í•œ ë¬¸ì œì´ë‹¤. íŠ¹ë³„íˆ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ MySQL ì„œë²„ì˜ default-character-setì— ì§€ì •ëœ ë¬¸ìì§‘í•©ì„ ì‚¬ìš©í•œë‹¤. í•˜ì§€ë§Œ ëª…í™•í•œ ê¸°ì¤€ì´ ìˆë‹¤ë©´ latin1, utf8ë¥¼ ê°™ì´ ì‚¬ìš©í•˜ì—¬ ë°ì´í„° ì €ì¥ ê³µê°„ì„ ì¤„ì´ëŠ” ê²ƒë„ ì¢‹ë‹¤. ì»¬ëŸ¼ì˜ ê¸¸ì´ë‚˜ ë¬¸ìì§‘í•©ì„ ì‹ ê²½ì“°ëŠ” ì´ìœ ëŠ” ë°ì´í„°ê°€ ë””ìŠ¤í¬ë¥¼ ë§ì´ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ë§‰ê¸° ìœ„í•¨ì´ë‹¤. MySQLì—ì„œëŠ” ì„ì‹œí…Œì´ë¸”/ë²„í¼ì‘ì—…(ì •ë ¬, ê·¸ë£¹í•‘ ë“±)ì„ ìœ„í•´ ë³„ë„ì˜ ë©”ëª¨ë¦¬ í• ë‹¹ì´ í•„ìš”í•˜ë‹¤. ì´ë•Œ MySQL ì„œë²„ëŠ” ì‹¤ì œ ì €ì¥ëœ ë°ì´í„° ê¸¸ì´ë¡œ ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ë°ì´í„° íƒ€ì…ì— ëª…ì‹œëœ ê¸¸ì´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•˜ê³  ì‚¬ìš©í•œë‹¤. ê·¸ëŸ°ë° ì´ ë©”ëª¨ë¦¬ ê³µê°„ì´ ì¼ì • í¬ê¸° ì´ìƒì„ ì´ˆê³¼í•˜ë©´ ë©”ëª¨ë¦¬ê°€ ì•„ë‹ˆë¼ ë””ìŠ¤í¬ì—ì„œ ì²˜ë¦¬ëœë‹¤. ì¦‰, í…Œì´ë¸” ì»¬ëŸ¼ì´ ê³¼ë„í•˜ê²Œ í¬ê²Œ ì„¤ì •ë˜ë©´ ë©”ëª¨ë¦¬ë¡œ ì²˜ë¦¬ë˜ì–´ì•¼ í•  ê²ƒì´ ë””ìŠ¤í¬ë¡œ ì²˜ë¦¬ë  ìˆ˜ë„ ìˆë‹¤. NULL, NOT NULL InnoDBì˜ ê²½ìš° NULLì´ ì €ì¥ë˜ëŠ” ì¹¼ëŸ¼ì€ ì „í˜€ ë””ìŠ¤í¬ ê³µê°„ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” íŠ¹ì§•ì´ ìˆë‹¤. ì¦‰ NULLì„ ì €ì¥í•¨ìœ¼ë¡œì¨ ë””ìŠ¤í¬ ê³µê°„ì„ ì¤„ì¼ ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤. í•˜ì§€ë§Œ SELECTê°€ ë§ì´ ë°œìƒí•˜ëŠ” ì»¬ëŸ¼ì˜ ê²½ìš° NULLì„ ì €ì¥í•˜ëŠ” í–‰ìœ„ë¥¼ ì§€ì–‘í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. MySQLì—ì„œ NULLABLE ì»¬ëŸ¼ì— IN ì—°ì‚°ë“±ì„ í–ˆì„ ê²½ìš° êµ‰ì¥íˆ ì´ìƒí•œ ë¹„êµ ì‘ì—…ì„ ë‚´ë¶€ì ìœ¼ë¡œ í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ë°˜ì •ê·œí™” ì •ê·œí™”ëŠ” ë°ì´í„°ì˜ ì €ì¥ ë¹„ìš©ì„ ìµœì†Œí™”í•˜ëŠ” ì—­í• ì„ ë‹´ë‹¹í•˜ê¸° ë•Œë¬¸ì—, ì§„í–‰í• ìˆ˜ë¡ í…Œì´ë¸”ì˜ ê°œìˆ˜ë‚˜ ì»¬ëŸ¼ì˜ ê°œìˆ˜ê°€ ì¦ê°€í•˜ê²Œ ë˜ê³ , ì´ëŠ” ê²°êµ­ SELECTì˜ ë¶€ë‹´ìœ¼ë¡œ ì´ì–´ì§„ë‹¤. ë°˜ì •ê·œí™”ëŠ” COUNTë‚˜ GROUP BY ê°™ì€ ì»¬ëŸ¼ë“¤ì„ ë¯¸ë¦¬ ì§‘ê³„í•˜ì—¬ ë³„ë„ë¡œ ì €ì¥í•˜ì—¬ ë°ì´í„°ë¥¼ ì½ì–´ì˜¤ëŠ” ë¹„ìš©ì„ ìµœì†Œí™”í•˜ëŠ” ì‘ì—…ì„ ë§í•œë‹¤. ì»¬ëŸ¼ ë³µì‚¬ ì¡°ì¸ì„ ì—†ì• ê¸° ìœ„í•´ ì›ë³¸ ì»¬ëŸ¼ì˜ ê°’ì„ ë³€ê²½í•˜ì§€ ì•Šê³  ê·¸ëŒ€ë¡œ ë‹¤ë¥¸ í…Œì´ë¸”ë¡œ ë³µì‚¬í•´ë‘ëŠ” í˜•íƒœë¥¼ ë§í•œë‹¤. ë³µì‚¬í•´ì˜¨ ì»¬ëŸ¼ì„ ì´ìš©í•´ GROUP BYë‚˜ ORDER BYë¥¼ ì¸ë±ìŠ¤ë¡œ í• ìˆ˜ìˆë‹¤ë©´ ì„±ëŠ¥ì— ìƒë‹¹íˆ ë„ì›€ì´ ë  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ë³µì‚¬í•´ì˜¨ ì»¬ëŸ¼ì´ ìì£¼ ë³€ê²½ëœë‹¤ë©´ ë¹„íš¨ìœ¨ì ì¸ ì‘ì—…ì´ ë  ê²ƒì´ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì½ê¸°ì™€ ë³€ê²½ì˜ ë¹„ìœ¨ì„ ë”°ì ¸ë³´ê³  ì»¬ëŸ¼ ë³µì‚¬ë¥¼ ì§„í–‰í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ìš”ì•½ ì¹¼ëŸ¼ ì–´ë– í•œ ê³„ì‚°ì˜ ê²°ê³¼ë¡œ ë§Œë“¤ì–´ì§„ ê°’ì„ ì €ì¥í•´ë‘ëŠ” ì»¬ëŸ¼ì„ ì˜ë¯¸í•œë‹¤. ëŒ€ë¶€ë¶„ ì—¬ëŸ¬ ë ˆì½”ë“œì˜ ê±´ìˆ˜, ìµœëŒ€ê°’, ìµœì†Œê°’ë“±ì„ ë¯¸ë¦¬ ê³„ì‚°í•´ì„œ ì €ì¥í•´ë‘ëŠ”ë° ì‚¬ìš©í•œë‹¤. ê³„ì‚°ëœ ê²°ê³¼ê°€ ë¹ˆë²ˆíˆ í˜¸ì¶œë˜ê³ , ë§¤ë²ˆ ê³„ì‚°í•˜ê¸°ê°€ ë¶€ë‹´ìŠ¤ëŸ¬ìš¸ ë•Œ ì‚¬ìš©í•˜ë©´ ì¢‹ì€ ë°©ë²•ì´ë‹¤. í•˜ì§€ë§Œ ê³„ì‚°ì˜ ê²°ê³¼ê°€ ë¹ˆë²ˆíˆ ë³€ê²½ëœë‹¤ë©´ ë¬¸ì œê°€ ë ìˆ˜ìˆë‹¤. ì´ì²˜ëŸ¼ ì¦ì€ ë°ì´í„°ì˜ ë³€ê²½ì€ ë¬¸ì œê°€ ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, 20-30ë¶„ì— í•œë²ˆì”© ë„ëŠ” ë°°ì¹˜ë¥¼ í†µí•´ ê³„ì‚° ì»¬ëŸ¼ì„ ë³€ê²½í•´ì£¼ëŠ” ê²ƒì´ ê°€ì¥ íš¨ìœ¨ì ì¸ ë°©ë²•ì´ë‹¤. í•´ì‹œ ì¸ë±ìŠ¤ í•´ì‹œ ì¸ë±ìŠ¤ëŠ” ì¹¼ëŸ¼ì˜ ì›ë˜ ê°’ì„ ì¸ë±ì‹±í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ê¸¸ì´ë¥¼ í›¨ì”¬ ì¤„ì¸ í•´ì‹œê°’ìœ¼ë¡œ ì¸ë±ìŠ¤ë¥¼ êµ¬ì„±í•˜ëŠ” ë°©ì‹ì´ë‹¤. í•˜ì§€ë§Œ MyISAMì´ë‚˜ InnoDBì—ì„œëŠ” ì´ë¥¼ ì§€ì›í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ, MD5 í•¨ìˆ˜ë¥¼ í†µí•´ ì´ë¥¼ í‰ë‚´ë‚´ì•¼ í•œë‹¤. ë°©ì‹ì€ ê°„ë‹¨í•˜ë‹¤. ë³„ë„ì˜ í•´ì‹œ ì €ì¥ìš© ì»¬ëŸ¼ì„ ë§Œë“¤ê³  ê·¸ê³³ì— ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì´ë‹¤. ê·¸ë¦¬ê³¤ ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 123SELECT *FROM tempWHERE hash_url=MD5('http://....'); urlì— ì§ì ‘ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•  í•„ìš”ë„ ì—†ê³ , ë§Œì•½ urlì»¬ëŸ¼ì— ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ì§€ ëª»í•˜ëŠ” ê²½ìš°ì—ë„ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ InnoDBëŠ” 767ë°”ì´íŠ¸ê¹Œì§€ë§Œ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤. ì°¸ê³  : ì´ì„±ìš±, ã€Real MySQLã€, ìœ„í‚¤ë¶ìŠ¤(2012)]]></content>
      <categories>
        <category>db</category>
      </categories>
      <tags>
        <tag>Real MySQL</tag>
        <tag>ë°ì´í„° ëª¨ë¸ë§</tag>
        <tag>ë…¼ë¦¬ ëª¨ë¸ë§</tag>
        <tag>ë¬¼ë¦¬ ëª¨ë¸ë§</tag>
        <tag>ì •ê·œí™”</tag>
        <tag>ë°˜ì •ê·œí™”</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[db] mysql dump]]></title>
    <url>%2Fdb%2Fmysql-dump%2F</url>
    <content type="text"><![CDATA[ë¤í”„ëœ¨ê¸° ì „ì²´ database ë¤í”„ 123# -A ë˜ëŠ” --all-databases ì˜µì…˜mysqldump -u[ì•„ì´ë””] -p[íŒ¨ìŠ¤ì›Œë“œ] -A &gt; ê²½ë¡œ/íŒŒì¼ëª….sqlmysqldump -u[ì•„ì´ë””] -p[íŒ¨ìŠ¤ì›Œë“œ] --all-databases &gt; ê²½ë¡œ/íŒŒì¼ëª….sql íŠ¹ì • database ë˜ëŠ” íŠ¹ì • tableë§Œ ë¤í”„ 12345# íŠ¹ì • databasemysqldump -u[ì•„ì´ë””] -p[íŒ¨ìŠ¤ì›Œë“œ] [databaseëª…] &gt; ê²½ë¡œ/íŒŒì¼ëª….sql# íŠ¹ì • tablemysqldump -u[ì•„ì´ë””] -p[íŒ¨ìŠ¤ì›Œë“œ] [databaseëª…] [table] &gt; ê²½ë¡œ/íŒŒì¼ëª….sql í…Œì´ë¸” ìŠ¤í‚¤ë§ˆë§Œ ë¤í”„ ë°ì´í„° ì—†ì´ í…Œì´ë¸” êµ¬ì¡°(ìŠ¤í‚¤ë§ˆ)ë§Œ ë°›ì„ ë•Œ ì‚¬ìš©í•œë‹¤ 123# -d ë˜ëŠ” --no-data ì˜µì…˜mysqldump -u[ì•„ì´ë””] -p[íŒ¨ìŠ¤ì›Œë“œ] -d [databaseëª…] &gt; ê²½ë¡œ/íŒŒì¼ëª….sqlmysqldump -u[ì•„ì´ë””] -p[íŒ¨ìŠ¤ì›Œë“œ] --no-data [databaseëª…] &gt; ê²½ë¡œ/íŒŒì¼ëª….sql íŠ¹ì • ì¡°ê±´ìœ¼ë¡œ ë¤í”„ íŠ¹ì • databaseì˜ íŠ¹ì • tableì—ì„œ ì›í•˜ëŠ” ê°’ë§Œ ë¤í”„ë°›ê³  ì‹¶ì„ ê²½ìš° ì‚¬ìš©í•œë‹¤. ex) test dbì˜ employees í…Œì´ë¸”ì—ì„œ emp_noì´ 1 ì´ìƒ 10ì´í•˜ì¸ ê°’ë§Œ ë¤í”„ë¥¼ ë°›ê³ ì í•  ë•Œ 12# -w ì˜µì…˜ì„ ì‚¬ìš©í•œë‹¤. ì¡°ê±´ì€ &apos;&apos;ë¡œ ë¬¶ì–´ì¤˜ì•¼ í•œë‹¤mysqldump -u[ì•„ì´ë””] -p[íŒ¨ìŠ¤ì›Œë“œ] [databaseëª…] [tableëª…] -w &apos;emp_no &gt;= 1 and emp_no &lt;= 10&apos; íŠ¹ì •ìƒí™© Unkown table â€˜COLUMN_STATISTICSâ€™ in information_schema mysql 8 ë¶€í„° ì¶”ê°€ëœ ì˜µì…˜ ë–„ë¬¸ì´ë¼ê³  í•¨. mysql dumpì— --column-statistics=0 ì˜µì…˜ì„ ì¶”ê°€í•´ì£¼ë©´ ë¨ https://serverfault.com/questions/912162/mysqldump-throws-unknown-table-column-statistics-in-information-schema-1109 ë³µêµ¬í•˜ê¸° 1mysql -u[ì•„ì´ë””] -p[íŒ¨ìŠ¤ì›Œë“œ] [ë°ì´í„°ë² ì´ìŠ¤ëª…] &lt; ë¤í”„íŒŒì¼ëª….sql ë¤í”„íŒŒì¼ë‚´ì— database ìƒì„± êµ¬ë¬¸ì´ ìˆì„ ê²½ìš° ì§€ì •ëœ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ë¬´ì‹œëœë‹¤.]]></content>
      <categories>
        <category>db</category>
      </categories>
      <tags>
        <tag>mysql dump</tag>
        <tag>mysql ë¤í”„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[linux] ìš°ë¶„íˆ¬ intellijì—ì„œ mac keymap ì‚¬ìš©ì‹œ ì´ìŠˆ]]></title>
    <url>%2Flinux%2F%EC%9A%B0%EB%B6%84%ED%88%AC-intellij%EC%97%90%EC%84%9C-mac-keymap-%EC%82%AC%EC%9A%A9%EC%8B%9C-%EC%9D%B4%EC%8A%88%2F</url>
    <content type="text"><![CDATA[ìœˆë„ìš° í‚¤(ëŒ€ì‹œ) https://reachlabkr.wordpress.com/2014/12/06/ubuntu-ì—ì„œ-supercommand-key-shortcut-í•´ì œ/ compiz ì„¤ì¹˜í›„ì— ubuntu unity plugin launcherì— ì ¤ ìƒë‹¨ dash ë¶€ë¶„ ì‚¬ìš©í•˜ì§€ ì•ŠìŒìœ¼ë¡œ ë³€ê²½ ë‚œ super spaceë¡œ ë°”ê¿¨ëŠ”ë°, mac spotlight ëŠë‚Œì´ ë‚œë‹¤ ìœˆë„ìš° wí‚¤(ì°½ ë‹«ê¸°) ì°½ ê´€ë¦¬ - ìŠ¤ì¼€ì¼ì— ê°€ë©´ ìˆìŒ. super + tab ìœ¼ë¡œ ë°”ê¾¼ê±´ ìœˆë„ìš° ê°™ë‹¤ê³  í•¨ íŒŒë¼ë¯¸í„° ë³´ê¸° https://askubuntu.com/questions/68463/how-to-disable-global-super-p-shortcut sudo apt-get install dconf-tools dconf-editor ìœ„ì²˜ëŸ¼ ë”°ë¼ê°„ ë’¤ xrandr í•´ì œ ê·¼ë° â€¦ ì¢€ ëŠ¦ê²Œ ëˆŒëŸ¬ì•¼ ì¸ì‹ë¨ ã…¡ã…¡]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>ubuntu intellij</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[java] String, StringBuffer, StringBuilder]]></title>
    <url>%2Fjava%2FString-StringBuffer-StringBuilder%2F</url>
    <content type="text"><![CDATA[ì…‹ ë‹¤ ë¬¸ìì—´ ì²˜ë¦¬ë¥¼ ìœ„í•œ í´ë˜ìŠ¤ì´ë‚˜, ê·¸ ì²˜ë¦¬ ë°©ë²•ì—ì„œ ì°¨ì´ë¥¼ ë³´ì¸ë‹¤. ì‹¤ì œë¡œ ì‚¬ìš©í•˜ëŠ” ìƒí™©ì— ë”°ë¼ ì„±ëŠ¥ì°¨ì´ê°€ ë°œìƒí•˜ë‹ˆ ì´ë¥¼ í™•ì‹¤íˆ ì •ë¦¬í•˜ê³ ì í•œë‹¤. String Stringì€ ê¸°ë³¸ì ìœ¼ë¡œ ë³€ê²½ì´ ë¶ˆê°€ëŠ¥í•œ immutable í´ë˜ìŠ¤ì´ë‹¤. ì´ë§ì¸ ì¦‰ Stringì— ì¶”ê°€ì ì¸ ì—°ì‚°ì„ í•˜ê²Œ ë  ê²½ìš°, ê¸°ì¡´ String í´ë˜ìŠ¤ì˜ ê°’ì´ ë³€ê²½ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ í•­ìƒ ìƒˆë¡œìš´ í´ë˜ìŠ¤ê°€ ìƒì„±ëœë‹¤ëŠ” ëœ»ì´ë‹¤. 12String str1 = "AAA" + "BBB";String str2 = "CCC".concat("DDD"); str1ì˜ ê²½ìš° í™ ì˜ì—­ì— AAA, BBB, AAABBBê°€ ê°ê° ìƒê¸°ê²Œ ë˜ëŠ” ê²ƒì´ê³ , str2ì˜ ê²½ìš° í™ ì˜ì—­ì— CCC, DDD, CCCDDDê°€ ìƒê¸°ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤. Stringì´ ê°€ì§€ê³  ìˆëŠ” ê°ì¢… mutableí•´ ë³´ì´ëŠ” ì—°ì‚°(substring(), toLowerCase()) ë“± ì€ ëª¨ë‘ ìœ„ì™€ ê°™ì´ ì²˜ë¦¬ëœë‹¤. JDK 5.0 ë¯¸ë§Œ ë²„ì „ í•œì •ì´ë‹¤. JDK 5.0 ì´ìƒë¶€í„°ëŠ” String ì—°ì‚°ë„ ë‚´ë¶€ì ìœ¼ë¡œ StringBuilderë¡œ ë³€í™˜ëœë‹¤. Stringì„ ì´ë ‡ê²Œ ë””ìì¸ í•œ ì´ìœ ëŠ” í”„ë¡œê·¸ë¨ ê¸°ë³¸ ë¬¸ìì—´ í´ë˜ìŠ¤ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œì´ë‹¤. í”„ë¡œê·¸ë¨ ì‘ì„± ì‹œ ë¬¸ìì—´ì„ ìƒì„±í•˜ê³  ì°¸ì¡°í•˜ëŠ” ê²½ìš°ëŠ” ë§ìœ¼ë‚˜, ë³€ê²½í•˜ëŠ” ì¼ì€ ê·¸ë¦¬ ë§ì§€ ì•Šë‹¤. ì´ëŸ´ ê²½ìš° ìœ„ì™€ ê°™ì€ immutable í˜•íƒœë¡œ ì„ ì–¸í•˜ê²Œ ë˜ë©´ ë§ì€ íš¨ê³¼ë¥¼ ëˆ„ë¦´ ìˆ˜ ìˆë‹¤. ì¼ë‹¨ thread-safe í•˜ê¸° ë•Œë¬¸ì— ì—¬ëŸ¬ ì“°ë ˆë“œ ë‚´ì—ì„œ ììœ ë¡­ê²Œ ì°¸ì¡°í•  ìˆ˜ ìˆê³ , í•œë²ˆ ìƒì„±í•œ ë¬¸ìì—´ì€ ê°™ì€ ë¬¸ìì—´ì— ëŒ€í•´ì„œëŠ” ë³€ê²½ì„ ê°€í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ, ìš”ì²­ ì‹œ ë˜‘ê°™ì€ ì£¼ì†Œê°’ì„ ë°˜í™˜í•´ ì£¼ê¸° ë•Œë¬¸ì— ì„±ëŠ¥ìƒìœ¼ë¡œ ë§ì€ ì´ì ì„ ëˆ„ë¦´ ìˆ˜ ìˆë‹¤. ì‹¤ì œë¡œ ì•„ë˜ì˜ ì—°ì‚°ì´ ì„±ë¦½í•œë‹¤. 123String str1 = "AAA";String str2 = "AAA";assertTrue(str1 == str2); ë‘ ë¬¸ìì—´ì´ ê°™ì€ í™ ì˜ì—­ì„ ê³µìœ í•˜ê¸° ë•Œë¬¸ì´ë‹¤. StringBuffer ì´ì— ë°˜í•´ StringBuffer í´ë˜ìŠ¤ëŠ” mutable í´ë˜ìŠ¤ì´ë‹¤. ìœ„ì²˜ëŸ¼ ê¸°ì¡´ì˜ ë¬¸ìì—´ì— ì¶”ê°€ì ì¸ ì—°ì‚°ì„ í•˜ê²Œ ë˜ë©´, Stringì²˜ëŸ¼ ìƒˆë¡œìš´ ë¬¸ìì—´ì´ ìƒì„±ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ê¸°ì¡´ì˜ ë¬¸ìì—´ì— ì¶”ê°€ì ì¸ ì—°ì‚°ì„ í•˜ê²Œ ëœë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ë‹¹ê·¼ ë¬¸ìì—´ì˜ ì—°ì‚°ì´ ë§ì„ ê²½ìš°ì—ëŠ” String í´ë˜ìŠ¤ë³´ë‹¤ í›¨ì”¬ íš¨ìœ¨ì ì´ë‹¤. ê·¸ëŸ¬ë©´ ì•„! ê·¸ëŸ¼ ë¬¸ìì—´ ì—°ì‚°ì´ ë§ì„ ë•ŒëŠ” ë¬´ì¡°ê±´ StringBuffer ì¨ì•¼ê² êµ¬ë‚˜! ë¼ê³  í•  ìˆ˜ ìˆì§€ë§Œ, StringBufferëŠ” thread-safeë¥¼ ìœ„í•´ ë‚´ë¶€ì ìœ¼ë¡œ synchronized ì—°ì‚°ì„ ìˆ˜í–‰í•˜ê²Œ ë˜ë¯€ë¡œ ë¬¸ìì—´ì˜ ë³€ê²½ì´ ì¦ì§€ ì•Šì„ ê²½ìš°ëŠ” String ë³´ë‹¤ ë‚˜ìœ ì„±ëŠ¥ì„ ë³´ì¸ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì—°ì‚°ì´ ë§ì„ ê²½ìš°ì— ì‚¬ìš©í•˜ë„ë¡ í•˜ì~~ StringBuilder JDK 5.0 ë¶€í„° ë‚˜ì™”ë‹¤. StringBufferì™€ ë™ì¼í•˜ë‚˜ thread-safe í•˜ì§€ ì•Šë‹¤ëŠ” ì ì´ ì°¨ì´ì ì´ë‹¤. ìœ„ì—ì„œ ì–¸ê¸‰í–ˆë“¯ì´ JDK 5.0 ì´í›„ë¡œëŠ” String ì—°ì‚°ì´ ë‚´ë¶€ì ìœ¼ë¡œ ì´ StringBuilderë¡œ ë³€í™˜ë˜ì–´ ì²˜ë¦¬ëœë‹¤. ê·¸ëŸ¼ ë­˜ ì“¸ê¹Œ? ë¬¸ìì—´ ì—°ì‚°ì´ ì¦ì§€ ì•Šì€ ê²½ìš°ëŠ” Stringì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ê³ , ì—°ì‚°ì´ ì¦ì„ ê²½ìš°ì—ëŠ” thread-safe ì—¬ë¶€ë¥¼ ë”°ì ¸ì„œ StringBufferë‚˜ StringBuilderë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤. ì–´ì©Œí”¼ JDK 5.0 ì´í›„ë¡œ ì—°ì‚° ì‹œ Stringì´ StringBuilderë¡œ ë³€í™˜ëœë‹¤ì§€ë§Œ, ë¬¸ìì—´ì„ ë”í•  ë–„ ê¹Œì§€ ê°ì²´ë¥¼ ê³„ì† ì¶”ê°€í•´ì•¼ í•œë‹¤ëŠ” ì‚¬ì‹¤ì€ ë³€í•¨ì´ ì—†ìœ¼ë¯€ë¡œ, ì—°ì‚°ì´ ë§ìœ¼ë©´ StringBuilderë‚˜ StringBufferë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>String</tag>
        <tag>StringBuffer</tag>
        <tag>StringBuilder</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[java] Scanner, BufferedReader, StringTokenizer]]></title>
    <url>%2Fjava%2FScanner-BufferedReader-StringTokenizer%2F</url>
    <content type="text"><![CDATA[Scanner VS BufferedReader Scannerë¥¼ í†µí•œ ì…ë ¥ 1234Scanner sc = new Scanner(System.in);String str = sc.nextLine(); // 1 2 3 4 5 6 7 8 9 10String[] result = str.split(" "); BufferedReaderë¥¼ í†µí•œ ì…ë ¥ 12BufferedReader br = new BufferedReader(new InputStreamReader(System.in));String[] result = br.readLine().split(" "); ë¬¸ìì—´ì— ìµœì í™” ëœ BufferedReaderì— ë¹„í•´ ScannerëŠ” ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì§€ì›í•˜ë¯€ë¡œ ì†ë„ê°€ ì¡°ê¸ˆ ë” ëŠë¦¬ë‹¤. split VS StringTokenizer split 12345678BufferedReader br = new BufferedReader(new InputStreamReader(System.in));String[] result = br.readLine().split(" ");// A B C D ì…ë ¥result[0]; // Aresult[1]; // Bresult[3]; // Cresult[4]; // D StringTokenizer 1234567BufferedReader br = new BufferedReader(new InputStreamReader(System.in));StringTokenizer st = new StringTokenizer(br.readLine());st.nextToken(); // Ast.nextToken(); // Bst.nextToken(); // Cst.nextToken(); // D ë¬¸ìì—´ì„ ì˜ë¼ ì“°ëŠ”ê±´ ë˜‘ê°™ì€ ë§¥ë½ì´ë‚˜, splitì€ ì •ê·œì‹ì„ ê¸°ë°˜ìœ¼ë¡œ ìë¥´ëŠ” ë¡œì§ì´ë¯€ë¡œ ë‚´ë¶€ê°€ ë³µì¡í•˜ë‹¤. ê·¸ì— ë°˜ë©´ StringTokenizerì˜ ê²½ìš° ë‹¨ìˆœíˆ ê³µë°±ì„ ë•¡ê¸°ëŠ” ê²ƒì´ë¯€ë¡œ ì •ê·œì‹ ì²˜ë¦¬ê°€ ë”±íˆ í•„ìš”í•œê²Œ ì•„ë‹Œ ê²½ìš° StringTokenizerê°€ íš¨ìœ¨ì ì´ë‹¤.]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>ìë°” ì…ë ¥</tag>
        <tag>Scanner</tag>
        <tag>BufferedReader</tag>
        <tag>StringTokenizer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[spring] ëª¨ë¸ ë°”ì¸ë”©ê³¼ ê²€ì¦]]></title>
    <url>%2Fspring%2F%EB%AA%A8%EB%8D%B8-%EB%B0%94%EC%9D%B8%EB%94%A9%EA%B3%BC-%EA%B2%80%EC%A6%9D%2F</url>
    <content type="text"><![CDATA[ë©”ì„œë“œì— @ModelAttributeë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ì„ ì–¸í–ˆì„ ê²½ìš° ì²˜ë¦¬ë˜ëŠ” ê³¼ì •ì€ ë‹¤ìŒê³¼ ê°™ë‹¤. íŒŒë¼ë¯¸í„° íƒ€ì…ì˜ ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒˆë¡œ ë§Œë“ ë‹¤. ë•Œë¬¸ì— ë””í´íŠ¸ ìƒì„±ìê°€ í•„ìˆ˜ë¡œ í•„ìš”í•˜ë‹¤. @SessionAttributesë¥¼ í†µí•´ ì €ì¥ëœ ì˜¤ë¸Œì íŠ¸ê°€ ìˆìœ¼ë©´ ìƒˆë¡œ ë§Œë“¤ì§€ ì•Šê³  ì„¸ì…˜ì—ì„œ ê°€ì ¸ì˜¨ë‹¤. HTTP ìš”ì²­ì„ ìƒì„±(í˜¹ì€ ê°€ì ¸ì˜¨) ì˜¤ë¸Œì íŠ¸ í”„ë¡œí¼í‹°ì— ë°”ì¸ë”© í•´ì¤€ë‹¤. ì´ ê³¼ì •ì—ì„œ ê° í”„ë¡œí¼í‹°ì— ë§ê²Œ íƒ€ì…ì„ ë³€í™˜í•´ì¤€ë‹¤. ë§Œì•½ íƒ€ì… ë³€í™˜ ì˜¤ë¥˜ê°€ ë°œìƒí•  ì‹œ BindingResult ì˜¤ë¸Œì íŠ¸ì— ì˜¤ë¥˜ë¥¼ ì €ì¥í•´ì„œ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ë„˜ê²¨ì¤€ë‹¤. ê²€ì¦ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤. 2ë²ˆì˜ ê³¼ì •ì—ì„œ íƒ€ì…ì— ëŒ€í•œ ê²€ì¦ì€ ì´ë¯¸ ëëƒˆê³ , ê·¸ ì™¸ì˜ ê²€ì¦ì€ ê²€ì¦ê¸°ë¥¼ í†µí•´ ë“±ë¡í•  ìˆ˜ ìˆë‹¤. í”„ë¡œí¼í‹° ë°”ì¸ë”© í”„ë¡œí¼í‹° ë°”ì¸ë”©ì´ë€ ì˜¤ë¸Œì íŠ¸ì˜ í”„ë¡œí¼í‹°ì— ê°’ì„ ë„£ëŠ” í–‰ìœ„ë¥¼ ë§í•œë‹¤. í”„ë¡œí¼í‹°ì— ë§ê²Œ íƒ€ì…ì„ ì ì ˆíˆ ë³€í™˜í•˜ê³  í•´ë‹¹ í”„ë¡œí¼í‹°ì˜ ìˆ˜ì •ì ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì´ë‹¤. ìŠ¤í”„ë§ì—ì„  í¬ê²Œ ë‘ê°€ì§€ì˜ í”„ë¡œí¼í‹° ë°”ì¸ë”©ì„ ì§€ì›í•˜ëŠ”ë° ì²«ë²ˆì§¸ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ XML ì„¤ì •íŒŒì¼ë¡œ ë¹ˆì„ ì •ì˜í•  ë•Œ ì‚¬ìš©í–ˆë˜ &lt;property&gt; íƒœê·¸ì´ë‹¤. ì´ íƒœê·¸ë¥¼ í†µí•´ ë¹ˆì˜ í”„ë¡œí¼í‹°ì— ê°’ì„ ì£¼ì…í–ˆì—ˆë‹¤. ë‘ë²ˆì§¸ëŠ” HTTP ìš”ì²­ íŒŒë¼ë¯¸í„°ë¥¼ ëª¨ë¸ ì˜¤ë¸Œì íŠ¸ ë“±ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ê²½ìš°ì´ë‹¤. @ModelAttribute ë¿ë§Œ ì•„ë‹ˆë¼ @RequestParam, @PathVariable ë“±ë„ í•´ë‹¹ëœë‹¤. ê·¼ë° ì˜ ìƒê°í•´ë³´ë©´, í”„ë¡œí¼í‹° ë°”ì¸ë”©ì´ ì¼ë°˜ primitive íƒ€ì…ì´ ì•„ë‹Œ ê²½ìš°ì—ë„ ê°€ëŠ¥í–ˆë˜ ì ì´ ìˆì—ˆë‹¤. ë£¨íŠ¸ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ì—ì„œ dataSource ë¹ˆì„ ì„¤ì •í•  ë•Œë‹¤. 123&lt;bean id="dataSource" class="org.springframework..SimpleDriverDataSource"&gt; &lt;property name="driverClass" value="com.mysql.jdbc.Driver" /&gt;&lt;/bean&gt; ë³´ë‹¤ì‹œí”¼ valueì— ë¬¸ìì—´ë¡œ í´ë˜ìŠ¤ëª…ì„ ì „ë‹¬í•˜ê³  ìˆë‹¤. ê·¸ëŸ°ë° driverClass í”„ë¡œí¼í‹°ëŠ” String íƒ€ì…ì´ ì•„ë‹Œ Class íƒ€ì…ì´ë‹¤. í•˜ì§€ë§Œ ì˜ ë°”ì¸ë”© ëœë‹¤. ì´ëŠ” ìŠ¤í”„ë§ì´ ì œê³µí•˜ëŠ” í”„ë¡œí¼í‹° ë°”ì¸ë”© ê¸°ëŠ¥ì„ ì‚¬ìš©í–ˆê¸° ë•Œë¬¸ì´ë‹¤. ìŠ¤í”„ë§ì€ í”„ë¡œí¼í‹° ë°”ì¸ë”©ì„ ìœ„í•´ 2ê°€ì§€ APIë¥¼ ì œê³µí•œë‹¤. PropertyEditor ìŠ¤í”„ë§ì´ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•˜ëŠ” ë°”ì¸ë”©ìš© íƒ€ì… ë³€í™˜ APIì´ë‹¤. PropertyEditorëŠ” ìŠ¤í”„ë§ APIê°€ ì•„ë‹ˆë¼ ìë°”ë¹ˆ í‘œì¤€ì— ì •ì˜ëœ APIì´ë‹¤. GUI í™˜ê²½ì—ì„œ ë¹„ì£¼ì–¼ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ ë•Œ ì‚¬ìš©í•˜ë„ë¡ ì„¤ê³„ë˜ì—ˆê³ , ê¸°ë³¸ì ì¸ ê¸°ëŠ¥ì€ ë¬¸ìì—´ê³¼ ìë°”ë¹ˆ í”„ë¡œí¼í‹° ì‚¬ì´ì˜ íƒ€ì… ë³€í™˜ì´ë‹¤. ìŠ¤í”„ë§ì€ ì´ PropertyEditorë¥¼ ë¬¸ìì—´-ì˜¤ë¸Œì íŠ¸ ìƒí˜¸ë³€í™˜ì´ í•„ìš”í•œ XML ì„¤ì •ì´ë‚˜ HTTP íŒŒë¼ë¯¸í„° ë³€í™˜ì— ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ê³  íŒë‹¨í•˜ì—¬ ì´ë¥¼ ì¼ì°ë¶€í„° ì‚¬ìš©í•´ì™”ë‹¤. ìŠ¤í”„ë§ì€ 20ì—¬ê°€ì§€ ì •ë„ì˜ PropertyEditorë¥¼ ë§Œë“¤ì–´ ë””í´íŠ¸ë¡œ ì œê³µí•˜ê³  ìˆë‹¤. ì•„ë˜ì˜ ë§í¬ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤. https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/propertyeditors/package-summary.html ì´ ë””í´íŠ¸ PropertyEditorë“¤ì€ ë°”ì¸ë”© ê³¼ì •ì—ì„œ íŒŒë¼ë¯¸í„° íƒ€ì…ì— ë§ê²Œ ìë™ìœ¼ë¡œ ì„ ì •ë˜ì–´ ì‚¬ìš©ëœë‹¤. PropertyEditor êµ¬í˜„ ë””í´íŠ¸ í”„ë¡œí¼í‹° ë°ì´í„°ì— ë“±ë¡ë˜ì§€ ì•Šì€ íƒ€ì…ì„ íŒŒë¼ë¯¸í„°ë¡œ ì‚¬ìš©í•˜ê³  ì‹¶ì„ ê²½ìš°, ì§ì ‘ PropertyEditorë¥¼ ë§Œë“¤ì–´ ì ìš©í•  ìˆ˜ ìˆë‹¤. ì•„ë˜ì™€ ê°™ì€ enumì´ í•˜ë‚˜ ìˆê³ , 12345678910111213141516171819public enum Level &#123; GOLD(3), SILVER(2), BASIC(3); private Integer level; Level(Integer level)&#123; this.level = level; &#125; // ìˆ«ìë¥¼ ë°›ìœ¼ë©´ í•´ë‹¹í•˜ëŠ” enumì„ ë¦¬í„´ public static Level convert(Integer level)&#123; switch(level)&#123; case 3 : return GOLD; case 2 : return SILVER; case 1 : return BASIC; default : throw new RuntimeException(); &#125; &#125;&#125; ì•„ë˜ì™€ ê°™ì´ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë“±ë¡í•˜ê³  /user?level=1 ê³¼ ê°™ì´ í˜¸ì¶œí•˜ë©´ ìë™ìœ¼ë¡œ Level enumìœ¼ë¡œ ë³€í™˜í•´ì„œ ë°›ê³  ì‹¶ë‹¤ê³  í•˜ì. (level íŒŒë¼ë¯¸í„°ê°€ Integerì´ì§€ë§Œ ë³€í™˜ì´ ê°„ë‹¨í•˜ë¯€ë¡œ ë¬¸ì œë  ê²ƒ ì—†ë‹¤) 1234567@Controllerpublic class UserController&#123; @RequestMapping("/user", method=RequestMethod.GET) public String userSearch(@RequestParam Level level)&#123; // ... &#125;&#125; í˜„ì¬ëŠ” ë‹¹ì—°íˆ ë³€í™˜ì´ ë¶ˆê°€ëŠ¥í•˜ë¯€ë¡œ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. Level íƒ€ì…ì— ëŒ€í•œ PropertyEditorë¥¼ ë§Œë“¤ì–´ì•¼ í•œë‹¤. ì•„ë˜ëŠ” í”„ë¡œí¼í‹° ì—ë””í„°ê°€ ë³€í™˜í•  ë•Œì˜ ë™ì‘ ë°©ì‹ì´ë‹¤. setValue(), getValue()ëŠ” ê·¸ëƒ¥ getter,setterì´ê¸° ë•Œë¬¸ì— ì†ëŒˆ ê²ƒ ì—†ê³ , ì‹¤ì œë¡œ ìš°ë¦¬ê°€ êµ¬í˜„í•´ì•¼ í•  ë©”ì„œë“œëŠ” setAsText()ì™€ getAsText()ì´ë‹¤. í˜„ì¬ ìš°ë¦¬í•œí…Œ í•„ìš”í•œ ë¶€ë¶„ì€ ë¬¸ìì—´ -&gt; ì˜¤ë¸Œì íŠ¸ì˜ ê³¼ì •ì´ë¯€ë¡œ setAsText() ë©”ì„œë“œë¥¼ êµ¬í˜„í•´ì„œ Level enumì— ëŒ€í•œ PropertyEditorë¥¼ ë§Œë“¤ì–´ë³´ê² ë‹¤. 123456public class LevelPropertyEditor extends PropertyEditorSupport&#123; @Override public void setAsText(String text) throws IllegalArgumentException &#123; this.setValue(Level.convert(Integer.parseInt(text))); &#125;&#125; ì´ì œ ì´ PropertyEditorë¥¼ userSearch ë©”ì„œë“œì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë“±ë¡í•´ì¤˜ì•¼ í•œë‹¤. PropertyEditor ë“±ë¡ PropertyEditorë¥¼ ì¶”ê°€í•˜ê¸° ì „ì— ë¨¼ì € ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë©”ì„œë“œ ë°”ì¸ë”©ì´ ì¼ì–´ë‚˜ëŠ” ìˆœì„œë¥¼ ì•Œì•„ë³´ì. AnnotationMethodHandlerAdapterëŠ” @RequestParam, @PathVariable, @ModelAttributeì™€ ê°™ì´ HTTP ìš”ì²­ì„ ë³€ìˆ˜ì— ë°”ì¸ë”©í•˜ëŠ” ì• ë…¸í…Œì´ì…˜ì„ ë§Œë‚˜ë©´ ë¨¼ì € WebDataBinderë¼ëŠ” ê²ƒì„ ë§Œë“ ë‹¤. WebDataBinderëŠ” ì—¬ëŸ¬ê°€ì§€ ê¸°ëŠ¥ì„ í¬í•¨í•˜ëŠ”ë°, ì—¬ê¸°ì— HTTP ìš”ì²­ ë¬¸ìì—´ì„ íŒŒë¼ë¯¸í„°ë¡œ ë³€í™˜í•˜ëŠ” ê¸°ëŠ¥ë„ í¬í•¨ë˜ì–´ ìˆë‹¤. ì¦‰, ìš°ë¦¬ê°€ ë§Œë“  PropertyEditorë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ì´ WebDataBinderì— ì§ì ‘ ë“±ë¡í•´ì¤˜ì•¼ í•œë‹¤. ê·¼ë° WebDataBinderì˜ ë³€í™˜ ê³¼ì •ì´ ì™¸ë¶€ë¡œ ë…¸ì¶œë˜ì§€ ì•Šìœ¼ë¯€ë¡œ, ì§ì ‘ ë“±ë¡í•´ ì¤„ ë°©ë²•ì€ ì—†ë‹¤. ê·¸ë˜ì„œ ìŠ¤í”„ë§ì´ ì œê³µí•˜ëŠ” WebDataBinder ì´ˆê¸°í™” ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤. @InitBinder ì»¨íŠ¸ë¡¤ëŸ¬ í´ë˜ìŠ¤ì— ì•„ë˜ì™€ ê°™ì´ @InitBinder ì• ë…¸í…Œì´ì…˜ì´ ë¶€ì—¬ë˜ê³ , WebDataBinderë¥¼ ì¸ìë¡œ ë°›ëŠ” ë©”ì„œë“œë¥¼ í•˜ë‚˜ ìƒì„±í•˜ì. 123456789101112@Controllerpublic class UserController&#123; @InitBinder public void initBinder(WebDataBinder dataBinder)&#123; dataBinder.registerCustomEditor(Level.class, new LevelPropertyEditor()); &#125; @RequestMapping("/user", method=RequestMethod.GET) public String userSearch(@RequestParam Level level)&#123; // ... &#125;&#125; ê·¸ë¦¬ê³  WebDataBinderì˜ registerCustomEditor ë©”ì„œë“œì— PropertyEditorë¥¼ ì ìš©í•  íƒ€ì…ê³¼ PropertyEditor ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì „ë‹¬í•´ì£¼ë©´ ëœë‹¤. ì´í›„ ë‹¤ì‹œ /user?level=1ì„ í˜¸ì¶œí•´ë³´ë©´ level ë³€ìˆ˜ì— Level.BASIC ì˜¤ë¸Œì íŠ¸ê°€ ë“¤ì–´ê°€ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. WebDataBinder ëŒ€ì‹  WebRequestë¥¼ ë°›ì„ ìˆ˜ë„ ìˆë‹¤! initBinder ë©”ì„œë“œëŠ” í´ë˜ìŠ¤ë‚´ì˜ ëª¨ë“  ë©”ì„œë“œì— ëŒ€í•´ íŒŒë¼ë¯¸í„°ë¥¼ ë°”ì¸ë”©í•˜ê¸° ì „ì— ìë™ìœ¼ë¡œ í˜¸ì¶œëœë‹¤. ë°”ì¸ë”© ì ìš© ëŒ€ìƒì€ @RequestParam, @PathVariable, @CookieValue, @RequestHeader, @ModelAttributeì˜ í”„ë¡œí¼í‹° ì´ë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ PropertyEditorëŠ” ì§€ì •í•œ íƒ€ì…ê³¼ ì¼ì¹˜í•˜ë©´ í•­ìƒ ì ìš©ëœë‹¤. ì—¬ê¸°ì— í”„ë¡œí¼í‹° ì´ë¦„ì„ ì¶”ê°€ ì¡°ê±´ìœ¼ë¡œ ì£¼ê³ , í”„ë¡œí¼í‹° ì´ë¦„ê¹Œì§€ ì¼ì¹˜í•´ì•¼ë§Œ ì ìš©ë˜ê²Œ í•  ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ íƒ€ì…ì˜ PropertyEditorëŠ” ì´ë¯¸ PropertyEditorê°€ ì¡´ì¬í•  ê²½ìš° ì‚¬ìš©í•œë‹¤. WebDataBinderëŠ” ë°”ì¸ë”© ì‹œ ì»¤ìŠ¤í…€ PropertyEditorê°€ ìˆì„ ê²½ìš° ì´ë¥¼ ì„ ì ìš©í•˜ê³ , ì—†ì„ ê²½ìš° ë””í´íŠ¸ PropertyEditorë¥¼ ì ìš©í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ì•„ë˜ëŠ” ì ì ˆí•œ ì˜ˆì‹œì´ë‹¤. 12345678910111213141516171819202122232425262728293031323334353637383940public class MinMaxPropertyEditor extends PropertyEditorSupport&#123; Integer min; Integer max; public MinMaxPropertyEditor(Integer min, Integer max) &#123; this.min = min; this.max = max; &#125; @Override public void setAsText(String text) throws IllegalArgumentException &#123; Integer value = Integer.valueOf(text); if(value &lt; min)&#123; value = min; &#125; if(value &gt; max)&#123; value = max; &#125; this.setValue(value); &#125;&#125;public class User&#123; Integer id; Integer age;&#125;@Controllerpublic class UserController&#123; @InitBinder public void initBinder(WebDataBinder dataBinder)&#123; dataBinder.registerCustomEditor(Integer.class, "age", new MinMaxPropertyEditor(1, 50)); &#125; @RequestMapping("/user", method=RequestMethod.POST) public String userAdd(@ModelAttribute User user)&#123; // ... &#125;&#125; ì´ë ‡ê²Œ í•´ë‘ë©´ ì¶”ê°€í•˜ëŠ” ìœ ì €ì˜ ageê°’ì€ 1~50ê¹Œì§€ë¡œ ì œí•œëœë‹¤. PropertyEditorë¥¼ ë“±ë¡í•  ë•Œ í”„ë¡œí¼í‹° ì´ë¦„ìœ¼ë¡œ ageë¥¼ ì§€ì •í–ˆê¸° ë•Œë¬¸ì— idì—ëŠ” ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤. ì°¸ê³ ë¡œ ì´ ë°©ì‹ì€ í”„ë¡œí¼í‹° ì´ë¦„ì´ í•„ìš”í•˜ë¯€ë¡œ @RequestParam ê°™ì€ ë‹¨ì¼ íŒŒë¼ë¯¸í„° ë°”ì¸ë”©ì—ëŠ” ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤. WebBindingInitializer @InitBinder ë°©ì‹ì€ ë²”ìœ„ê°€ ì»¨íŠ¸ë¡¤ëŸ¬ í•˜ë‚˜ë¡œë§Œ ì œí•œë˜ë¯€ë¡œ ë‹¤ë¥¸ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì‚¬ìš©í•˜ë ¤ë©´ ë˜ ë‹¤ì‹œ ë“±ë¡í•´ì¤˜ì•¼ í•œë‹¤. ë§Œì•½ í•´ë‹¹ PropertyEditorê°€ ëª¨ë“  ê³³ì— ì ìš©í•´ë„ ë  ë§Œí¼ í•„ìš”í•œ PropertyEditorë¼ë©´ ë“±ë¡í•˜ëŠ” ë°©ë²•ì„ ë‹¬ë¦¬í•˜ì—¬ ëª¨ë“  ì»¨íŠ¸ë¡¤ëŸ¬ì— ì ìš©í•´ì¤„ ìˆ˜ ìˆë‹¤. ë¨¼ì € WebBindingInitializer ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤ë¥¼ ì‘ì„±í•œë‹¤. 1234567public class MyWebBindingInitializer implements WebBindingInitializer&#123; @Override public void initBinder(WebDataBinder binder, WebRequest request) &#123; binder.registerCustomEditor(Level.class, new LevelPropertyEditor()); &#125;&#125; ì´ì œ ì´ í´ë˜ìŠ¤ë¥¼ ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ê³  AnnotationMethodHandlerAdapterì˜ webBindingInitializer í”„ë¡œí¼í‹°ì— DI í•´ì£¼ë©´ ì „ì²´ì ìœ¼ë¡œ ì ìš©ëœë‹¤. 12345&lt;bean class="org.springframework..AnnotationMethodHandlerAdapter"&gt; &lt;property name="webBindingInitializer"&gt; &lt;bean class="MyWebBindingInitializer" /&gt; &lt;/property&gt;&lt;/bean&gt; í”„ë¡œí† íƒ€ì… PropertyEditor ì•ì„œ ì‘ì„±í–ˆë˜ PropertyEditor ë“±ë¡ ì½”ë“œë“¤ì„ ë³´ë©´, ë§¤ë²ˆ new í‚¤ì›Œë“œë¡œ PropertyEditorë¥¼ ìƒì„±í•˜ê³  ìˆë‹¤. ì´ ë¶€ë¶„ì´ ë­”ê°€ ë¶€ë‹´ìŠ¤ëŸ½ê²Œ ìƒê°ë˜ì–´ PropertyEditorë¥¼ ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ëŠ” ë°©ì‹ì„ ìƒê°í•  ìˆ˜ ìˆëŠ”ë°, ì´ëŠ” ìœ„í—˜í•œ ìƒí™©ì„ ì´ˆë˜í•œë‹¤. ìœ„ì˜ PropertyEditor ë™ì‘ë°©ì‹ì„ ë‹¤ì‹œ ì‚´í´ë³´ë©´, ë³€í™˜ê³¼ì •ì—ì„œ í•­ìƒ set -&gt; getì˜ ìˆœì„œë¡œ 2ê°œì˜ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŒì„ ë³¼ ìˆ˜ ìˆë‹¤. ì´ ë§ì¸ ì¦‰, PropertyEditorëŠ” ì§§ì€ ì‹œê°„ì´ë‚˜ë§ˆ ìƒíƒœë¥¼ ê°€ì§„ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. ìƒíƒœë¥¼ ê°€ì§€ëŠ” ì˜¤ë¸Œì íŠ¸ëŠ” ì ˆëŒ€ ë¹ˆìœ¼ë¡œ ë“±ë¡ë˜ì„œëŠ” ì•ˆëœë‹¤. ë§¤ë²ˆ new í‚¤ì›Œë“œë¡œ ìƒì„±ë˜ëŠ” ë¶€ë¶„ì´ ë¶€ë‹´ìŠ¤ëŸ¬ì›Œ ë³´ì¼ ìˆ˜ ìˆìœ¼ë‚˜, ì‹¤ìƒ PropertyEditorëŠ” ì›Œë‚™ ê°„ë‹¨í•œ í´ë˜ìŠ¤ë¼ ìì£¼ ìƒì„±ë˜ë„ ë³„ë¡œ ë¬¸ì œê°€ ë˜ì§€ ì•ŠëŠ”ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì‹±ê¸€í†¤ìœ¼ë¡œ PropertyEditorë¥¼ ìƒì„±í•˜ëŠ” ì‹¤ìˆ˜ë¥¼ í•˜ì§€ ì•Šë„ë¡ ì£¼ì˜í•´ì•¼ í•œë‹¤. ê·¼ë° ê°œë°œì„ í•˜ë‹¤ë³´ë©´, PropertyEditorì—ì„œ ë‹¤ë¥¸ ë¹ˆì„ DI ë°›ì•„ì•¼ í•  ê²½ìš°ê°€ ê°€ë” ìƒê¸´ë‹¤. ì˜ˆë¥¼ ë“¤ë©´ ì•„ë˜ì™€ ê°™ì´ ë³€í™˜í•  í”„ë¡œí¼í‹°ê°€ í•˜ë‚˜ì˜ ë„ë©”ì¸ ì˜¤ë¸Œì íŠ¸ì— ëŒ€ì‘í•˜ëŠ” ê²½ìš°ì´ë‹¤. 123456public class User&#123; Integer id; String name; Code userType; // ì½”ë“œ í…Œì´ë¸”ì— ëŒ€ì‘í•˜ëŠ” ë„ë©”ì¸ ì˜¤ë¸Œì íŠ¸ // ...&#125; ì´ëŸ° ê²½ìš°, ì¼ë°˜ì ì¸ ë°©ë²•ìœ¼ë¡œëŠ” ë³€í™˜í•  ìˆ˜ ì—†ë‹¤. ìš”ì²­ íŒŒë¼ë¯¸í„°ëŠ” í‰ë²”í•œ ë¬¸ìì—´ì´ê¸° ë•Œë¬¸ì´ë‹¤. ì´ ìƒí™©ì„ í•´ê²°í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì€ 2ê°€ì§€ê°€ ìˆë‹¤. ëª¨ì¡° PropertyEditor Code ì˜¤ë¸Œì íŠ¸ë¡œ ë³€í™˜í•˜ë˜, ì™„ë²½í•˜ì§€ ì•Šì€ ì˜¤ë¸Œì íŠ¸ë¡œ ë³€í™˜í•˜ëŠ” ë°©ë²•ì´ë‹¤. 123456789public class CodePropertyEditor extends PropertyEditorSupport&#123; @Override public void setAsText(String text) throws IllegalArgumentException &#123; Code code = new Code(); code.setId(Integer.valueOf(text)); this.setValue(code); &#125;&#125; ì´ëŸ°ì‹ìœ¼ë¡œ ì „ë‹¬ë°›ì€ idê°’ë§Œ ì±„ìš´ ë¶ˆì™„ì „í•œ Code ì˜¤ë¸Œì íŠ¸ë¥¼ ëŒë ¤ì£¼ëŠ” ê²ƒì´ë‹¤. ì´ëŸ° ë°©ì‹ì„ ëª¨ì¡° PropertyEditorë¼ê³  ë¶€ë¥¸ë‹¤. í•˜ì§€ë§Œ ì´ ë°©ì‹ì€ ì¡°ê¸ˆ ìœ„í—˜í•˜ë‹¤. ë‹¤ë¥¸ í”„ë¡œí¼í‹°ë“¤ì˜ ê°’ì´ ëª¨ë‘ nullì¸ ë¶ˆì™„ì „í•œ ì˜¤ë¸Œì íŠ¸ë¡œ ë³€í™˜í•´ì£¼ê¸° ë•Œë¬¸ì´ë‹¤. ì´ëŸ° ì˜¤ë¸Œì íŠ¸ëŠ” ì—…ë°ì´íŠ¸ê°€ ë°œìƒí•˜ë©´ ì‹¬ê°í•œ ë¬¸ì œë¥¼ ì´ˆë˜í•  ìˆ˜ ìˆìœ¼ë‚˜, ì‚¬ì‹¤ìƒ ì´ëŸ¬í•œ ì½”ë“œì„± ë„ë©”ì¸ ì˜¤ë¸Œì íŠ¸ëŠ” ë‹¤ë¥¸ í…Œì´ë¸”ì—ì„œ ì°¸ì¡°í•˜ëŠ” ìš©ë„ë¡œë§Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ëŒ€ë¶€ë¶„ì´ë‹¤. ê·¸ë˜ì„œ ì´ëŸ° ë¶€ë¶„ë§Œ ìœ ì˜í•´ì£¼ë©´ ë§¤ìš° ìœ ìš©í•˜ê²Œ í™œìš©í•  ìˆ˜ ìˆë‹¤. í”„ë¡œí† íƒ€ì… ë„ë©”ì¸ ì˜¤ë¸Œì íŠ¸ PropertyEditor PropertyEditorë¥¼ í”„ë¡œí† íƒ€ì… ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ê³ , ì„œë¹„ìŠ¤ë‚˜ DAO ê°ì²´ë¥¼ DI ë°›ì•„ Code ì˜¤ë¸Œì íŠ¸ë¥¼ ì¡°íšŒí•´ì˜¤ëŠ” ë°©ë²•ì´ë‹¤. 123456789101112131415161718192021222324252627@Component@Scope("prototype")public class CodePropertyEditor extends PropertyEditorSupport&#123; @Atuworied codeService; @Override public void setAsText(String text) throws IllegalArgumentException &#123; Code code = codeService.getCode(Integer.valueOf(text)); this.setValue(code); &#125;&#125;@Controllerpublic class UserController&#123; @Inject Provider&lt;CodePropertyEditor&gt; codePropertyEditorProvider; @InitBinder public void initBinder(WebDataBinder dataBinder)&#123; dataBinder.registerCustomEditor(Code.class, codePropertyEditorProvider.get()); &#125; @RequestMapping("/user", method=RequestMethod.POST) public String userAdd(@ModelAttribute User user)&#123; // ... &#125;&#125; ì´ ë°©ì‹ì˜ ì¥ì ì€ í•­ìƒ ì™„ì „í•œ ë„ë©”ì¸ ì˜¤ë¸Œì íŠ¸ë¥¼ ë¦¬í„´í•´ì£¼ë¯€ë¡œ, ì•ì„œ ì œê¸°í–ˆë˜ ìœ„í—˜ì´ ì—†ì–´ì§„ë‹¤. ë‹¨ì ìœ¼ë¡œëŠ” ë§¤ë²ˆ DBì—ì„œ ì¡°íšŒë¥¼ í•´ì•¼í•˜ë¯€ë¡œ ì„±ëŠ¥ì— ì¡°ê¸ˆ ë¶€ë‹´ì„ ì£¼ëŠ” ë‹¨ì ì´ ìˆë‹¤. í•˜ì§€ë§Œ JPAì™€ ê°™ì´ ì—”í‹°í‹° ë‹¨ìœ„ì˜ ìºì‹± ê¸°ë²•ì´ ë°œë‹¬í•œ ê¸°ìˆ ì„ ì‚¬ìš©í•  ê²½ìš°, DBì—ì„œ ì¡°íšŒí•˜ëŠ” ëŒ€ì‹  ë©”ëª¨ë¦¬ì—ì„œ ë°”ë¡œ ì½ì–´ì˜¬ ìˆ˜ ìˆìœ¼ë¯€ë¡œ DB ë¶€í•˜ì— ëŒ€í•œ ê±±ì •ì€ í•˜ì§€ ì•Šì•„ë„ ëœë‹¤. Converter PropertyEditorëŠ” ê·¼ë³¸ì ì¸ ë‹¨ì ì´ ìˆë‹¤. ìƒíƒœë¥¼ ê°€ì§€ê³  ìˆìœ¼ë¯€ë¡œ ì‹±ê¸€í†¤ìœ¼ë¡œ ë“±ë¡í•  ìˆ˜ ì—†ê³ , í•­ìƒ ìƒˆë¡œìš´ ì˜¤ë¸Œì íŠ¸ë¥¼ ë§Œë“¤ì–´ì•¼ í•œë‹¤ëŠ” ì ì´ë‹¤. ìŠ¤í”„ë§ 3.0ì´í›„ë¡œ ì´ëŸ¬í•œ PropertyEditorì˜ ë‹¨ì ì„ ë³´ì™„í•´ì£¼ëŠ” Converterë¼ëŠ” íƒ€ì… ë³€í™˜ APIê°€ ë“±ì¥í•˜ì˜€ë‹¤. ConverterëŠ” PropertyEditorì™€ ë‹¬ë¦¬ ë³€í™˜ê³¼ì •ì—ì„œ ë©”ì„œë“œê°€ í•œë²ˆë§Œ í˜¸ì¶œëœë‹¤. ì¦‰, ìƒíƒœë¥¼ ê°€ì§€ì§€ ì•ŠëŠ”ë‹¤ëŠ” ëœ»ì´ê³ , ì‹±ê¸€í†¤ìœ¼ë¡œ ë“±ë¡í•  ìˆ˜ ìˆë‹¤ëŠ” ëœ»ì´ë‹¤! Converter êµ¬í˜„ ì•„ë˜ëŠ” Converter ì¸í„°í˜ì´ìŠ¤ì´ë‹¤. 123public interface Converter&lt;S, T&gt;&#123; T convert(s source);&#125; ì–‘ë°©í–¥ ë³€í™˜ì„ ì§€ì›í•˜ë˜ PropertyEditorì™€ëŠ” ë‹¬ë¦¬, ë‹¨ë°©í–¥ ë³€í™˜ë§Œì„ ì§€ì›í•œë‹¤. (ì–‘ë°©í–¥ì„ ì›í•˜ë©´ ê·¸ëƒ¥ ë°˜ëŒ€ë°©í–¥ì˜ Converterë¥¼ í•˜ë‚˜ ë” ë§Œë“¤ë©´ ëœë‹¤.) ê²Œë‹¤ê°€ í•œìª½ íƒ€ì…ì´ ë¬´ì¡°ê±´ Stringìœ¼ë¡œ ê³ ì •ë˜ëŠ” ë¶ˆí¸í•¨ ì—†ì´ ì§ì ‘ ì§€ì • ê°€ëŠ¥í•˜ë‹¤. ì•„ë˜ëŠ” ì „ë‹¬ë°›ì€ íŒŒë¼ë¯¸í„°ë¥¼ Level íƒ€ì…ìœ¼ë¡œ ë³€í™˜í•´ì£¼ëŠ” Converterì´ë‹¤. 12345public class LevelConverter implements Convert&lt;Integer, Level&gt;&#123; public Level convert(Integer source)&#123; return Level.convert(source) &#125;&#125; íƒ€ì…ì„ ë°”ë¡œ Integerë¡œ ì§€ì •í•¨ìœ¼ë¡œì¨ ì§€ì €ë¶„í•œ íƒ€ì…ë³€í™˜ ì½”ë“œë¥¼ ì œê±°í•  ìˆ˜ ìˆë‹¤. Converter ë“±ë¡ PropertyEditorì²˜ëŸ¼ ì§ì ‘ ë“±ë¡í•  ìˆ˜ ì—†ê³ , ConversionService íƒ€ì…ì˜ ì˜¤ë¸Œì íŠ¸ë¥¼ í†µí•´ì„œ WebDataBinderì— ë“±ë¡í•´ì•¼ í•œë‹¤. ConversionService íƒ€ì…ì˜ ì˜¤ë¸Œì íŠ¸ë¥¼ ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ê³  ì´ë¥¼ DIë°›ì•„ WebDataBinderì— ë“±ë¡í•˜ëŠ” ë°©ì‹ì´ë¯€ë¡œ PropertyEditorì— ë¹„í•´ ë¶€ë‹´ì´ ì ë‹¤. ConversionServiceë¥¼ ë“±ë¡í•˜ëŠ” ë°©ë²•ì€ 2ê°€ì§€ê°€ ìˆë‹¤. ì²«ì§¸ë¡œ ì§ì ‘ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê³  GenericConversionServiceë¥¼ ìƒì†ë°›ì€ ë’¤, addConverter() ë©”ì„œë“œë¡œ Converterë“¤ì„ ë“±ë¡í•˜ëŠ” ë°©ì‹ì´ë‹¤. ì´í›„ ë¹ˆìœ¼ë¡œ ë“±ë¡í•œë‹¤. ë‘˜ì§¸ëŠ” ì¶”ê°€í•  Converterë“¤ì„ ë¹ˆìœ¼ë¡œ ë“±ë¡í•´ë‘ê³  ConversionServiceFactoryBeanì„ ì´ìš©í•´ì„œ Converterë“¤ì´ ì¶”ê°€ëœ GenericConversionServiceë¥¼ ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ëŠ” ë°©ì‹ì´ë‹¤. ì§ì ‘ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì§€ ì•Šê³  ì„¤ì •ë§Œìœ¼ë¡œ ê°€ëŠ¥í•˜ë¯€ë¡œ ì¢€ ë” í¸ë¦¬í•˜ë‹¤. ì•„ë˜ëŠ” ë‘ë²ˆì§¸ ë°©ë²•ì´ë‹¤. 12345678&lt;bean class="org.springframework..ConversionServiceFactoryBean"&gt; &lt;property name="converters"&gt; &lt;set&gt; &lt;bean class="LevelConverter" /&gt; &lt;!-- ì¶”ê°€í•˜ê³  ì‹¶ì€ Converterë“¤... --&gt; &lt;/set&gt; &lt;/property&gt;&lt;/bean&gt; ê·¸ë¦¬ê³  ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì•„ë˜ì™€ ê°™ì´ í•´ì£¼ë©´ ëœë‹¤. 1234567891011121314@Controllerpublic class UserController&#123; @Autowired ConversionService conversionService; @InitBinder public void initBinder(WebDataBinder dataBinder)&#123; dataBinder.setConversionService(this.conversionService); &#125; @RequestMapping("/user", method=RequestMethod.GET) public String userSearch(@RequestParam Level level)&#123; // ... &#125;&#125; ë§¤ë²ˆ ê°œë³„ì ìœ¼ë¡œ ë“±ë¡í•´ì¤˜ì•¼í•˜ëŠ” PropertyEditorì™€ëŠ” ë‹¬ë¦¬ í•˜ë‚˜ì˜ ConversionServiceì— Converterë“¤ì„ ì¼ê´„ì ìœ¼ë¡œ ì§€ì •í•  ìˆ˜ ìˆì–´ ë§¤ìš° í¸ë¦¬í•˜ë‹¤. ë•Œì— ë”°ë¼ì„œëŠ” ì—¬ëŸ¬ê°œì˜ ConversionServiceë¥¼ ë§Œë“¤ì–´ë†“ê³  ì‚¬ìš©í•˜ê¸°ë„ í•œë‹¤. í•˜ì§€ë§Œ WebDataBinderëŠ” í•˜ë‚˜ì˜ ConversionService íƒ€ì… ì˜¤ë¸Œì íŠ¸ë§Œ í—ˆìš©í•œë‹¤ëŠ” ì ì€ ì•Œê³ ìˆì–´ì•¼ í•œë‹¤. Converterë„ PropertyEditorì²˜ëŸ¼ WebBindingInitializerë¥¼ ì´ìš©í•´ ì¼ê´„ë“±ë¡ í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ConversionServiceë¥¼ ë“±ë¡í•  ë–„ëŠ” ConfigurableWebBindingInitializerë¥¼ ì´ìš©í•˜ëŠ” ê²ƒì´ ë” í¸ë¦¬í•˜ë‹¤. 12345678910111213141516&lt;bean class="org.springframework..ConversionServiceFactoryBean"&gt; &lt;property name="converters"&gt; &lt;set&gt; &lt;bean class="LevelConverter" /&gt; &lt;!-- ì¶”ê°€í•˜ê³  ì‹¶ì€ Converterë“¤... --&gt; &lt;/set&gt; &lt;/property&gt;&lt;/bean&gt;&lt;bean id="webBindingInitializer" class="org.springframework..ConfigurableWebBindingInitializer"&gt; &lt;property name="conversionService" ref="conversionService" /&gt;&lt;/bean&gt;&lt;bean class="org.springframework..AnnotationMethodHandlerAdapter"&gt; &lt;property name="webBindingInitializer" ref="webBindingInitializer" /&gt;&lt;/bean&gt; ì´ê²Œ ì „ë¶€ ConversionServiceë¥¼ ì‹±ê¸€í†¤ ë¹ˆìœ¼ë¡œ ë“±ë¡í•  ìˆ˜ ìˆê¸°ì— ìƒê²¨ë‚œ ë°©ë²•ë“¤ì´ë‹¤. ë§Œì•½ spring ì„¤ì •ì—ì„œ &lt;mvc:annotation-driven /&gt;ë¥¼ ì‚¬ìš©í–ˆì„ ê²½ìš°, ìœ„ì˜ ë‘ ë°©ë²•ì²˜ëŸ¼ ConversionServiceë¥¼ ë“±ë¡í•˜ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤. ì´ëŸ´ê²½ìš° &lt;mvc:annotation-driven conversion-service=&quot;conversionService&quot;/&gt; ì²˜ëŸ¼ ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ì´ìš©í•´ì„œ ë“±ë¡í•´ì¤˜ì•¼ í•˜ë©°, ì´ë ‡ê²Œ ë“±ë¡í•  ê²½ìš° ëª¨ë“  í´ë˜ìŠ¤ì— ìë™ìœ¼ë¡œ ì ìš©ëœë‹¤. Formatter ìœ„ì˜ ë‘ ê°€ì§€ ì™¸ì— Formatterë¼ëŠ” íƒ€ì… ë³€í™˜ APIê°€ í•˜ë‚˜ ë” ìˆë‹¤. ê·¼ë° ì´ëŠ” ìŠ¤í”„ë§ì—ì„œ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•˜ëŠ” APIê°€ ì•„ë‹ˆë¼ì„œ, ì ˆì°¨ê°€ ì¡°ê¸ˆ ê¹Œë‹¤ë¡­ë‹¤. ì¼ë‹¨ Formatterì¸í„°í˜ì´ìŠ¤ëŠ” ì•„ë˜ì™€ ê°™ë‹¤. 12345678910111213// Formatter interfacepublic interface Formatter&lt;T&gt; extends Printer&lt;T&gt;, Parser&lt;T&gt; &#123;&#125;// Printer interfacepublic interface Printer&lt;T&gt; &#123; String print(T object, Locale locale);&#125;// Parser interfacepublic interface Parser&lt;T&gt; &#123; T parse(String text, Locale locale) throws ParseException;&#125; ì´ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ì„œ Formatterë¥¼ ë§Œë“¤ë©´ ëœë‹¤. ë³´ë‹¤ì‹œí”¼ Localeì„ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì„ ìˆ˜ ìˆì–´ ì»¨íŠ¸ë¡¤ëŸ¬ì— ì‚¬ìš©í•˜ê¸° ì¢€ ë” íŠ¹í™”ë˜ì—ˆë‹¤ê³  í•  ìˆ˜ ìˆë‹¤. ê·¼ë°â€¦ FormatterëŠ” ìŠ¤í”„ë§ ê¸°ë³¸ APIê°€ ì•„ë‹ˆë¼ì„œ GenericConversionServiceì— ì§ì ‘ ë“±ë¡í•  ìˆ˜ ì—†ë‹¤. Formatterë¥¼ GenericConverterë¡œ í¬ì¥í•´ì„œ ë“±ë¡í•´ì£¼ëŠ” FormattingConversionServiceë¥¼ í†µí•´ì„œë§Œ ë“±ë¡ë  ìˆ˜ ìˆë‹¤. ê·¸ë¦¬ê³  Formatterë¥¼ ë³¸ê²©ì ìœ¼ë¡œ ì‚¬ìš©í•˜ë ¤ë©´ ì´ê²Œ ëì´ ì•„ë‹ˆë¼ ì• ë…¸í…Œì´ì…˜ì„ ì—°ê²°ì‹œì¼œì•¼ í•˜ë¯€ë¡œ AnnotationFormatterFactoryë„ ì‚¬ìš©í•´ì•¼ í•œë‹¤. ì´ë˜ì„œ êµ³ì´ Localeì´ íƒ€ì… ë³€í™˜ì— í•„ìš”í•œ ê²½ìš°ê°€ ì•„ë‹ˆë¼ë©´ Converterë¥¼ ì‚¬ìš©í•˜ëŠ” í¸ì´ ë‚«ë‹¤. ë‹¹ì¥ì€ FormattingConversionServiceFactoryBeanì„ í†µí•´ FormattingConversionServiceë¥¼ ë“±ë¡í•˜ê³ , ê±°ê¸°ì„œ ê¸°ë³¸ìœ¼ë¡œ ë“±ë¡ë˜ëŠ” Formatterë§Œ ì‚¬ìš©í•´ë„ ìœ ìš©í•˜ë‹¤. 1&lt;bean class="org.springframework..FormattingConversionServiceFactoryBean" /&gt; ì´ë ‡ê²Œ ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ê³  ìœ„ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ conversionServiceë¥¼ ì£¼ì…í•´ì£¼ë©´ ëœë‹¤. ì´ ë˜í•œ ë§Œì•½ spring ì„¤ì •ì—ì„œ &lt;mvc:annotation-driven /&gt;ë¥¼ ì‚¬ìš©í–ˆì„ ê²½ìš° ì‚¬ìš©ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤. ì°¸ê³ ë¡œ FormattingConversionServiceFactoryBeanì€ &lt;mvc:annotation-driven /&gt; ì‚¬ìš© ì‹œ ë””í´íŠ¸ë¡œ ë“±ë¡í•´ì£¼ëŠ” ConversionServiceë¼ ìœ„ì²˜ëŸ¼ conversion-service ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ì´ìš©í•´ ë”°ë¡œ ë“±ë¡í•´ ì¤„ í•„ìš”ì—†ë‹¤. @NumberFormat ì²«ì§¸ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì• ë…¸í…Œì´ì…˜ ê¸°ë°˜ í¬ë©§í„°ì´ë‹¤. ì´ëŠ” NumberFormatter, CurrencyFormatter, PercentFormatter ì™€ ì—°ê²°ë˜ì–´ ìˆë‹¤. ì—˜ë¦¬ë¨¼íŠ¸ë¡œ styleê³¼ patternì„ ì¤„ ìˆ˜ ìˆë‹¤. styleì€ Number, Currency, Percent ì„¸ ê°€ì§€ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆê³ , ê°ê° ìœ„ì˜ Formatterì™€ ì—°ê²°ëœë‹¤. styleì— ì—†ëŠ” íŒ¨í„´ì„ ì‚¬ìš©í•˜ê³  ì‹¶ì„ ê²½ìš° pattern ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ í†µí•´ ì§ì ‘ ì§€ì •í•  ìˆ˜ ìˆë‹¤. ì•„ë˜ëŠ” patternì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ì‚¬ìš©í•œ ì˜ˆì œì´ë‹¤. 123456class Product&#123; @NumberFormat("$###,##0") Long price; // getter, setter&#125; request ì¸ìë¡œ price=$100,000 ê³¼ ê°™ì´ ë„˜ê²¨ì¤˜ë„ price í”„ë¡œí¼í‹°ì—ì„œ ë³€í™˜í•´ì„œ ë°›ì„ ìˆ˜ ìˆê³ , ë·°ë¡œ ë‚´ë ¤ì¤„ ë•Œì— $100,000ì˜ í˜•íƒœë¡œ ë‚´ë ¤ì¤„ ìˆ˜ ìˆë‹¤. @DateTimeFormat ê°•ë ¥í•œ ë‚ ì§œ, ì‹œê°„ ë¼ì´ë¸ŒëŸ¬ë¦¬ì¸ Joda Timeì„ ì´ìš©í•˜ëŠ” ì• ë…¸í…Œì´ì…˜ ê¸°ë°˜ í¬ë©§í„°ì´ë‹¤. ì´ëŠ” DateTimeFormatterì™€ ì—°ê²°ë˜ì–´ ìˆë‹¤. ì—˜ë¦¬ë¨¼íŠ¸ë¡œ styleê³¼ patternì„ ì¤„ ìˆ˜ ìˆë‹¤. S(short), M(medium), L(long), F(full) 4ê°œì˜ ë¬¸ìë¥¼ ë‚ ì§œì™€ ì‹œê°„ì— ëŒ€í•´ 1ê¸€ìì”© ì‚¬ìš©í•´ ìŠ¤íƒ€ì¼ì„ ì§€ì •í•œë‹¤. 12@DateTimeFormat(style="FS")Calenadar birthday; ì´ëŠ” yyyy'ë…„' M'ì›”' d'ì¼' EEEE a h:mm í¬ë©§ìœ¼ë¡œ ë§¤í•‘ëœë‹¤. ë¬¼ë¡  ê°ê°ì˜ ì§€ì—­ì •ë³´ì— ë”°ë¼ ë‹¤ë¥´ê²Œ ì¶œë ¥ëœë‹¤. styleì—ì„œ ì§€ì •í•œ íŒ¨í„´ì´ ë§ˆìŒì— ë“¤ì§€ ì•ŠëŠ” ê²½ìš°, pattern ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ í†µí•´ ì§ì ‘ ì§€ì • ê°€ëŠ¥í•˜ë‹¤. 12@DateTimeFormat(pattern="yyyy/MM/dd")Calendar birthday; ë°”ì¸ë”© ê¸°ìˆ  í™œìš© ì „ëµ ìœ„ì˜ 3ê°€ì§€ ë°©ë²•ì€ ê°ê¸° ì¥ë‹¨ì ì´ ìˆê¸° ë•Œë¬¸ì— í•˜ë‚˜ë§Œ ê³¨ë¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ë°”ëŒì§í•˜ì§€ ì•Šë‹¤. ì•„ë˜ëŠ” ì–´ë–¤ ê²½ìš°ì— ì–´ë–¤ ë°”ì¸ë”© ê¸°ìˆ ì„ í™œìš©í•˜ëŠ” ê²ƒì´ ì¢‹ì€ì§€ì— ëŒ€í•œ ëª‡ ê°€ì§€ ì‹œë‚˜ë¦¬ì˜¤ì´ë‹¤. ì‚¬ìš©ì ì •ì˜ íƒ€ì… ë°”ì¸ë”©ì„ ìœ„í•œ ì¼ê´„ ì ìš© : Converter ì•ì˜ Level enumì²˜ëŸ¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì •ì˜í•œ íƒ€ì…ì´ë©´ì„œ ëª¨ë¸ì—ì„œ ìì£¼ í™œìš©ë˜ëŠ” íƒ€ì…ì´ë¼ë©´ Converterë¡œ ë§Œë“¤ê³  ConversionServiceë¡œ ë¬¶ì–´ì„œ ì¼ê´„ ì ìš©í•˜ëŠ” ê²ƒì´ í¸ë¦¬í•˜ë‹¤. ë©”íƒ€ì •ë³´ë¥¼ í™œìš©í•˜ëŠ” ì¡°ê±´ë¶€ ë°”ì¸ë”© : ConditionalGenericConverter ë°”ì¸ë”©ì´ íŠ¹ì • ì¡°ê±´(í•„ë“œ, ë©”ì„œë“œ íŒŒë¼ë¯¸í„°, ì• ë…¸í…Œì´ì…˜ ë“±)ì— ë”°ë¼ ë‹¤ë¥´ê²Œ ë™ì‘í•  ë•Œì—ëŠ” ConditionalGenericConverterë¥¼ ì´ìš©í•´ì•¼ í•œë‹¤. êµ¬í˜„ì´ ê¹Œë‹¤ë¡­ë‹¤. ì• ë…¸í…Œì´ì…˜ì„ í†µí•œ ë°”ì¸ë”© : AnnotationFormatterFactory, Formatter ì• ë…¸í…Œì´ì…˜ì„ í†µí•´ ë°”ì¸ë”© í•˜ê³  ì‹¶ì„ ê²½ìš° ì‚¬ìš©í•˜ë©´ ì¢‹ë‹¤. íŠ¹ì • í•„ë“œì—ë§Œ ë°”ì¸ë”© : PropertyEditor íŠ¹ì • ëª¨ë¸ì˜ íŠ¹ì • í•„ë“œì— ì œí•œí•´ì„œ ë°”ì¸ë”©ì„ ì ìš©í•´ì•¼ í•  ê²½ìš° PropertyEditorë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ í¸ë¦¬í•˜ë‹¤. í•„ë“œ ì´ë¦„ì„ ë©”ì„œë“œ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤. ì´ë ‡ë“¯ ì—¬ëŸ¬ ë°”ì¸ë”© ê¸°ìˆ ë“¤ì„ ë“±ë¡í•˜ë‹¤ ë³´ë©´ ì„œë¡œ ì¤‘ë³µë˜ëŠ” ë¶€ë¶„ì´ ë°œìƒí•  ê²ƒì´ë‹¤. ì´ëŸ´ ê²½ìš° ìš°ì„ ìˆœìœ„ì— ì˜í•´ ë°”ì¸ë”©ì´ ì ìš©ëœë‹¤. Custom PropertyEditor &gt; ConversionService &gt; Default PropertyEditor ì¤‘ë³µ ì‹œ ìœ„ì˜ ìˆœì„œë¡œ ë°”ì¸ë”©ëœë‹¤. ê·¸ë¦¬ê³  WebBindingInitializerë¥¼ í†µí•´ ë“±ë¡í•œ ê³µí†µ ë°”ì¸ë”©ì€ @InitBinderë³´ë‹¤ ìš°ì„ ìˆœìœ„ê°€ ë’¤ì³ì§„ë‹¤. WebDataBinder ì„¤ì • í•­ëª© WebDatBinderì—ëŠ” PropertyEditor, ConversionService ë“±ë¡ ì™¸ì—ë„ ì—¬ëŸ¬ ìœ ìš©í•œ ë°”ì¸ë”© ì˜µì…˜ë“¤ì´ ìˆë‹¤. allowedFields, disallowedFields @ModelAttributeë¥¼ ì‚¬ìš©í•  ê²½ìš° ê·¼ë³¸ì ì¸ ë³´ì•ˆ ë¬¸ì œê°€ í•˜ë‚˜ ìˆë‹¤. @SessionAttributesë¥¼ ì‚¬ìš©í•´ ë³€ê²½í•  í•„ë“œë§Œ í¼ì— í‘œì¶œí–ˆë‹¤ê³  í•˜ë”ë¼ë„ ì‚¬ìš©ìê°€ ì„ì˜ë¡œ í¼ì„ ì¡°ì‘í•˜ì—¬ ì „ë‹¬í•˜ëŠ” ê°’ì— ëŒ€í•´ì„œëŠ” ë³€ê²½ì„ ë§‰ì§€ ëª»í•œë‹¤ëŠ” ì ì´ë‹¤. í¼ì—ëŠ” í‘œì¶œí•˜ì§€ ì•Šì•˜ì§€ë§Œ ì‚¬ìš©ìê°€ ì˜ˆë¥¼ ë“¤ì–´ levelì´ë¼ëŠ” í•„ë“œë¥¼ í¼ì— ì¶”ê°€í•˜ì—¬ ì „ì†¡í•  ê²½ìš° ì‹¤ì œ ê°’ì´ ë°”ë€ŒëŠ” ì¼ì´ ìƒê¸¸ ìˆ˜ë„ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤. ì´ë¥¼ ëŒ€ë¹„í•´ í¼ì— í‘œì¶œí•œ í•„ë“œ ì™¸ì—ëŠ” ëª¨ë¸ì— ë°”ì¸ë”© ë˜ì§€ ì•Šë„ë¡ ì„¤ì •í•  í•„ìš”ê°€ ìˆë‹¤. ì—¬ê¸°ì— ì‚¬ìš©ë˜ëŠ” ê²ƒì´ ìœ„ì˜ ë‘ ì†ì„±ì´ë‹¤. allowedFieldsì—ëŠ” ë°”ì¸ë”©ì„ í—ˆìš©í•  í•„ë“œ ëª©ë¡ì„ ë„£ì„ ìˆ˜ ìˆê³ , disallowedFieldsì—ëŠ” ë°”ì¸ë”©ì„ ê¸ˆì§€í•  í•„ë“œ ëª©ë¡ì„ ë„£ì„ ìˆ˜ ìˆë‹¤. 1234@InitBinderpublic void initBinder(WebDatBinder dataBinder)&#123; datBinder.setAllowedFields("name", "email", "tel", "*level*");&#125; ì´ëŸ¬ë©´ ìœ„ì˜ ì§€ì •í•œ í•„ë“œëª… ì™¸ì— ë‹¤ë¥¸ í•„ë“œëŠ” ì•„ë¬´ë¦¬ HTTP ìš”ì²­ìœ¼ë¡œ ë³´ë‚´ë´ì•¼ ë°”ì¸ë”© ë˜ì§€ ì•ŠëŠ”ë‹¤. ê²Œë‹¤ê°€ *level*ì²˜ëŸ¼ ì™€ì¼ë“œì¹´ë“œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. requiredFields í•„ìˆ˜ íŒŒë¼ë¯¸í„°ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤. @ModelAttributeì˜ íŠ¹ì„± ìƒ íŒŒë¼ë¯¸í„°ê°€ ë“¤ì–´ì˜¤ì§€ ì•Šì•˜ë‹¤ê³  ë°”ë¡œ ì—ëŸ¬ë¥¼ ë°œìƒ ì‹œí‚¤ì§€ ì•Šê³  BindingResultì— ê²€ì¦ ê²°ê³¼ë¥¼ ì €ì¥í•œë‹¤. í•˜ì§€ë§Œ setRequiredFiedls() ë©”ì„œë“œë¡œ í•„ìˆ˜ íŒŒë¼ë¯¸í„°ë¥¼ ì§€ì •í•´ ì¤„ ê²½ìš°, íŒŒë¼ë¯¸í„°ê°€ ë“¤ì–´ì˜¤ì§€ ì•Šìœ¼ë©´ ë°”ë¡œ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤. fieldMarkerPrefix input checkboxëŠ” ì¡°ê¸ˆ íŠ¹ë³„í•œ ì„±ì§ˆì´ ìˆë‹¤. 1&lt;input type="checkbox" name="type" value="on" /&gt; í¼ì— ì´ì™€ ê°™ì€ ì²´í¬ë°•ìŠ¤ê°€ ìˆë‹¤ê³  í–ˆì„ ë•Œ, ì´ë¥¼ ì²´í¬í•˜ê³  ì „ë‹¬í•˜ë©´ type=onì˜ í˜•íƒœë¡œ ë°ì´í„°ê°€ ì „ë‹¬ë˜ì§€ë§Œ, ì²´í¬í•˜ì§€ ì•Šê³  ì „ë‹¬í•˜ë©´ ì•„ì˜ˆ ê°’ì„ ì „ë‹¬í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì ì´ë‹¤. ì¦‰ ìˆ˜ì •í¼ì—ì„œ ê¸°ì¡´ì— ì²´í¬ë˜ì–´ìˆë˜ ì²´í¬ë°•ìŠ¤ë¥¼ í•´ì œí•˜ê³  ì „ë‹¬í•  ê²½ìš° ì•„ë¬´ëŸ° ê°’ë„ ì „ë‹¬ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì‚¬ìš©ìëŠ” ê°’ì„ ë³€ê²½í•  ìˆ˜ ì—†ëŠ” ë¬¸ì œê°€ ë°œìƒí•˜ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤. ì´ëŸ´ ë•Œ í•„ë“œë§ˆì»¤ë¼ëŠ” ê²ƒì„ ì´ìš©í•´ í•´ê²° í•  ìˆ˜ ìˆëŠ”ë°, ì•„ë˜ì™€ ê°™ë‹¤. 12&lt;input type="checkbox" name="type" /&gt;&lt;input type="hidden" name="_type" value="on" /&gt; _typeì˜ ì•ì— ë¶™ì€ _ë¥¼ í•„ë“œë§ˆì»¤ë¼ê³  í•˜ëŠ”ë°, ìŠ¤í”„ë§ì€ ì´ëŸ° í•„ë“œë§ˆì»¤ê°€ ìˆëŠ” í•„ë“œë¥¼ ë°œê²¬í•  ê²½ìš°, í•„ë“œë§ˆì»¤ë¥¼ ì œì™¸í•œ ì´ë¦„ì˜ í•„ë“œê°€ í¼ì— ì¡´ì¬í•œë‹¤ê³  ìƒê°í•œë‹¤. ì¦‰, ì²´í¬ë°•ìŠ¤ë¥¼ ì„ íƒí•˜ì§€ ì•Šì•„ type íŒŒë¼ë¯¸í„°ê°€ ì „ë‹¬ë˜ì§€ ì•Šì•˜ì§€ë§Œ, _typeí•„ë“œê°€ ì „ë‹¬ ë˜ì—ˆìœ¼ë¯€ë¡œ ìŠ¤í”„ë§ì€ typeí•„ë“œê°€ í¼ì— ìˆë‹¤ê³  íŒë‹¨í•˜ëŠ” ê²ƒì´ë‹¤. ê·¸ë¦¬ê³  ì´ì²˜ëŸ¼ _typeì€ ì „ë‹¬ë˜ê³  typeì€ ì „ë‹¬ë˜ì§€ ì•Šì•˜ì„ ê²½ìš°, ì²´í¬ë°•ìŠ¤ë¥¼ í•´ì œí–ˆê¸° ë•Œë¬¸ì´ë¼ ìƒê°í•˜ê³  í•´ë‹¹ í”„ë¡œí¼í‹° ê°’ì„ ë¦¬ì…‹í•´ì¤€ë‹¤. ë¦¬ì…‹ ë°©ì‹ì€ boolean íƒ€ì…ì´ë©´ false, ë°°ì—´íƒ€ì…ì´ë©´ ë¹ˆ ë°°ì—´, ê·¸ ì™¸ë¼ë©´ nullì„ ë„£ì–´ì£¼ëŠ” ê²ƒì´ë‹¤. WebDataBinderì˜ setFieldMarkerPrifix() ë©”ì„œë“œëŠ” ì´ í•„ë“œë§ˆì»¤ë¥¼ ë³€ê²½í•´ì£¼ëŠ” ë©”ì„œë“œì´ë‹¤. ê¸°ë³¸ê°’ì€ _ì´ë‹¤. fieldDefaultPrefix í•„ë“œ ë””í´íŠ¸ëŠ” íˆë“  í•„ë“œë¥¼ ì´ìš©í•´ ì²´í¬ë°•ìŠ¤ì˜ ë””í´íŠ¸ ê°’ì„ ì§€ì •í•˜ëŠ”ë° ì‚¬ìš©í•œë‹¤. 12&lt;input type="checkbox" name="type" value="A"/&gt;&lt;input type="hidden" name="!type" value="Z" /&gt; !type íˆë“  í•„ë“œë¥¼ ì§€ì •í•´ì„œ typeí•„ë“œì˜ ê¸°ë³¸ê°’ì„ ì§€ì •í•´ì¤¬ë‹¤. ì´ëŸ´ ê²½ìš° ì²´í¬ë°•ìŠ¤ë¥¼ ì„ íƒí•˜ì§€ ì•Šì•„ typeí•„ë“œê°€ ì „ë‹¬ë˜ì§€ ì•Šì„ ê²½ìš°, ë””í´íŠ¸ ê°’ì¸ Zê°€ ì „ë‹¬ëœë‹¤. ëª¨ë¸ í”„ë¡œí¼í‹° ê°’ì´ ë‹¨ìˆœê°’ì´ ì•„ë‹ ê²½ìš° ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì´ ë˜í•œ setFieldDefaultPrefix()ë©”ì„œë“œë¥¼ ì´ìš©í•´ ì ‘ë‘ì–´ë¥¼ ë³€ê²½í•´ ì¤„ ìˆ˜ ìˆë‹¤. ê¸°ë³¸ê°’ì€ !ì´ë‹¤. ê²€ì¦ @ModelAttributeì˜ ë°”ì¸ë”© ì‘ì—…ì´ ì‹¤íŒ¨ë¡œ ëë‚˜ëŠ” ê²½ìš°ëŠ” 2ê°€ì§€ê°€ ìˆë‹¤. ì²«ì§¸ë¡œ @ModelAttributeê°€ ê¸°ë³¸ì ìœ¼ë¡œ ì‹¤í–‰í•˜ëŠ” íƒ€ì… ë³€í™˜ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆì„ ê²½ìš°ì´ê³ , ë‘˜ì§¸ë¡œ ê²€ì¦ê¸°(validator)ë¥¼ í†µê³¼í•˜ì§€ ëª»í–ˆì„ ê²½ìš°ì´ë‹¤. ì´ëŠ” ì‚¬ìš©ìê°€ ì§ì ‘ ì •ì˜í•˜ëŠ” ë¶€ë¶„ì´ë‹¤. ì‚¬ì‹¤ìƒ í¼ì˜ ì„œë¸Œë°‹ì„ ì²˜ë¦¬í•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì„œë“œì—ì„œëŠ” ê²€ì¦ê¸°ë¥¼ ì´ìš©í•œ ê²€ì¦ ì‘ì—…ì€ í•„ìˆ˜ì´ë‹¤. ê²€ì¦ ê²°ê³¼ì— ë”°ë¼ ë‹¤ìŒ ìŠ¤í…ìœ¼ë¡œ ë„˜ì–´ê°€ë“ , ë‹¤ì‹œ í¼ì„ ë„ì›Œ ìˆ˜ì •ì„ ìš”êµ¬í•˜ë“  í•´ì•¼í•œë‹¤. ì´ ê³¼ì •ì—ì„œ ì“°ì´ëŠ” APIì¸ Validator, BindingResult, Errorsì— ëŒ€í•´ ì•Œì•„ë³´ì. Validator ì˜¤ë¸Œì íŠ¸ ê²€ì¦ê¸°ë¥¼ ì •ì˜í•  ìˆ˜ ìˆëŠ” APIì´ë‹¤. @ModelAttribute ë°”ì¸ë”© ë•Œ ì£¼ë¡œ ì‚¬ìš©ëœë‹¤. ì•„ë˜ëŠ” Validator ì¸í„°í˜ì´ìŠ¤ì´ë‹¤. 12345public interface Validator&#123; boolean supports(Class&lt;?&gt; clazz); void validate(Object target, Errors erros);&#125; supports()ëŠ” ì´ ê²€ì¦ê¸°ê°€ ê²€ì¦í•  ìˆ˜ ìˆëŠ” íƒ€ì…ì¸ì§€ í™•ì¸í•˜ëŠ” ë©”ì„œë“œì´ê³ , ì´ë¥¼ í†µê³¼í•  ê²½ìš° validate()ë¥¼ í†µí•´ ê²€ì¦ì´ ì§„í–‰ëœë‹¤. validate()ì˜ ê²€ì¦ê³¼ì •ì—ì„œ ì•„ë¬´ ë¬¸ì œê°€ ì—†ìœ¼ë©´ ë©”ì„œë“œë¥¼ ì •ìƒ ì¢…ë£Œí•˜ë©´ ë˜ê³ , ë¬¸ì œê°€ ìˆì„ ì‹œ Errors ì¸í„°í˜ì´ìŠ¤ì— ì˜¤ë¥˜ì •ë³´ë¥¼ ë“±ë¡í•´ì£¼ë©´ ëœë‹¤. ì´í›„ ì´ ì˜¤ë¥˜ì •ë³´ë¥¼ í†µí•´ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì ì ˆí•œ ì‘ì—…ì„ í•´ì£¼ë©´ ë˜ëŠ” ê²ƒì´ë‹¤. ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ì…ë ¥ê°’ì„ ê²€ì¦í–ˆì„ ê²½ìš° ì„œë²„ì—ì„œ ê²€ì¦ì‘ì—…ì„ ìƒëµí•´ë„ ë ê¹Œ? ì•ˆëœë‹¤. ì„œë²„ì˜ ê²€ì¦ì‘ì—…ì„ ìƒëµí•˜ë©´ ë§¤ìš° ìœ„í—˜í•´ì§„ë‹¤. ë¸Œë¼ìš°ì €ì—ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ë™ì‘í•˜ì§€ ì•Šê²Œ í• ìˆ˜ë„ ìˆê³ , ê°•ì œë¡œ í¼ì„ ì¡°ì‘í• ìˆ˜ë„ ìˆê³ , Burp suite ê°™ì€ ê²ƒì„ ì‚¬ìš©í•˜ì—¬ ì „ë‹¬ë˜ëŠ” ë°ì´í„°ë¥¼ ë³€ê²½í•  ìˆ˜ë„ ìˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì„œë²„ ê²€ì¦ì‘ì—…ì€ í•„ìˆ˜ë¡œ ìˆì–´ì•¼ í•œë‹¤. ì•„ë˜ëŠ” Validator êµ¬í˜„ì˜ ì˜ˆì‹œì´ë‹¤. 1234567891011121314151617181920212223242526272829public class UserValidator implements Validator&#123; @Override public boolean supports(Class&lt;?&gt; clazz) &#123; // ìì‹í´ë˜ìŠ¤ë„ ê²€ì¦ ê°€ëŠ¥í•˜ê²Œ í•˜ê¸° ìœ„í•´ isAssignableFromì„ ì‚¬ìš© return User.class.isAssignableFrom(clazz); &#125; @Override public void validate(Object target, Errors errors) &#123; User user = (User)target; // supportsë¥¼ í†µê³¼í–ˆìœ¼ë¯€ë¡œ ë°”ë¡œ ìºìŠ¤íŒ…í•˜ë©´ ë¨ // name í•„ìˆ˜ if(user.getName() == null || user.getName().length == 0)&#123; errors.rejectValue("name", "name.required"); &#125; // null ì²´í¬ &amp; ê¸¸ì´ ì²´í¬ê°€ ê·€ì°®ìœ¼ë©´ ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš© ê°€ëŠ¥ ValidationUtils.rejectIfEmpty(erros, "name", "name.required"); if(user.getAge() &lt; 0)&#123; // argumentë„ ì „ë‹¬ ê°€ëŠ¥ errors.rejectValue("age", "age.min", new Object[]&#123;0&#125; /* arguments */, null /* default message */); &#125; if(user.getAge() &lt; 20 &amp;&amp; !"M".equals(user.getSex()))&#123; // í•„ë“œëª…ì„ ì•ˆ ì¤„ìˆ˜ë„ ìˆë‹¤ errors.reject("cannot.enter.army"); &#125; &#125;&#125; ì£¼ì„ì—ë„ ì¨ë†“ì•˜ì§€ë§Œ ì˜¤ë¥˜ ì •ë³´ë¥¼ ë“±ë¡í•˜ëŠ” ë°©ë²•ì´ ë‹¤ì–‘í•˜ë‹¤. rejectValue()ì— ì‚¬ìš©ëœ nameì€ í•„ë“œ ì´ë¦„ì´ë©°, name.requiredëŠ” ì—ëŸ¬ ì½”ë“œë¥¼ ì •ì˜í•œ ê²ƒì´ë‹¤. (ì´ ì—ëŸ¬ì½”ë“œëŠ” messageSourceì™€ í•¨ê»˜ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤. ì‚¬ìš© ë°©ë²• ë³´ê¸°) age í•„ë“œë¥¼ ê²€ì¦í• ë•Œ, ë³´ë‹¤ì‹œí”¼ ì—ëŸ¬ì½”ë“œì— íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í• ìˆ˜ë„ ìˆìœ¼ë©° ë””í´íŠ¸ ë©”ì„¸ì§€ë„ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤. ì œì¼ ì•„ë«ë¶€ë¶„ì²˜ëŸ¼ 2ê°€ì§€ ì´ìƒì˜ í•„ë“œì— ëŒ€í•´ ê²€ì¦í•˜ëŠ” ê²½ìš°, í•„ë“œëª…ì„ ìƒëµ ê°€ëŠ¥í•˜ë‹¤. ValidationUtils ê°™ì€ ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ë„ ì œê³µë˜ë‹ˆ ì˜ í™œìš©í•˜ë©´ ì¢‹ë‹¤. ValidatorëŠ” ì‹±ê¸€í†¤ ë¹ˆìœ¼ë¡œ ë“±ë¡ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— ì„œë¹„ìŠ¤ ë¡œì§ì„ ì´ìš©í•˜ì—¬ ê²€ì¦ì‘ì—…ì„ ì§„í–‰í•  ìˆ˜ë„ ìˆë‹¤. ëŒ€í‘œì ì¸ ê²ƒì´ ì•„ì´ë”” ì¤‘ë³µ ê²€ì‚¬ì´ë‹¤. ê·¼ë° ì‚¬ì‹¤ ì´ ì •ë„ ê²€ì¦ê¹Œì§€ ê°€ë©´ ì¢€ ëª¨í˜¸í•´ì§€ëŠ”ê²Œ ìˆëŠ”ë°, ê²€ì¦ì´ ìˆ˜í–‰ë˜ëŠ” ê³„ì¸µì´ë‹¤. ê²€ì¦ ì‘ì—…ì„ ì»¨íŠ¸ë¡¤ëŸ¬ ë¡œì§ì´ë¼ê³  ë³´ëŠ” ê°œë°œìë„ ìˆëŠ” ë°˜ë©´, ëŒ€ë¶€ë¶„ì´ ì„œë¹„ìŠ¤ ê³„ì¸µê³¼ ì—°ê´€ì´ ìˆìœ¼ë‹ˆ ì„œë¹„ìŠ¤ ê³„ì¸µì˜ ë¡œì§ì´ë¼ê³  ë³´ëŠ” ê°œë°œìë„ ìˆë‹¤. ì´ëŠ” ê°œì¸ì´ ì˜ íŒë‹¨í•˜ë©´ ë  ë¬¸ì œì¸ ê²ƒ ê°™ë‹¤. ì¤‘ìš”í•œ ê²ƒì€ ì–´ëŠ ê³³ì—ì„œ ì‚¬ìš©í•˜ë“ , ìœ„ì™€ ê°™ì´ ê²€ì¦ë¡œì§ì€ ë”°ë¡œ ë¶„ë¦¬ë˜ì–´ ìˆëŠ” ê²ƒì´ ì¢‹ë‹¤. Validator ì‚¬ìš©í•˜ê¸° ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì„œë“œ ë‚´ì—ì„œ ê²€ì¦ ValidatorëŠ” ë¹ˆìœ¼ë¡œ ë“±ë¡ ê°€ëŠ¥í•˜ë‹ˆ ì´ë¥¼ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ DI ë°›ì€ ë’¤, ê° ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì„œë“œì—ì„œ validate()ë¥¼ ì§ì ‘ í˜¸ì¶œí•´ì„œ ê²€ì¦ì„ ì§„í–‰í•˜ëŠ” ë°©ì‹ì´ë‹¤. (ëª¨ë¸ ì˜¤ë¸Œì íŠ¸ì˜ íƒ€ì…ì€ êµ³ì´ í™•ì¸í•  í•„ìš” ì—†ìœ¼ë¯€ë¡œ supports()ëŠ” ìƒëµ ê°€ëŠ¥í•˜ë‹¤) 123456789101112131415@Controllerpublic class UserController&#123; @Autowired UserValidator userValidator; @RequestMapping("/user", method=RequestMethod.POST) public String userAdd(@ModelAttribute User user, BindingResult result)&#123; this.userValidator.validate(user, result); if(result.hasError())&#123; // ì˜¤ë¥˜ ì •ë³´ê°€ ìˆì„ ì‹œ &#125; else&#123; // ì˜¤ë¥˜ ì •ë³´ê°€ ì—†ì„ ì‹œ &#125; &#125;&#125; @Validë¥¼ ì´ìš©í•œ ìë™ ê²€ì¦ JSR-303ì˜ @javax.validation.Valid ì• ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ë‹¤. ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì§ì ‘ validate()ë¥¼ í˜¸ì¶œí•˜ì—¬ ê²€ì¦í•˜ë˜ ë°©ì‹ê³¼ ë‹¬ë¦¬, ë°”ì¸ë”© ê³¼ì •ì—ì„œ ìë™ìœ¼ë¡œ ê²€ì¦ì´ ì§„í–‰ë˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤. 1234567891011121314@Controllerpublic class UserController&#123; @Autowired UserValidator userValidator; @InitBinder public void initBinder(WebDataBinder dataBinder)&#123; dataBinder.setValidator(userValidator); &#125; @RequestMapping("/user", method=RequestMethod.POST) public String userAdd(@ModelAttribute @Valid User user, BindingResult result)&#123; // ... &#125;&#125; WebDataBinderì—ëŠ” ë³´ë‹¤ì‹œí”¼ Validator íƒ€ì…ì˜ ê²€ì¦ìš© ì˜¤ë¸Œì íŠ¸ë„ ë“±ë¡í•  ìˆ˜ ìˆë‹¤. ê·¸ë¦¬ê³  ì•„ë˜ @ModelAttributeë¥¼ ì‚¬ìš©í•˜ëŠ” ë¶€ë¶„ì— ì¶”ê°€ë¡œ @Valid ì• ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ì£¼ë©´ ìë™ìœ¼ë¡œ ê²€ì¦ì‘ì—…ì´ ìˆ˜í–‰ëœë‹¤. ê°œì¸ì ìœ¼ë¡œ ìœ„ì˜ ë°©ì‹ë³´ë‹¤ í›¨ì”¬ ë‚˜ì•„ ë³´ì¸ë‹¤ ã…‹ã…‹ ì°¸ê³ ë¡œ @InitBinder ë§ê³  WebBindingInitializerë¥¼ ì´ìš©í•´ ëª¨ë“  ì»¨íŠ¸ë¡¤ëŸ¬ì— ì¼ê´„ ì ìš©í•  ìˆ˜ë„ ìˆë‹¤. ì„œë¹„ìŠ¤ ê³„ì¸µì—ì„œ ê²€ì¦ ìì£¼ ì‚¬ìš©ë˜ì§€ ì•Šì§€ë§Œ Validatorê°€ ì‹±ê¸€í†¤ ë¹ˆìœ¼ë¡œ ë“±ë¡ë˜ê¸°ì— ì„œë¹„ìŠ¤ ê³„ì¸µì—ì„œë„ ì–¼ë§ˆë“ ì§€ DI ë°›ì•„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì„œë¹„ìŠ¤ ê³„ì¸µì—ì„œ ë°˜ë³µì ìœ¼ë¡œ ê°™ì€ ê²€ì¦ì‘ì—…ì„ ìˆ˜í–‰í•  ê²½ìš° ì‚¬ìš©í•˜ê¸°ë„ í•œë‹¤. ê·¼ë° ì´ëŸ´ ê²½ìš°, BindingResult íƒ€ì… ì˜¤ë¸Œì íŠ¸ë¥¼ ì§ì ‘ ë§Œë“¤ì–´ì„œ validate()ì— ì „ë‹¬í•´ì•¼ í•˜ëŠ”ë°, ì´ë•ŒëŠ” BeanPropertyBindingResultë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì ë‹¹í•˜ë‹¤. ì„œë¹„ìŠ¤ ê³„ì¸µì„ í™œìš©í•˜ëŠ” Validator ValidatorëŠ” ì‹±ê¸€í†¤ ë¹ˆìœ¼ë¡œ ë“±ë¡ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë‹¤ë¥¸ ë¹ˆì„ DIë°›ì•„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì•ì„œ ì˜ˆì‹œë¡œ ë“¤ì—ˆë˜ ID ì¤‘ë³µ ê²€ì‚¬ì²˜ëŸ¼, Validatorë‚´ì—ì„œ ì„œë¹„ìŠ¤ ê³„ì¸µ ë¹ˆì„ ì‚¬ìš©í•˜ì—¬ ê²€ì¦í•  ìˆ˜ë„ ìˆë‹¤. ê²Œë‹¤ê°€ ì´ ê²½ìš° ê²°ê³¼ë¥¼ BindingResultì— ë‹´ìœ¼ë©´ ë˜ë¯€ë¡œ ì„œë¹„ìŠ¤ ê³„ì¸µì—ì„œ ë²ˆê±°ë¡­ê²Œ ì˜ˆì™¸ë¥¼ ë˜ì§€ë˜ ë°©ì‹ì„ ì œê±°í•  ìˆ˜ ìˆë‹¤. ëŒ€ì‹  ì´ ë°©ì‹ì„ ì‚¬ìš©í•˜ë©´ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì„œë¹„ìŠ¤ ê³„ì¸µì„ ë‘ë²ˆ í˜¸ì¶œí•œë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤. í•˜ì§€ë§Œ ì „ì²´ì ìœ¼ë¡œ ì½”ë“œê°€ ê¹”ë”í•´ì§€ê³  ì—­í•  ë¶„ë‹´ì´ í™•ì‹¤í•´ì§€ëŠ” ì¥ì ì´ ìˆë‹¤. JSR-303 ë¹ˆ ê²€ì¦ ê¸°ëŠ¥ @Validë¥¼ í¬í•¨í•˜ê³  ìˆëŠ” JSR-303ì˜ ë¹ˆ ê²€ì¦ ë°©ì‹ë„ ìŠ¤í”„ë§ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 1234567public class User&#123; @NotNull String name; @Min(0) int age;&#125; ì´ëŸ°ì‹ìœ¼ë¡œ ëª¨ë¸ì— íŠ¹ì • ì• ë…¸í…Œì´ì…˜ë§Œ ì‘ì„±í•´ì£¼ë©´ ëœë‹¤. Validatorë¥¼ ì§ì ‘ êµ¬í˜„í•´ì„œ ê²€ì¦ê¸°ë¥¼ ë§Œë“¤í•„ìš” ì—†ì´ ê°„ë‹¨í•˜ê²Œ ê²€ì¦ì‘ì—…ì„ ì§„í–‰í•  ìˆ˜ ìˆë‹¤. ì´ ê²€ì¦ ë°©ì‹ì„ ì‚¬ìš©í•˜ë ¤ë©´ LocalValidatorFactoryBeanì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤. LocalValidatorFactoryBeanì´ ìƒì„±í•˜ëŠ” í´ë˜ìŠ¤ íƒ€ì…ì€ Validatorì´ë¯€ë¡œ ì´ë¥¼ ë¹ˆìœ¼ë¡œ ë“±ë¡í•œ ë’¤ DIë°›ì•„ ì‚¬ìš©í•˜ë©´ ëœë‹¤. (ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì§ì ‘ ìƒì„±í•´ë„ ë˜ê³ , WebDataBinderì— ë“±ë¡í•´ë„ ëœë‹¤) BindingResultì˜ ì—ëŸ¬ ì½”ë“œ ì•ì„œ Validatorì—ì„œ errors.rejectValue(&quot;name&quot;, &quot;name.required&quot;)ì™€ ê°™ì´ ì—ëŸ¬ì½”ë“œë¥¼ ì§€ì •í•˜ë˜ ì‘ì—…ì´ ê¸°ì–µë‚  ê²ƒì´ë‹¤. ì´ ì •ë³´ëŠ” ë³´í†µ ì»¨íŠ¸ë¡¤ëŸ¬ì— ì˜í•´ í¼ì„ ë‹¤ì‹œ ë„ìš¸ ë•Œ í™œìš©ëœë‹¤. ìŠ¤í”„ë§ì€ ë“±ë¡ëœ ì—ëŸ¬ ì½”ë“œë¥¼ ì•„ë˜ì˜ ê°™ì€ íŒŒì¼ì—ì„œ ì°¾ì•„ì™€ ì—ëŸ¬ ë©”ì„¸ì§€ë¡œ í™œìš©í•œë‹¤. 1name.required=ì´ë¦„ì€ í•„ìˆ˜ë¡œ ì…ë ¥í•˜ì…”ì•¼ í•©ë‹ˆë‹¤. ê·¼ë° ì´ë ‡ê²Œ ì§€ì •í•œ ì—ëŸ¬ì½”ë“œë¡œ ë°”ë¡œ ë©”ì„¸ì§€ë¥¼ ì°¾ëŠ”ê²ƒì€ ì•„ë‹ˆê³ , ìŠ¤í”„ë§ì˜ MessageCodeResolverë¼ëŠ” ê²ƒì„ ê±°ì³ ì—ëŸ¬ì½”ë“œë¥¼ í™•ì¥í•˜ëŠ” ì‘ì—…ì„ í•œë²ˆ ê±°ì¹œë‹¤. (ìŠ¤í”„ë§ì˜ ë””í´íŠ¸ MessageCodeResolverëŠ” DefaultMessageCodeResolver ì´ë‹¤.) ì´ ë¦¬ì¡¸ë²„ë¥¼ ê±°ì¹˜ê²Œ ë˜ë©´ ìš°ë¦¬ê°€ ë“±ë¡í•œ ì—ëŸ¬ì½”ë“œ name.requiredëŠ” ì•„ë˜ì™€ ê°™ì´ 4ê°€ì§€ ì—ëŸ¬ì½”ë“œë¡œ í™•ì¥ëœë‹¤. ì—ëŸ¬ì½”ë“œ.ëª¨ë¸ì´ë¦„.í•„ë“œì´ë¦„ : name.required.user.name ì—ëŸ¬ì½”ë“œ.í•„ë“œì´ë¦„ : name.required.name ì—ëŸ¬ì½”ë“œ.íƒ€ì…ì´ë¦„ : name.required.User ì—ëŸ¬ì½”ë“œ : name.required ì´ 4ê°€ì§€ ì—ëŸ¬ì½”ë“œëŠ” ìœ„ì—ì„œë¶€í„° ìš°ì„ ìˆœìœ„ë¥¼ ê°€ì§„ë‹¤. ì¦‰ ë©”ì„¸ì§€ íŒŒì¼ì´ ì•„ë˜ì™€ ê°™ë‹¤ë©´, 12name.required.user.name=ë¬´ì–¸ê°€ ì˜ëª»ëœ ë©”ì„¸ì§€name.required=ì´ë¦„ì€ í•„ìˆ˜ë¡œ ì…ë ¥í•˜ì…”ì•¼ í•©ë‹ˆë‹¤. ìš°ë¦¬ëŠ” ì—ëŸ¬ì½”ë“œë¥¼ ë¶„ëª… name.requiredë¼ê³  ì§€ì •í–ˆì§€ë§Œ ê³„ì†í•´ì„œ ë¬´ì–¸ê°€ ì˜ëª»ëœ ë©”ì„¸ì§€ê°€ ì¶œë ¥ë  ê²ƒì´ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì—ëŸ¬ì½”ë“œ ì§€ì • ì‹œ ì–´ë–¤ ì—ëŸ¬ì½”ë“œë¡œ í™•ì¥ë˜ëŠ”ì§€ ì •í™•íˆ ì•Œê³  ìˆì–´ì•¼ í•œë‹¤. ì•„ë‹ˆë©´ ìœ„ì²˜ëŸ¼ ì˜ë„í•˜ì§€ ì•Šì€ ìƒí™©ì´ ë°œìƒí•  ìˆ˜ ìˆê¸° ë–„ë¬¸ì´ë‹¤. (ê°œì¸ì ìœ¼ë¡œ ì¢€ í˜¼ë€ìŠ¤ëŸ¬ìš´ ë°©ì‹ì´ë¼ê³  ìƒê°í•œë‹¤â€¦) ìœ„ëŠ” í•œê°€ì§€ ì˜ˆì‹œì˜€ì„ ë¿ì´ê³ , ê²€ì¦ë°©ì‹(rejectValue, reject, íƒ€ì… ì˜¤ë¥˜ ë“±, JSR-303)ì— ë”°ë¼ ì—ëŸ¬ì½”ë“œê°€ í™•ì¥ë˜ëŠ” ë£°ì´ ë‹¤ë¥´ë‹ˆ ì‚¬ìš©í•  ë–„ ì£¼ì˜í•´ì•¼ í•œë‹¤. MessageSource ìœ„ì—ì„œ í™•ì¥ëœ ì—ëŸ¬ì½”ë“œëŠ” ë§ˆì§€ë§‰ìœ¼ë¡œ MessageSourceResolverë¼ëŠ” ê²ƒì„ ê±°ì³ ì‹¤ì œ ë©”ì„¸ì§€ë¡œ ìƒì„±ëœë‹¤. ì´ ë•Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì´ MessageSourceì´ë‹¤. ì´ëŠ” ë””í´íŠ¸ë¡œ ë“±ë¡ë˜ì§€ ì•Šìœ¼ë‹ˆ ìŠ¤í”„ë§ì˜ ë¹ˆìœ¼ë¡œ ì§ì ‘ ë“±ë¡í•´ì¤˜ì•¼ í•œë‹¤. MessageSourceëŠ” 2ê°€ì§€ ì¢…ë¥˜ê°€ ìˆëŠ”ë° ë³´í†µ ResourceBundlerMessageSourceë¥¼ ì‚¬ìš©í•œë‹¤. ì´ëŠ” ì¼ì •ì‹œê°„ë§ˆë‹¤ ë©”ì„¸ì§€ íŒŒì¼ ë³€ê²½ ì—¬ë¶€ë¥¼ í™•ì¸í•´ì„œ ë©”ì„¸ì§€ë¥¼ ê°±ì‹ í•´ì£¼ë¯€ë¡œ ì„œë²„ê°€ êµ¬ë™ì¤‘ì¸ ìƒí™©ì—ë„ ë©”ì„¸ì§€ë¥¼ ë³€ê²½í•´ì¤„ ìˆ˜ ìˆë‹¤. 1&lt;bean id="messageSource" class="org.springframework...ResourceBundleMessageSource" /&gt; ì†ì„±ê°’ìœ¼ë¡œ ë©”ì„¸ì§€ íŒŒì¼ì„ ì§€ì •í•´ì£¼ì§€ ì•Šì„ ê²½ìš° ë””í´íŠ¸ë¡œ messages.properties íŒŒì¼ì´ ì‚¬ìš©ëœë‹¤. MessageSourceëŠ” ì•„ë˜ì˜ 4ê°€ì§€ ì •ë³´ë¥¼ í™œìš©í•´ ìµœì¢… ë©”ì„¸ì§€ë¥¼ ìƒì„±í•œë‹¤. ì½”ë“œ ë©”ì„¸ì§€ íŒŒì¼ì€ í‚¤=ë²¨ë¥˜ì˜ í˜•íƒœë¡œ ë“±ë¡ë˜ì–´ ìˆê¸° ë•Œë¬¸ì—, ë©”ì„¸ì§€ë¥¼ ì°¾ì„ í‚¤ ê°’ì€ í•„ìˆ˜ì´ë‹¤. ì•ì„œ ìš°ë¦¬ê°€ Errorsì— ë“±ë¡í–ˆë˜ ì—ëŸ¬ ì½”ë“œê°€ ì´ í‚¤ ê°’ì¸ ê²ƒì´ë‹¤. ë©”ì„¸ì§€ íŒŒë¼ë¯¸í„° ë°°ì—´ ì•ì„œ ì—ëŸ¬ì½”ë“œë¥¼ ë“±ë¡í•˜ë©° Object[] íƒ€ì…ì˜ íŒŒë¼ë¯¸í„°ë¥¼ ë„˜ê²¨ì¤¬ë˜ ê²ƒì„ ê¸°ì–µí•  ê²ƒì´ë‹¤. í•´ë‹¹ íŒŒë¼ë¯¸í„°ëŠ” ë©”ì„¸ì§€ë¥¼ ìƒì„±í•˜ëŠ”ë° ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤. ë©”ì„¸ì§€ íŒŒì¼ì€ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±ëœë‹¤. 1field.min=&#123;0&#125;ë³´ë‹¤ ì‘ì€ ê°’ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. íŒŒë¼ë¯¸í„°ëŠ” 1ê°œ ì´ìƒ ì˜¬ ìˆ˜ ìˆê¸°ë•Œë¬¸ì— Object ë°°ì—´ì„ ì‚¬ìš©í•œë‹¤. ë””í´íŠ¸ ë©”ì„¸ì§€ ì½”ë“œì— ë§ëŠ” ë©”ì„¸ì§€ë¥¼ ì°¾ì§€ ëª»í•˜ì˜€ì„ë•Œ ë””í´íŠ¸ ë©”ì„¸ì§€ë¥¼ ì§€ì •í•´ì¤„ ìˆ˜ ìˆë‹¤. ì—ëŸ¬ì½”ë“œë¥¼ ì¶©ì‹¤íˆ ì ìš©í–ˆë‹¤ë©´ ì´ ë¶€ë¶„ì€ ìƒëµí•˜ê±°ë‚˜ nullë¡œ ì£¼ë©´ ëœë‹¤. ì°¸ê³ ë¡œ ì½”ë“œì— í•´ë‹¹í•˜ëŠ” ë©”ì„¸ì§€ë„ ì—†ê³ , ë””í´íŠ¸ë„ ì—†ì„ ê²½ìš° ì˜ˆì™¸ê°€ ë°œìƒí•˜ë‹ˆ ì£¼ì˜í•´ì•¼ í•œë‹¤. ì§€ì—­ì •ë³´ LocaleResolverì— ì˜í•´ ê²°ì •ëœ í˜„ì¬ì˜ ì§€ì—­ì •ë³´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì§€ì—­ì •ë³´ì— ë”°ë¼ ë‹¤ë¥¸ í”„ë¡œí¼í‹° íŒŒì¼ì„ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤. ë§Œì•½ messages.properties íŒŒì¼ì„ ì‚¬ìš©í–ˆë‹¤ë©´ Localeì´ ENGLISHì¼ ê²½ìš° messages_en.properties íŒŒì¼ì´ ì‚¬ìš©ëœë‹¤. ì´ë¥¼ í†µí•´ ë‹¤êµ­ì–´ ì„œë¹„ìŠ¤ë¥¼ ì ìš©í•  ìˆ˜ ìˆë‹¤. ëª¨ë¸ì˜ ì‚¬ì´í´ ëª¨ë¸ì€ MVC ì•„í‚¤í…ì³ì—ì„œ ì •ë³´ë¥¼ ë‹´ë‹¹í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì´ë‹¤. ìš”ì²­ ì •ë³´ë¥¼ ë‹´ê¸°ë„ í•˜ê³ , ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ì‚¬ìš©ë˜ê¸°ë„ í•˜ê³ , ë·°ì— ì¶œë ¥ë˜ê¸°ë„ í•œë‹¤. ë˜í•œ ì´ ëª¨ë¸ì€ ì•„ì£¼ ì—¬ëŸ¬ê³³ì„ ê±°ì³ê°€ë©° ë§Œë“¤ì–´ì§€ê³ , ë³€í˜•ëœë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ëª¨ë¸ì˜ ì‚¬ì´í´ì— ëŒ€í•œ ì§€ì‹ì€ ìŠ¤í”„ë§ MVCë¥¼ ì‚¬ìš©í•  ë–„ ê°€ì¥ ì¤‘ìš”í•˜ë‹¤ê³  í•  ìˆ˜ ìˆë‹¤. HTTP ìš”ì²­ì—ì„œ ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì„œë“œê¹Œì§€ ì™¼ìª½ì—ì„œ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ë³´ë©´ ëœë‹¤. ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì„œë“œì—ì„œ ë·°ê¹Œì§€ ì˜¤ë¥¸ìª½ì—ì„œ ì™¼ìª½ìœ¼ë¡œ ë³´ë©´ ëœë‹¤. ëª¨ë¸ì˜ ìƒì„±, ë³€í˜•, ì‚¬ìš©ì´ í•œëˆˆì— ë³¼ ìˆ˜ ìˆê²Œ ì˜ í‘œì‹œë˜ì–´ ìˆë‹¤. From]]></content>
      <categories>
        <category>spring</category>
      </categories>
      <tags>
        <tag>@ModelAttribute</tag>
        <tag>í† ë¹„ì˜ ìŠ¤í”„ë§</tag>
        <tag>í”„ë¡œí¼í‹° ë°”ì¸ë”©</tag>
        <tag>PropertyEditor</tag>
        <tag>Converter</tag>
        <tag>Formatter</tag>
        <tag>WebDataBinder</tag>
        <tag>Validator</tag>
        <tag>BindingResult</tag>
        <tag>Errors</tag>
        <tag>ëª¨ë¸ ì‚¬ì´í´</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[db] mysql index]]></title>
    <url>%2Fdb%2Fmysql-index%2F</url>
    <content type="text"><![CDATA[ìˆœì°¨ IO / ëœë¤ IO ê¸°ë³¸ì ìœ¼ë¡œ í•˜ë“œëŠ” ë°ì´í„°ë¥¼ ì½ì„ë•Œ ì›íŒ í”Œë˜í„°ë¥¼ íšŒì „ì‹œí‚¤ë©° ë°ì´í„°ë¥¼ ì°¾ëŠ”ë‹¤. ìˆœì°¨ IOë€ ì‹œì‘ìœ„ì¹˜ì— ê°„ ë’¤ ì­‰ ì½ì–´ì„œ ë°ì´í„°ë¥¼ ì°¾ëŠ” ê²ƒì„ ë§í•˜ê³ , ëœë¤ IOë€ ì—¬ëŸ¬ ìœ„ì¹˜ë¥¼ íƒìƒ‰í•´ì„œ ìµœì¢…ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì°¾ëŠ” ê²ƒì„ ë§í•œë‹¤. ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ì˜ ê²½ìš° ëœë¤ IO, í…Œì´ë¸” í’€ ìŠ¤ìº”ì˜ ê²½ìš° ìˆœì°¨ IOë¥¼ ì‚¬ìš©í•œë‹¤. ë³´ë‹¤ì‹œí”¼ ë‹¹ì—°íˆ ëœë¤ IOê°€ ìˆœì°¨ IO ë³´ë‹¤ ì„±ëŠ¥ì´ ë–¨ì–´ì§„ë‹¤. í•˜ì§€ë§Œ ì—¬ê¸°ì„œ SSDë¥¼ ì‚¬ìš©í•˜ë©´ ì–˜ê¸°ê°€ ë‹¬ë¼ì§„ë‹¤. SSDëŠ” HDDì™€ ë‹¬ë¦¬ í”Œë˜í„°ì— ë°ì´í„°ë¥¼ ê¸°ë¡í•˜ì§€ ì•Šê³ , í”Œë˜ì‹œ ë©”ëª¨ë¦¬ë¼ëŠ” ê²ƒì— ë°ì´í„°ë¥¼ ì €ì¥í•œë‹¤. ì´ëŠ” ì›íŒì„ ê¸°ê³„ì ìœ¼ë¡œ íšŒì „ì‹œí‚¬ í•„ìš”ê°€ ì—†ìœ¼ë¯€ë¡œ ë°ì´í„°ë¥¼ ë§¤ìš° ë¹ ë¥´ê²Œ ì°¾ì„ ìˆ˜ ìˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ DBMSìš© ìŠ¤í† ë¦¬ì§€ì—ëŠ” SSDê°€ ìµœì ì´ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤. ì¸ë±ìŠ¤ë€ ì±…ì„ ë°ì´í„°ì— ë¹„ìœ í•œë‹¤ë©´, ì¸ë±ìŠ¤ëŠ” ìƒ‰ì¸ì— ë¹„ìœ í•  ìˆ˜ ìˆë‹¤. ìƒ‰ì¸ì—ì„œ í‚¤ì›Œë“œì™€ í˜ì´ì§€ ë²ˆí˜¸ë¥¼ ìŒìœ¼ë¡œ ì—°ê²°í•´ë†“ì•˜ë“¯ì´, ì¸ë±ìŠ¤ ë˜í•œ ì¸ë±ìŠ¤ ì»¬ëŸ¼ ê°’ë“¤ê³¼ ë ˆì½”ë“œ ì£¼ì†Œë¥¼ í‚¤,ë²¨ë¥˜ í˜•íƒœì˜ ìŒìœ¼ë¡œ ì €ì¥í•´ë†“ì€ ê²ƒì„ ë§í•œë‹¤. ì¦‰ ë°ì´í„°ë¥¼ ê²€ìƒ‰ í•  ë•Œ ì¸ë±ìŠ¤ë¥¼ í†µí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì›í•˜ëŠ” ë ˆì½”ë“œì— ë¹ ë¥´ê²Œ ì ‘ê·¼ í•  ìˆ˜ ìˆë‹¤. ìë£Œêµ¬ì¡°ë¡œ ë¹„êµí•´ë´¤ì„ ë•Œ ì¸ë±ìŠ¤ëŠ” SortedList, ë°ì´í„° íŒŒì¼ì€ ArrayList ì´ë‹¤. ì¸ë±ìŠ¤ëŠ” í•­ìƒ ì •ë ¬ëœ ìƒíƒœë¡œ ìœ ì§€ë˜ê³ , ë°ì´í„° íŒŒì¼ì€ ë“¤ì–´ì˜¨ ìˆœì„œëŒ€ë¡œ ì €ì¥ëœë‹¤.(ì•ì´ ë¹„ì–´ì ¸ìˆì„ ê²½ìš° ì•ë¶€í„° ì±„ìš´ë‹¤) ì´ë¯¸ ì •ë ¬ëœ ìƒíƒœì´ë¯€ë¡œ ê²€ìƒ‰ì—ëŠ” ë§¤ìš° ë¹ ë¥´ë‚˜, ë°ì´í„°ê°€ ì¶”ê°€ë˜ê±°ë‚˜ ì‚­ì œë  ê²½ìš° ë‹¤ì‹œ ì •ë ¬í•´ì¤˜ì•¼ í•œë‹¤. ì¦‰ ë°ì´í„° ì¡°ì‘ì˜ ì„±ëŠ¥ì„ í¬ìƒí•˜ê³  ê²€ìƒ‰ì˜ ì†ë„ë¥¼ ë†’ì´ê³ ì í•  ê²½ìš° ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì¸ë±ìŠ¤ê°€ ë§ìœ¼ë©´ ë§ì„ìˆ˜ë¡ ë°ì´í„° ì¡°ì‘ì—ì„œ ë°œìƒí•˜ëŠ” ì˜¤ë²„í—¤ë“œê°€ ë§ìœ¼ë¯€ë¡œ, ì ì ˆí•˜ê²Œ ìƒì„±í•´ì•¼ í•œë‹¤. ì¸ë±ìŠ¤ë¥¼ ì—­í• ë¡œ ë¶„ë¥˜í–ˆì„ ë•Œ, primary keyì™€ secondary keyë¡œ ë¶„ë¥˜í•  ìˆ˜ ìˆë‹¤. primary keyëŠ” ì§€ì •ê³¼ ë™ì‹œì— ë°”ë¡œ ì¸ë±ìŠ¤ê°€ ìƒì„±ëœë‹¤. secondary keyëŠ” primary keyê°€ ì•„ë‹Œ ì¸ë±ìŠ¤ë“¤ì„ ì–˜ê¸°í•œë‹¤. unique keyì˜ ê²½ìš° primary keyì™€ ê±°ì˜ ë¹„ìŠ·í•˜ë¯€ë¡œ ëŒ€ì²´í‚¤ ë¼ê³ ë„ í•œë‹¤. ì¸ë±ìŠ¤ ì €ì¥ ë°©ì‹ìœ¼ë¡œ ë¶„ë¥˜í–ˆì„ ë•Œ, B-Tree ë°©ì‹(ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ë§ì´ ì“°ì„), í•´ì‹œ ë°©ì‹, Fractal ë°©ì‹ ë“±ì´ ìˆë‹¤. ì¸ë±ìŠ¤ë¥¼ ì¤‘ë³µ ì—¬ë¶€ë¡œ êµ¬ë¶„í–ˆì„ ë•Œ, ê°’ì´ ê³ ìœ í•œ ë°ì´í„°ë“¤ì— ëŒ€í•œ ì¸ë±ìŠ¤ì™€ ì¤‘ë³µëœ ê°’ì— ëŒ€í•œ ì¸ë±ìŠ¤ ë‘˜ ë‹¤ ìƒì„±í•  ìˆ˜ ìˆë‹¤. DBMS ì…ì¥ì—ì„œ ê°’ì´ ê³ ìœ í•˜ë‹¤ëŠ” ê²ƒì€ ê·¸ ë°ì´í„°ë¥¼ ì°¾ì•˜ì„ ê²½ìš° ë”ì´ìƒ íƒìƒ‰í•˜ì§€ ì•Šì•„ë„ ëœë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•˜ë¯€ë¡œ, ì„±ëŠ¥ ë¶€ë¶„ì—ì„œ ë§¤ìš° ìœ ë¦¬í•˜ë‹¤. B-Tree ì¸ë±ìŠ¤ ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì¸ë±ìŠ¤ ì €ì¥ ìë£Œêµ¬ì¡°. ì»¬ëŸ¼ì˜ ê°’ì„ ì•„ë¬´ëŸ° ë³€í˜•ì—†ì´ ì €ì¥í•œë‹¤. êµ¬ì¡° ìµœìƒë‹¨ì˜ ë£¨íŠ¸ ë…¸ë“œ, ìµœí•˜ë‹¨ì˜ ë¦¬í”„ ë…¸ë“œ, ê·¸ ë‘˜ì„ ì‡ëŠ” ì—¬ëŸ¬ê°œì˜ ë¸ŒëŸ°ì¹˜ ë…¸ë“œë“¤ì´ ìˆë‹¤.(ì €ì¥ëœ ë°ì´í„°ê°€ ì‘ì„ ê²½ìš° ë¸ŒëŸ°ì¹˜ ë…¸ë“œëŠ” ì—†ì„ ìˆ˜ ìˆë‹¤. ë£¨íŠ¸ë‘ ë¦¬í”„ë…¸ë“œëŠ” í•­ìƒ ì¡´ì¬í•œë‹¤.) ë£¨íŠ¸ ë…¸ë“œë“¤ì€ ê°ê° ìì‹ ë…¸ë“œë“¤ì˜ ì£¼ì†Œë¥¼ ê°€ì§€ê³ , ìµœí•˜ë‹¨ ë¦¬í”„ë…¸ë“œëŠ” ì €ì¥ëœ ë ˆì½”ë“œì˜ ì£¼ì†Œë¥¼ ê°€ì§„ë‹¤. ì¸ë±ìŠ¤ í‚¤ ì¶”ê°€ ë° ì‚­ì œ ì¶”ê°€ í…Œì´ë¸”ì— ë ˆì½”ë“œë¥¼ ì¶”ê°€í•˜ê²Œ ë˜ë©´ í‚¤ ê°’ì„ ì´ìš©í•´ ë“¤ì–´ê°ˆ ë¦¬í”„ë…¸ë“œì˜ ìœ„ì¹˜ë¥¼ ì°¾ê³ , ì¶”ê°€í•œë‹¤. ë§Œì•½ ë¦¬í”„ë…¸ë“œì— ë” ì´ìƒ ë“¤ì–´ê°ˆ ê³µê°„ì´ ì—†ìœ¼ë©´ ë¦¬í”„ë…¸ë“œë¥¼ í•˜ë‚˜ ë” ì¶”ê°€í•˜ê²Œ ë˜ëŠ”ë°, ì—¬ê¸°ì„œ ìƒìœ„ ë¦¬í”„ë…¸ë“œ ë˜í•œ ì¡°ì •ë˜ì–´ì•¼ í•œë‹¤. ì´ëŸ¬í•œ ì´ìœ  ë•Œë¬¸ì— B-Tree ì¸ë±ìŠ¤ì—ì„œëŠ” ë°ì´í„°ì˜ ì¶”ê°€ ì‘ì—… ë¹„ìš©ì´ ë†’ë‹¤. MyISAMì´ë‚˜ Memory DBì˜ ê²½ìš° ë ˆì½”ë“œ ì¶”ê°€ -&gt; ì¸ë±ìŠ¤ ì¶”ê°€ì˜ ì‘ì—…ì´ ë°”ë¡œë°”ë¡œ ì´ë¤„ì§€ë¯€ë¡œ ì¸ë±ìŠ¤ì— ë°ì´í„°ê°€ ë“¤ì–´ê°€ê¸° ì „ê¹Œì§€ ì‚¬ìš©ìëŠ” ê²°ê³¼ë¥¼ ë°›ì§€ ëª»í•œë‹¤. ì´ì— ë¹„í•´ InnoDBëŠ” ì´ë¥¼ ì¢€ ë” ìœ ì—°í•˜ê²Œ ì²˜ë¦¬í•œë‹¤. ë ˆì½”ë“œê°€ ì¶”ê°€ë˜ì—ˆì„ ë•Œ ë¦¬í”„ë…¸ë“œì— ë“¤ì–´ê°ˆ ê³µê°„ì´ ë‚¨ì•˜ì„ ê²½ìš° ë°”ë¡œ ì¶”ê°€í•˜ê³ , ê³µê°„ì´ ì—†ì„ ê²½ìš° ì¸ì„œíŠ¸ ë²„í¼ë¼ëŠ” ê³³ì— ë”°ë¡œ ì €ì¥í•´ë‘”ë‹¤. ì´í›„ ë°±ê·¸ë¼ìš´ë“œ í”„ë¡œì„¸ìŠ¤ì—ì„œ ì¸ë±ìŠ¤ë¥¼ ì½ì„ë•Œë‚˜ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì˜ ìì›ì´ ì—¬ìœ ë¡œìš¸ ê²½ìš° ì¸ì„œíŠ¸ ë²„í¼ ìŠ¤ë ˆë“œì—ì„œ ì¸ì„œíŠ¸ ë²„í¼ë¥¼ ì²´í¬í•œ ë’¤ ì¸ë±ìŠ¤ì— ë¨¸ì§€í•œë‹¤. ì¤‘ìš”í•œ ê²ƒì€ ì‚¬ìš©ìê°€ ì´ ì‘ì—…ì„ ì¸ì§€í•˜ì§€ ì•Šì•„ë„ ë˜ê²Œë” íˆ¬ëª…í•˜ê²Œ ì²˜ë¦¬ëœë‹¤ëŠ” ê²ƒì´ë‹¤. ì‚­ì œ ë ˆì½”ë“œê°€ ì‚­ì œë˜ë©´ ê·¸ì— í•´ë‹¹í•˜ëŠ” ì¸ë±ìŠ¤ì— ì‚­ì œë§ˆí¬ë¥¼ í‘œì‹œí•œë‹¤. ì´í›„ ì €ì¥ë˜ëŠ” ë ˆì½”ë“œëŠ” ë§ˆì§€ë§‰ ë¦¬í”„ë…¸ë“œ ë’¤ì— ë¶™ì„ìˆ˜ë„ ìˆê³ , ì‚­ì œë§ˆí¬ëœ ë¶€ë¶„ì„ ì¬í™œìš©í•˜ì—¬ ì¸ì„œíŠ¸ ë  ìˆ˜ë„ ìˆë‹¤. ì‚­ì œë§ˆí¬ë¥¼ í‘œì‹œí•˜ëŠ” ì‘ì—…ë„ ì¸ì„œíŠ¸ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ë²„í¼ë¥¼ ì´ìš©í•´ ì§€ì—° ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤(MySql 5.5ë¶€í„°) ë³€ê²½ ì¸ë±ìŠ¤ í‚¤ ê°’ì— ë”°ë¼ ì¸ë±ìŠ¤ê°€ ë“¤ì–´ê°ˆ ë¦¬í”„ë…¸ë“œì˜ ìœ„ì¹˜ê°€ ì •í•´ì§€ë¯€ë¡œ, ë³€ê²½ì€ ë¶ˆê°€ëŠ¥í•˜ê³  ì‚­ì œ -&gt; ì¶”ê°€ì˜ ì‘ì—…ìœ¼ë¡œ ì§„í–‰ëœë‹¤. ì‘ì—… ë°©ì‹ì€ ìœ„ì˜ ì‚­ì œ, ì¶”ê°€ ë°©ì‹ê³¼ ë™ì¼í•˜ë‹¤. ê²€ìƒ‰ ë™ë“±ì—°ì‚°, ë²”ìœ„ì—°ì‚°, Like(ê²€ìƒ‰ì–´%) ì—°ì‚°ì—ì„œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë¶€ì •ì—°ì‚°, Like(%ê²€ìƒ‰ì–´)ì—ì„œëŠ” ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ë˜í•œ ì¸ë±ìŠ¤ í‚¤ ê°’ì— ë³€í˜•ì´ ì¼ì–´ë‚œ ê²½ìš°(ì—°ì‚°, í˜•ë³€í™˜)ì—ë„ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•œ ë¹ ë¥¸ ê²€ìƒ‰ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤. ì¸ë±ìŠ¤ ì‚¬ìš©ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ìš”ì†Œ ê¸°ë³¸ì ìœ¼ë¡œ MySqlì—ì„œëŠ” ë°ì´í„°ì˜ ì €ì¥ ê³µê°„ì— í˜ì´ì§€ë¼ëŠ” ìµœì†Œ ë‹¨ìœ„ë¥¼ ì‚¬ìš©í•œë‹¤. ì¸ë±ìŠ¤ì˜ ê° ë…¸ë“œë“¤ë„ í•˜ë‚˜ì˜ í˜ì´ì§€ë¡œ ë³¼ ìˆ˜ ìˆë‹¤. MySqlì—ì„œ í˜ì´ì§€ì˜ ê¸°ë³¸ ë‹¨ìœ„ëŠ” 16KBì´ë‹¤. ë³€ê²½í•˜ë ¤ë©´ ì†ŒìŠ¤ë¥¼ ìˆ˜ì •í•˜ê³  ì»´íŒŒì¼í•´ì•¼ í•œë‹¤. ì¸ë±ìŠ¤ í‚¤ ê°’ì˜ í¬ê¸° ì¸ë±ìŠ¤ í‚¤ ê°’ì˜ í¬ê¸°ê°€ ì»¤ì§€ë©´ ìì—°ìŠ¤ëŸ½ê²Œ í•˜ë‚˜ì˜ ë¦¬í”„ ë…¸ë“œ(í˜ì´ì§€)ì— ë“¤ì–´ê°ˆ ìˆ˜ ìˆëŠ” ë°ì´í„°ì˜ ê°œìˆ˜ê°€ ì‘ì•„ì§„ë‹¤. ë§Œì•½ ì¸ë±ìŠ¤ í‚¤ ê°’ì˜ í¬ê¸°ê°€ 16ë°”ì´íŠ¸ì´ê³ , ì €ì¥ëœ ì£¼ì†Œê°’ì˜ í¬ê¸°ê°€ 12ë°”ì´íŠ¸ ì •ë„ë¼ê³  í•˜ì. ì´ëŸ´ ê²½ìš° í•˜ë‚˜ì˜ ë¦¬í”„ ë…¸ë“œì— ë“¤ì–´ê°ˆ ìˆ˜ ìˆëŠ” ë°ì´í„°ì˜ ê°œìˆ˜ëŠ” (16+12)/16KB í•´ì„œ 585ê°œê°€ ëœë‹¤. ê·¸ë¦¬ê³  ë§Œì•½ ì¸ë±ìŠ¤ í‚¤ ê°’ì˜ í¬ê¸°ê°€ 32ë°”ì´íŠ¸ë¼ë©´ (32+12)/16KB í•´ì„œ 372ê°œê°€ ëœë‹¤. ì´ëŸ° ìƒí™©ì—ì„œ ì¸ë±ìŠ¤ë¥¼ 500ê°œ ì½ì–´ì•¼ í•œë‹¤ê³  ê°€ì •í•´ë³´ë©´, ë¦¬í”„ë…¸ë“œ í•˜ë‚˜ë§Œ ì½ì–´ë„ ë˜ì—ˆì„ ê²ƒì„ ë¦¬í”„ë…¸ë“œë¥¼ 2ê°œì— ê±¸ì³ ì½ì–´ì•¼ í•˜ëŠ” ìƒí™©ì´ ë°œìƒí•œë‹¤. ì´ë¡œ ì¸í•´ ì¶”ê°€ì ì¸ I/Oê°€ ë°œìƒí•˜ê²Œ ë˜ê³ , ì†ë„ê°€ ëŠë ¤ì§€ê²Œ ëœë‹¤. ë…¸ë“œì˜ ê¹Šì´ ë§Œì•½ 2ì–µê°œì˜ ì¸ë±ìŠ¤ë¥¼ ì €ì¥í•´ì•¼ í•˜ëŠ” ìƒí™©ì´ ìˆë‹¤ê³  ê°€ì •í•´ë³´ì. ì¸ë±ìŠ¤ í‚¤ ê°’ì˜ í¬ê¸°ê°€ 16ë°”ì´íŠ¸ì¼ ê²½ìš° í•œ ë¦¬í”„ë‹¹ 585ê°œì˜ ë°ì´í„°ê°€ ì €ì¥ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— 585^3 = 200,201,625 ë¡œ 3depthë¡œ 2ì–µê°œì˜ ë ˆì½”ë“œì— ëŒ€í•œ ì¸ë±ìŠ¤ë¥¼ ì €ì¥ ê°€ëŠ¥í•˜ë‹¤. í•˜ì§€ë§Œ ë§Œì•½ 32ë°”ì´íŠ¸ì¼ ê²½ìš° í•œ ë¦¬í”„ë‹¹ 372ê°œë§Œ ì €ì¥ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— 372^3 = 51,478,848 ë°–ì— ì•ˆë˜ë¯€ë¡œ 3depthë¡œ ëª¨ë“  ì¸ë±ìŠ¤ë¥¼ ì €ì¥í•˜ì§€ ëª»í•˜ê³ , depthê°€ ê¹Šì–´ì§€ëŠ” ìƒí™©ì´ ë°œìƒí•œë‹¤. ë‹¹ì—°í•˜ê²Œë„ depthê°€ ê¹Šì–´ì§€ë©´ ê·¸ë§Œí¼ I/Oê°€ ëŠ˜ì–´ë‚˜ê²Œ ë˜ê³ , ì†ë„ê°€ ëŠë ¤ì§€ê²Œ ëœë‹¤. ì‹¤ì œë¡œ depthê°€ ì•„ë¬´ë¦¬ ê¹Šì–´ì ¸ë„ 4-5depthë¼ê³  í•œë‹¤. ì¸ë±ìŠ¤ í‚¤ ê°’ì˜ í¬ê¸°ë¥¼ ì‘ê²Œí•´ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ê°•ì¡°í•˜ê¸° ìœ„í•œ ì•½ê°„ ê·¹ë‹¨ì ì¸ ì˜ˆì‹œì˜€ë‹¤. ì„ íƒë„(ë¶„í¬ë„) ì¸ë±ìŠ¤ì— ê°’ì˜ ê·¸ë£¹ì´ ë§ì„ ê²½ìš° ë¶„í¬ë„ê°€ ì¢‹ë‹¤ê³  í•˜ê³ , ê°’ì˜ ê·¸ë£¹ì´ ì‘ì„ ê²½ìš° ë¶„í¬ë„ê°€ ë‚˜ì˜ë‹¤ê³  í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì„±ë³„ ê°™ì€ ê²½ìš° ê°’ì˜ ê·¸ë£¹ì´ ë‚¨,ì—¬ ë¿ì´ë¯€ë¡œ ë¶„í¬ë„ê°€ ìƒë‹¹íˆ ë‚˜ìœ í¸ì´ë‹¤. ì•„ë˜ê³¼ ê°™ì€ ìƒí™©ì´ ìˆë‹¤ê³  ê°€ì •í•´ë³´ì 1234-- index : ë‹¨ì¼ ì¸ë±ìŠ¤(country)-- ì‹¤í–‰í•  ì¿¼ë¦¬SELECT * FROM test_table WHERE country='KOREA' AND city='SEOUL'; í…Œì´ë¸”ì˜ ë°ì´í„°ëŠ” 10,000ê°œë¼ê³  ê°€ì •í•˜ê³ , country='KOREA' AND city='SEOUL'ì¸ ë ˆì½”ë“œê°€ 1ê±´ ë¿ì´ë¼ê³  ê°€ì •í•´ë³´ê² ë‹¤. ì €ì¥ëœ ë‚˜ë¼ê°€ ì´ 10ê°œë¿ì¼ ê²½ìš°(ë¶„í¬ë„ ë‚®ìŒ) countryê°€ KOREAì¸ ë°ì´í„° 1000ê°œë¥¼ ì¸ë±ìŠ¤ë¡œë¶€í„° ì½ì–´ì˜¨ ë’¤, ë°ì´í„°íŒŒì¼ì— ëœë¤ ì•¡ì„¸ìŠ¤ë¥¼ í•˜ë©° cityê°€ SEOULì¸ ë°ì´í„°ë¥¼ ì°¾ëŠ”ë‹¤. ì´ 999ê±´ì˜ ë¶ˆí•„ìš”í•œ ê²€ìƒ‰ì„ í•˜ê²Œ ëœë‹¤. ì €ì¥ëœ ë‚˜ë¼ê°€ ì´ 1,000ê°œì¼ ê²½ìš°(ë¶„í¬ë„ ë†’ìŒ) countryê°€ KOREAì¸ ë°ì´í„° 10ê°œë¥¼ ì¸ë±ìŠ¤ë¡œë¶€í„° ì½ì–´ì˜¨ ë’¤, ë°ì´í„°íŒŒì¼ì— ëœë¤ ì•¡ì„¸ìŠ¤ë¥¼ í•˜ë©° cityê°€ SEOULì¸ ë°ì´í„°ë¥¼ ì°¾ëŠ”ë‹¤. ì´ 9ê±´ì˜ ë¶ˆí•„ìš”í•œ ê²€ìƒ‰ì„ í•˜ê²Œ ëœë‹¤. ë³´ë‹¤ì‹œí”¼ 1ë²ˆê³¼ ê°™ì€ ì¸ë±ìŠ¤ëŠ” ì¢‹ì§€ ì•Šë‹¤ê³  í•  ìˆ˜ ìˆë‹¤. ì–´ì©Œí”¼ ëª¨ë“  ë°ì´í„° ìƒí™©ì— ë§ì¶œ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ë¶ˆí•„ìš”í•œ ê²€ìƒ‰ì„ 0ê±´ìœ¼ë¡œ ë§Œë“œëŠ” ê²ƒì€ ê±°ì˜ ë¶ˆê°€ëŠ¥í•˜ë‹¤. ê·¸ë˜ë„ ìµœëŒ€í•œ 2ë²ˆ ì¸ë±ìŠ¤ì²˜ëŸ¼ ê²€ìƒ‰í•˜ì—¬ ë‚­ë¹„ë¥¼ ìµœì†Œí™” í•˜ë„ë¡ í•´ì•¼ í•œë‹¤. ì½ì–´ì•¼ í•˜ëŠ” ë°ì´í„°ì˜ ì–‘ ì¼ë°˜ì ìœ¼ë¡œ ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ ë ˆì½”ë“œë¥¼ ì½ëŠ” í–‰ìœ„ê°€ ë ˆì½”ë“œë¥¼ ì§ì ‘ ì½ëŠ” í–‰ìœ„ì— ë¹„í•´ 3-4ë°° ì •ë„ ë¹„ìš©ì´ í¬ë‹¤ê³  ì‚°ì •í•œë‹¤. ì¸ë±ìŠ¤ì˜ ë¦¬í”„ ë…¸ë“œê¹Œì§€ ê°€ì„œ ë ˆì½”ë“œì˜ ì£¼ì†Œë¥¼ ì°¾ê³  ì´ ì£¼ì†Œë¡œ ë ˆì½”ë“œë¥¼ ì½ëŠ” ê³¼ì •ì—ì„œ ëœë¤ I/Oê°€ ë°œìƒí•˜ê¸° ë•Œë¬¸ì´ë‹¤. ì¸ë±ìŠ¤ëŠ” ê°ìì˜ ì •ë ¬ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ë˜ì–´ ìˆì§€ë§Œ ë°ì´í„° íŒŒì¼ì€ ê·¸ë ‡ì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤. (ì¸ë±ìŠ¤ë¥¼ í†µí•´ 3ê±´ì˜ ë°ì´í„°ë¥¼ ì°¾ì•˜ì„ ê²½ìš° ì´ 3ë²ˆì˜ ëœë¤ I/Oê°€ ë°œìƒí•˜ëŠ” ê²ƒì´ë‹¤.) ê·¸ë˜ì„œ í…Œì´ë¸” ì „ì²´ ë ˆì½”ë“œ ê°œìˆ˜ì˜ 20-25%ë¥¼ ë„˜ëŠ” ë°ì´í„°ë¥¼ ì¸ë±ìŠ¤ë¡œë¶€í„° ì½ì–´ì•¼ í•  ê²½ìš°ì— ì˜µí‹°ë§ˆì´ì €ëŠ” ê·¸ëƒ¥ í’€ í…Œì´ë¸” ìŠ¤ìº”ì„ ì‹œì „í•œë‹¤. (í’€ í…Œì´ë¸” ìŠ¤ìº”ì˜ ê²½ìš° ê·¸ëƒ¥ ìˆœì°¨ I/Oë¡œ ì½ì–´ë‚´ë¦¬ê¸° ë•Œë¬¸) ì—¬ê¸°ì„œ ê°•ì œë¡œ ì¸ë±ìŠ¤ë¥¼ íƒ€ê²Œ í•´ë´ì•¼ ì„±ëŠ¥ìƒ ë³„ë¡œ íš¨ê³¼ê°€ ì—†ë‹¤. ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•´ ë°ì´í„°ë¥¼ ì½ëŠ” ë²• ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº” ê°€ì¥ ë¹ ë¥¸ ìŠ¤ìº” ë°©ë²•ì´ë‹¤. ë™ì¼ ì—°ì‚°ìë¡œ í•˜ë‚˜ë§Œ ì½ìœ¼ë‚˜ ë²”ìœ„ ì—°ì‚°ìë¡œ ì—¬ëŸ¬ê°œë¥¼ ì½ìœ¼ë‚˜ ëª¨ë‘ ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ìœ¼ë¡œ ë¶„ë¥˜í•œë‹¤. ë£¨íŠ¸ ë…¸ë“œë¶€í„° ë¸Œëœì¹˜ ë…¸ë“œë¥¼ ë”°ë¼ ë¦¬í”„ ë…¸ë“œì˜ ë°ì´í„°(ë“¤)ë¥¼ ì½ëŠ” ë°©ì‹ì´ë‹¤. ì´ë¥¼ íƒìƒ‰í•œë‹¤ë¼ê³  í•œë‹¤. ì¸ë±ìŠ¤ í’€ ìŠ¤ìº” ì¸ë±ìŠ¤ë¥¼ ì²˜ìŒë¶€í„° ëê¹Œì§€ ë‹¤ ì½ëŠ” ë°©ì‹ì´ë‹¤. ì¸ë±ìŠ¤ì— ì €ì¥ëœ ë°ì´í„°ë§Œìœ¼ë¡œ ëª¨ë“  ê²ƒì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ê²½ìš°ì´ê±°ë‚˜, ë©€í‹°ì¸ë±ìŠ¤ì˜ ì¤‘ê°„ ê°’ ë¶€í„° ì¡°ê±´ì„ ì§€ì •í•˜ì˜€ì„ ê²½ìš° ë°œìƒí•œë‹¤. ë¦¬í”„ ë…¸ë“œì˜ ì²«ë²ˆì§¸ ë°ì´í„° ë¶€í„° ìˆœì°¨ì ìœ¼ë¡œ ì½ì–´ ë‚´ë ¤ê°€ë©°, í•˜ë‚˜ì˜ ë¦¬í”„ë…¸ë“œê°€ ëë‚¬ì„ ê²½ìš° í•´ë‹¹ ë¦¬í”„ë…¸ë“œì˜ ë§í¬ë“œë¦¬ìŠ¤íŠ¸ë¥¼ í†µí•´ ë‹¤ìŒ ë¦¬í”„ë…¸ë“œë¡œ ë„˜ì–´ê°€ ëê¹Œì§€ ì½ëŠ” ë°©ì‹ì´ë‹¤. ì¸ë±ìŠ¤ í’€ ìŠ¤ìº”ì€ ì¢‹ì€ ë°©ì‹ì´ ì•„ë‹ˆë‹¤. ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº” ë§ ê·¸ëŒ€ë¡œ ë£¨~ìŠ¤í•˜ê²Œ, ì¸ë±ìŠ¤ë¥¼ ë‹¤ ì½ì§€ì•Šê³  ë“¬ì„±ë“¬ì„± ì½ëŠ”ê²ƒì„ ë§í•œë‹¤. ì¤‘ê°„ë§ˆë‹¤ í•„ìš”ì¹˜ ì•Šì€ ì¸ë±ìŠ¤ í‚¤ ê°’ì„ ë¬´ì‹œí•˜ê³  ë‹¤ìŒìœ¼ë¡œ ë„˜ì–´ê°€ëŠ” í˜•íƒœë¡œ ì²˜ë¦¬í•œë‹¤. ì˜ˆë¥¼ ë“¤ë©´ ì•„ë˜ì™€ ê°™ì´ GROUP BY ì§‘í•© í•¨ìˆ˜ ê°€ìš´ë° MIN, MIXì— ëŒ€í•œ ìµœì í™”ë¥¼ í•  ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 123456-- index : ë³µí•© ì¸ë±ìŠ¤(dept_no, emp_no)SELECT dept_no, MIN(emp_no)FROM dept_empWHERE dept_no BETWEEN 'd002' AND 'd004'GROUP BY dept_no; ì¸ë±ìŠ¤ëŠ” ì´ë¯¸ dept_no, emp_no ì˜ ìˆœì„œë¡œ ì •ë ¬ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— emp_noì˜ MINê°’ì„ ì°¾ê³ ì í•  ê²½ìš° dept_no ì¸ë±ìŠ¤ì˜ ì²«ë²ˆì§¸ ì»¬ëŸ¼ë§Œì„ ì½ìœ¼ë©´ ëœë‹¤. ë‚˜ë¨¸ì§€ ì• ë“¤ì€ êµ³ì´ ì½ì„ í•„ìš”ê°€ ì—†ë‹¤. DISTINCTë„ ë£¨ìŠ¤ ì¸ë±ìŠ¤ ìŠ¤ìº”ì„ ì‚¬ìš©í•œë‹¤. ì²˜ìŒ í•œê±´ë§Œ ì½ìœ¼ë©´ ë˜ê¸° ë•Œë¬¸ì´ë‹¤. ë‹¤ì¤‘ ì»¬ëŸ¼ ì¸ë±ìŠ¤ ë³´í†µ 1ê°œì˜ ì»¬ëŸ¼ìœ¼ë¡œ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ê¸° ë³´ë‹¨ ì—¬ëŸ¬ê°œì˜ ì»¬ëŸ¼ìœ¼ë¡œ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤. ë‹¤ì¤‘ ì»¬ëŸ¼ìœ¼ë¡œ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•  ê²½ìš° ì¸ë±ìŠ¤ì˜ ìˆœì„œë¥¼ ì‹ ì¤‘í•˜ê²Œ ìƒê°í•´ì•¼ í•˜ëŠ”ë°, ì´ëŠ” ì¸ë±ìŠ¤ì˜ ì •ë ¬ì´ ìì‹ ì˜ ì• ì¸ë±ìŠ¤ì˜ ì •ë ¬ì— ì˜ì¡´í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ dept_noê³¼ emp_no ì»¬ëŸ¼ìœ¼ë¡œ ë‹¤ì¤‘ ì»¬ëŸ¼ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í–ˆë‹¤ê³  ê°€ì •í•´ë³´ì. ì´ë•Œ emp_noì˜ ê°’ì´ ì•„ë¬´ë¦¬ ë‚®ë”ë¼ë„, ì§ì§€ì–´ì§„ dept_noì˜ ê°’ì´ ë†’ì„ ê²½ìš° í•´ë‹¹ ë°ì´í„°ëŠ” ì¸ë±ìŠ¤ì˜ ì•„ë˜ìª½ì— ìŒ“ì´ê²Œ ëœë‹¤. ì²«ë²ˆì§¸ ì»¬ëŸ¼ì¸ dept_noì— ì˜ì¡´í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ì´ ë•Œë¬¸ì— ë‹¤ì¤‘ ì»¬ëŸ¼ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•  ë•Œì—ëŠ” ìˆœì„œì— ë§¤ìš° ì‹ ì¤‘í•´ì•¼ í•œë‹¤. ì¸ë±ìŠ¤ì˜ íš¨ìœ¨(ì†ë„)ì™€ ì—°ê´€ì´ ìˆê¸° ë•Œë¬¸. ì¸ë±ìŠ¤ ì •ë ¬ ë° ìŠ¤ìº” ë°©í–¥ í˜„ì¬ëŠ” ì–´ë–¤ì§€ ëª¨ë¥´ê³˜ìœ¼ë‚˜â€¦ MySQL 5.ëŒ€ë§Œ í•´ë„ ì¸ë±ìŠ¤ ìƒì„±ì‹œ ì •ë ¬ ê¸°ì¤€ì„ ì£¼ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥í–ˆë‹¤. 1CREATE INDEX idx_test ON test_table(col1 ASC, col2 DESC) ì´ë ‡ê²Œ ì‘ì„±í•´ë´ì•¼ ëª¨ë‘ ASCë¡œ ìƒì„±ëœë‹¤ëŠ” ëœ»ì´ë‹¤. í•œìª½ ì •ë ¬ì´ ì ìš©ëœ ë‹¤ì¤‘ ì»¬ëŸ¼ ì¸ë±ìŠ¤ë¥¼ ê°€ì§„ í…Œì´ë¸”ì—ì„œ ì»¬ëŸ¼ë§ˆë‹¤ ì •ë ¬ì„ ì§€ì •í•  ê²½ìš°, ì¶”ê°€ì ì¸ ì •ë ¬ì´ ì¼ì–´ë‚˜ê¸° ë•Œë¬¸ì— ì ˆëŒ€ ë¹ ë¥´ê²Œ ì²˜ë¦¬ë  ìˆ˜ ì—†ë‹¤. ì´ì™€ ê°™ì€ ìƒí™©ì—ì„œ ìœ„ì™€ ê°™ì´ ì¸ë±ìŠ¤ë¥¼ ì²˜ë¦¬í•˜ëŠ”ê²Œ ì œì¼ ì¢‹ê¸´í•˜ë‚˜â€¦ ì•ˆëœë‹¤. ê·¸ë˜ì„œ ì—­ ê°’ì„ ì¤˜ì„œ ìœ„ì˜ ì²˜ë¦¬ê°€ ë™ì‘í•˜ê²Œ í•˜ëŠ” ë°©ì‹ì„ ì‚¬ìš©í•˜ê³¤ í•œë‹¤.(col2ì˜ ê°’ì„ ì „ë¶€ -ë¡œ ì„¸íŒ…) MySQL ì˜µí‹°ë§ˆì´ì €ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ASC, DESCì— ëŒ€í•œ ê°œë…ì´ ìˆë‹¤. ASCë¡œ ìš”ì²­í•  ë•Œì—ëŠ” ì¸ë±ìŠ¤ì˜ ìµœì†Œê°’(ìœ„)ë¶€í„° ì°¨ë¡€ë¡œ ì½ìœ¼ë©´ ëœë‹¤ëŠ” ê²ƒì„ ì•Œê³ , DESCë¡œ ìš”ì²­í•  ë•Œì—ëŠ” ì¸ë±ìŠ¤ì˜ ìµœëŒ€ê°’(ì•„ë˜)ë¶€í„° ì°¨ë¡€ë¡œ ì½ìœ¼ë©´ ëœë‹¤ëŠ” ê²ƒì„ ì•Œê³  ìˆë‹¤. ì´ëŸ¬í•œ íŠ¹ì„± ë•Œë¬¸ì— ìš°ë¦¬ëŠ” ì •ë ¬ì„ ê³µì§œë¡œ ì–»ì„ ìˆ˜ ìˆë‹¤! íš¨ìœ¨ì„± ë° ê°€ìš©ì„± ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ì´ ë¶ˆê°€ëŠ¥í•œ ê²½ìš° ê¸°ë³¸ì ìœ¼ë¡œ B-TreeëŠ” ì™¼ìª½ì˜ ë°ì´í„°ì— ì˜ì¡´í•˜ëŠ” ë°©ì‹ì´ë‹¤. ë£¨íŠ¸ ë…¸ë“œë¶€í„° í•´ì„œ ì—¬ëŸ¬ depthë¥¼ ê±°ì³ ë¦¬í”„ ë…¸ë“œë¥¼ ì°¾ëŠ” ë°©ì‹ë„ ê²°êµ­ ì™¼ìª½ì˜ ì •ë ¬ ê¸°ì¤€ì— ì˜ì¡´í•˜ëŠ” ê²ƒì´ê³ , ë‹¤ì¤‘ ì»¬ëŸ¼ì—ì„œ ì¸ë±ìŠ¤ì˜ ì €ì¥ êµ¬ì¡°ë¥¼ ë³´ì•˜ì„ ë•Œë„ ê²°êµ­ ì™¼ìª½ì˜ ì •ë ¬ ê¸°ì¤€ì— ì˜ì¡´í•˜ëŠ” ê²ƒì´ë‹¤.(Në²ˆì§¸ ì»¬ëŸ¼ì€ N-1ë²ˆì§¸ ì»¬ëŸ¼ì˜ ì •ë ¬ê¸°ì¤€ì— ì˜ì¡´í•œë‹¤ëŠ” ì •ì˜) ì´ëŸ° ìƒí™©ì—ì„œ ì™¼ìª½ì˜ ê¸°ì¤€ì´ ë¶ˆëª…í™•í•  ê²½ìš°, ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ì´ ë¶ˆê°€ëŠ¥í•´ì§„ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì•„ë˜ì™€ ê°™ì€ ì¿¼ë¦¬ê°€ ìˆë‹¤ê³  í•˜ì. (ì¸ë±ìŠ¤ = firstname) 1SELECT * FROM employees WHERE first_name LIKE '%mer'; ì™¼ìª½ ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ íŠ¸ë¦¬ë¥¼ í˜•ì„±í•˜ëŠ” B-Tree ì¸ë±ìŠ¤ì¸ë°, ìœ„ì˜ ì¡°ê±´ì€ ë¬¸ìì—´ì˜ ì™¼ìª½ê°’ì´ ì •í•´ì§€ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ ì¸ë±ìŠ¤ë¥¼ í†µí•œ íƒìƒ‰ì´ ë¶ˆê°€ëŠ¥í•œ ì¿¼ë¦¬ì´ë‹¤. ì‹¤ì œë¡œ ëŒë ¤ë³´ë©´ í…Œì´ë¸” í’€ ìŠ¤ìº”ì„ í•œë‹¤. ì´ë²ˆì—ëŠ” ë‹¤ì¤‘ì»¬ëŸ¼ ì¸ë±ìŠ¤ì´ë‹¤. (ì¸ë±ìŠ¤ = dept_no, emp_no) 1SELECT * FROM dept_emp WHERE emp_no &gt;= '11444'; ì´ ë˜í•œ dept_noì„ ê¸°ì¤€ìœ¼ë¡œ ì¸ë±ìŠ¤ê°€ ì •ë ¬ë˜ì–´ ìˆëŠ”ë° emp_no ë¶€í„° ì¡°íšŒí–ˆìœ¼ë¯€ë¡œ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•œë‹¤. ë£¨íŠ¸ ë…¸ë“œë¡œ ë“¤ì–´ê°ˆ ìˆ˜ ì¡°ì°¨ ì—†ê¸° ë•Œë¬¸ì´ë‹¤. ì‹¤ì œë¡œ ëŒë ¤ë³´ë©´ í…Œì´ë¸” í’€ ìŠ¤ìº”ì„ í•œë‹¤. ì¸ë±ìŠ¤ ì‚¬ìš© ë¶ˆê°€ ì¡°ê±´ ë¶€ì • ì—°ì‚°(!=, &lt;&gt;, NOT IN, NOT BETWEEN, IS NOT NULL) ìš°ì¸¡ ì¼ì¹˜ LIKE(LIKE %mer, LIKE _mer) ìŠ¤í† ì–´ë“œ í”„ë¡œì‹œì €ë¡œ ë¹„êµí•  ê²½ìš°(WHERE col1 = stored_procedure()) ê°’ì„ ê°•ì œë¡œ ë³€ê²½í–ˆì„ ê²½ìš°(WHERE SUBSTRING(col1, 1, 1) = â€˜Xâ€™) íƒ€ì…ì´ ë‹¬ë¼ ì»¬ëŸ¼ì— í˜•ë³€í™˜ì´ ì¼ì–´ë‚¬ì„ ê²½ìš°(WHERE ch_col1=1001) ì‘ì—… ê²°ì • ë²”ìœ„ ì¡°ê±´, ì²´í¬ ì¡°ê±´ ê°€ìš©ì„± dept_no, emp_no ìˆœì„œì˜ ì¸ë±ìŠ¤ì™€ emp_no, dept_no ìˆœì„œì˜ ì¸ë±ìŠ¤ê°€ ìˆê³ , ì•„ë˜ì™€ ê°™ì€ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•œë‹¤ê³  ê°€ì •í•´ë³´ì. 1SELECT * FROM dept_emp WHERE dept_no='d0002' AND emp_no &gt;= '11444'; ì²«ë²ˆì§¸ ì¸ë±ìŠ¤ì˜ ê²½ìš° dept_no, emp_noì˜ ìˆœì„œë¡œ ì •ë ¬ë˜ì–´ ì¸ë±ìŠ¤ì— ì €ì¥ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ë‹¨ê³„ì ìœ¼ë¡œ ì‘ì—…ì˜ ë²”ìœ„ë¥¼ ì¤„ì—¬ë‚˜ê°€ë©° ìŠ¤ìº”ì´ ê°€ëŠ¥í•˜ë‹¤. í•˜ì§€ë§Œ ë‘ë²ˆì§¸ ì¸ë±ìŠ¤ì˜ ê²½ìš° emp_no, dept_noì˜ ìˆœì„œë¡œ ì €ì¥ë˜ì–´ ìˆëŠ”ë°, emp_noì—ì„œ ë™ë“±ì¡°ê±´ì´ ì•„ë‹Œ ë²”ìœ„ ì¡°ê±´ì„ í•˜ê³  ìˆë‹¤. ì´ëŸ¬ë©´ ì´í›„ dept_noì€ ë²”ìœ„ ì¡°ê±´ìœ¼ë¡œ ê²€ìƒ‰ëœ ê²°ê³¼ì— ëŒ€í•´ ìì‹ ì˜ ì¡°ê±´ì´ ë§ëŠ”ì§€ ì•ˆ ë§ëŠ”ì§€ì˜ í•„í„° ì¡°ê±´ë°–ì— ìˆ˜í–‰í•˜ì§€ ëª»í•˜ê²Œ ëœë‹¤. ì¦‰, ì‘ì—…ì˜ ë²”ìœ„ë¥¼ ì¤„ì—¬ë‚˜ê°€ë©° ìŠ¤ìº”ì„ í•˜ì§€ ëª»í–ˆë‹¤. ìœ„ì˜ A ì²˜ëŸ¼ ì¡°ê±´ì„ ë” í•´ê°ˆìˆ˜ë¡ ì‘ì—…ì˜ ë²”ìœ„ë¥¼ ì¤„ì—¬ì£¼ëŠ” ì¡°ê±´ì„ ì‘ì—… ê²°ì • ë²”ìœ„ ì¡°ê±´ì´ë¼ê³  í•˜ê³ , ì˜¤ë¡œì§€ ê°€ì ¸ì˜¨ ë°ì´í„°ì—ì„œ í•´ë‹¹ ì¡°ê±´ì´ ë§ëŠ”ì§€ ì•ˆë§ëŠ”ì§€ë§Œì„ ì²´í¬í•˜ëŠ” ì¡°ê±´ì„ ì²´í¬ ì¡°ê±´ ì´ë¼ê³  í•œë‹¤. 123456789101112ì™œ ë²”ìœ„ ì—°ì‚°ì´ ë“¤ì–´ê°€ëŠ” ìˆœì‚°ë¶€í„° ì‘ì—… ë²”ìœ„ë¥¼ ì¢íˆì§€ ëª»í•˜ëŠ” ê²ƒì¼ê¹Œ? ìƒê°í•´ë´¤ëŠ”ë°.. a | b | c---------1 | 2 | 31 | 2 | 41 | 2 | 5...ì´ëŸ° í˜•íƒœì˜ ì¸ë±ìŠ¤ê°€ ìˆë‹¤ê³  í•  ë•Œ a,b,c ë¥¼ ì „ë¶€ ë™ë“±ì¡°ê±´ìœ¼ë¡œ ê²€ìƒ‰í•˜ë©´ 3ê°€ì§€ ê°’ì´ ì¼ì¹˜í•˜ëŠ” íŠ¹ì • ì¸ë±ìŠ¤ ë¡œìš°ë¥¼ ì„ íƒí•  ìˆ˜ ìˆì§€ë§Œ, cë¥¼ ë²”ìœ„ì¡°ê±´ìœ¼ë¡œ ê²€ìƒ‰í•˜ë©´ a,b ë§Œ ì¼ì¹˜í•˜ëŠ” ì¸ë±ìŠ¤ë¥¼ ë“¤ê³ ì˜¨ ë’¤ ë²”ìœ„ë¡œ ì­‰ ê¸ì–´ì˜¤ê¸° ë•Œë¬¸ì— íŠ¹ì • ì¸ë±ìŠ¤ ë¡œìš°ë¥¼ ì„ íƒí•˜ëŠ” ì‘ì—…ì´ ë¶ˆê°€ëŠ¥í•´ì§€ëŠ”ê²Œ ì•„ë‹Œê°€ ì‹¶ë‹¤ ì•„ë˜ì˜ ì¸ë±ìŠ¤ë¥¼ ë³´ê³  ì–´ë–»ê²Œ í•˜ë©´ ì‘ì—… ê²°ì • ë²”ìœ„ ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ì§€, ì–´ë–»ê²Œí•˜ë©´ ì‚¬ìš©í•˜ì§€ ëª»í•˜ëŠ”ì§€ ì‚´í´ë³´ì. 1CREATE INDEX idx_test ON test_table(col1, col2, col3, ... colN) ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í•  ê²½ìš° ì‘ì—… ê²°ì • ë²”ìœ„ ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©í•˜ì§€ ëª»í•œë‹¤. col1ì— ëŒ€í•œ ì¡°ê±´ì´ ì—†ëŠ” ê²½ìš° col1ì— ëŒ€í•œ ì¡°ê±´ì´ ìœ„ì— ì¸ë±ìŠ¤ ì‚¬ìš© ë¶ˆê°€ ì¡°ê±´ì— ë¶€í•©í•  ê²½ìš° ì¸ë±ìŠ¤ì˜ ì²« ì»¬ëŸ¼ì€ ë¬´ì¡°ê±´ ê²€ìƒ‰ë˜ì–´ì•¼ í•œë‹¤. ë£¨íŠ¸ ì¸ë±ìŠ¤ë¡œ ë“¤ì–´ê°ˆ í†µë¡œì´ê¸° ë•Œë¬¸ì´ë‹¤. ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í–ˆì„ ê²½ìš° ì‘ì—… ê²°ì • ë²”ìœ„ ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.(i = 2ì´ìƒ Nì´í•˜) col1ì— ëŒ€í•œ ì¡°ê±´ë¶€í„° coli-1ì— ëŒ€í•œ ì¡°ê±´ê¹Œì§€ ëª¨ë‘ ë™ë“± ì—°ì‚°ìœ¼ë¡œ ì—°ê²°ë˜ì—ˆì„ ê²½ìš° coliì— ëŒ€í•œ ì¡°ê±´ì´ ë²”ìœ„(&lt;,&gt;), ì¢Œì¸¡ ì¼ì¹˜ LIKE(ë¬¸ì%)ì¼ ê²½ìš° ìœ„ì˜ ë‘ ê°€ì§€ ì¡°ê±´ì´ ì„±ë¦½í•´ì•¼ í•œë‹¤. ë™ë“± ì¡°ê±´ìœ¼ë¡œ ì‹œì‘í•´ì„œ ë²”ìœ„ì¡°ê±´ì´ë‚˜ LIKE(ì¢Œì¸¡ ì¼ì¹˜) ì¡°ê±´ìœ¼ë¡œ ë“¤ì–´ê°€ëŠ” ê³³ ê¹Œì§€ê°€ ì‘ì—… ê²°ì • ë²”ìœ„ ì¡°ê±´ì´ë‹¤. ê·¸ ì´í›„ë¡œëŠ” ëª¨ë‘ ì²´í¬ ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤. â€» ë‹¤ì¤‘ ì»¬ëŸ¼ ì¸ë±ìŠ¤ ì‚¬ìš©ì‹œ WHERE ì¡°ê±´ì˜ ìˆœì„œëŠ” ìƒê´€ì—†ë‹¤.(whereì ˆì˜ ì‹¤í–‰ìˆœì„œì•¼ ì˜µí‹°ë§ˆì´ì €ì— ì˜í•´ ì ì ˆíˆ ì˜ íŒŒì‹±ëœë‹¤ëŠ”ê±¸ ë§í•˜ë ¤ëŠ” ë“¯) 12SELECT * FROM test_tableWHERE col1 = 'A' AND col2 = 'B' AND col3 &gt;= 100 AND col4 = 'D' AND col5 LIKE '%test'; (WHERE ì ˆì˜ ìˆœì„œë¥¼ ë°”ê¿”ë„ ê²°ê³¼ëŠ” ë™ì¼í•˜ë‹¤) ì¸ë±ìŠ¤ col1 ë¶€í„° í•˜ë‚˜ì”© íƒ€ê³  ê°€ë‹¤ê°€ col3 ì—ì„œ ë²”ìœ„ì¡°ê±´ì„ ë§Œë‚¨ìœ¼ë¡œì¨, ì´í›„ì˜ ê°’ë“¤ì€ ì²´í¬ ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©ë˜ê²Œ ëœë‹¤ col1 ~ col3 = ì‘ì—… ê²°ì • ë²”ìœ„ ì¡°ê±´, col4 ~ col5 = ì²´í¬ ì¡°ê±´ ì´ëŠ” ëª¨ë“  B-Treeì— ì ìš©ë˜ëŠ” ì¡°ê±´ì´ë¯€ë¡œ ë‹¤ë¥¸ RDBMSì—ì„œë„ ì ìš©í•  ìˆ˜ ìˆë‹¤.]]></content>
      <categories>
        <category>db</category>
      </categories>
      <tags>
        <tag>Real MySQL</tag>
        <tag>ì¸ë±ìŠ¤</tag>
        <tag>B-Tree</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[spring] @SessionAttributes, SessionStatus]]></title>
    <url>%2Fspring%2F%40SessionAttributes%2C-SessionStatus%2F</url>
    <content type="text"><![CDATA[ë¬¸ì œìƒí™© ì•„ë˜ëŠ” ê¸°ë³¸ì ì¸ íšŒì›ì •ë³´ ìˆ˜ì • ìƒ˜í”Œ ì½”ë“œì´ë‹¤. 1234567891011121314151617181920212223@Controllerpublic class UserController&#123; // ìˆ˜ì • í¼ @RequestMapping(value="/user/&#123;uid&#125;", method=RequestMethod.GET) public String modifyForm(@PathVariable Long uid, ModelMap modelMap)&#123; User user = userService.getUser(uid); modelMap.addAttribute("user", user); return "user/modify" &#125; // ìˆ˜ì • @RequestMapping(value="/user/&#123;uid&#125;", method=RequestMethod.POST) public String modify(@PathVariable Long uid, @ModelAttribute User user)&#123; userService.modify(user); return "user/modifySuccess" &#125;&#125; ìœ„ ì½”ë“œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë¬¸ì œê°€ ìˆë‹¤. ìˆ˜ì • í¼ì„ ì¶œë ¥í•˜ëŠ” ë©”ì„œë“œì—ì„œ uidë¡œ íšŒì›ì„ ì¡°íšŒí•˜ê³ , ê²°ê³¼ì¸ User ì˜¤ë¸Œì íŠ¸ë¥¼ ëª¨ë¸ë¡œ ë‚´ë¦°ë‹¤. ì—¬ê¸°ê¹Œì§„ ë¬¸ì œê°€ ì—†ë‹¤. ê·¸ëŸ¬ë‚˜ ì´í›„ì— ìˆ˜ì •ì„ í•˜ëŠ” ë¶€ë¶„ì—ì„œ ë¬¸ì œê°€ ë°œìƒí•œë‹¤. ì „ë‹¬ë°›ì€ User ì˜¤ë¸Œì íŠ¸ì—ì„œ ì‹¤ì œë¡œ ì‚¬ìš©ìê°€ ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” í•„ë“œëŠ” ì œí•œì ì´ë¼ëŠ” ê²ƒì´ë‹¤. íšŒì› ìˆ˜ì • í¼ì—ì„œëŠ” ìˆ˜ì •ì´ í•„ìš”í•œ ë¶€ë¶„ë§Œ input íƒœê·¸ë¡œ ì…ë ¥ì„ ë°›ê²Œë˜ê³ , ì´ë¡œ ì¸í•´ ìµœì¢…ì ìœ¼ë¡œ modify ë©”ì„œë“œë¥¼ í˜¸ì¶œ ì‹œ @ModelAttributeëŠ” ìˆ˜ì •ì´ í•„ìš”í•œ ë¶€ë¶„ë§Œ ê°’ì´ ì°¬, ë¶ˆì™„ì „í•œ User ì˜¤ë¸Œì íŠ¸ë¥¼ ë°›ê²Œ ëœë‹¤. ì´ ìƒíƒœì—ì„œ modify ë©”ì„œë“œë¥¼ ì‹¤í–‰í•  ê²½ìš° ê°’ì´ ì°¨ì§€ ì•Šì€ í”„ë¡œí¼í‹°ë“¤ë¡œ ì¸í•´ ì‹¤ì œ DB ë°ì´í„°ê°€ nullì´ë‚˜ 0ìœ¼ë¡œ ì—…ë°ì´íŠ¸ ë˜ëŠ” ì‹¬ê°í•œ ìƒí™©ì„ ì´ˆë˜í•˜ê²Œ ëœë‹¤. ì´ ìƒí™©ì—ì„œ ìƒê°í•  ìˆ˜ ìˆëŠ” í•´ê²°ë²•ì€ ëŒ€í‘œì ìœ¼ë¡œ 3ê°€ì§€ê°€ ìˆë‹¤. í•´ê²°ë²•1 - hidden í•„ë“œ ìˆ˜ì •í•˜ë©´ ì•ˆë˜ëŠ” ë°ì´í„°ëŠ” ëª¨ë‘ hidden í•„ë“œì— ë„£ì–´ì£¼ëŠ” ê²ƒì´ë‹¤. ì´ëŸ´ ê²½ìš° ì„œë²„ë¡œ ëª¨ë“  ê°’ì´ ì „ë‹¬ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ìœ„ì˜ ë¬¸ì œì ì€ í•´ê²°ëœë‹¤. 123&lt;input type="hidden" name="id" value="joont" /&gt;&lt;input type="hidden" name="level" value="3" /&gt;... í•˜ì§€ë§Œ ì´ëŠ” ë” í° ë¬¸ì œë¥¼ ì´ˆë˜í•  ìˆ˜ ìˆë‹¤. ì²«ì§¸ë¡œ ì´ ë°©ì‹ì€ ë°ì´í„° ë³´ì•ˆì— ë§¤ìš° ì‹¬ê°í•œ ë¬¸ì œë¥¼ ì´ˆë˜í•œë‹¤. hidden í•„ë“œì˜ ê°’ì€ ë§¤ìš° ê°„ë‹¨í•˜ê²Œ ì¡°ì‘ë  ìˆ˜ ìˆê¸° ë–„ë¬¸ì´ë‹¤. ì¡°ì‘ëœ ê°’ì€ ì„œë²„ì—ì„œ ê·¸ëŒ€ë¡œ ì—…ë°ì´íŠ¸ ë˜ê¸° ë•Œë¬¸ì— ì´ëŠ” ë§¤ìš° ì‹¬ê°í•œ ë¬¸ì œë¥¼ ì´ˆë˜í•  ìˆ˜ ìˆë‹¤. ë‘˜ì§¸ë¡œ ë„ë©”ì¸ ì˜¤ë¸Œì íŠ¸ê°€ ë³€ê²½ë  ë•Œ ë§ˆë‹¤ ë§¤ë²ˆ hidden í•„ë“œë„ ê´€ë¦¬í•´ì¤˜ì•¼ í•œë‹¤ëŠ” ì ì´ë‹¤. ê·¸ë¦¬ê³  í˜¹ì—¬ë‚˜ ì‹¤ìˆ˜ë¡œ hidden í•„ë“œë¥¼ í•˜ë‚˜ë¼ë„ ëˆ„ë½í•˜ê²Œ ëœë‹¤ë©´ ë˜ ë°ì´í„°ê°€ nullì´ë‚˜ 0ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë˜ëŠ” ìƒí™©ì´ ë°œìƒí•  ê²ƒì´ë‹¤. ì´ëŠ” í•´ê²°ë²•ì´ë¼ê³  ë³´ê¸°ì—ëŠ” ë¬´ë¦¬ê°€ ìˆì–´ ê¶Œì¥ë˜ì§€ ì•ŠëŠ” ë°©ì‹ì´ë‹¤. í•´ê²°ë²•2 - DB ì¡°íšŒ ì—…ë°ì´íŠ¸ ì „ DBì—ì„œ ë°ì´í„°ë¥¼ í•œë²ˆ ì½ì–´ì™€ ë„ë©”ì¸ ì˜¤ë¸Œì íŠ¸ì— ë¹ˆ í”„ë¡œí¼í‹°ê°€ ì—†ê²Œ í•˜ëŠ” ë°©ì‹ì´ë‹¤. 12345678910111213@RequestMapping(value="/user/&#123;uid&#125;", method=RequestMethod.POST)public String modify(@PathVariable Long uid, @ModelAttribute User formUser)&#123; User user = userService.getUser(uid); // ìˆ˜ì •í•  ì˜¤ë¸Œì íŠ¸ë§Œ ë°˜ì˜ user.setNickName(formUser.getNickName()); user.setEmail(formUser.getEmail()); userService.modify(originUser); return "user/modifySuccess"&#125; ê¸°ëŠ¥ìƒìœ¼ë¡œë§Œ ë³´ë©´ ì™„ë²½í•˜ë‚˜, ë§¤ submit ë§ˆë‹¤ DBì—ì„œ ë‹¤ì‹œ ë°ì´í„°ë¥¼ ì½ì–´ì™€ì•¼ í•˜ëŠ” ë¶€ë‹´ì´ ìˆë‹¤. ë˜í•œ ìˆ˜ì •í•  ì˜¤ë¸Œì íŠ¸ë¥¼ ì¼ì¼íˆ ì„¸íŒ…í•´ì¤˜ì•¼ í•˜ëŠ”ë°, ë²ˆê±°ë¡­ê³  ì‹¤ìˆ˜í•  ê°€ëŠ¥ì„±ì´ ìˆë‹¤. í•´ê²°ë²•3 - ê³„ì¸µê°„ ê°•í•œ ê²°í•© ê° ê³„ì¸µì˜ ì½”ë“œë¥¼ íŠ¹ì • ì‘ì—…ì„ ì¤‘ì‹¬ìœ¼ë¡œ ê¸´ë°€í•˜ê²Œ ê²°í•©ì‹œí‚¤ëŠ” ë°©ë²•ì´ë‹¤. ê°„ë‹¨í•˜ê²Œ ë§í•´ ê¸°ë³¸ì •ë³´ ìˆ˜ì •ì€ modifyDefault, íŒ¨ìŠ¤ì›Œë“œ ìˆ˜ì •ì€ modifyPassword, í”„ë¡œí•„ ì‚¬ì§„ ìˆ˜ì •ì€ modifyProfile ê³¼ ê°™ì´ ì‘ì„±í•˜ì—¬ í•„ìš”í•œ ë¶€ë¶„ë§Œ ì—…ë°ì´íŠ¸ ì¹˜ê²Œ í•˜ëŠ” ê²ƒì´ë‹¤. ì´ê²Œ ë‹¹ì¥ì€ í¸ë¦¬í• ì§€ ëª¨ë¥´ë‚˜, ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê·œëª¨ê°€ ì¡°ê¸ˆë§Œ ì»¤ì ¸ë„ ë‹¨ì ì´ ë“œëŸ¬ë‚œë‹¤. ê° ë©”ì„œë“œëŠ” ê°ê° ê±°ì˜ í•˜ë‚˜ì˜ í™”ë©´ì—ì„œë§Œ ì‚¬ìš©ë˜ê³ , ê° ë©”ì„œë“œì˜ ì¬ì‚¬ìš©ì„±ì´ ë–¨ì–´ì§„ë‹¤. ê²Œë‹¤ê°€ ë©”ì„œë“œë“¤ì„ ê° ê³„ì¸µë§ˆë‹¤ ì¨ì¤˜ì•¼ í•œë‹¤. ì´ëŸ¬ë©´ ì½”ë“œì˜ ì¤‘ë³µì´ ë°œìƒí•˜ê³  ìˆ˜ì •ì—ë„ ì·¨ì•½í•˜ë‹¤. ì´ëŸ¬ë‹¤ê°„ ì„œë¹„ìŠ¤ ê³„ì¸µê³¼ DAO ê³„ì¸µì„ êµ¬ë¶„í•˜ëŠ” ê²ƒë„ ì˜ë¯¸ê°€ ì—†ì–´ì§ˆì§€ë„ ëª¨ë¥¸ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì´ ë°©ì‹ì€ ê¶Œì¥ë˜ì§€ ì•ŠëŠ” ë°©ë²•ì´ë‹¤. ê°ì²´ì§€í–¥ì„±ì´ ë–¨ì–´ì§€ê³  ë°ì´í„° ì¤‘ì‹¬ìœ¼ë¡œ ì½”ë“œê°€ ì‘ì„±ë˜ê¸° ë•Œë¬¸ì´ë‹¤. ê° ê³„ì¸µì´ ì„œë¡œ ë…ë¦½ì ì´ì—¬ì•¼ ì¬ì‚¬ìš©ì„±ì´ ë†’ê³ , í™•ì¥ì´ë‚˜ ë³€ê²½ì—ë„ ìœ ì—°í•˜ê²Œ ëŒ€ì‘ì´ ê°€ëŠ¥í•˜ë‹¤. @SessionAttributes ìŠ¤í”„ë§ì—ì„  ìœ„ì™€ ê°™ì´ ìˆ˜ì • í¼ì„ ë‹¤ë£¨ëŠ” ìƒí™©ì—ì„œ ê¹”ë”í•œ í•´ê²°ë²•ì„ ì œê³µí•´ì£¼ëŠ”ë°, ë°”ë¡œ ì„¸ì…˜ì„ ì´ìš©í•˜ëŠ” ê²ƒì´ë‹¤. ìˆ˜ì •í¼ ì²˜ë¦¬ 123456789101112131415161718192021222324@Controller@SessionAttributes("user")public class UserController&#123; // ìˆ˜ì • í¼ @RequestMapping(value="/user/&#123;uid&#125;", method=RequestMethod.GET) public String modifyForm(@PathVariable Long uid, ModelMap modelMap)&#123; User user = userService.getUser(uid); modelMap.addAttribute("user", user); return "user/form" &#125; // ìˆ˜ì • @RequestMapping(value="/user/&#123;uid&#125;", method=RequestMethod.POST) public String modify(@PathVariable Long uid, @ModelAttribute User user)&#123; userService.modify(user); return "user/modifySuccess" &#125;&#125; ì¶”ê°€ëœê±´ ë‹¬ë‘ @SessionAttributes ì• ë…¸í…Œì´ì…˜ í•˜ë‚˜ì´ë‹¤. ê·¸ëŸ¬ë‚˜ ì´ ì• ë…¸í…Œì´ì…˜ìœ¼ë¡œ ì¸í•´ ì•ì˜ ëª¨ë“  ë¬¸ì œì ì´ í•´ê²°ë˜ì—ˆë‹¤. ì–´ë–»ê²Œ ë™ì‘í•˜ê¸¸ë˜ ê·¸ëŸ´ê¹Œ? @SessionAttributesê°€ ì œê³µí•´ì£¼ëŠ” ê¸°ëŠ¥ì€ 2ê°€ì§€ê°€ ìˆë‹¤. ì²«ì§¸ë¡œ ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ë©”ì„œë“œê°€ ìƒì„±í•˜ëŠ” ëª¨ë¸ì •ë³´ ì¤‘ì—ì„œ @SessionAttributesì— ì§€ì •í•œ ì´ë¦„ì— ë™ì¼í•œ ê²ƒì´ ìˆìœ¼ë©´ ì´ë¥¼ ì„¸ì…˜ì— ì €ì¥í•œë‹¤. ìœ„ì˜ ìƒí™©ì—ì„œëŠ” ìˆ˜ì •í¼(modifyForm)ì´ í˜¸ì¶œë  ë•Œ user ì˜¤ë¸Œì íŠ¸ê°€ ëª¨ë¸ì— ì €ì¥ë˜ëŠ” ë™ì‹œì— ì„¸ì…˜ì—ë„ ì €ì¥ëœë‹¤. ì§€ì •í•œ ì´ë¦„ì´ ë™ì¼í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ë‘˜ì§¸ë¡œ íŒŒë¼ë¯¸í„°ì— @ModelAttribute ì• ë…¸í…Œì´ì…˜ì´ ìˆì„ ë•Œ ì—¬ê¸° ì „ë‹¬í•  ì˜¤ë¸Œì íŠ¸ë¥¼ ì„¸ì…˜ì—ì„œ ê°€ì ¸ì˜¤ëŠ” ê²ƒì´ë‹¤. ì›ë˜ëŠ” íŒŒë¼ë¯¸í„°ì— @ModelAttributeê°€ ìˆìœ¼ë©´ ìƒˆ ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒì„±í•œ ë’¤ HTTP ìš”ì²­ íŒŒë¼ë¯¸í„°ë¥¼ ë°”ì¸ë”©í•œë‹¤. í•˜ì§€ë§Œ @SessionAttributesë¥¼ ì‚¬ìš©í–ˆì„ ê²½ìš°ëŠ” ë‹¤ë¥´ë‹¤. ìƒˆ ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒì„±í•˜ê¸° ì „ @SessionAttributesì— ì§€ì •ëœ ì´ë¦„ê³¼ @ModelAttribute íŒŒë¼ë¯¸í„°ì˜ ì´ë¦„ì„ ë¹„êµí•˜ì—¬ ë™ì¼í•  ê²½ìš° ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒˆë¡œ ìƒì„±í•˜ì§€ ì•Šê³  ì„¸ì…˜ì— ìˆëŠ” ì˜¤ë¸Œì íŠ¸ë¥¼ ì‚¬ìš©í•˜ê²Œ ëœë‹¤. (ì°¸ê³ ë¡œ ë¹„êµí•˜ëŠ” @ModelAttribute íŒŒë¼ë¯¸í„°ì˜ ì´ë¦„ì€ íƒ€ì…ì˜ ì´ë¦„ì´ë‹¤. User ì˜¤ë¸Œì íŠ¸ì¼ ê²½ìš° ì´ë¦„ì€ user ì´ë‹¤. ì¶©ëŒì´ ë°œìƒí•˜ì§€ ì•Šë„ë¡ ìœ ì˜í•´ì•¼ í•œë‹¤!) ì¦‰, ìˆ˜ì •í¼ì„ ê±°ì¹œ ë’¤ ìˆ˜ì •ì„ í•˜ê²Œë˜ë©´ ë¹„ì–´ìˆëŠ” í”„ë¡œí¼í‹°ê°€ í•˜ë‚˜ë„ ì—†ëŠ” ìƒíƒœë¡œ ìˆ˜ì •ì„ ì§„í–‰í•  ìˆ˜ ìˆê²Œ ë˜ëŠ” ê²ƒì´ë‹¤! ì´ë¡œì¸í•´ ì•ì„œ ê³ ë¯¼í–ˆë˜ ë¬¸ì œì ì´ ê¹”ë”í•˜ê²Œ í•´ê²°ë˜ì—ˆë‹¤. ì—­ì‹œ ëŒ€ë‹¨í•˜ë‹¤. ì•„ë˜ëŠ” @SessionAttributesë¥¼ ì‚¬ìš©í–ˆì„ë•Œì˜ íë¦„ì„ ê·¸ë¦¼ìœ¼ë¡œ ë‚˜íƒ€ë‚¸ ê²ƒì´ë‹¤. @SessionAttributesë¥¼ ì§€ì •í•œ í´ë˜ìŠ¤ë‚´ì˜ ëª¨ë“  ë©”ì„œë“œì˜ ëª¨ë¸ì— ì ìš©ë˜ë©°, í•˜ë‚˜ ì´ìƒì˜ ëª¨ë¸ì„ ì„¸ì…˜ì— ì €ì¥í•  ìˆ˜ ìˆë‹¤. ë“±ë¡í¼ ì²˜ë¦¬ @SessionAttributesì€ ìˆ˜ì •í¼ì™¸ì— ë“±ë¡í¼ì—ì„œë„ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë³´í†µ ìˆ˜ì •í¼ì˜ ê²½ìš° DBì—ì„œ ì¡°íšŒí•œ ê²°ê³¼ë¥¼ í¼ì— ë³´ì—¬ì¤˜ì•¼ í•˜ë¯€ë¡œ ë„ë©”ì¸ ì˜¤ë¸Œì íŠ¸ë¥¼ ìœ ì§€í•´ì•¼ í•˜ì§€ë§Œ, ë“±ë¡í¼ì˜ ê²½ìš° ê·¸ëŸ´ í•„ìš”ê°€ ì—†ë‹¤. ê·¸ë˜ì„œ ëŒ€ë¶€ë¶„, ì‚¬ìš©ìê°€ í¼ì„ submit í•  ë•Œ ë„ë©”ì¸ ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒˆë¡œ ë§Œë“¤ê²Œ í•œë‹¤. 1234567@RequestMapping(value="/user", method=RequestMethod.POST)public String save(@ModelAttribute User user)&#123; // User ì˜¤ë¸Œì íŠ¸ê°€ ìƒˆë¡œ ìƒì„±ëœë‹¤ userService.save(user); return "user/saveSuccess"&#125; í•˜ì§€ë§Œ ì´ëŸ´ ê²½ìš° ëª¨ë¸ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë“±ë¡í¼ê³¼, ëª¨ë¸ì„ ì‚¬ìš©í•˜ëŠ” ìˆ˜ì •í¼ìœ¼ë¡œ í¼ì„ ì´ 2ê°œë¥¼ ë§Œë“¤ì–´ì¤˜ì•¼ í•œë‹¤. ê²Œë‹¤ê°€ ë“±ë¡í¼ì˜ ê²½ìš° ëª¨ë¸ ì •ë³´ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ê²€ì¦ ë¡œì§ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆì„ ê²½ìš° ë“±ë¡ê³¼ ìˆ˜ì •ì„ ì™”ë‹¤ê°”ë‹¤ ê±°ë ¤ì•¼í•˜ëŠ” ê½¤ë‚˜â€¦ ì•„ë‹ˆ ë§¤ìš° ë²ˆê±°ë¡œìš´ ìƒí™©ì´ ë°œìƒí•œë‹¤. ì´ëŸ´ë°”ì—ëŠ” ì²˜ìŒë¶€í„° ì•„ì˜ˆ ëª¨ë¸ì„ ì‚¬ìš©í•˜ê²Œ í•˜ê³ , ë“±ë¡í¼ì—ëŠ” ë¹ˆ(empty) ì˜¤ë¸Œì íŠ¸ë¼ë„ ì¶œë ¥ì„ ì‹œì¼œì£¼ëŠ” í¸ì´ ë‚«ë‹¤. ì´ë ‡ê²Œ í•˜ë©´ í¼ì„ êµ³ì´ ë‘ê°œë¡œ ë¶„ë¦¬í•  í•„ìš”ë„ ì—†ì–´ì§„ë‹¤. ê·¸ë¦¬ê³  ì—¬ê¸°ë‹¤ê°€ @SessionAttributesë¥¼ ì´ìš©í•˜ì—¬ ë§¤ë²ˆ í¼ì´ ìƒˆë¡œ ìƒì„±ë˜ì§€ ì•Šë„ë¡ ì„¸ì…˜ì— ì €ì¥í•´ë‘ëŠ” ê²ƒì´ ì¢‹ë‹¤. 123456789101112131415@Controller@SessionAttributes("user")public class UserController&#123; @RequestMapping(value="/user/add", method=RequestMethod.GET) public String saveForm(ModelMap modelMap)&#123; User user = new User(); // ì´ëŸ°ì‹ìœ¼ë¡œ ê¸°ë³¸ê°’ì´ í•„ìš”í•œ ê²½ìš° ì§€ì •í•´ì¤„ ìˆ˜ ìˆë‹¤ user.setJoinDt(new Date()); modelMap.addAttribute("user", user); return "user/form"; // modifyFormê³¼ ë™ì¼í•œ í¼ ì‚¬ìš© &#125;&#125; SessionStatus @SessionAttributesë¥¼ ì‚¬ìš©í•´ ì„¸ì…˜ì— ì €ì¥í•œ ëª¨ë¸ì´ ë” ì´ìƒ í•„ìš”ì—†ì–´ì§ˆ ê²½ìš° ì„¸ì…˜ì—ì„œ ì œê±°í•´ì¤˜ì•¼ í•œë‹¤. ì„¸ì…˜ì˜ ì œê±° ì‹œì ì€ ìŠ¤í”„ë§ì´ ì•Œìˆ˜ì—†ìœ¼ë¯€ë¡œ ì´ë¥¼ ì œê±°í•˜ëŠ” ì±…ì„ì€ ì»¨íŠ¸ë¡¤ëŸ¬ì—ê²Œ ìˆë‹¤. ì„¸ì…˜ì˜ ê²½ìš° ì„œë²„ì˜ ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ í•„ìš”ì—†ëŠ” ì‹œì ì— ì œê±°í•´ì£¼ì§€ ì•Šìœ¼ë©´ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ê°€ ë°œìƒí•  ìˆ˜ ìˆê¸°ë•Œë¬¸ì— í•­ìƒ ë¹¼ë¨¹ì§€ ì•Šê³  ì œê±°í•´ì¤˜ì•¼ í•œë‹¤. ì„¸ì…˜ì˜ ì œê±°ëŠ” SessionStatus ì˜¤ë¸Œì íŠ¸ì˜ setComplete ë©”ì„œë“œë¡œ ì œê±°í•  ìˆ˜ ìˆë‹¤. 123456789101112@RequestMapping(value="/user/&#123;uid&#125;", method=RequestMethod.POST)public String modify(@PathVariable Long uid, @ModelAttribute User user, SessionStatus sessionStatus)&#123; userService.modify(user); // í˜„ì¬ ì»¨íŠ¸ë¡¤ëŸ¬ ì„¸ì…˜ì— ì €ì¥ëœ ëª¨ë“  ì •ë³´ë¥¼ ì œê±°í•´ì¤€ë‹¤. ê°œë³„ì ìœ¼ë¡œ ì œê±°í•  ìˆœ ì—†ë‹¤ sessionStatus.setComplete(); return "user/modifySuccess"&#125; ì—¬ê¸°ê¹Œì§€ê°€ @SessionAttributesë¥¼ ì´ìš©í•œ ìŠ¤í”„ë§ì˜ ì „í˜•ì ì¸ í¼ ì²˜ë¦¬ ë°©ì‹ì´ë‹¤. ê²‰ìœ¼ë¡œ ë³´ì—¬ì£¼ëŠ” ê²ƒ ì—†ì´ ì• ë…¸í…Œì´ì…˜ í•˜ë‚˜ë¡œë§Œ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì— ë™ì‘ë°©ì‹ì„ ì •í™•íˆ ì´í•´í•˜ê³  ìˆì–´ì•¼ í•œë‹¤. From]]></content>
      <categories>
        <category>spring</category>
      </categories>
      <tags>
        <tag>Session</tag>
        <tag>í† ë¹„ì˜ ìŠ¤í”„ë§</tag>
        <tag>@SessionAttributes</tag>
        <tag>SessionStatus</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[spring] @Controller]]></title>
    <url>%2Fspring%2F%40Controller%2F</url>
    <content type="text"><![CDATA[ì—¬ê¸°ì„œ ë§í•˜ëŠ” @Controllerë€ ë¹ˆ ìë™ ìŠ¤ìº”ì‹œ ì‚¬ìš©ë˜ëŠ” ìŠ¤í…Œë ˆì˜¤ íƒ€ì… ì• ë…¸í…Œì´ì…˜ì´ ì•„ë‹ˆë¼, ì• ë…¸í…Œì´ì…˜ì„ ì´ìš©í•´ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ê°œë°œí•˜ëŠ” ë°©ë²•ì„ ë§í•œë‹¤. ì¦‰, AnnotationMethodHandlerAdapterê°€ ì‹¤í–‰í•˜ëŠ” ê° ë©”ì„œë“œë“¤ì„ ì˜ë¯¸í•œë‹¤. íŒŒë¼ë¯¸í„° ê°œë°œìê°€ ëª…ì‹œí•œ ì• ë…¸í…Œì´ì…˜ê³¼ íŒŒë¼ë¯¸í„° íƒ€ì… ë“±ì— ë”°ë¼ AnnotationMethodHandlerAdapterê°€ ì ì ˆíˆ ë³€í™˜í•˜ì—¬ ì œê³µí•´ì¤Œ HttpServletRequest, HttpServletResponse, ServletRequest, ServletResponse ëŒ€ê²ŒëŠ” ì¢€ ë” ìƒì„¸í•œ íŒŒë¼ë¯¸í„° íƒ€ì…ì„ ì‚¬ìš©í•˜ë©´ ë˜ì§€ë§Œ, ì›í•œë‹¤ë©´ ì§ì ‘ HttpServletRequest, HttpServletResponse íƒ€ì…ì„ ë°›ì„ ìˆ˜ ìˆë‹¤. ServletRequest, ServletResponse íƒ€ì…ë„ ê°€ëŠ¥í•˜ë‹¤. HttpSession HttpServletRequestì—ì„œ ì–»ì„ ìˆ˜ ìˆëŠ” HttpSessionì„ ë°”ë¡œ ë°›ì„ ìˆ˜ ìˆë‹¤. HttpSessionì€ ë©€í‹°ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œ ì•ˆì „ì„±ì´ ë³´ì¥ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ì˜ synchronizeOnSession í”„ë¡œí¼í‹°ë¥¼ trueë¡œ ì¤˜ì•¼í•œë‹¤. Locale java.util.Locale íƒ€ì…ìœ¼ë¡œ DispatcherServletì˜ Locale Resolverê°€ ê²°ì •í•œ Locale ì˜¤ë¸Œì íŠ¸ë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤. InputStream, Reader HttpServletRequestì˜ getInputStream()ë¥¼ í†µí•´ ë°›ì„ ìˆ˜ ìˆëŠ” InputStreamê³¼, getReader()ë¥¼ í†µí•´ ë°›ì„ ìˆ˜ ìˆëŠ” Readerë¥¼ ë°”ë¡œ ë°›ì„ ìˆ˜ ìˆë‹¤. OutputStream, Writer HttpServletResponseì˜ getOutputStream()ë¥¼ í†µí•´ ë°›ì„ ìˆ˜ ìˆëŠ” OutputStreamê³¼, getWriter()ë¥¼ í†µí•´ ë°›ì„ ìˆ˜ ìˆëŠ” Writerë¥¼ ë°”ë¡œ ë°›ì„ ìˆ˜ ìˆë‹¤. @PathVariable @RequestMapping urlì— {}ë¡œ ë“¤ì–´ê°€ëŠ” íŒ¨ìŠ¤ ë³€ìˆ˜ë¥¼ ë°›ëŠ”ë‹¤. 1234@RequestMapping(value="/post/&#123;postNo&#125;")public String detail(@PathVariable("postNo") Integer postNo)&#123; // ...&#125; ì†ì„±ìœ¼ë¡œ ë°›ì„ íŒ¨ìŠ¤ ë³€ìˆ˜ì˜ ì´ë¦„ì„ ì§€ì •í•  ìˆ˜ ìˆìœ¼ë©°, ì „ë‹¬ë°›ì€ íŒ¨ìŠ¤ ë³€ìˆ˜ëŠ” ì„ ì–¸í•œ íŒŒë¼ë¯¸í„° íƒ€ì…ìœ¼ë¡œ í˜•ë³€í™˜ ëœë‹¤. ì¦‰, /post/10 ì´ë¼ê³  ìš”ì²­í•˜ê²Œ ë˜ë©´ postNo ë³€ìˆ˜ì— Integer íƒ€ì…ìœ¼ë¡œ í˜• ë³€í™˜ë˜ì–´ ë‹´ê¸°ê²Œ ëœë‹¤. ë§Œì•½ /post/notNumber ê³¼ ê°™ì€ í˜•íƒœë¡œ ìš”ì²­í•˜ì—¬ í˜•ë³€í™˜ì´ ë¶ˆê°€ëŠ¥ í•  ê²½ìš° 400 Bad Request ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤. @RequestParam HttpServletRequestì˜ getParameter()ë¡œ ë°›ì„ ìˆ˜ ìˆëŠ” íŒŒë¼ë¯¸í„°ë¥¼ ë°”ë¡œ ë°›ì„ ìˆ˜ ìˆë‹¤. ì „ë‹¬ë°›ì€ íŒŒë¼ë¯¸í„°ëŠ” ì„ ì–¸í•œ íŒŒë¼ë¯¸í„° íƒ€ì…ìœ¼ë¡œ ìë™ í˜• ë³€í™˜ëœë‹¤. ë˜í•œ í•„ìˆ˜ì—¬ë¶€, ë””í´íŠ¸ ê°’ ë“±ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. 12345// pageë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì „ë‹¬ëœ íŒŒë¼ë¯¸í„°ë¥¼ ë°›ì•„ Integer íƒ€ì…ìœ¼ë¡œ ë³€í™˜í•œë‹¤public String list(@RequestParam("page") Integer page)// í•„ìˆ˜ ì—¬ë¶€ì™€ ë””í´íŠ¸ ê°’ì„ ì¤„ ìˆ˜ ìˆë‹¤. í•„ìˆ˜ ì—¬ë¶€ëŠ” defaultê°€ trueì´ë‹¤. public String list(@RequestParam(value="page", required=false, defaultValue="1") Integer page) íŒŒë¼ë¯¸í„° íƒ€ì…ì„ Mapìœ¼ë¡œ ì„ ì–¸í•˜ë©´ ëª¨ë“  íŒŒë¼ë¯¸í„°ë¥¼ ë§µìœ¼ë¡œ ë°›ì„ ìˆ˜ ìˆë‹¤. 1public String list(@RequestParam Map&lt;String, String&gt; params) @CookieValue ì¿ í‚¤ê°’ì„ ë°›ì•„ì˜¬ ìˆ˜ ìˆë‹¤. ì†ì„±ìœ¼ë¡œ ì¿ í‚¤ì˜ ì´ë¦„ì„ ì§€ì •í•´ì£¼ë©´ ëœë‹¤. 123456// ì¿ í‚¤ nameì´ authì¸ ê²ƒì„ ê°€ì ¸ì˜¨ë‹¤public String list(@CookieValue("auth") String auth)// @RequestParamê³¼ ë§ˆì°¬ê°€ì§€ë¡œ í•„ìˆ˜ ì—¬ë¶€ì™€ ë””í´íŠ¸ ê°’ì„ ì¤„ ìˆ˜ ìˆë‹¤.// í•„ìˆ˜ ì—¬ë¶€ defaultëŠ” trueì´ë‹¤.public String list(@CookieValue(value="auth", required=false, defaultValue="NONE") String auth) @RequestHeader í—¤ë”ê°’ì„ ë°›ì•„ì˜¬ ìˆ˜ ìˆë‹¤. ì†ì„±ìœ¼ë¡œ í—¤ë”ì˜ ì´ë¦„ì„ ì§€ì •í•´ì£¼ë©´ ëœë‹¤. @RequestParam, @CookieValueì™€ ë§ˆì°¬ê°€ì§€ë¡œ required, defaultValueë¥¼ ì„¤ì •í•´ ì¤„ ìˆ˜ ìˆë‹¤. 1public String list(@RequestHeader("Host") String host) Model, ModelMap, Map ëª¨ë¸ ì •ë³´ë¥¼ ë‹´ì„ ìˆ˜ ìˆëŠ” Modelê³¼ ModelMap ê°ì²´ë¥¼ íŒŒë¼ë¯¸í„° ë ˆë²¨ì—ì„œ ë°”ë¡œ ë°›ì„ ìˆ˜ ìˆë‹¤. Mapë„ ì•ì— íŠ¹ë³„í•œ ì• ë…¸í…Œì´ì…˜ì´ ì—†ë‹¤ë©´ ëª¨ë¸ ì •ë³´ë¥¼ ë‹´ëŠ”ë° ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ê° ì ìœ¼ë¡œ ì¢€ í—·ê°ˆë¦°ë‹¤â€¦ ì•ˆì¨ì•¼ì§€ 123456public String list(ModelMap model)&#123; model.addAttribute("key", "value"); // collectionì— ë‹´ê¸´ ëª¨ë“  ì˜¤ë¸Œì íŠ¸ë¥¼ ëª¨ë¸ì— ì¶”ê°€í•  ìˆ˜ ìˆë‹¤(ìë™ ì´ë¦„ ìƒì„± ë°©ì‹ì„ í†µí•´) model.addAllAttribute(collection);&#125; @ModelAttribute ì´ë¦„ì— Modelì´ ë“¤ì–´ê°€ ìˆê¸´ í•˜ì§€ë§Œ ìš°ë¦¬ê°€ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ëª¨ë¸ê³¼ëŠ” ì¡°ê¸ˆ ì˜ë¯¸ê°€ ë‹¤ë¥´ë‹¤. ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë°›ëŠ” ìš”ì²­ì •ë³´ ì¤‘ì—ì„œ, í•˜ë‚˜ ì´ìƒì˜ ê°’ì„ ê°€ì§„ ì˜¤ë¸Œì íŠ¸ í˜•íƒœë¡œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ì •ë³´ë¥¼ @ModelAttribute ëª¨ë¸ì´ë¼ê³  ë¶€ë¥¸ë‹¤. @ModelAttributeë¼ê³  ë³„ë‹¤ë¥¼ ê±´ ì—†ë‹¤. ê¸°ì¡´ê³¼ ë˜‘ê°™ì´ íŒŒë¼ë¯¸í„°ë¥¼ ë°›ëŠ”ë°, ê·¸ê±¸ ë©”ì„œë“œì—ì„œ 1:1ë¡œ ë°›ìœ¼ë©´ @RequestParamì¸ê±°ê³  ë„ë©”ì¸ ì˜¤ë¸Œì íŠ¸ë‚˜ DTOì— ë°”ì¸ë”©í•´ì„œ ë°›ìœ¼ë©´ @ModelAttribute ì¸ ê²ƒì´ë‹¤. ì‚¬ìš©ìê°€ ë¦¬ìŠ¤íŠ¸ì—ì„œ ê²€ìƒ‰í•  ë–„ ì‚¬ìš©í•˜ëŠ” íŒŒë¼ë¯¸í„°ë¥¼ í•œë²ˆ ìƒê°í•´ ë³´ì. ê¸°ë³¸ì ìœ¼ë¡œ ì „ë‹¬ë  íŒŒë¼ë¯¸í„°ëŠ” ê²€ìƒ‰ í‚¤ì›Œë“œê² ê³ , ê·¸ ì™¸ì—ë„ ê²€ìƒ‰ íƒ€ì…, í˜ì´ì§€ ë²ˆí˜¸ ë“±ì´ ì „ë‹¬ ë  ìˆ˜ ìˆë‹¤. ì´ë¥¼ ê¸°ì¡´ì˜ @RequestParamìœ¼ë¡œ í‘œí˜„í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ ëœë‹¤. 1234567public String search( @RequestParam("q") String q, @RequestParam("type") String type, @RequestParam(value="page", required=false, defaultValue="1") Integer page)&#123; service.search(q, type, page);&#125; ì¼ë‹¨ ì„œë¹„ìŠ¤ ë©”ì„œë“œ ë¶€í„° ë¬¸ì œê°€ ìˆë‹¤â€¦ ì €ëŸ°ì‹ìœ¼ë¡œ íŒŒë¼ë¯¸í„°ë¥¼ ë‚˜ì—´í•  ê²½ìš° ë³€ê²½ì— ë§¤ìš° ì·¨ì•½í•˜ê²Œ ë˜ë©°, ê°™ì€ íƒ€ì…ì˜ íŒŒë¼ë¯¸í„°ê°€ ì—¬ëŸ¬ê°œë©´ ì‹¤ìˆ˜í•  ê°€ëŠ¥ì„±ì´ ë§¤ìš° ë†’ì•„ì§„ë‹¤. ì´ëŸ´ ê²½ìš°ì—ëŠ” ì•„ë˜ì™€ ê°™ì´ ì˜¤ë¸Œì íŠ¸ë¥¼ í•˜ë‚˜ ë§Œë“¤ì–´ ì „ë‹¬í•˜ëŠ” í¸ì´ ë‚«ë‹¤. 1234567public class Search&#123; private String q; private String type; private Integer page; // getter, setter&#125; ì„œë¹„ìŠ¤ ë©”ì„œë“œëŠ” ì´ ì˜¤ë¸Œì íŠ¸ë¥¼ ì‚¬ìš©í•˜ë©° í•´ê²°ì´ ê°€ëŠ¥í•œë°, ì˜¤ë¸Œì íŠ¸ë¥¼ ë§¤ë²ˆ ì´ˆê¸°í™” í•´ì¤˜ì•¼ í•œë‹¤ëŠ” ê·€ì°®ìŒì´ ë”°ë¥¸ë‹¤. ì´ëŸ´ë–„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ê²ƒì´ @ModelAttributeì´ë‹¤! 1234public String search(@ModelAttribute Search search)&#123; service.search(search);&#125; ì´ì œ ìš”ì²­ íŒŒë¼ë¯¸í„°ë“¤ì€ ìë™ìœ¼ë¡œ Search ì˜¤ë¸Œì íŠ¸ì— ë°”ì¸ë”© ë˜ì–´ ë“¤ì–´ì˜¤ê²Œ ëœë‹¤(íƒ€ì… ë³€í™˜ë„ ìë™ìœ¼ë¡œ ëœë‹¤). ì½”ë“œê°€ ë§¤ìš° ê¹”ë”í•´ì§€ê³  ìœ„ì—ì„œ ì–¸ê¸‰í•œ ë¬¸ì œì  ë˜í•œ ë‹¨ë²ˆì— í•´ê²°í•  ìˆ˜ ìˆë‹¤. @ModelAttributeëŠ” ìœ„ì™€ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ë„ ìˆì§€ë§Œ ë³´í†µì€ í¼ì˜ ë°ì´í„°ë¥¼ ë°›ì„ ë•Œ í›¨ì”¬ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ê²Œë‹¤ê°€ @ModelAttributeì˜ ê¸°ëŠ¥ì¤‘ì— í•˜ë‚˜ê°€ ì „ë‹¬ë°›ìŒê³¼ ë™ì‹œì— ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë¦¬í„´í•˜ëŠ” ëª¨ë¸ì— ìë™ìœ¼ë¡œ ì¶”ê°€í•´ì¤€ë‹¤ëŠ” ì ì´ë‹¤. ì´ë¡œì¸í•´ ì‚¬ìš©ìê°€ ì…ë ¥ì„ ì˜ëª»í–ˆì„ ê²½ìš°ì—ë„ ì…ë ¥í•œ ëª¨ë¸ì„ ë‹¤ì‹œ ì¶œë ¥í•´ì£¼ë©° ì˜ëª» ì…ë ¥í•œ ì •ë³´ì— ëŒ€í•´ ì¬ì…ë ¥ì„ ìš”êµ¬í•˜ëŠ” ê¸°ëŠ¥ì„ ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆê²Œ ëœë‹¤. Errors, BindingResult @ModelAttributeì™€ ê°™ì´ ì‚¬ìš©í•˜ëŠ” íŒŒë¼ë¯¸í„° ë“¤ì´ë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ @ModelAttributeëŠ” íŒŒë¼ë¯¸í„°ë¥¼ ì²˜ë¦¬í•  ë–„ @RequestParamê³¼ëŠ” ë‹¬ë¦¬ ê²€ì¦ ì‘ì—…ì´ ì¶”ê°€ì ìœ¼ë¡œ ì§„í–‰ëœë‹¤. ê²€ì¦ì‘ì—…ì´ë€ ê¸°ë³¸ì ìœ¼ë¡œ ì§„í–‰ë˜ëŠ” íƒ€ì… ë³€í™˜ ì™¸ì—ë„ í•„ìˆ˜ ì •ë³´ ì…ë ¥ ì—¬ë¶€, ê¸¸ì´ ì œí•œ, ê°’ í—ˆìš© ë²”ìœ„ ë“± ë‹¤ì–‘í•œ ê¸°ì¤€ì´ ì ìš©ë  ìˆ˜ ìˆë‹¤. BidingResultì™€ ErrorsëŠ” ì´ëŸ¬í•œ ê²€ì¦ì‘ì—…ì˜ ê²°ê³¼ê°€ ë‹´ê²¨ì§€ëŠ” ê³³ì´ë‹¤. ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œëŠ” ì´ ë‘ ì˜¤ë¸Œì íŠ¸ì˜ ê²°ê³¼ë¥¼ í†µí•´ ì‚¬ìš©ìì—ê²Œ ì ì ˆí•œ ì¡°ì¹˜ë¥¼ ì·¨í•  ìˆ˜ ìˆê²Œ ë˜ëŠ” ê²ƒì´ë‹¤(ê²€ì¦ ì—ëŸ¬ê°€ ë‚œ ë¶€ë¶„ì— ëŒ€í•´ ì¬ì…ë ¥ ìš”êµ¬ ë“±). ì´ëŸ¬í•œ íŠ¹ì„± ë•Œë¬¸ì— @ModelAttributeëŠ” ë°”ì¸ë”©ì—ì„œ íƒ€ì… ë³€í™˜ì´ ì‹¤íŒ¨í•˜ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí•´ë„ 400 ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¤ì§€ ì•ŠëŠ”ë‹¤. íƒ€ì… ë³€í™˜ ì‹¤íŒ¨ ë˜í•œ ê²€ì¦ì˜ í•œ ë‹¨ê³„ë¡œ ë³´ê³  BindingResultì— ê·¸ì— í•´ë‹¹í•˜ëŠ” ê²°ê³¼ë§Œì„ ë‹´ì„ ë¿ì´ë‹¤. BindingResultì˜ ê²€ì¦ê²°ê³¼ì—ì„œ ì˜¤ë¥˜ê°€ ì—†ë‹¤ê³  ë‚˜ì˜¤ë©´ ê·¸ì œì„œì•¼ ë¡œì§ì„ í†µê³¼ì‹œí‚¤ê³ , ì˜¤ë¥˜ê°€ ìˆì„ ê²½ìš° ì‚¬ìš©ìì—ê²Œ ê³„ì† ìˆ˜ì •ì„ ìš”êµ¬í•´ì•¼ í•œë‹¤. 1234567public String add(@ModelAttribute User user, BindingResult result)&#123; if(result.hasError())&#123; // ì¬ì…ë ¥ ìš”êµ¬ &#125; else&#123; userService.add(user); &#125;&#125; BindingResultëŠ” ë°˜ë“œì‹œ @ModelAttribute ë’¤ì— ë‚˜ì™€ì•¼ í•œë‹¤. í˜„ì¬ ìœ„ì˜ ë©”ì„œë“œë¡œëŠ” ê¸°ë³¸ì ì¸ ê²€ì¦ì¸ íƒ€ì… ë³€í™˜ ê²€ì¦ë§Œì„ ìˆ˜í–‰í•˜ëŠ” ìƒíƒœì´ë‹¤. ëª¨ë¸ ë°”ì¸ë”©ê³¼ ê²€ì¦ ë°”ë¡œê°€ê¸° SessionStatus @SessionAttributesë¥¼ í†µí•´ ì €ì¥ëœ í˜„ì¬ ì„¸ì…˜ì„ ë‹¤ë£° ìˆ˜ ìˆëŠ” ì˜¤ë¸Œì íŠ¸ì´ë‹¤. @SessionAttributes, SessionStatus ë°”ë¡œê°€ê¸° @RequestBody ì´ ì• ë…¸í…Œì´ì…˜ì´ ë¶™ì€ íŒŒë¼ë¯¸í„°ì—ëŠ” HTTP ìš”ì²­ì˜ ë³¸ë¬¸ ë¶€ë¶„ì´ ê·¸ëŒ€ë¡œ ì „ë‹¬ëœë‹¤. XMLì´ë‚˜ JSON ê¸°ë°˜ìœ¼ë¡œ ìš”ì²­í•˜ëŠ” ê²½ìš° ë§¤ìš° ìœ ìš©í•˜ê²Œ ì‚¬ìš©ëœë‹¤. AnnotationMethodHandlerAdapterì—ëŠ” HttpMessageConverteríƒ€ì…ì˜ ë©”ì„¸ì§€ ë³€í™˜ê¸°ê°€ ì—¬ëŸ¬ê°œ ë“±ë¡ë˜ì–´ ìˆë‹¤. @RequestBodyê°€ ë¶™ì€ íŒŒë¼ë¯¸í„°ê°€ ìˆìœ¼ë©´ ìš”ì²­ì˜ ë¯¸ë””ì–´ íƒ€ì…ì„ ë¨¼ì € í™•ì¸í•œ í›„, ë©”ì„¸ì§€ ë³€í™˜ê¸°ë“¤ ì¤‘ì—ì„œ ì´ë¥¼ ì²˜ë¦¬í• ìˆ˜ ìˆëŠ”ê²ƒì´ ìˆë‹¤ë©´ HTTP ìš”ì²­ ë³¸ë¬¸ ë¶€ë¶„ì„ í†µì§¸ë¡œ ë³€í™˜í•˜ì—¬ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•´ì¤€ë‹¤. 12345public String test(@RequestBody String body)&#123; System.out.println(body); // http bodyê°€ ê·¸ëŒ€ë¡œ ì¶œë ¥ return "test";&#125; StringHttpMessageConverterê°€ http bodyë¥¼ ê·¸ëŒ€ë¡œ ë°›ê³  ìˆë‹¤. @Value ì‹œìŠ¤í…œ í”„ë¡œí¼í‹°ë‚˜ ë‹¤ë¥¸ ë¹ˆì˜ í”„ë¡œí¼í‹° ê°’, SpELë“±ì„ ì´ìš©í•˜ëŠ”ë° ì‚¬ìš©ëœë‹¤. íŒŒë¼ë¯¸í„° ë³€ìˆ˜ ë¿ ì•„ë‹ˆë¼ í•„ë“œ ë³€ìˆ˜ì—ë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 123456// í•„ë“œë¡œ ë°›ê¸°@Value("#&#123;'systemProperties['os.name']'&#125;") String osName;// íŒŒë¼ë¯¸í„°ë¡œ ë°›ê¸°public String hello(@Value("#&#123;systemProperties['os.name']&#125;") String osName)&#123; // ...&#125; ìƒí™©ì— ë”°ë¼ ì ì ˆíˆ ì„ íƒí•´ì„œ ì‚¬ìš©í•˜ë©´ ëœë‹¤. @Valid @ModelAttribute ê²€ì¦ì— ì‚¬ìš©ë˜ëŠ” ì• ë…¸í…Œì´ì…˜ì´ë‹¤. ëª¨ë¸ ë°”ì¸ë”©ê³¼ ê²€ì¦ ë°”ë¡œê°€ê¸° ë¦¬í„´ íŒŒë¼ë¯¸í„° ë¿ë§Œ ì•„ë‹ˆë¼ ë¦¬í„´ íƒ€ì…ë„ ë‹¤ì–‘í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ê° ë¦¬í„´ íƒ€ì…ì— ëŒ€í•´ ë‹¤ì–‘í•œ ê²°ê³¼ë¥¼ ì–»ì–´ë‚¼ ìˆ˜ ìˆë‹¤. ì°¸ê³ ë¡œ ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ë¦¬í„´í•˜ë“  ë§ˆì§€ë§‰ì—ëŠ” ModelAndViewë¡œ ë§Œë“¤ì–´ì ¸ DispatcherServletì— ì „ë‹¬ëœë‹¤. ëª¨ë¸ì— ìë™ìœ¼ë¡œ ì¶”ê°€ë˜ëŠ” ì˜¤ë¸Œì íŠ¸ ë¦¬í„´ íƒ€ì…ì„ ì•Œì•„ë³´ê¸° ì „ì— êµ³ì´ ëª…ì‹œí•˜ì§€ ì•Šì•„ë„ ëª¨ë¸ì— ìë™ìœ¼ë¡œ ì¶”ê°€ë˜ëŠ” ì˜¤ë¸Œì íŠ¸ë“¤ ë¶€í„° ì‚´í´ë³´ì. @ModelAttribute íŒŒë¼ë¯¸í„° íŒŒë¦¬ë¯¸í„°ì—ì„œ @ModelAttributeë¡œ ë°›ì€ ì˜¤ë¸Œì íŠ¸ëŠ” ìë™ìœ¼ë¡œ ëª¨ë¸ì— ì¶”ê°€ëœë‹¤. ëª¨ë¸ ì˜¤ë¸Œì íŠ¸ì˜ ì´ë¦„ì€ ê¸°ë³¸ì ìœ¼ë¡œ íŒŒë¼ë¯¸í„° íƒ€ì… ì´ë¦„ì„ ë”°ë¥¸ë‹¤. ì´ë¦„ì„ ì§ì ‘ ì§€ì •í•˜ê³  ì‹¶ìœ¼ë©´ @ModelAttribute(&quot;ëª¨ë¸ì´ë¦„&quot;) ì˜ í˜•íƒœë¡œ ì§€ì •í•´ì£¼ë©´ ëœë‹¤. Map, Model, ModelMap íŒŒë¼ë¯¸í„°ì— Map, Model, ModelMap íƒ€ì…ì˜ ì˜¤ë¸Œì íŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ ë¯¸ë¦¬ ìƒì„±ëœ ëª¨ë¸ ë§µ ì˜¤ë¸Œì íŠ¸ë¥¼ ì „ë‹¬ë°›ì„ ìˆ˜ ìˆë‹¤. ì´í›„ ì¶”ê°€í•˜ê³  ì‹¶ì€ ëª¨ë¸ ì˜¤ë¸Œì íŠ¸ê°€ ìˆìœ¼ë©´ ì—¬ê¸°ì— ì¶”ê°€í•˜ë©´ ëœë‹¤. @ModelAttribute ë©”ì„œë“œ íŒŒë¼ë¯¸í„°ë¥¼ ì˜¤ë¸Œì íŠ¸ë¡œ ë°›ëŠ” @ModelAttributeì˜ ê¸°ëŠ¥ë³´ë‹¨ ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ëª¨ë¸ ì˜¤ë¸Œì íŠ¸ë¥¼ ì •ì˜í•˜ê¸° ìœ„í•´ ìœ ìš©í•˜ê²Œ ì‚¬ìš©ë˜ëŠ” ë°©ì‹ì´ë‹¤. 1234@ModelAttribute("countries")public List&lt;Country&gt; countries()&#123; return commonService.getCountries();&#125; ì´ëŸ°ì‹ìœ¼ë¡œ í´ë˜ìŠ¤ ë‚´ì— ë³„ë„ë¡œ ì •ì˜í•´ë†“ìœ¼ë©´ í´ë˜ìŠ¤ ë‚´ì˜ ë‹¤ë¥¸ ë©”ì„œë“œë“¤ì˜ ëª¨ë¸ì— ìë™ìœ¼ë¡œ ì¶”ê°€ëœë‹¤. ê°™ì€ í´ë˜ìŠ¤ ë‚´ì˜ ë©”ì„œë“œë“¤ì˜ ëª¨ë¸ì—ëŠ” í•­ìƒ &quot;countries&quot; ì´ë¦„ì˜ List&lt;Country&gt; ì˜¤ë¸Œì íŠ¸ê°€ ì¶”ê°€ë˜ì–´ìˆëŠ” ê²ƒì´ë‹¤. &lt;select&gt; íƒœê·¸ë¥¼ ì¨ì„œ ì„ íƒ ê°€ëŠ¥í•œ ëª©ë¡ì„ ë³´ì—¬ì£¼ëŠ” ê²½ìš°ê°€ ëŒ€í‘œì ì´ë‹¤. BidingResult @ModelAttributeì™€ ê°™ì´ ì‚¬ìš©í•˜ëŠ” BindingResultë„ ëª¨ë¸ì— ìë™ìœ¼ë¡œ ì¶”ê°€ëœë‹¤. ëª¨ë¸ ë§µì— ì¶”ê°€ë ë•Œì˜ í‚¤ëŠ” 'org.springframework.validation.BindingResult.ëª¨ë¸ì´ë¦„' ì´ë‹¤. ModelAndView ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë¦¬í„´í•´ì•¼ í•  ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” ê°€ì¥ ëŒ€í‘œì ì¸ í´ë˜ìŠ¤ì´ë‹¤. í•˜ì§€ë§Œ ì´ê²ƒë³´ë‹¤ í¸í•œ ë°©ë²•ì´ í›¨ì”¬ ë§ìœ¼ë¯€ë¡œ ìì£¼ ì‚¬ìš©ë˜ì§„ ì•ŠëŠ”ë‹¤. 1234567public ModelAndView test()&#123; ModelAndView mv = new ModelAndView(); mv.addObject("key", "value"); mv.setViewName("test"); return mv;&#125; ì°¸ê³ ë¡œ ModelAndViewë¥¼ ë¦¬í„´í•˜ë”ë¼ë„ Map, Model, ModelMap íŒŒë¼ë¯¸í„°ëŠ” ëª¨ë¸ì— ìë™ ì¶”ê°€ëœë‹¤. String ë¬¸ìì—´ì„ ë¦¬í„´í•˜ë©´ ì´ëŠ” ë·° ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤. ëª¨ë¸ì€ Model, ModelMap íŒŒë¼ë¯¸í„°ë¥¼ ì´ìš©í•œë‹¤. 12345public String test(ModelMap modelMap)&#123; modelMap.addAttribute("key", "value"); return "test";&#125; void ì•„ì˜ˆ ì•„ë¬´ê²ƒë„ ë¦¬í„´í•˜ì§€ ì•Šì„ê²½ìš° RequestToViewNameResolverì— ì˜í•´ ìë™ìœ¼ë¡œ ë·° ì´ë¦„ì´ ìƒì„±ëœë‹¤. ë·° ì´ë¦„ì„ ì¼ê´€ë˜ê²Œ í†µì¼í•´ì•¼ í•˜ë¯€ë¡œ ê·œì¹™ì„ ì˜ ì •í•´ì•¼ í•œë‹¤. ëª¨ë¸ ì˜¤ë¸Œì íŠ¸ RequestToViewNameResolverë¥¼ ì‚¬ìš©í•´ì„œ ë·° ì´ë¦„ì„ ìë™ìƒì„±í•˜ê³ , ëª¨ë¸ì— ì¶”ê°€í•  ì˜¤ë¸Œì íŠ¸ê°€ í•˜ë‚˜ë¿ì´ë¼ë©´ ëª¨ë¸ ì˜¤ë¸Œì íŠ¸ë¥¼ ë°”ë¡œ ë°˜í™˜í•´ë„ ëœë‹¤. ìŠ¤í”„ë§ì€ ë¦¬í„´ íƒ€ì…ì´ ë‹¨ìˆœ ì˜¤ë¸Œì íŠ¸ì´ë©´ ì´ë¥¼ ëª¨ë¸ ì˜¤ë¸Œì íŠ¸ë¡œ ì¸ì‹í•´ì„œ ëª¨ë¸ì— ìë™ìœ¼ë¡œ ì¶”ê°€í•´ì¤€ë‹¤. ëª¨ë¸ëª…ì€ ëª¨ë¸ ì˜¤ë¸Œì íŠ¸ì˜ íƒ€ì… ì´ë¦„ì„ ë”°ë¥¸ë‹¤. 1234public List&lt;Post&gt; getPostList()&#123; return postService.getPostList(); // return List&lt;Post&gt;&#125; Map/Model/ModelMap ë©”ì„œë“œì—ì„œ ì§ì ‘ Map/Model/ModelMap ì˜¤ë¸Œì íŠ¸ë¥¼ ìƒì„±í•´ì„œ ë¦¬í„´í•˜ë©´ ëª¨ë‘ ëª¨ë¸ë¡œ ì‚¬ìš©ëœë‹¤. í•˜ì§€ë§Œ ëª¨ë¸ì€ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì´ ë°©ì‹ì€ ì˜ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤. ì—¬ê¸°ì„œ í•œê°€ì§€ ì£¼ì˜í•´ì•¼ í•  ì ì´ ìˆë‹¤. ë°”ë¡œ Map ì˜¤ë¸Œì íŠ¸ì´ë‹¤. ì„œë¹„ìŠ¤ ë©”ì„œë“œì—ì„œ ê²°ê³¼ë¡œ Mapì„ ë‚´ë ¤ì£¼ëŠ” ê²½ìš°ê°€ ìˆëŠ”ë°, ì´ë¥¼ ëª¨ë¸ ì˜¤ë¸Œì íŠ¸ë¼ê³  ìƒê°í•˜ê³  ë°”ë¡œ ë¦¬í„´í–ˆë‹¤ê°€ëŠ” ì›ì¹˜ì•Šì€ ê²°ê³¼ë¥¼ ì–»ê²Œ ëœë‹¤. Mapì€ ëª¨ë¸ ì˜¤ë¸Œì íŠ¸ê°€ ì•„ë‹Œ ëª¨ë¸ ë§µìœ¼ë¡œ ì¸ì‹ë˜ê¸° ë•Œë¬¸ì—, Mapì˜ ëª¨ë“  ì†ì„±ì´ ëª¨ë¸ì— ì¶”ê°€ë˜ëŠ” ìƒí™©ì´ ë°œìƒí•œë‹¤. 123456// ì˜ëª»ëœ ì½”ë“œ!!public Map getUser()&#123; Map user = userService.getUser(); return user; // userì˜ ëª¨ë“  ì†ì„±ì´ ëª¨ë¸ì— ì¶”ê°€ë˜ì–´ ë¦¬í„´ëœë‹¤.&#125; View ë·° ì´ë¦„ëŒ€ì‹  ì§ì ‘ View ì˜¤ë¸Œì íŠ¸ë¥¼ ë„˜ê²¨ë„ ëœë‹¤. 12345public View getPostListByExcel(ModelMap modelMap)&#123; // model add.. return excelView; // excel view&#125; @ResponseBody @ReuqestBodyì™€ ë¹„ìŠ·í•˜ê²Œ ë™ì‘í•œë‹¤. ë©”ì„œë“œ ë ˆë²¨ì— ì´ ì• ë…¸í…Œì´ì…˜ì´ ë¶™ì–´ìˆìœ¼ë©´, ë¦¬í„´í•˜ëŠ” ì˜¤ë¸Œì íŠ¸ê°€ ë·°ë¥¼ í†µí•´ ê²°ê³¼ë¥¼ ë§Œë“¤ì–´ë‚´ëŠ”ë° ì‚¬ìš©ë˜ì§€ ì•Šê³  ë©”ì„¸ì§€ ì»¨í„°ë²„ë¥¼ í†µí•´ ë°”ë¡œ HTTP ì‘ë‹µìœ¼ë¡œ ë°˜í™˜ëœë‹¤. 1234@ResponseBodypublic String test()&#123; return "succeed"; // ë¬¸ìì—´ ê·¸ëŒ€ë¡œ ë°˜í™˜&#125; @ResponseBodyì— ì˜í•´ succeedê°€ viewNameìœ¼ë¡œ ì‚¬ìš©ë˜ì§€ ì•Šê³  HTTP ì‘ë‹µìœ¼ë¡œ ë°˜í™˜ëœë‹¤. From]]></content>
      <categories>
        <category>spring</category>
      </categories>
      <tags>
        <tag>@RequestMapping param</tag>
        <tag>@RequestMapping return</tag>
        <tag>@ModelAttribute</tag>
        <tag>í† ë¹„ì˜ ìŠ¤í”„ë§</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[spring] @RequestMapping]]></title>
    <url>%2Fspring%2F%40RequestMapping%2F</url>
    <content type="text"><![CDATA[@RequestMappingì€ DefaultAnnotationHandlerMappingì—ì„œ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì„ íƒí•  ë•Œ ëŒ€í‘œì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì• ë…¸í…Œì´ì…˜ì´ë‹¤. urlë‹¹ í•˜ë‚˜ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ì— ë§¤í•‘ë˜ë˜ ë‹¤ë¥¸ í•¸ë“¤ëŸ¬ ë§¤í•‘ê³¼ ë‹¬ë¦¬ ë©”ì„œë“œ ë‹¨ìœ„ê¹Œì§€ ì„¸ë¶„í™”í•˜ì—¬ ì ìš©í•  ìˆ˜ ìˆìœ¼ë©°, url ë¿ ì•„ë‹ˆë¼ íŒŒë¼ë¯¸í„°, í—¤ë” ë“± ë”ìš± ë„“ì€ ë²”ìœ„ë¥¼ ì ìš©í•  ìˆ˜ ìˆë‹¤. ì†ì„± DefaultAnnotationHandlerMappingì€ í´ë˜ìŠ¤ì™€ ë©”ì„œë“œì— ë¶™ì€ @RequestMapping ì• ë…¸í…Œì´ì…˜ ì •ë³´ë¥¼ ê²°í•©í•´ ìµœì¢… ë§¤í•‘ì •ë³´ë¥¼ ìƒì„±í•œë‹¤. ê¸°ë³¸ì ì¸ ê²°í•© ë°©ë²•ì€ í´ë˜ìŠ¤ ë ˆë²¨ì˜ @RequestMappingì„ ê¸°ì¤€ìœ¼ë¡œ ì‚¼ê³ , ë©”ì„œë“œ ë ˆë²¨ì˜ @RequestMappingìœ¼ë¡œ ì„¸ë¶„í™”í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤. @RequestMappingì— ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì†ì„±ë“¤ì€ ì•„ë˜ì™€ ê°™ë‹¤. String[] value URL íŒ¨í„´ì„ ì§€ì •í•˜ëŠ” ì†ì„±ì´ë‹¤. String ë°°ì—´ë¡œ ì—¬ëŸ¬ê°œë¥¼ ì§€ì •í•  ìˆ˜ ìˆìœ¼ë©°, ANT ìŠ¤íƒ€ì¼ì˜ ì™€ì¼ë“œì¹´ë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 1234@RequestMapping(value="/post")@RequestMapping(value="/post.*")@RequestMapping(value="/post/**/comment")@RequestMapping(value=&#123;"/post", "/P"&#125;) {}ë¥¼ ì‚¬ìš©í•˜ëŠ” URI í…œí”Œë¦¿ì„ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤. 1@RequestMapping(value="/post/&#123;postId&#125;") {}ë¥¼ íŒ¨ìŠ¤ ë³€ìˆ˜ë¼ê³  ë¶€ë¥´ë©° ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ë°›ì„ ìˆ˜ ìˆë‹¤. ì°¸ê³ ë¡œ URL íŒ¨í„´ì€ ë””í´íŠ¸ ì ‘ë¯¸ì–´ íŒ¨í„´ì´ ì ìš©ë˜ë¯€ë¡œ ì•„ë˜ 2ê°œëŠ” ë™ì¼í•œ ì˜ë¯¸ì´ë‹¤. 123// 2ê°œëŠ” ë™ì¼í•˜ë‹¤!@RequestMapping(value="/post")@RequestMapping(value=&#123;"/post", "/post/", "/post.*"&#125;) RequestMethod[] method RequestMethodëŠ” HTTP ë©”ì„œë“œë¥¼ ì •ì˜í•œ ENUMì´ë‹¤. GET, POST, PUT, DELETE, OPTIONS, TRACEë¡œ ì´ 7ê°œì˜ HTTP ë©”ì„œë“œê°€ ì •ì˜ë˜ì–´ ìˆë‹¤. @RequestMappingì— methodë¥¼ ëª…ì‹œí•˜ë©´ ë˜‘ê°™ì€ URLì´ë¼ë„ ë‹¤ë¥¸ ë©”ì„œë“œë¡œ ë§¤í•‘í•´ì¤„ ìˆ˜ ìˆë‹¤. 12345// urlì´ /postì¸ ìš”ì²­ ì¤‘ GET ë©”ì„œë“œì¸ ê²½ìš° í˜¸ì¶œë¨@RequestMapping(value="/post", method=RequestMethod.GET)// urlì´ /postì¸ ìš”ì²­ ì¤‘ POST ë©”ì„œë“œì¸ ê²½ìš° í˜¸ì¶œë¨@RequestMapping(value="/post", method=RequestMethod.POST) ì´ë¡œì¸í•´ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë²ˆê±°ë¡­ê²Œ HTTP ë©”ì„œë“œë¥¼ í™•ì¸í•  í•„ìš”ê°€ ì—†ë‹¤. String[] params ìš”ì²­ íŒŒë¼ë¯¸í„°ì™€ ê°’ìœ¼ë¡œë„ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤. String ë°°ì—´ë¡œ ì—¬ëŸ¬ê°œë¥¼ ì§€ì •í•  ìˆ˜ ìˆìœ¼ë©°, ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤. 1234567891011// /post?useYn=Y ì¼ ê²½ìš° í˜¸ì¶œë¨@RequestMapping(value="/post", params="useYn=Y")// not equalë„ ê°€ëŠ¥@RequestMapping(value="/post", params="useYn!=Y")// ê°’ì— ìƒê´€ì—†ì´ íŒŒë¼ë¯¸í„°ì— useYnì´ ìˆì„ ê²½ìš° í˜¸ì¶œë¨@RequestMapping(value="/post", parmas="useYn")// íŒŒë¼ë¯¸í„°ì— useYnì´ ì—†ì–´ì•¼ í˜¸ì¶œë¨@RequestMapping(value="/post", params="!useYn") GET íŒŒë¼ë¯¸í„°ë§Œì´ ì•„ë‹Œ POST íŒŒë¼ë¯¸í„° ë˜í•œ ë¹„êµ ëŒ€ìƒì´ë‹¤. í¼ ë‚´ì—ì„œ input íƒœê·¸ ë“±ìœ¼ë¡œ ë„˜ê²¨ë„ ìœ„ì˜ ë§¤í•‘ì„ ì ìš©í•  ìˆ˜ ìˆë‹¤. ê·¼ë° ë§Œì•½ ì•„ë˜ì™€ ê°™ì€ ìƒí™©ì´ë¼ë©´ ì–´ë–»ê²Œ ë ê¹Œ? 123// ìš”ì²­ : /post?useYn=Y@RequestMapping(value="/post")@RequestMapping(value="/post", params="useYn=Y") ìš”ì²­ì´ 2ê°€ì§€ ë§¤í•‘ì„ ë‹¤ ë§Œì¡±í•˜ì§€ë§Œ ì´ëŸ´ ê²½ìš° êµ¬í˜„ì´ ìƒì„¸í•œ ìª½ìœ¼ë¡œ ì„ íƒëœë‹¤. String[] headers í—¤ë” ê°’ìœ¼ë¡œ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤. ë°©ì‹ì€ ìœ„ì˜ paramsì™€ ë¹„ìŠ·í•˜ë‹¤. 1@RequestMapping(value="/post", headers="content-type=text/*") ë§¤í•‘ í•¸ë“¤ëŸ¬ ë§¤í•‘ì´ë€ ì›ë˜ ì˜¤ë¸Œì íŠ¸ë¥¼ ê²°ì •í•˜ëŠ” ì „ëµì´ë‹¤. @RequestMappingìœ¼ë¡œ ë©”ì„œë“œ ë ˆë²¨ê¹Œì§€ ì„¸ë¶„í™”í•˜ì—¬ ì‘ì„±í•˜ê¸´ í–ˆì§€ë§Œ, ì¼ê´€ì„±ì„ ìœ„í•´ DefaultAnnotationHandlerMappingì€ ì˜¤ë¸Œì íŠ¸ê¹Œì§€ë§Œ ì°¾ì•„ì£¼ê³ , ìµœì¢… ì‹¤í–‰í•  ë©”ì„œë“œëŠ” AnnotationHandlerAdapterê°€ ê²°ì •í•œë‹¤. íƒ€ì… ë ˆë²¨ + ë©”ì„œë“œ ë ˆë²¨ ë§¤í•‘ íƒ€ì… ë ˆë²¨(í´ë˜ìŠ¤ ë ˆë²¨)ì—ì„œ ê³µí†µ ì¡°ê±´ì„ ì§€ì •í•˜ê³ , ë©”ì„œë“œ ë ˆë²¨ì—ì„œ ì´ë¥¼ ì„¸ë¶„í™”í•œë‹¤. ê·¸ë¦¬ê³  URL ìš”ì²­ ì‹œ ì´ ë‘˜ì„ ì¡°í•©í•˜ì—¬ ìµœì¢… ì¡°ê±´ì´ ê²°ì •ëœë‹¤. 1234567891011@RequestMapping(value="/post")public class PostController&#123; // /post/add ì— ë§¤í•‘ @RequestMapping(value="/add") // /post/modify ì— ë§¤í•‘ @RequestMapping(value="/modify") // /post/remove ì— ë§¤í•‘ @RequestMapping(value="/remove")&#125; íƒ€ì… ë ˆë²¨ì— ANT íŒ¨í„´ì„ ì‚¬ìš©í–ˆì„ ê²½ìš°ì—ë„ ë©”ì„œë“œ ë ˆë²¨ê³¼ ì¡°í•©ë  ìˆ˜ ìˆë‹¤. 12345@RequestMapping(value="/post/**")public class PostController&#123; // /post/**/add ì— ë§¤í•‘ @RequestMapping(value="/add")&#125; íƒ€ì… ë ˆë²¨ì— urlì„ ì£¼ê³  ë©”ì„œë“œ ë ˆë²¨ì—” ë‹¤ë¥¸ ë§¤í•‘ì¡°ê±´ì„ ì¤„ìˆ˜ë„ ìˆë‹¤. 12345@RequestMapping(value="/post")public class PostController&#123; @RequestMapping(method=RequestMethod.GET) @RequestMapping(method=RequestMethod.POST)&#125; íƒ€ì… ë ˆë²¨ì—ë„ ë©”ì„œë“œ ë ˆë²¨ê³¼ ê°™ì´ methodë‚˜ paramsë“±ì„ ì¤„ ìˆ˜ ìˆë‹¤. 12345@RequestMapping(value="/post", params="useYn=Y")public class PostController&#123; // /post?useYn=Y&amp;isForeign=Y ì— ë§¤í•‘ë¨ @RequestMapping(params="isForeign=Y")&#125; íƒ€ì… ë ˆë²¨ì—ì„œ ê³µí†µ ì¡°ê±´ì„ ì§€ì •í•˜ê³  ë©”ì„œë“œ ë ˆë²¨ì—ì„œ ì„¸ë¶„í™” í•´ì¤€ë‹¤ëŠ” ê°œë…ë§Œ ì§€í‚¤ë©´ ì–´ë–¤ì‹ì˜ ì¡°í•©ë„ ê°€ëŠ¥í•˜ë‹¤. ë©”ì„œë“œ ë ˆë²¨ ë‹¨ë… ë§¤í•‘ ë§¤í•‘ ì¡°ê±´ì— ë”±íˆ ê³µí†µì ì´ ì—†ëŠ” ê²½ìš° ë©”ì„œë“œ ë ˆë²¨ì—ì„œë§Œ ë§¤í•‘ì •ë³´ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ìœ„ì—ì„œ ì–˜ê¸°í–ˆë“¯ì´ DefaultAnnotationHandlerMappingì€ ì˜¤ë¸Œì íŠ¸ê¹Œì§€ë§Œ ì°¾ì•„ì£¼ë¯€ë¡œ, íƒ€ì… ë ˆë²¨ì— ì¡°ê±´ ì—†ëŠ” @RequestMappingì„ ì„ ì–¸í•´ ë§¤í•‘ ëŒ€ìƒìœ¼ë¡œ ë§Œë“¤ì–´ì•¼ í•œë‹¤. 123456@RequestMappingpublic class HomeController&#123; @RequestMapping(value="/post") @RequestMapping(value="/magazine") @RequestMapping(value="/notice")&#125; ê·¼ë° ë§Œì•½ ì»¨íŠ¸ë¡¤ëŸ¬ í´ë˜ìŠ¤ì— @Controller ì• ë…¸í…Œì´ì…˜ì„ ë¶™ì—¬ ë¹ˆ ìë™ ìŠ¤ìº”ìœ¼ë¡œ ë“±ë¡ë˜ê²Œ í–ˆë‹¤ë©´ íƒ€ì… ë ˆë²¨ @RequestMappingì€ ìƒëµí•  ìˆ˜ ìˆë‹¤. @Controller ì• ë…¸í…Œì´ì…˜ì„ ë³´ê³  @RequestMappingì„ ì‚¬ìš©í•œ í´ë˜ìŠ¤ë¼ê³  íŒë‹¨í•˜ê¸° ë•Œë¬¸ì´ë‹¤. íƒ€ì… ë ˆë²¨ ë‹¨ë… ë§¤í•‘ í•¸ë“¤ëŸ¬ ë§¤í•‘ê³¼ í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ëŠ” ì„œë¡œ ë…ë¦½ì ì¸ ì „ëµì´ë¯€ë¡œ ì•„ë˜ì™€ ê°™ì´ ì¡°í•©ë  ìˆ˜ ìˆë‹¤. 1234567@RequestMapping(value="/post")public class PostController implements Controller&#123; @Override public ModelAndView handleRequest(HttpServletRequest request, HttpServletResponse response) throws Exception &#123; // .... &#125;&#125; ìƒì† @RequestMappingì´ ì ìš©ëœ í´ë˜ìŠ¤ë¥¼ ë‹¤ë¥¸ í´ë˜ìŠ¤ì—ì„œ ìƒì†í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ìƒì† ì‹œ ì„œë¸Œ í´ë˜ìŠ¤ëŠ” ë¶€ëª¨ì˜ @RequestMappingì„ ìƒì†ë°›ì„ ìˆ˜ ìˆê²Œëœë‹¤. ê·¼ë° ë§Œì•½ ì„œë¸Œí´ë˜ìŠ¤ ë‚´ì—ì„œ @RequestMappingì„ ì¬ì •ì˜ í•  ê²½ìš° ë¶€ëª¨ì˜ ì •ë³´ëŠ” ë¬´ì‹œëœë‹¤. ë¶€ëª¨ @RequestMapping ìƒì† ë¶€ëª¨ í´ë˜ìŠ¤ì— @RequestMappingì´ ì •ì˜ë˜ì–´ìˆê³ , ìì‹ì—ì„œ @RequestMappingì„ ì¬ì •ì˜ í•˜ì§€ ì•Šì„ ê²½ìš° @RequestMappingì€ ê·¸ëŒ€ë¡œ ìƒì†ëœë‹¤. 1234567891011121314@RequestMapping(value="/post")public class PostController&#123; @RequestMapping(value="/list") public String list()&#123; // ... &#125;&#125;public class ChildPostController extends PostController&#123; @Override public String list()&#123; // ... &#125;&#125; ChildPostControllerì˜ list ë©”ì„œë“œëŠ” /post/listì— ë§¤í•‘ëœë‹¤. ë¶€ëª¨ @RequestMapping + ìì‹ @RequestMapping ìƒì†ìœ¼ë¡œ ì¡°í•©ë„ ê°€ëŠ¥í•˜ë‹¤. 1234567891011@RequestMapping(value="/post")public class PostController&#123; &#125;public class ChildPostController extends PostController&#123; @RequestMapping(value="/list") public String list()&#123; // ... &#125;&#125; ë¶€ëª¨ì™€ ìì‹ì˜ @RequestMappingì´ ì¡°í•©ë˜ì–´ /post/listì— ë§¤í•‘ëœë‹¤. ë°˜ëŒ€ë¡œë„ ê°€ëŠ¥í•˜ë‹¤. 1234567891011121314public class PostController&#123; @RequestMapping(value="/list") public String list()&#123; // ... &#125;&#125;@RequestMapping(value="/post")public class ChildPostController extends PostController&#123; @Override public String list()&#123; // ... &#125;&#125; ìì‹ @RequestMapping ì¬ì •ì˜ @RequestMappingì„ ì¬ì •ì˜ í•  ê²½ìš° ëª¨ë“  ì¡°ê±´ì´ ë‹¤ ì¬ì •ì˜ ëœë‹¤ëŠ” ì ì— ì£¼ì˜í•˜ì—¬ì•¼ í•œë‹¤. 123456789101112131415@RequestMapping(value="/post")public class PostController&#123; @RequestMapping(value="/list", params="useYn=Y") public String list()&#123; // ... &#125;&#125;public class ChildPostController extends PostController&#123; @Override @RequestMapping(value="/contents") public String list()&#123; // ... &#125;&#125; valueë§Œ ì¬ì •ì˜ í•œê²ƒ ì²˜ëŸ¼ ë³´ì´ë‚˜ ì‹¤ì œë¡œëŠ” ë¶€ëª¨ list ë©”ì„œë“œì˜ @RequestMapping ìì²´ë¥¼ ëª¨ë‘ ì¬ì •ì˜ í•œê²ƒì´ ëœë‹¤. params ì†ì„±ì€ ì‚¬ë¼ì§€ê²Œ ëœë‹¤. ìƒì†ê³¼ ì œë„¤ë¦­ìŠ¤ë¥¼ ì´ìš©í•œ ë§¤í•‘ ì „ëµ ì´ì œ ì•ì„œ ë‚˜ì—´í•œ ìƒì† ì„±ì§ˆë“¤ì„ ì´ìš©í•˜ë©´ ê³µí†µ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ëŒ€ìƒìœ¼ë¡œëŠ” ë„ë©”ì¸ ì˜¤ë¸Œì íŠ¸ì˜ CRUDê°€ ì í•©í•˜ë‹¤. CRUDì˜ ê²½ìš° ëŒ€ë¶€ë¶„ì´ ì„œë¹„ìŠ¤ë¥¼ í˜¸ì¶œí•˜ëŠ” ìœ„ì„ì½”ë“œê°€ ë§ë‹¤ëŠ” ì ì„ ì´ìš©í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ ì½”ë“œë¥¼ ëŒ€í­ ì¤„ì¼ ìˆ˜ ìˆë‹¤. 1234567891011121314151617181920212223242526272829303132333435public abstract class CrudController&lt;T, K, S&gt;&#123; S s; @RequestMapping(value="/list") public List&lt;T&gt; list(ModelMap map)&#123; // ... &#125; @RequestMapping(value="/detail") public T detail(K id)&#123; // ... &#125; @RequestMapping(value="/add") public void add(T entity)&#123; // ... &#125; @RequestMapping(value="/modify") public void modify(T entity)&#123; // ... &#125; @RequestMapping(value="/remove") public void remove(K id)&#123; // ... &#125;&#125;@RequestMapping(value="/post")public class PostController extends CrudController&lt;Post, Integer, PostService&gt;&#123; @RequestMapping(value="/best") // ê³µí†µ ì™¸ì— í•„ìš”í•œê²ƒì€ ë”°ë¡œ ì •ì˜í•˜ë©´ ëœë‹¤ public List&lt;Post&gt; best()&#123; // ... &#125;&#125; ìƒì†ë°›ê³  @RequestMappingë§Œ ì •ì˜í•´ì¤¬ì„ ë¿ì¸ë° ì¤‘ë³µë˜ëŠ” ì½”ë“œë¥¼ ëŒ€í­ ì¤„ì¼ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤! ë§Œì•½ ê¸°ë³¸ ë©”ì„œë“œì— ì¶”ê°€í•  ì‘ì—…ì´ ìˆë‹¤ë©´ ì§ì ‘ êµ¬í˜„í•´ì„œ ìƒˆë¡œ ì‘ì„±í•˜ë©´ ëœë‹¤. ê·¸ë¦¬ê³  CRUDì™¸ì— ì¶”ê°€í•  ë©”ì„œë“œê°€ ìˆìœ¼ë©´ best ë©”ì„œë“œ ì²˜ëŸ¼ ë„£ì–´ì£¼ë©´ ë˜ë¯€ë¡œ ì½”ë“œê°€ ë§¤ìš° ê°„ê²°í•´ì§€ê³  ê°œë°œ ìƒì‚°ì„±ì´ ëŒ€í­ ìƒìŠ¹ëœë‹¤. From]]></content>
      <categories>
        <category>spring</category>
      </categories>
      <tags>
        <tag>í† ë¹„ì˜ ìŠ¤í”„ë§</tag>
        <tag>DefaultAnnotationHandlerMapping</tag>
        <tag>AnnotationHandlerAdapter</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[db] ë°ì´í„°ë² ì´ìŠ¤ ë¬´ê²°ì„±, ì •í•©ì„±]]></title>
    <url>%2Fdb%2F%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EB%AC%B4%EA%B2%B0%EC%84%B1-%EC%A0%95%ED%95%A9%EC%84%B1%2F</url>
    <content type="text"><![CDATA[ì •í•©ì„±ì— ì–´ê¸‹ë‚œë‹¤ == ë°ì´í„°ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠëŠ”ë‹¤(ê°™ì€ ì„±ê²©?ì˜ ë°ì´í„°ë¥¼ ë‹¤ë£¨ëŠ” í…Œì´ë¸”ë“¤ ê°„ì—) ë¬´ê²°ì„±ì´ ì–´ê¸‹ë‚œë‹¤ == ë§ì´ ì•ˆë˜ëŠ” ë°ì´í„°ê°€ ë“¤ì–´ìˆë‹¤(ë§ì´ ì•ˆë˜ëŠ” ê°’, ë¶€ëª¨ê°€ ì—†ëŠ” ìì‹ ë“±ë“±) ë¬´ê²°ì„± &gt; ì •í•©ì„± ì°¸ê³  : https://dbaguru.tistory.com/432]]></content>
      <categories>
        <category>db</category>
      </categories>
      <tags>
        <tag>ë¬´ê²°ì„±</tag>
        <tag>ì •í•©ì„±</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[spring] springì˜ ì˜ˆì™¸ì²˜ë¦¬]]></title>
    <url>%2Fspring%2Fspring%EC%9D%98-%EC%98%88%EC%99%B8%EC%B2%98%EB%A6%AC%2F</url>
    <content type="text"><![CDATA[ì´ë²ˆì—ëŠ”, í”„ë¡œê·¸ë¨ì„ ë§Œë“¤ë•Œ ì¤‘ìš”í•˜ì§€ë§Œ ëŒ€ë¶€ë¶„ì˜ ê°œë°œìê°€ ê·€ì°®ì•„ í•˜ëŠ” ì˜ˆì™¸ì²˜ë¦¬ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. ì˜ëª»ëœ ì˜ˆì™¸ì²˜ë¦¬ëŠ” ì°¾ê¸° í˜ë“  ë²„ê·¸ë¥¼ ë‚³ì„ ìˆ˜ ìˆê³ , ë”ìš± ë‚œì²˜í•œ ìƒí™©ì„ ë§Œë“¤ ìˆ˜ ìˆìœ¼ë¯€ë¡œ í•­ìƒ ì‹ ê²½ì¨ì¤˜ì•¼ í•©ë‹ˆë‹¤. ì˜ëª»ëœ ì˜ˆì™¸ì²˜ë¦¬ ì˜ˆì™¸ ë¸”ë™í™€1 12345try &#123; // ....&#125; catch(Exception e)&#123; // ì•„ë¬´ ì²˜ë¦¬ê°€ ì—†ìŒ&#125; ì˜ˆì™¸ë°œìƒì„ ë¬´ì‹œí•˜ê³  ì •ìƒì ì¸ ìƒí™©ì¸ ê²ƒ ì²˜ëŸ¼ ë‹¤ìŒìœ¼ë¡œ ë„˜ì–´ê°€ê² ë‹¤ëŠ” ë¶„ëª…í•œ ì˜ë„ê°€ ìˆì§€ ì•Šì€ ì´ìƒ ì ˆëŒ€ í•˜ë©´ ì•ˆë©ë‹ˆë‹¤. ìœ„ëŠ” ì˜ˆì™¸ê°€ ë°œìƒí–ˆëŠ”ë° ê·¸ê²ƒì„ ë¬´ì‹œí•˜ê³  ì§„í–‰í•˜ê² ë‹¤ëŠ” ì˜ë¯¸ì¸ë°, ì´ë ‡ê²Œ í•´ë´ì•¼ ìµœì¢…ì ìœ¼ë¡œ í”„ë¡œê·¸ë¨ì— ì˜¤ë¥˜ê°€ ë°œìƒí•  ê²ƒì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ê·¸ë•ŒëŠ” ì´ë¯¸ ë˜ëŒë¦¬ê¸°ì—” ëŠ¦ì–´ë²„ë¦¬ê³ , ì›ì¸ì„ ì°¾ê¸°ë„ í˜ë“­ë‹ˆë‹¤. ì˜ˆì™¸ ë¸”ë™í™€2 1234567try &#123; // ....&#125; catch(Exception e)&#123; System.out.println(e.getMessage()); // ë˜ëŠ” e.printStackTrace();&#125; ì˜ˆì™¸ ë¸”ë™í™€1ê³¼ ë³„ë‹¤ë¥¼ê²Œ ì—†ìŠµë‹ˆë‹¤. ì´ëŠ” ê·¸ëƒ¥ ë¡œê·¸ë¥¼ ì¶œë ¥í•œ ê²ƒì´ì§€ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•œ ê²ƒì´ ì•„ë‹™ë‹ˆë‹¤. ì˜ˆì™¸ ë¸”ë™í™€ ì²˜ëŸ¼ êµ³ì´ ì˜ˆì™¸ë¥¼ ì¡ì•„ì„œ ì¡°ì¹˜ë¥¼ ì·¨í• ê²Œ ì—†ìœ¼ë©´ ê·¸ëƒ¥ ì¡ì§€ë¥¼ ë§ì•„ì•¼ í•©ë‹ˆë‹¤. ì°¨ë¦¬ë¼ throwsë¡œ ì±…ì„ì„ ì „ê°€í•´ë²„ë¦¬ëŠ” ê²ƒì´ ë‚«ìŠµë‹ˆë‹¤. ë¬´ì°¨ë³„ throws ë§í–ˆë‹¤ê³  ë°”ë¡œ ë‚˜ì˜¤ë„¤ìš”â€¦ 1234567891011void method1() throws Exception&#123; method2();&#125;void method2() throws Exception&#123; method3();&#125;void method3() throws Exception&#123; // ...&#125; method3ì„ ê°œë°œí•œ ê°œë°œìëŠ”, ì˜ˆì™¸ë¥¼ ì¡ì•„ë´¤ì ì²˜ë¦¬í•  ê²ƒë„ ì—†ê³  ë§¤ë²ˆ ë°œìƒê°€ëŠ¥í•œ ì˜ˆì™¸ë¥¼ ì°¾ì•„ë‚´ì„œ throwsë¡œ ì„ ì–¸í•˜ê¸° ê·€ì°®ì•„ì„œ ê·¸ëƒ¥ ìµœìƒìœ„ ì˜ˆì™¸ì¸ Exceptionì„ throwsë¡œ ë˜ì ¸ë²„ë¦¬ê³  ìˆìŠµë‹ˆë‹¤. method2ë¥¼ ê°œë°œí•œ ê°œë°œìë„ ë˜‘ê°™ì€ í–‰ìœ„ë¥¼ í•˜ê³  ìˆë„¤ìš”. ì¼ë‹¨ì€, ì´ ì²˜ë¦¬ ìì²´ê°€ ìœ„ì˜ ì˜ˆì™¸ ë¸”ë™í™€ ë³´ë‹¤ëŠ” ë‚«ì§€ë§Œ ê²°êµ­ ë¬´ì±…ì„í•œ ì²˜ë¦¬ì´ê¸´ í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ë§Œì•½ method1ì„ ê°œë°œí•˜ëŠ” ê°œë°œìê°€, ë°œìƒí•˜ëŠ” ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•˜ë ¤ í–ˆë‹¤ê³  í•©ì‹œë‹¤. ê·¸ë˜ì„œ method2ë¥¼ ë´¤ë”ë‹ˆâ€¦ ì™ ì—´ ê± throws Exceptionì´ë„¤ìš”. ë­ì§€â€¦ í•˜ê³  method3ê¹Œì§€ ë“¤ì–´ê°”ë”ë‹ˆ ë˜ throws Exceptionì…ë‹ˆë‹¤. ì´ê±´ ë­â€¦ ì™œ ì˜ˆì™¸ê°€ ë°œìƒí•˜ëŠ”ì§€ í•˜ë‚˜í•˜ë‚˜ ë‹¤ ê¹Œë´ì•¼ê² ë„¤ìš” ã…¡ã…¡ ì´ì²˜ëŸ¼ ë¬´ì°¨ë³„ throwsëŠ” ì •í™•í•œ ì˜ˆì™¸ìƒí™©ì„ ì œê³µí•´ì£¼ì§€ ì•ŠëŠ” ë¬´ì±…ì„í•œ ì˜ˆì™¸ì²˜ë¦¬ ê¸°ë²•ì…ë‹ˆë‹¤. ì˜ˆì™¸ì²˜ë¦¬ ë°©ë²• ì¼ë‹¨ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì¼ë°˜ì ì¸ ë°©ë²•ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤. ì˜ˆì™¸ ë³µêµ¬ ì˜ˆì™¸ ìƒí™©ì„ íŒŒì•…í•˜ê³  ë¬¸ì œë¥¼ í•´ê²°í•˜ì—¬ ì •ìƒ ìƒíƒœë¡œ ëŒë ¤ë†“ëŠ” ë°©ë²•ì…ë‹ˆë‹¤. ë§ê·¸ëŒ€ë¡œ ì˜ˆì™¸ë¥¼ catchë¡œ ì¡ì•„ì„œ ì ì ˆí•œ ì²˜ë¦¬ë¥¼ ì§„í–‰í•˜ëŠ” ì˜ë¯¸ì£ . ì˜ˆì™¸ ë¸”ë™í™€ì€ ì ˆëŒ€ ì˜ˆì™¸ ë³µêµ¬ê°€ ì•„ë‹™ë‹ˆë‹¤. ì˜ˆì™¸ íšŒí”¼ ì˜ˆì™¸ë¥¼ ì§ì ‘ ì²˜ë¦¬í•˜ì§€ ì•Šê³  throwsë¥¼ í†µí•´ í˜¸ì¶œí•œ ìª½ìœ¼ë¡œ ë˜ì§€ê±°ë‚˜, catchë¡œ ì¡ì•„ì„œ ë¡œê·¸ë¥¼ ì°ê³  throwë¡œ ë‹¤ì‹œ ë˜ì§€ëŠ” ë°©ë²•ì…ë‹ˆë‹¤. ë¬´ì°¨ë³„ throwsê°€ ë˜ì§€ ì•Šë„ë¡ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤. ì˜ˆì™¸ ì „í™˜ ì˜ˆì™¸ í¬ì¥ ì˜ˆì™¸ íšŒí”¼ ì²˜ëŸ¼ í˜¸ì¶œí•œ ìª½ìœ¼ë¡œ ì˜ˆì™¸ë¥¼ ë˜ì§€ëŠ” ê²ƒì´ê¸´í•œë°, ê·¸ëƒ¥ ë˜ì§€ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì¢€ ë” ì˜ë¯¸ìˆëŠ” ì˜ˆì™¸ë¡œ ë³€í™˜í•˜ì—¬ ë˜ì§‘ë‹ˆë‹¤. 12345@Testpublic void add()&#123; dao.add(user1); dao.add(user1);&#125; ì˜ˆë¥¼ ë“¤ì–´ ìœ„ì™€ ê°™ì€ í…ŒìŠ¤íŠ¸ ì½”ë“œëŠ” ë¶„ëª… ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¬ ê²ë‹ˆë‹¤. ë˜‘ê°™ì€ ë°ì´í„°ë¥¼ 2ë²ˆ ë„£ê³  ìˆê¸° ë•Œë¬¸ì— ê¸°ë³¸í‚¤ ì œì•½ì¡°ê±´ì— ê±¸ë¦¬ê±°ë“ ìš”. ê·¼ë° ì¤‘ìš”í•œê±´, ì—¬ê¸°ì„œ ë°œìƒí•˜ëŠ” ì˜ˆì™¸ê°€ SQLException ì´ë¼ëŠ” ê²ë‹ˆë‹¤. SQLExceptionì€ SQL ê´€ë ¨í•´ì„œ ì˜¤ë¥˜ë§Œ ë‚«ë‹¤í•˜ë©´ í•­ìƒ ë°œìƒí•˜ëŠ” ë§¤ìš° ëª¨í˜¸í•œ Exception ì…ë‹ˆë‹¤. êµ³ì´ ê¸°ë³¸í‚¤ ì œì•½ì¡°ê±´ì— ê±¸ë ¤ ë°ì´í„°ê°€ ì¤‘ë³µë˜ëŠ” ìƒí™©ë§Œì´ ì•„ë‹Œ ëª¨ë“  SQL ê´€ë ¨ ì˜¤ë¥˜ì— ë°œìƒí•˜ëŠ” Exception ì´ë¼ëŠ” ê±°ì£ . (JDK 1.6ë¶€í„° ì¡°ê¸ˆì”© ë³€í™”í•˜ê³  ìˆì§€ë§Œ ì•„ì§ ëŒ€ë¶€ë¶„ì´ SQLExceptionìœ¼ë¡œ ì²˜ë¦¬ë˜ê³  ìˆìŠµë‹ˆë‹¤.) ì´ë˜ì„œëŠ” daoì˜ addë¥¼ í˜¸ì¶œí•œ ìª½ì—ì„œ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•˜ëŠ”ê²ƒë„ ì• ë§¤í•´ì§‘ë‹ˆë‹¤. ê·¸ëƒ¥ SQLExceptionì´ë¼ê³  ì˜¤ë©´ ì´ê²Œ ë¬´ìŠ¨ ì˜ˆì™¸ì¸ì§€ ì–´ì°Œ ì•Œê² ìŠµë‹ˆê¹Œâ€¦ ë¬´ì°¨ë³„ throws ê¸°ì–µë‚˜ì‹œì£ ? ë¹„ìŠ·í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ ì˜ˆì™¸ì „í™˜ì„ í†µí•´ DAOì˜ addë¥¼ ì•„ë˜ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì „í™˜í•´ì£¼ëŠ” ê²ë‹ˆë‹¤. 1234567891011public void add(User user) throws DuplicateUserIdException&#123; try&#123; // add ì‘ì—… &#125; catch(SQLException e)&#123; if(e.getErrorCode()==ì¤‘ë³µì½”ë“œ)&#123; throw new DuplicateUserIdException(e); &#125; else&#123; throw e; &#125; &#125;&#125; ëª¨í˜¸í•œ SQLExceptionì´ ì•„ë‹ˆë¼ DuplicateUserIdExceptionê³¼ ê°™ì€ ì¢€ ë” í™•ì‹¤í•œ ì˜ë¯¸ì˜ ì˜ˆì™¸ë¡œ ì „í™˜í•´ì„œ ë˜ì ¸ì£¼ëŠ” ê²ë‹ˆë‹¤. ì´ë¡œì¨ í˜¸ì¶œí•˜ëŠ” ìª½ì—ì„œ ì˜ˆì™¸ì²˜ë¦¬ ë˜í•œ ìˆ˜ì›”í•´ì§€ê²Œ ë©ë‹ˆë‹¤. getErrorCode JDBCëŠ” ë°ì´í„° ì²˜ë¦¬ì¤‘ì— ë°œìƒí•˜ëŠ” ë‹¤ì–‘í•œ ì˜ˆì™¸ë¥¼ ê·¸ëƒ¥ SQLException í•˜ë‚˜ì— ë‹´ì•„ë²„ë¦½ë‹ˆë‹¤. getErrorCodeëŠ” SQLExceptionì— ì •ì˜ëœ ë©”ì„œë“œë¡œì¨, ì˜ˆì™¸ê°€ ë°œìƒëœ ì—ëŸ¬ ì½”ë“œë¥¼ ë°˜í™˜í•´ì¤ë‹ˆë‹¤. í•´ë‹¹ ì½”ë“œë¥¼ í†µí•´ ë°œìƒí•œ SQLExceptionì— ëŒ€í•´ ì ì ˆí•œ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤. í•˜ì§€ë§Œ ì—ëŸ¬ì½”ë“œë¼ëŠ”ê²Œ DB ë²¤ë”ë§ˆë‹¤ ê°ê° ë‹¤ë¥´ë¯€ë¡œ getErrorCode ë©”ì„œë“œë¥¼ í†µí•´ DBì— ë…ë¦½ì ì¸ ì˜ˆì™¸ì²˜ë¦¬ëŠ” í˜ë“¤ë‹¤ëŠ” ë‹¨ì ì´ ìˆìŠµë‹ˆë‹¤â€¦ ìœ„ì—ì„œ ë¹„êµí•œ ì¤‘ë³µì½”ë“œ ë¼ëŠ” ê²ƒì´ DB ë§ˆë‹¤ ë‹¤ ì œê°ê° ì´ë¼ëŠ”ê±°ì£ . SQLExceptionì—ì„œ DBì— ë…ë¦½ì ì¸ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ ìœ„í•´ getSQLStateë¼ëŠ” ë©”ì„œë“œë¥¼ ì œê³µí•˜ê³ ëŠ” ìˆì§€ë§Œ, ì‹¤ìƒ ê° DB ì œì¡°ì‚¬ë“¤ì€ ì´ ìƒíƒœ ì½”ë“œë¥¼ ì œëŒ€ë¡œ ì‘ì„±í•´ì£¼ì§€ ì•Šì€ ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤. ã… .ã…  ê·¸ë˜ì„œ DuplicateUserIdExceptionì„ ì „ë‹¬í•  ë•Œ SQLExceptionì„ ë„£ì–´ì„œ ì „ë‹¬í•´ì£¼ëŠ” ì¤‘ì²© ì˜ˆì™¸ ë°©ì‹ì„ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì¤‘ì²©ì˜ˆì™¸ë¡œ ë°œìƒì‹œì¼œì¤„ ê²½ìš°, í˜¸ì¶œí•˜ëŠ” ìª½ì—ì„œ Throwable í´ë˜ìŠ¤ì˜ getCause() ë©”ì„œë“œë¡œ ì›ì¸ ì˜ˆì™¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. RuntimeException ì „í™˜ ìœ„ì™€ ê°™ì€ í¬ì¥(wrap)í˜• ì˜ˆì™¸ ì „í™˜ ë§ê³ , í˜•íƒœ(?)ë¥¼ ë°”ê¿”ì£¼ëŠ” ì˜ˆì™¸ ì „í™˜ ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤. ë˜ ë‹¤ì‹œ SQLExceptionìœ¼ë¡œ ì˜ˆë¥¼ ë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤. SQLExceptionì€ ì²´í¬ ì˜ˆì™¸ì…ë‹ˆë‹¤. ì²´í¬ ì˜ˆì™¸ëŠ”, í•´ë‹¹ ì˜ˆì™¸ ë°œìƒ ê°€ëŠ¥ì„±ì´ ìˆëŠ” ê³³ì—ì„œ ì˜ˆì™¸ì˜ ì²˜ë¦¬ë¥¼ ë¬¸ë²•ì ìœ¼ë¡œ ê°•ì œí•©ë‹ˆë‹¤. ê·¸ëŸ°ë° ì¤‘ìš”í•œì ì€, SQLExceptionì˜ ê²½ìš° ëŒ€ë¶€ë¶„ì´ ë³µêµ¬ ë¶ˆê°€ëŠ¥í•œ ì˜ˆì™¸ë¼ëŠ” ì ì…ë‹ˆë‹¤. ì¦‰ ëŒ€ë¶€ë¶„ì´ ì˜ˆì™¸ë¥¼ ì¡ì•„ë„ ì²˜ë¦¬í•´ì¤„ìˆ˜ ìˆëŠ”ê²Œ ì—†ë‹¤ëŠ” ëœ»ì¸ë°â€¦ ì´ëŸ´ê²½ìš° ê·¸ëƒ¥ throwsë¡œ ë˜ì ¸ë²„ë ¤ì•¼ í• ê¹Œìš”? í˜¸ì¶œí•˜ëŠ” ìª½ì—ì„œë¼ë„ ì˜ˆì™¸ë¥¼ ë°›ì•„ ì²˜ë¦¬í•˜ë©´ ë‹¤í–‰ì´ê² ì§€ë§Œ, SQLExceptionì˜ ê²½ìš° í˜¸ì¶œí•˜ëŠ” ìª½ì—ì„œë„ ë”±íˆ ì²˜ë¦¬í• ê²Œ ì—†ìŠµë‹ˆë‹¤. ê²°êµ­ ë¬´ì°¨ë³„ throwsì™€ ê°™ì€ í˜„ìƒì´ ë°œìƒí•˜ê²Œ ë©ë‹ˆë‹¤â€¦ ì´ëŠ” ë§¤ìš° ë¬´ì˜ë¯¸í•©ë‹ˆë‹¤. ì•„ë¬´ë¦¬ ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ ë„˜ê¸°ê³  ë„˜ê²¨ë´¤ì ì²˜ë¦¬ê°€ ë¶ˆê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì–´ì©Œí”¼ ì´ë ‡ê²Œ ì²˜ë¦¬ê°€ ì•ˆë  ì˜ˆì™¸ì´ë©´ ê°€ëŠ¥í•œ ë¹¨ë¦¬ ì´ë¥¼ RuntimeExceptionìœ¼ë¡œ í¬ì¥í•˜ì—¬, í˜¸ì¶œí•˜ëŠ” ìª½ì—ì„œ ë¬´ì°¨ë³„ throwsë¥¼ ì„ ì–¸í•˜ì§€ ì•Šë„ë¡ í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. 12345678910try &#123; // DAO ì½”ë“œ&#125; catch (SQLException e) &#123; if(e.getErrorCode() ë“±ì„ ì´ìš©í•´ì„œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ê²½ìš°)&#123; // ì²˜ë¦¬ ì½”ë“œ &#125; else&#123; // ë¡œê¹…, ì—ëŸ¬ ë‚´ìš© ë©”ì¼ ì „ì†¡ ë“±ì˜ ë¡œì§ throw new RuntimeException(e); &#125;&#125; ìœ„ì™€ ê°™ì´ ì²˜ë¦¬ ê°€ëŠ¥í•œ SQLExceptoinì˜ ê²½ìš° ì²˜ë¦¬í•´ì£¼ê³ , ë‚˜ë¨¸ì§€ ì˜ˆì™¸ì˜ ê²½ìš° RuntimeExceptionìœ¼ë¡œ í¬ì¥í•˜ì—¬ í˜¸ì¶œ ë©”ì„œë“œë“¤ ìª½ì—ì„œ ì‹ ê²½ì“°ì§€ ì•Šë„ë¡ í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ëŒ€ì‹ , ë°œìƒì‹œì— ë¡œê¹…ì´ë‚˜ ë©”ì¼ ì „ì†¡ê°™ì€ ë¡œì§ì„ ë°œìƒì‹œì¼œì„œ ì¶”í›„ì— ê°œë°œìê°€ ê·¸ê²ƒì„ ë³´ê³  ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ”ê²Œ ì¢‹ìŠµë‹ˆë‹¤. ë¬´ì‘ì • throwsë¥¼ ì„ ì–¸í•˜ëŠ” ê²ƒì€ ì˜¬ë°”ë¥¸ ì˜ˆì™¸ì²˜ë¦¬ ë°©ë²•ì´ ì•„ë‹™ë‹ˆë‹¤. ì• í”Œë¦¬ì¼€ì´ì…˜ ì˜ˆì™¸ ì´ëŠ” ìœ„ì˜ RuntimeException ì˜ˆì™¸ ì „í™˜ê³¼ëŠ” ë°˜ëŒ€ë˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤. ì‹œìŠ¤í…œ ìƒì˜ ì˜ˆì™¸ê°€ ì•„ë‹Œ, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì—ì„œ ë°œìƒí•˜ëŠ” ì˜ˆì™¸ì— ëŒ€í•´ì„œëŠ” ì‚¬ìš©ìê°€ ì§ì ‘ ì˜ˆì™¸ë¥¼ ì •ì˜í•´ì£¼ê¸°ë„ í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ìë©´ ì”ê³ ê°€ 0ì¸ í†µì¥ì—ì„œ ì¶œê¸ˆì„ í•˜ë ¤ëŠ” ê²½ìš° ë“±ì´ ìˆìŠµë‹ˆë‹¤. ì ì ˆí•œ ë¦¬í„´ê°’ìœ¼ë¡œ ë¡œì§ì„ êµ¬ì„±í•  ìˆ˜ë„ ìˆì§€ë§Œ, ë¦¬í„´ê°’ì´ë¼ëŠ”ê²Œ í‘œì¤€ë„ ì—†ê³  ì¡°ê±´ë¬¸ì´ ë§ì•„ì ¸ì„œ ë¡œì§ì„ íŒŒì•…í•˜ê¸°ê°€ ë” í˜ë“¤ì–´ì§‘ë‹ˆë‹¤. ì´ëŸ´ ê²½ìš°, ë¹„ì§€ë‹ˆìŠ¤ì ì¸ ì˜ë¯¸ë¥¼ ê°€ì§„ ì˜ˆì™¸ë¥¼ ì •ì˜í•˜ì—¬ ë°œìƒì‹œì¼œ ì£¼ëŠ”ê²ƒì´ ìƒëŒ€ì ìœ¼ë¡œ ì½”ë“œê°€ ë” ê¹”ë”í•´ì§‘ë‹ˆë‹¤. (ì˜ˆì™¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš° catch ë¸”ë¡ì— ëª¨ì•„ ë‘˜ìˆ˜ ìˆê¸° ë•Œë¬¸. ë¦¬í„´ê°’ ì‚¬ìš©ì‹œ ë¡œì§ ì•ˆì—ì„œ ì²´í¬í•˜ë¯€ë¡œ ë³´ê¸° ë³µì¡í•©ë‹ˆë‹¤.) ê·¸ë¦¬ê³  ì´ëŸ° ì˜ˆì™¸ë“¤ì€ ì²´í¬ ì˜ˆì™¸ë¡œ ë§Œë“¤ì–´ì„œ ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ ê°•ì œí•˜ë„ë¡ í•©ë‹ˆë‹¤. ì´ëŸ° ì˜ˆì™¸ë¥¼ ë³´í†µ ì• í”Œë¦¬ì¼€ì´ì…˜ ì˜ˆì™¸ ë¼ê³  í•©ë‹ˆë‹¤. ì—¬ëŸ¬ê°€ì§€ ì˜ˆì™¸ì²˜ë¦¬ ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ì§€ë§Œ, ì •ë‹µì€ ì—†ìŠµë‹ˆë‹¤. ìƒí™©ì— ë§ì¶° ì‚¬ìš©í•´ì•¼ í•˜ì£ . ì˜ëª»ëœ ì˜ˆì™¸ì²˜ë¦¬ëŠ” í•­ìƒ í”¼í•˜ê³ , ì˜ˆì™¸ì²˜ë¦¬ ë°©ë²•ì˜ íŠ¹ì§•ì„ í•­ìƒ ìƒê°í•˜ë©° í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•´ì•¼ê² ë„¤ìš”â€¦(ë‹¤ì§ã…‹ã…‹) ìŠ¤í”„ë§ ì˜ˆì™¸ì²˜ë¦¬ ìŠ¤í”„ë§ì„ ì´ìš©í•˜ì—¬ DAO ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´, ex) JdbcTemplate ì˜ˆì™¸ ë°œìƒ ì‹œ ìŠ¤í”„ë§ì—ì„œ ì œê³µí•˜ëŠ” ì˜ˆì™¸ë¥¼ ë˜ì ¸ì¤ë‹ˆë‹¤. ìŠ¤í”„ë§ì€ ë°ì´í„° ê´€ë ¨ ì‘ì—…ì—ì„œ ë°œìƒí•˜ëŠ” ìˆ˜ë§ì€ ì˜ˆì™¸ë“¤ì˜ ëŒ€ë¶€ë¶„ì„ ì¶”ìƒí™”í•˜ê³ , ì¬ì •ì˜í•˜ì—¬ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤. ì¼ë‹¨ ë¨¼ì € ì•Œê³  ê°€ì…”ì•¼í•  ê²ƒì€, ìŠ¤í”„ë§ì—ì„œ ì œê³µí•˜ëŠ” ë°ì´í„° ì‘ì—… ì˜ˆì™¸ë“¤ì€ ëª¨ë‘ RuntimeException ì˜ˆì™¸ë“¤ì…ë‹ˆë‹¤. ì„œë²„ìƒì—ì„œ ë°œìƒí•˜ëŠ” SQL ê´€ë ¨ ì˜ˆì™¸ë“¤ì€ ëŒ€ë¶€ë¶„ì´ ë³µêµ¬ ë¶ˆê°€ëŠ¥í•œ ì˜ˆì™¸ì´ê¸° ë•Œë¬¸ì—, ë¬¸ë²•ì ì¸ ë¶ˆí¸í•¨ì„ ì œê±°í•˜ê¸° ìœ„í•´ ëª¨ë‘ RuntimeExceptionìœ¼ë¡œ ì •ì˜í•œ ê²ƒì…ë‹ˆë‹¤. ì´ì œ ì¶”ìƒí™”ë¥¼ ì¢€ ë” ìƒì„¸í•˜ê²Œ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. ìŠ¤í”„ë§ì—ì„œëŠ” DBì— ë…ë¦½ì ì¸ ì˜ˆì™¸ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ë„ë¡ ì˜ˆì™¸ë“¤ì´ ì¶”ìƒí™” ë˜ì–´ìˆìŠµë‹ˆë‹¤. JDBCë¡œ DAO ì‘ì„±í–ˆì„ ê²½ìš°ë¥¼ ìƒê°í•´ë³´ì‹œë©´, ì–¸ì œë‚˜ ì¼ê´€ëœ ì˜ˆì™¸ì¸ SQLExceptionì´ ë°œìƒí–ˆì—ˆìŠµë‹ˆë‹¤. ì´ëŸ´ ê²½ìš° ì˜ˆì™¸ë§Œ ê°€ì§€ê³ ëŠ” ì–´ë–¤ ì˜ˆì™¸ì¸ì§€ íŒë³„ì´ ì•ˆë˜ë¯€ë¡œ, getErrorCode() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ ì§„í–‰í•´ì•¼ í–ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì—¬ê¸°ì„œ ë¬¸ì œì ì€ getErrorCode ë©”ì„œë“œ ê°™ì€ ê²½ìš°, DB ì œì¡°ì‚¬ë³„ë¡œ ì œê°ê°ì˜ ì—ëŸ¬ì½”ë“œë¥¼ ë°˜í™˜í•œë‹¤ëŠ” ì  ë•Œë¬¸ì— DBì— ë…ë¦½ì ì¸ í”„ë¡œê·¸ë˜ë°ì´ ê±°ì˜ ë¶ˆê°€ëŠ¥í–ˆìŠµë‹ˆë‹¤. ì˜ˆì™¸ì²˜ë¦¬ë¶€ë¶„ì—ì„œ ê° DB ì œì¡°ì‚¬ë³„ ì—ëŸ¬ ì½”ë“œë¥¼ í™•ì¸í•˜ê³ , ì²˜ë¦¬í•´ì•¼ í–ˆìœ¼ë‹ˆê¹Œìš”â€¦ ê·¸ëŸ¬ë‚˜ ìŠ¤í”„ë§ì˜ ê²½ìš° ê° DBë³„ë¡œ ì˜ˆì™¸í´ë˜ìŠ¤ì™€ ì—ëŸ¬ì½”ë“œ ë§¤í•‘ íŒŒì¼ì„ ë‘ê³ , ì¼ê´€ëœ ì˜ˆì™¸ í´ë˜ìŠ¤ë¡œ ë°˜í™˜í•˜ê²Œ í•´ì¤ë‹ˆë‹¤. ìŠ¤í”„ë§ ë¼ì´ë¸ŒëŸ¬ë¦¬ íŒŒì¼ ì¤‘ì— jdbc ê´€ë ¨ jar íŒŒì¼ì„ í’€ì–´ì„œ ë³´ì‹œë©´ ì•ˆì— sql-error-codes.xml ì´ë¼ëŠ” íŒŒì¼ì´ ë³´ì´ì‹¤ê²ë‹ˆë‹¤. í•´ë‹¹ íŒŒì¼ì„ ì—´ì–´ë³´ì‹œë©´ ìœ„ì™€ ê°™ì´ ì •ì˜ê°€ ë˜ì–´ìˆìŠµë‹ˆë‹¤. MySQLë„ ìˆê³ â€¦ Oracleë„ ìˆìŠµë‹ˆë‹¤. ì´ëŸ°ì‹ìœ¼ë¡œ ì•½ 10ì—¬ê°œ ì •ë„ DBì˜ ì—ëŸ¬ ì½”ë“œì— ëŒ€í•´ ëª¨ë‘ ë§¤í•‘ì´ ë˜ì–´ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ë³´ë‹¤ì‹œí”¼, ê° ì—ëŸ¬ì½”ë“œì— ëŒ€í•´ ì¼ê´€ëœ í”„ë¡œí¼í‹°ëª…ìœ¼ë¡œ ì •ì˜í•´ë’€ìŒì„ ë³´ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¦‰, ìŠ¤í”„ë§ì„ ì‚¬ìš©í•˜ì—¬ DAOë¥¼ ì‘ì„±í•  ê²½ìš°, DBê°€ ë°”ë€Œë”ë¼ë„ ì¼ê´€ëœ ì˜ˆì™¸ë¡œ ë°›ì„ ìˆ˜ ìˆê²Œ ëœë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤. ì´ë¡œ ì¸í•´ DBì— ë…ë¦½ì ì¸ í”„ë¡œê·¸ë˜ë°ì´ ê°€ëŠ¥í•˜ê²Œ ë©ë‹ˆë‹¤. ìŠ¤í”„ë§ì—ì„œ ì œê³µí•˜ëŠ” JdbcTemplateë¥¼ ì‚¬ìš©í•´ë³´ì‹œë©´ DBë¥¼ ë°”ê¾¸ë”ë¼ë„ SQL ì—ëŸ¬ ë°œìƒì‹œ ì¼ê´€ëœ ì˜ˆì™¸ë¥¼ ë˜ì ¸ì£¼ëŠ” ê²ƒì„ ë³´ì‹¤ ìˆ˜ ìˆì„ ê²ë‹ˆë‹¤. ìŠ¤í”„ë§ì—ì„œëŠ” DAO êµ¬í˜„ ê¸°ìˆ ì— ê´€í•´ì„œë„ ë…ë¦½ì ì¸ ì˜ˆì™¸ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ë„ë¡ ì¶”ìƒí™” ë˜ì–´ìˆìŠµë‹ˆë‹¤. ë³´í†µ DAO ì‘ì„±ì‹œ, ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•œ ì „ëµíŒ¨í„´ í˜•íƒœë¡œ ì‘ì„±í•©ë‹ˆë‹¤. DAO ì‘ì„± ê¸°ìˆ ì´ JDBCë§Œ ìˆëŠ” ê²ƒì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì´ì£ . JDBC, Hibernate, JDO, JPA ë“±ë“± êµ‰ì¥íˆ ë§ìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ì—¬ê¸°ì„œ ë˜ ë¬¸ì œê°€ ë˜ëŠ”ê²ƒì€, ê°ê° ê¸°ìˆ ì— ë”°ë¼ ë˜ì ¸ì§€ëŠ” ì˜ˆì™¸ ë˜í•œ ë‹¤ë¥´ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. JDBCëŠ” SQLException, HibernateëŠ” HibernamteException, JPAëŠ” PersistenceExceptionâ€¦ ì´ëŸ°ì‹ì´ì£ . í•˜ì§€ë§Œ ìŠ¤í”„ë§ì€ ì´ëŸ¬í•œ ê²ƒì¡°ì°¨ë„ ê³„ì¸µì ìœ¼ë¡œ ì¶”ìƒí™” í•´ë‘ì—ˆë‹¤ëŠ” ê²ë‹ˆë‹¤â€¦ ã„·ã„· ì¤‘ë³µí‚¤ ì˜ˆì™¸ê°€ ë°œìƒí–ˆì„ ë–„ë¥¼ ì˜ˆë¡œ ë“¤ì–´ë³´ë©´, JDBCì˜ ê²½ìš° DuplicateKeyException, í•˜ì´ë²„ë„¤ì´íŠ¸ì˜ ê²½ìš° ConstraintViolcationExceptionì„ ë°œìƒì‹œí‚µë‹ˆë‹¤. ê·¸ë¦¬ê³  ì´ ì˜ˆì™¸ë“¤ì€ ê³µí†µëœ ìƒìœ„ ì˜ˆì™¸ë¡œ DataIntegrityViolationExceptionë¥¼ ê°€ì§‘ë‹ˆë‹¤. ì¦‰, ì´ëŸ°ì‹ìœ¼ë¡œ ëŒ€ë¶€ë¶„ì˜ ëª¨ë“  ì˜ˆì™¸ê°€ ì¶”ìƒí™” ë˜ì–´ ìˆê¸° ë–„ë¬¸ì—, ìŠ¤í”„ë§ì„ ì‚¬ìš©í•˜ë©´ DAOì˜ êµ¬í˜„ê¸°ìˆ , DBì˜ ì¢…ë¥˜ì— ë…ë¦½ì ì¸ í”„ë¡œê·¸ë˜ë°ì´ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤. í•˜ì§€ë§Œâ€¦ DAOì˜ êµ¬í˜„ê¸°ìˆ ì— ê´€í•œ ì¶”ìƒí™”ëŠ” DB ì¢…ë¥˜ì— ê´€í•œ ì¶”ìƒí™”ë³´ë‹¤ëŠ” ì´ìš©ê°€ì¹˜ê°€ ì¡°ê¸ˆ ë–¨ì–´ì§€ëŠ” ê²ƒì´ í˜„ì‹¤ì…ë‹ˆë‹¤. DataIntegrityViolationException ì˜ˆì™¸ì˜ ê²½ìš° ì¤‘ë³µí‚¤ ì˜ˆì™¸ì™¸ì— ë‹¤ë¥¸ ì œì•½ì¡°ê±´ ìœ„ë°˜ìƒí™©ì—ì„œë„ ë°œìƒí•˜ê¸° ë•Œë¬¸ì´ì£  ã… .ã…  ìŠ¤í”„ë§ì˜ ì¶”ìƒí™”ëŠ” ì •ë§ ëŒ€ë‹¨í•˜ì§€ë§Œâ€¦ ê·¼ë³¸ì ì¸ í•œê³„ ë•Œë¬¸ì— ì™„ë²½í•˜ë‹¤ê³  ê¸°ëŒ€í• ìˆœ ì—†ìŠµë‹ˆë‹¤. ê·¸ë˜ë„ ìŠ¤í”„ë§ì€ ì°¸ ëŒ€ë‹¨í•˜ë„¤ìš”. ì´ì •ë„ë§Œ í•´ë„ ã„·ã„· ê°„ë‹¨íˆ DuplicateKeyException ê³„ì¸µì„ ë³´ë©´ ìœ„ì™€ ê°™ì£ . ë¹¨ê°„ìƒ‰ìœ¼ë¡œ í‘œì‹œí•œ DataAccessExceptionì´ ìŠ¤í”„ë§ì—ì„œ ì œê³µí•˜ëŠ” ì˜ˆì™¸ì˜ ìµœìƒìœ„ í´ë˜ìŠ¤ì…ë‹ˆë‹¤. RuntimeExceptionì˜ í•˜ìœ„í´ë˜ìŠ¤ì¸ê²ƒë„ ë³¼ ìˆ˜ ìˆë„¤ìš”. ì—¬ê¸°ê¹Œì§€ ì˜ˆì™¸ì²˜ë¦¬ ë°©ë²•ê³¼ ìŠ¤í”„ë§ì˜ ì˜ˆì™¸ ì¶”ìƒí™”ì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ìŠµë‹ˆë‹¤â€¦ ì˜ˆì™¸ë¼ëŠ”ê²Œ ì¤‘ìš”í•˜ì§€ë§Œ ì‹ ê²½ ì˜ ëª»ì“°ê²Œë˜ëŠ” ë¶€ë¶„ì¸ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ì±…ì„ í†µí•´ ê³µë¶€í•˜ê³ , í¬ìŠ¤íŒ…ì„ í•¨ìœ¼ë¡œì¨ ë‹¤ì‹œ í•œë²ˆ ì¤‘ìš”ì„±ì„ êº ë‹«ëŠ”ê²ƒ ê°™ë„¤ìš”â€¦ ë‹¤ë¥¸ ë¶„ë“¤ì—ê²Œë„ ë„ì›€ì´ ë˜ê¸¸ ë°”ë¼ê² ìŠµë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤.]]></content>
      <categories>
        <category>spring</category>
      </categories>
      <tags>
        <tag>spring exception</tag>
        <tag>exception bad practice</tag>
        <tag>exception best practice</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[db] mysql sample data]]></title>
    <url>%2Fdb%2Fmysql-sample-data%2F</url>
    <content type="text"><![CDATA[https://github.com/datacharmer/test_db mysql &lt; employees.sql ì´ê±° ì™¸ì—” ë”±íˆ í•  í•„ìš” ì—†ì–´ë³´ì´ê¸´ í•¨]]></content>
      <categories>
        <category>db</category>
      </categories>
      <tags>
        <tag>mysql sample data</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[spring] WebApplicationInitializer]]></title>
    <url>%2Fspring%2FWebApplicationInitializer%2F</url>
    <content type="text"><![CDATA[ì„œë¸”ë¦¿ì€ 3.0 ì´í›„ë¶€í„° web.xml ì—†ì´ë„ ì„œë¸”ë¦¿ ì»¨í…ìŠ¤íŠ¸ ì´ˆê¸°í™” ì‘ì—…ì´ ê°€ëŠ¥í•´ì¡Œë‹¤. í”„ë ˆì„ì›Œí¬ ë ˆë²¨ì—ì„œ ì§ì ‘ ì´ˆê¸°í™”í•  ìˆ˜ ìˆê²Œ ë„ì™€ì£¼ëŠ” ServletContainerInitializer APIë¥¼ ì œê³µí•˜ê¸° ë•Œë¬¸ì´ë‹¤. ì„œë¸”ë¦¿ ì»¨í…ìŠ¤íŠ¸ ì´ˆê¸°í™” web.xmlì—ì„œ í–ˆë˜ ì„œë¸”ë¦¿ ë“±ë¡/ë§¤í•‘, ë¦¬ìŠ¤ë„ˆ ë“±ë¡, í•„í„° ë“±ë¡ ê°™ì€ ì‘ì—…ë“¤ì„ ë§í•œë‹¤. ìŠ¤í”„ë§ì€ ì›¹ ëª¨ë“ˆë‚´ì— ì´ë¯¸ ServletContainerInitializerë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤ê°€ í¬í•¨ë˜ì–´ ìˆê³ , ì´ëŠ” WebApplicationInitializer ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤ë¥¼ ì°¾ì•„ ì´ˆê¸°í™” ì‘ì—…ì„ ìœ„ì„í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•œë‹¤. 123public interface WebApplicationInitializer&#123; void onStartup(ServletContext servletContext) throws ServletException;&#125; ì´ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ë‘ë©´ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹œì‘í•  ë•Œ ìë™ìœ¼ë¡œ onStartup() ë©”ì„œë“œê°€ ì‹¤í–‰ëœë‹¤. ì—¬ê¸°ì„œ ì´ˆê¸°í™” ì‘ì—…ì„ ìˆ˜í–‰í•˜ë©´ ëœë‹¤. ë£¨íŠ¸ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ ë“±ë¡(root-context.xml) ê¸°ì¡´ì—ëŠ” ì•„ë˜ì™€ ê°™ì´ web.xmlì— ë¦¬ìŠ¤ë„ˆ í˜•íƒœë¡œ ë“±ë¡í–ˆë‹¤. 1234&lt;listener&gt; &lt;!-- /WEB-INF/applicationContext.xml ìƒì„±--&gt; &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt; &lt;/listener&gt; ë¦¬ìŠ¤ë„ˆì˜ ì—­í•  ë¦¬ìŠ¤ë„ˆëŠ” ì„œë¸”ë¦¿ ì»¨í…ìŠ¤íŠ¸ê°€ ìƒì„±í•˜ëŠ” ì´ë²¤íŠ¸ë¥¼ ì „ë‹¬ë°›ëŠ” ì—­í• ì„ í•œë‹¤. ì„œë¸”ë¦¿ ì»¨í…ìŠ¤íŠ¸ê°€ ë§Œë“œëŠ” ì´ë²¤íŠ¸ëŠ” ì»¨í…ìŠ¤íŠ¸ ì´ˆê¸°í™” ì´ë²¤íŠ¸ì™€ ì¢…ë£Œ ì´ë²¤íŠ¸ì´ë‹¤. ì¦‰ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹œì‘ë˜ê³  ì¢…ë£Œë˜ëŠ” ì‹œì ì— ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ê³ , ë¦¬ìŠ¤ë„ˆë¥¼ ë“±ë¡í•´ë‘ë©´ ì´ë¥¼ ë°›ì„ ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤. ìŠ¤í”„ë§ì€ ì™œ ë£¨íŠ¸ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì„œë¸”ë¦¿ ë¦¬ìŠ¤ë„ˆ ë ˆë²¨ì—ì„œ ë“±ë¡í•˜ê²Œ í–ˆì„ê¹Œ? ì´ëŠ” ìœ„ì˜ ë¦¬ìŠ¤ë„ˆì˜ ì—­í• ì— ë³´ì´ë“¯ì´ ë£¨íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ì˜ ìƒëª…ì£¼ê¸°ê°€ ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆì™€ ì¼ì¹˜í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ì•„ë˜ì™€ ê°™ì´ ë¦¬ìŠ¤ë„ˆë¥¼ ë“±ë¡í•´ì¤€ë‹¤. 12ServletContextListener listener = new ContextLoaderListener();servletContext.addListener(listener); WebApplicationInitializerì˜ onStartup()ì€ ì„œë¸”ë¦¿ ì»¨í…ìŠ¤íŠ¸ ì´ˆê¸°í™” ì‹œì ì— ì‹¤í–‰ëœë‹¤ê³  í–ˆìœ¼ë‹ˆ ë¦¬ìŠ¤ë„ˆë¥¼ ë“±ë¡í•˜ì§€ ì•Šì•„ë„ ëœë‹¤ê³  ìƒê°í•  ìˆ˜ ìˆìœ¼ë‚˜, ì´ˆê¸°í™” ì‹œì ë§Œ ì¡ì„ ìˆ˜ ìˆì§€ ì¢…ë£Œ ì‹œì ì„ ì¡ì„ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ìœ„ì™€ ê°™ì´ ë¦¬ìŠ¤ë„ˆëŠ” ë“±ë¡í•´ì¤˜ì•¼ í•œë‹¤. ì¢…ë£Œ ì‹œì ì„ ì¡ì•„ì£¼ì§€ ì•Šìœ¼ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì¢…ë£Œë˜ì–´ë„ ë¦¬ì†ŒìŠ¤ê°€ ë°˜í™˜ë˜ì§€ ëª»í•˜ë¯€ë¡œ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ê°€ ì¼ì–´ë‚  ìˆ˜ ìˆë‹¤. ë””í´íŠ¸ ë£¨íŠ¸ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ í´ë˜ìŠ¤(XmlWebApplicationContext)ë‚˜ ë””í´íŠ¸ XML ì„¤ì •íŒŒì¼ ìœ„ì¹˜(/WEB-INF/applicationContext.xml)ë¥¼ ë°”ê¾¸ê³  ì‹¶ì„ë•Œ web.xmlì—ì„  ì•„ë˜ì™€ ê°™ì´ í–ˆì—ˆë‹¤. 12345678910111213&lt;!-- ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ í´ë˜ìŠ¤ ë³€ê²½ --&gt;&lt;context-param&gt; &lt;param-name&gt;contextClass&lt;/param-name&gt; &lt;param-value&gt; org.springframework.web.context.support.AnnotationWebApplicationContext &lt;/param-value&gt;&lt;/context-param&gt;&lt;!-- ì„¤ì •íŒŒì¼ ìœ„ì¹˜ ë³€ê²½ --&gt;&lt;context-param&gt; &lt;param-name&gt;contextConfigLoaction&lt;/param-name&gt; &lt;param-value&gt;/WEB-INF/root-context.xml&lt;/param-value&gt;&lt;/context-param&gt; ì´ëŠ” ì„œë¸”ë¦¿ ì˜¤ë¸Œì íŠ¸ì˜ setInitParameter() ë©”ì„œë“œë¥¼ í†µí•´ ì§€ì •í•  ìˆ˜ ìˆë‹¤. 1234// ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ í´ë˜ìŠ¤ ë³€ê²½ servletContext.setInitParameter("contextClass", "org.springframework.web.context.support.AnnotationWebApplicationContext");// ì„¤ì •íŒŒì¼ ìœ„ì¹˜ ë³€ê²½servletContext.setInitParameter("contextConfigLoaction", "/WEB-INF/root-context.xml"); ë§Œì•½ Java Configë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ë” ê¹”ë”í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 1234AnnotationConfigWebApplicationContext rootContext = new AnnotationConfigWebApplicationContext();rootContext.register(RootConfig.class); // RootConfig == root-context java configservletContext.addListener(new ContextLoaderListener(rootContext)); register() ëŒ€ì‹  scan() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ íŒ¨í‚¤ì§€ë¥¼ í†µì§¸ë¡œ ìŠ¤ìº”í• ìˆ˜ë„ ìˆë‹¤. ì„œë¸”ë¦¿ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ ë“±ë¡(servlet-context.xml) ì„œë¸”ë¦¿ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ëŠ” ì„œë¸”ë¦¿ ì•ˆì—ì„œ ì´ˆê¸°í™”ë˜ê³  ì„œë¸”ë¦¿ì´ ì¢…ë£Œë  ë–„ ê°™ì´ ì¢…ë£Œëœë‹¤. ì´ë•Œ ì‚¬ìš©ë˜ëŠ” ì„œë¸”ë¦¿ì´ DispatcherServletì´ë‹¤. ê¸°ì¡´ì˜ DispatcherServlet ë“±ë¡ì€ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í–ˆì—ˆë‹¤. 12345678910111213&lt;servlet&gt; &lt;servlet-name&gt;appServlet&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;/WEB-INF/spring/appServlet/servlet-context.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;&lt;/servlet&gt;&lt;servlet-mapping&gt; &lt;sevlet-name&gt;appServlet&lt;/servlet-name&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt;&lt;/servlet-mapping&gt; ì´ë¥¼ ìë°”ì½”ë“œë¡œ ë°”ê¾¸ë©´ 1234ServletRegistration.Dynamic dispatcher = servletContext.addServlet("appServlet", new DispatcherServlet());dispatcher.setInitParameter("contextConfigLocation", "/WEB-INF/spring/appServlet/servlet-context.xml");dispatcher.setLoadOnStartUp(1);dispatcher.addMapping("/"); ì´ ë˜í•œ ë£¨íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ ì²˜ëŸ¼ Java Configë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 123456AnnotationConfigWebApplicationContext sac = new AnnotationConfigWebApplicationContext();sac.register(WebConfig.class);ServletRegistration.Dynamic dispatcher = servletContext.addServlet("appServlet", new DispatcherServlet(sac));dispatcher.setLoadOnStartUp(1);dispatcher.addMapping("/"); ì—¬ê¸°ê¹Œì§€ê°€ ë£¨íŠ¸ ì»¨í…ìŠ¤íŠ¸ì™€ ì„œë¸”ë¦¿ ì»¨í…ìŠ¤íŠ¸ë¥¼ ìë°” ì½”ë“œë¡œ ë¶„ë¦¬í•œ ê³¼ì •ì´ë‹¤. í•„í„°ë‚˜ ë¦¬ìŠ¤ë„ˆë“¤ë„ ì´ëŸ°ì‹ìœ¼ë¡œ ëª¨ë‘ ë“±ë¡í•  ìˆ˜ ìˆê³ , ê·¸ ì´í›„ì—” web.xmlì„ ì•„ì˜ˆ ì œê±°í•  ìˆ˜ë„ ìˆë‹¤. ê·¸ ì „ê¹Œì§„ WebApplicationInitializerì™€ web.xmlì„ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ëŒ€ì‹  ì•„ë˜ì™€ ê°™ì´ web.xmlì— versionì„ ëª…ì‹œí•´ì¤˜ì•¼ í•œë‹¤. 12345&lt;web-app version="3.0"&gt; &lt;!-- .... --&gt;&lt;/web-app&gt; From]]></content>
      <categories>
        <category>spring</category>
      </categories>
      <tags>
        <tag>í† ë¹„ì˜ ìŠ¤í”„ë§</tag>
        <tag>web.xml ì—†ì• ê¸°</tag>
        <tag>WebApplicationInitializer</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[spring] HandlerExceptionResolver, LocaleResolve, MulitpartResolver]]></title>
    <url>%2Fspring%2FHandlerExceptionResolver-LocaleResolver-MultipartResolver%2F</url>
    <content type="text"><![CDATA[HandlerMapping, HandlerAdapter, ViewResolver ë“± ì™¸ì—ë„ DispatcherServletì—ëŠ” ë‹¤ì–‘í•œ í™•ì¥ ê°€ëŠ¥í•œ ì „ëµë“¤ì´ ì¡´ì¬í•œë‹¤. ì•„ë˜ëŠ” ë‚¨ì€ ì „ëµë“¤ ì¤‘ ì¤‘ìš”í•œ ê²ƒë“¤ë§Œì„ ë‚˜ì—´í•œ ê²ƒì´ë‹¤. í•¸ë“¤ëŸ¬ ì˜ˆì™¸ ë¦¬ì¡¸ë²„ HandlerExceptionResolverëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ ì‘ì—… ì¤‘ ë°œìƒí•œ ì˜ˆì™¸ë¥¼ ì–´ë–»ê²Œ ì²˜ë¦¬í•  ì§€ ê²°ì •í•˜ëŠ” ì „ëµì´ë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ì»¨íŠ¸ë¡¤ëŸ¬ë‚˜ ê·¸ ë’· ê³„ì¸µì—ì„œ ë°œìƒí•œ ì˜ˆì™¸ëŠ” ì¼ë‹¨ DispatcherServletì´ ì „ë‹¬ë°›ì€ ë‹¤ìŒ ë‹¤ì‹œ ì„œë¸”ë¦¿ìœ¼ë¡œ ë˜ì ¸ì„œ ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆê°€ ì²˜ë¦¬í•˜ê²Œ ëœë‹¤. ë³„ë‹¤ë¥¸ ì²˜ë¦¬ë¥¼ í•˜ì§€ ì•Šì•˜ë‹¤ë©´ 500 Internal Server Error ê°™ì€ ë©”ì‹œì§€ê°€ ì¶œë ¥ë  ê²ƒì´ë‹¤. ê·¸ëŸ°ë° í•¸ë“¤ëŸ¬ ì˜ˆì™¸ ë¦¬ì¡¸ë²„ê°€ ë“±ë¡ë˜ì–´ìˆë‹¤ë©´ DispatcherServletì€ ë¨¼ì € ì´ ë¦¬ì¡¸ë²„ê°€ í•´ë‹¹ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•œë‹¤. ë§Œì•½ í•´ë‹¹ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆìœ¼ë©´ ì˜ˆì™¸ëŠ” DispatcherServlet ë°–ìœ¼ë¡œ ë˜ì ¸ì§€ì§€ ì•Šê³  í•´ë‹¹ í•¸ë“¤ëŸ¬ ì˜ˆì™¸ ë¦¬ì¡¸ë²„ê°€ ì²˜ë¦¬í•œë‹¤. í•¸ë“¤ëŸ¬ ì˜ˆì™¸ ë¦¬ì¡¸ë²„ëŠ” HandlerExceptionResolver ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ì„œ ìƒì„±í•œë‹¤. 123public interface HandlerExceptionResolver&#123; ModelAndView resolveException(HttpServletRequest reqeust, HttpServletResponse response, Object handler, Exception ex);&#125; êµ¬í˜„ ë©”ì„œë“œì¸ resolveExceptionì˜ ë¦¬í„´ íƒ€ì…ì€ ModelAndViewì´ë‹¤. ì˜ˆì™¸ì— ë”°ë¼ ì‚¬ìš©í•  ë·°ì™€ ëª¨ë¸ì„ ëŒë ¤ì£¼ë„ë¡ ë˜ì–´ìˆë‹¤. ë§Œì•½ ì²˜ë¦¬ ë¶ˆê°€ëŠ¥í•œ ì˜ˆì™¸ë¼ë©´ nullì„ ë¦¬í„´í•œë‹¤. ìŠ¤í”„ë§ì€ ì´ë¯¸ 4ê°œì˜ HandlerExceptionResolver êµ¬í˜„ ì „ëµì„ ì œê³µí•œë‹¤. AnnotationMethodHandlerExceptionResolver ì˜ˆì™¸ê°€ ë°œìƒí•œ ì»¨íŠ¸ë¡¤ëŸ¬ ë‚´ì˜ ë©”ì„œë“œ ì¤‘ì—ì„œ @ExceptionHandler ì• ë…¸í…Œì´ì…˜ì´ ë¶™ì€ ë©”ì„œë“œë¥¼ ì°¾ì•„ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ ë§¡ê¸´ë‹¤. 123456789101112@Controllerpublic class HelloController&#123; @RequestMapping(value="/hello") public void hello()&#123; // DataAccessException occured! &#125; @ExceptionHandler(DataAccessException.class) public ModelAndView dataAccessExceptionHandler(DataAccessException ex)&#123; return new ModelAndView("error").addObject("msg", ex.getMessage()); &#125;&#125; íŠ¹ì • ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ì˜ˆì™¸ë§Œì„ ì²˜ë¦¬í•˜ê³  ì‹¶ì„ë•Œ ìœ ìš©í•˜ë‹¤. ResponseStatusExceptionResolver ì˜ˆì™¸ë¥¼ íŠ¹ì • HTTP ì‘ë‹µ ìƒíƒœì½”ë“œë¡œ ì „í™˜í•´ì¤€ë‹¤. ì˜ˆì™¸í´ë˜ìŠ¤ì— @ResponseStatus ì• ë…¸í…Œì´ì…˜ì„ ë¶™ì´ê³  value(ì‘ë‹µ ìƒíƒœ ê°’)ë¥¼ ì§€ì •í•œ ë’¤ í•´ë‹¹ ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚¤ë©´ ResponseStatusExceptionResolverê°€ HTTP ì‘ë‹µì„ ë³€í™˜í•´ì¤€ë‹¤. ë‹¨ìˆœí•œ HTTP 500 ì—ëŸ¬ ëŒ€ì‹  ì˜ë¯¸ìˆëŠ” ì‘ë‹µ ìƒíƒœë¥¼ í´ë¼ì´ì–¸íŠ¸ì— ì „ë‹¬í•˜ê³ ì í•  ë–„ ìœ ìš©í•˜ê²Œ ì‚¬ìš©ëœë‹¤. 1234@ResponseStatus(value=HttpStatus.SERVICE_UNVAILABLE, reason="ì´ìœ ë„ ì§€ì • ê°€ëŠ¥")public class ServiceException extends RuntimeException &#123;&#125; ìœ„ì™€ ê°™ì´ @ResponseStatusê°€ ë¶™ì€ Exceptionì„ ì •ì˜í•˜ê³ , 1234public void helloService()&#123; // .... throw new ServiceException(); // exception ë°œìƒ&#125; ì´ë ‡ê²Œ í•´ë‹¹ Exceptionì„ ë°œìƒì‹œí‚¤ë©´ @ResponseStatusì— ì§€ì •ëœ í˜•íƒœë¡œ Responseë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤. ë§Œì•½ ìœ„ì²˜ëŸ¼ ì •ì˜í•  ìˆ˜ ì—†ëŠ” ê¸°ì¡´ ì˜ˆì™¸ê°€ ë°œìƒí–ˆì„ ë•ŒëŠ” ìœ„ì˜ @ExceptionHandlerë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤. 12345@ResposneStatus(value=HttpStatus.SERVICE_UNVAILABLE)@ExceptionHandler(DataAccessException.class)public ModelAndView dataAccessExceptionHandler(DataAccessException ex)&#123; return new ModelAndView("error").addObject("msg", ex.getMessage());&#125; DefaultHandlerExceptionResolver ìœ„ ë‘ ê°€ì§€ ì˜ˆì™¸ë¦¬ì¡¸ë²„ì—ì„œ ì²˜ë¦¬í•˜ì§€ ëª»í•œ ì˜ˆì™¸ë¥¼ ë‹¤ë£¨ëŠ” ì˜ˆì™¸ ë¦¬ì¡¸ë²„ì´ë‹¤. ìŠ¤í”„ë§ì—ì„œ ë°œìƒí•˜ëŠ” ì£¼ìš” ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” í‘œì¤€ ì˜ˆì™¸ì²˜ë¦¬ ë¡œì§ì„ ë‹´ê³  ìˆë‹¤. ì¦‰, ì´ ì˜ˆì™¸ ë¦¬ì¡¸ë²„ëŠ” ì‹ ê²½ì“°ì§€ ì•Šì•„ë„ ëœë‹¤. SimpleMappingExceptionResolver web.xmlì˜ &lt;error-page&gt;ì™€ ë¹„ìŠ·í•˜ê²Œ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•  ë·°ë¥¼ ì§€ì •í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤. (ë·°ë¥¼ ì°¾ì„ë•ŒëŠ” ë·°ë¦¬ì¡¸ë²„ê°€ ì‚¬ìš©ëœë‹¤.) 12345678910&lt;bean class="org.springframework.web.servlet.handler.SimpleMappingExceptionResolver"&gt; &lt;property name="mappedHandlers"&gt; &lt;props&gt; &lt;!-- í´ë˜ìŠ¤ ì´ë¦„ì— íŒ¨í‚¤ì§€ë¥¼ ì“°ì§€ ì•Šì•„ë„ ë¨ --&gt; &lt;prop key="DataAccessException"&gt;error/dao&lt;/prop&gt; &lt;prop key="BusinessLoginException"&gt;error/business&lt;/prop&gt; &lt;/props&gt; &lt;/property&gt; &lt;property name="defaultErrorView"&gt;error/default&lt;/property&gt;&lt;/bean&gt; ì‚¬ì‹¤ìƒ ì‹¤ì œë¡œ í™œìš©í•˜ê¸°ì— ê°€ì¥ í¸ë¦¬í•œ ì˜ˆì™¸ ë¦¬ì¡¸ë²„ì´ë‹¤. ì‚¬ìš©ìì—ê²Œ ì–´ë ¤ìš´ HTTP ìƒíƒœì½”ë“œë¥¼ ë³´ì—¬ì£¼ëŠ” ê²ƒë³´ë‹¤ëŠ” ë¬¸êµ¬ê°€ ìˆëŠ” ì˜ˆì™¸ í˜ì´ì§€ë¥¼ ë³´ì—¬ì£¼ëŠ” í¸ì´ ë‚«ê¸° ë•Œë¬¸ì´ë‹¤. ë˜í•œ ëª¨ë“  ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë°œìƒí•˜ëŠ” ì˜ˆì™¸ì— ì¼ê´„ ì ìš©í•  ìˆ˜ ìˆë‹¤. ì˜ˆì™¸í˜ì´ì§€ë¥¼ ë³´ì—¬ì£¼ëŠ” ì™¸ì— ë¡œê·¸ë¥¼ ë‚¨ê¸°ê±°ë‚˜ ê´€ë¦¬ìì—ê²Œ í†µë³´ë¥¼ í•´ì•¼í•  ê²½ìš° SimpleMappingExceptionResolver ë³´ë‹¤ëŠ” í•¸ë“¤ëŸ¬ ì¸í„°ì…‰í„°ì˜ afterCompletion() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì—ëŸ¬í˜ì´ì§€ì— ì—ëŸ¬ë¡œê·¸ë¥¼ ë‚¨ê¸°ëŠ” ê²ƒì€ ë°”ëŒì§í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤. ì§€ì—­ì •ë³´ ë¦¬ì¡¸ë²„ LocaleResolverëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì§€ì—­ì •ë³´ë¥¼ ê²°ì •í•˜ëŠ” ì „ëµì´ë‹¤. ë””í´íŠ¸ì¸ AcceptHeaderLocaleResolverëŠ” HTTP í—¤ë”ì˜ ì§€ì—­ì •ë³´ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•œë‹¤. ë³´í†µ HTTP í—¤ë”ì˜ ì§€ì—­ì •ë³´ëŠ” ë¸Œë¼ìš°ì €ì˜ ê¸°ë³¸ ì„¤ì •ì— ë”°ë¼ ë³´ë‚´ì§„ë‹¤. ë¸Œë¼ìš°ì € ì„¤ì •ì„ ë”°ë¥´ì§€ ì•Šê³  ì‚¬ìš©ìê°€ ì§ì ‘ ë³€ê²½í•˜ê²Œ í•˜ë ¤ë©´ SessionLocaleResolverë‚˜ CookieLocaleResolverë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ í¸ë¦¬í•˜ë‹¤. í•´ë‹¹ ë¦¬ì¡¸ë²„ë¥¼ ì‚¬ìš©í•˜ë©´ ì‚¬ìš©ìê°€ êµ­ê°€ ì„ íƒ ì‹œ ì¿ í‚¤ë‚˜ ì„¸ì…˜ì˜ locale ê°’ì„ ë³€ê²½í•˜ì—¬ í•´ë‹¹ ì§€ì—­ì˜ ë¦¬ì†ŒìŠ¤ íŒŒì¼ì´ ì‚¬ìš©ë˜ê²Œ í•  ìˆ˜ ìˆë‹¤. ë‹¤êµ­ì–´ ì„œë¹„ìŠ¤ì— ìœ ìš©í•˜ê²Œ í™œìš©í•  ìˆ˜ ìˆë‹¤. LocaleResolver ì‚¬ìš© ì˜ˆ(http://yookeun.github.io/java/2015/08/12/spring-i18n/) ë©€í‹°íŒŒíŠ¸ ë¦¬ì¡¸ë²„ ë©€í‹°íŒŒíŠ¸ í¬ë§·ì˜ ìš”ì²­ì •ë³´ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì „ëµì´ë‹¤. ë©€í‹°íŒŒíŠ¸ ë¦¬ì¡¸ë²„ ì „ëµì€ ë””í´íŠ¸ ì „ëµì´ ì—†ìœ¼ë¯€ë¡œ ì•„ë˜ì™€ ê°™ì´ ë¹ˆì„ ë“±ë¡í•´ì¤˜ì•¼ í•œë‹¤. 123&lt;bean id="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver"&gt; &lt;property name="maxUploadSize" value="100000" /&gt;&lt;/bean&gt; DispatcherServletì€ í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° ë©€í‹°íŒŒíŠ¸ ìš”ì²­ì„ ë°›ìœ¼ë©´ ë©€í‹°íŒŒíŠ¸ ë¦¬ì¡¸ë²„ì—ê²Œ ìš”ì²­í•´ì„œ HttpServletRequestì˜ í™•ì¥ íƒ€ì…ì¸ MultipartHttpServletRequestë¡œ ë³€í™˜í•œë‹¤. MultipartHttpServletRequestì—ëŠ” ë©€í‹°íŒŒíŠ¸ë¥¼ ë””ì½”ë”©í•œ ë‚´ìš©ê³¼ ì´ë¥¼ ì°¸ì¡°í•˜ê±°ë‚˜ ì¡°ì‘í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ì–´ ìˆë‹¤. ì´í›„ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì´ MultipartHttpServletRequestë¡œ ìºìŠ¤íŒ…í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 12345public ModelAndView handleRequest(HttpServletRequest request, HttpServletResponse response)&#123; MultipartHttpServletRequest multipartRequest = (MultipartHttpServletRequest) request; MultipartFile multipartFile = multipartRequest.getFile("image"); // ....&#125; RequestViewNameTranslator ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë·° ì´ë¦„ì´ë‚˜ ë·° ì˜¤ë¸Œì íŠ¸ë¥¼ ëŒë ¤ì£¼ì§€ ì•Šì„ ê²½ìš° ìš”ì²­ URL ì •ë³´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•´ì„œ ë·° ì´ë¦„ì„ ìƒì„±í•´ì¤€ë‹¤. ë””í´íŠ¸ë¡œ DefaultRequestViewNameTranslatorê°€ ë“±ë¡ë˜ì–´ ìˆë‹¤. ì˜ í™œìš©í•˜ë©´ ë§¤ë²ˆ ë·° ì´ë¦„ì„ ì§€ì •í•˜ëŠ” ìˆ˜ê³ ë¥¼ ëœì–´ì¤„ ìˆ˜ ìˆë‹¤. From]]></content>
      <categories>
        <category>spring</category>
      </categories>
      <tags>
        <tag>í† ë¹„ì˜ ìŠ¤í”„ë§</tag>
        <tag>HandlerExceptionResolver</tag>
        <tag>LocaleResolver</tag>
        <tag>MultipartResolver</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[spring] View, ViewResolver]]></title>
    <url>%2Fspring%2FView-ViewResolver%2F</url>
    <content type="text"><![CDATA[ë·°ëŠ” ëª¨ë¸ì´ ê°€ì§„ ì •ë³´ë¥¼ ì–´ë–»ê²Œ í‘œí˜„í•´ì•¼ í•˜ëŠ”ì§€ì— ëŒ€í•œ ë¡œì§ì„ ê°–ê³  ìˆëŠ” ì»´í¬ë„ŒíŠ¸ì´ë‹¤. ì¼ë°˜ì ì¸ ë·°ì˜ ê²°ê³¼ë¬¼ì€ ë¸Œë¼ìš°ì €ì—ì„œ ë³¼ ìˆ˜ ìˆëŠ” HTMLì´ë‹¤. ì´ ì™¸ì—ë„ ì—‘ì…€, PDF, RSS ë“± ë‹¤ì–‘í•œ ê²°ê³¼ë¥¼ ìƒì„±í•  ìˆ˜ ìˆëŠ” ë·° ì˜¤ë¸Œì íŠ¸ë“¤ì´ ìˆë‹¤. ë·° ë·°ëŠ” View ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ì„œ ìƒì„±í•œë‹¤. 123public interface View&#123; void render(Map&lt;String, ?&gt; model, HttpServletRequest request, HttpServletResponse resposne) throws Exception;&#125; ìŠ¤í”„ë§ì—ì„œ ì œê³µí•˜ëŠ” ë·° ëª©ë¡ì€ ì•„ë˜ì™€ ê°™ë‹¤. InternalResourceView RequestDispatcherì˜ forward(), include()ë¥¼ ì´ìš©í•˜ëŠ” ë·°ë‹¤. 123RequestDispatcher dispatcher = request.getRequestDispatcher("/WEB-INF/view/hello.jsp");request.setAttribute("message", "This is message");dispatcher.forward(request, response); ìœ„ëŠ” RequestDispatcherë¥¼ ì‚¬ìš©í–ˆë˜ ë•Œì˜ ë°©ì‹ì´ë‹¤. InternalResourceViewì˜ ë™ì‘ ë°©ì‹ë„ ì´ì™€ ë™ì¼í•˜ë‹¤ê³  ë³´ë©´ ëœë‹¤. ì•„ë˜ëŠ” ì‚¬ìš© ì˜ˆì œì˜ ì¼ë¶€ë¶„ì´ë‹¤. 123View view = new InternalResourceView("/WEB-INF/view/hello.jsp");return new ModelAndView(view, model); JstlView InternalResourceViewì˜ ì„œë¸Œ í´ë˜ìŠ¤ì´ë‹¤. JSPë¥¼ ë·° í…œí”Œë¦¿ìœ¼ë¡œ ì‚¬ìš©í•  ë•Œ JstlViewë¥¼ ì‚¬ìš©í•˜ë©´ ì—¬ëŸ¬ê°€ì§€ ì¶”ê°€ ê¸°ëŠ¥ì„ ë” í™œìš©í•  ìˆ˜ ìˆë‹¤.(ì§€ì—­í™” ë©”ì„¸ì§€ ë“±) RedirectView HttpServletResponseì˜ sendRedirect()ë¥¼ í˜¸ì¶œí•´ì£¼ëŠ” ê¸°ëŠ¥ì„ ê°€ì§„ ë·°ë‹¤. ì‹¤ì œ ë·°ë¥¼ ìƒì„±í•˜ì§„ ì•Šê³  URLë§Œ ë§Œë“¤ì–´ ë‹¤ë¥¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ í•´ì¤€ë‹¤. ëª¨ë¸ì •ë³´ê°€ ìˆë‹¤ë©´ URL ë’¤ì— íŒŒë¼ë¯¸í„°ë¡œ ì¶”ê°€ëœë‹¤. 1234// ë·° ì‚¬ìš©ì‹œreturn new ModelAndView(new RedirectView("/main"));// ë·° ë¦¬ì¡¸ë²„ ì‚¬ìš©ì‹œreturn new ModelAndView("redirect:/main"); ë³´ë‹¤ì‹œí”¼ redirect: ì ‘ë‘ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ë·° ë¦¬ì¡¸ë²„ê°€ ì¸ì‹í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤. redirect ê²½ë¡œëŠ” ì ˆëŒ€ê²½ë¡œ(ì»¨í…ìŠ¤íŠ¸ íŒ¨ìŠ¤, ì„œë¸”ë¦¿ íŒ¨ìŠ¤ í¬í•¨)ì´ì–´ì•¼ í•˜ëŠ”ë°, contextRelative ì˜µì…˜ì„ trueë¡œ ì£¼ë©´ ì»¨í…ìŠ¤íŠ¸ íŒ¨ìŠ¤ëŠ” ìƒëµí•˜ê³  ì‘ì„±í•  ìˆ˜ ìˆë‹¤. VelocityView, FreeMarkerView JSP ëŒ€ì‹  Velocity, FreeMarker í…œí”Œë¦¿ ì—”ì§„ì„ ë·°ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤. ë‘˜ì€ JSPë³´ë‹¤ í›¨ì”¬ ë¬¸ë²•ì´ ê°•ë ¥í•˜ê³  ì†ë„ë„ ë¹ ë¥¸ ì¥ì ì´ ìˆë‹¤. ê°œì¸ì ìœ¼ë¡œ ë‘˜ì€ ì¨ë³´ì§€ ì•Šì•˜ê³  Thymeleafë¼ëŠ” í…œí”Œë¦¿ ì—”ì§„ì„ ì¨ë´¤ì—ˆëŠ”ë°, ì´ê²ƒë„ ì¶”ì²œí•©ë‹ˆë‹¤â€¦ MarshallingView, MappingJacksonJsonView ëª¨ë¸ì˜ ì •ë³´ë¥¼ xml, jsonìœ¼ë¡œ ë³€í™˜ì‹œí‚¬ ìˆ˜ ìˆëŠ” ë·°ë‹¤. MashallingViewë¥¼ ì‚¬ìš©í•  ê²½ìš° xml, MappingJacksonJsonViewë¥¼ ì‚¬ìš©í•  ê²½ìš° jsonìœ¼ë¡œ ë³€í™˜ëœë‹¤. ë©”ì„¸ì§€ ì»¨ë²„í„°ë¥¼ ì´ìš©í•´ì„œë„ ë™ì¼í•œ ì‘ì—…ì„ í•  ìˆ˜ ìˆë‹¤. AbstractExcelView, AbstractJExcelView, AbstractPdfView ì—‘ì…€ê³¼ PDFë¬¸ì„œë¥¼ ë§Œë“¤ì–´ì£¼ëŠ” ë·°ë‹¤. Abstractê°€ ë¶™ì–´ìˆìœ¼ë‹ˆ ìƒì†ì„ í•´ì„œ êµ¬í˜„í•´ì¤˜ì•¼ í•œë‹¤. êµ¬í˜„í•˜ëŠ” ë¶€ë¶„ì€ ë¬¸ì„œë¥¼ ìƒì„±í•˜ëŠ” ë¶€ë¶„ì´ë‹¤. êµ¬í˜„í•œ ë·° í´ë˜ìŠ¤ëŠ” ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ì—¬ ì»¨íŠ¸ë¡¤ëŸ¬ì— DIí•´ì¤˜ë„ ë˜ê³ , ì§ì ‘ ìƒì„±í•´ë„ ëœë‹¤. ë·° ì˜¤ë¸Œì íŠ¸ëŠ” ë©€í‹°ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œ ê³µìœ í•´ë„ ì•ˆì „í•˜ë‹¤. ì¦‰ ì‹±ê¸€í†¤ ë¹ˆìœ¼ë¡œ ìƒì„±í•´ë„ ë¬¸ì œë˜ì§€ ì•ŠëŠ”ë‹¤. AbstractAtomFeedView, AbstractRssFeedView application/atom+xmlê³¼ application/rss+xml íƒ€ì…ì˜ í”¼ë“œ ë¬¸ì„œë¥¼ ìƒì„±í•´ì£¼ëŠ” ë·°ë‹¤. ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì€ ìœ„ì˜ AbstractExcelView ë“±ê³¼ ë™ì¼í•˜ë‹¤. ë·° ë¦¬ì¡¸ë²„ ë·°ë¥¼ ì„ íƒí•˜ëŠ” ê²ƒë„ ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ì—­í• ì´ë‹¤. í•˜ì§€ë§Œ ìœ„ì²˜ëŸ¼ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë§¤ë²ˆ ë·°ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì€ ë¹„íš¨ìœ¨ì ì´ë¯€ë¡œ, ìŠ¤í”„ë§ì—ì„œëŠ” ì´ ì‘ì—…ì„ ì ì ˆíˆ ë¶„ë¦¬í•˜ì˜€ë‹¤. ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ë·°ì˜ ë…¼ë¦¬ì ì¸ ì´ë¦„ë§Œì„ ë¦¬í„´í•œ ë’¤ ì—­í• ì„ ì¢…ë£Œí•˜ê³ , ì´ë¥¼ DispatcherServletì˜ ë·° ë¦¬ì¡¸ë²„ê°€ ë°›ì•„ ì‚¬ìš©í•  ë·° ì˜¤ë¸Œì íŠ¸ë¥¼ ì°¾ê³  ìƒì„±í•˜ëŠ” ì‘ì—…ì„ ì§„í–‰í•´ì¤€ë‹¤. ê²Œë‹¤ê°€ ë·° ë¦¬ì¡¸ë²„ëŠ” ë³´í†µ ë·° ì˜¤ë¸Œì íŠ¸ë¥¼ ìºì‹±í•˜ë¯€ë¡œ ê°™ì€ URLì˜ ë·°ê°€ ë°˜ë³µì ìœ¼ë¡œ ë§Œë“¤ì–´ì§€ì§€ ì•ŠëŠ” ì¥ì ë„ ìˆë‹¤. ë·° ë¦¬ì¡¸ë²„ë„ í•˜ë‚˜ ì´ìƒ ë“±ë¡í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ë°, ì´ë•ŒëŠ” í•¸ë“¤ëŸ¬ ë§¤í•‘ì²˜ëŸ¼ order í”„ë¡œí¼í‹°ë¥¼ ì´ìš©í•´ ì ìš© ìˆœì„œë¥¼ ì ìš©í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤. ë·° ë¦¬ì¡¸ë²„ëŠ” ViewResolver ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ì„œ ìƒì„±í•œë‹¤. 123public interface ViewResolver&#123; View resolveViewName(String viewName, Locale locale) throws Exception;&#125; InternalResourceViewResolver ì£¼ë¡œ JSPë¥¼ ì‚¬ìš©í•  ë•Œ ì“°ì´ëŠ” ë·° ë¦¬ì¡¸ë²„ì´ë‹¤. ë·°ë¥¼ ìƒì„±í•  í•„ìš”ì—†ì´ ë…¼ë¦¬ì ì¸ ì´ë¦„ë§Œì„ ë¦¬í„´í•´ì£¼ë©´ ë˜ëŠ”ë°, ê·¸ëŒ€ë¡œ ì‚¬ìš©í•  ê²½ìš° í’€ íŒ¨ìŠ¤ë¥¼ ì¨ì¤˜ì•¼ í•˜ë¯€ë¡œ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ í”¼í•´ì•¼ í•œë‹¤. prefix, suffix í”„ë¡œí¼í‹°ë¥¼ ì´ìš©í•˜ë©´ ì•ë’¤ì— ë¶™ëŠ” ë‚´ìš©ì„ ìƒëµí•  ìˆ˜ ìˆë‹¤. 1234&lt;bean class="org.springframework.web.servlet.view.InternalResourceViewResolver"&gt; &lt;property name="prefix" value="/WEB-INF/view" /&gt; &lt;property name="suffix" value=".jsp" /&gt;&lt;/bean&gt; ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œëŠ” hello ë§Œì„ ë¦¬í„´í•´ì£¼ë©´ ëœë‹¤. ì´ëŠ” ë‚˜ì¤‘ì— ë³€ê²½ì—ë„ ìš©ì´í•˜ë‹¤. JSTL ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í´ë˜ìŠ¤íŒ¨ìŠ¤ì— ì¡´ì¬í•  ê²½ìš° JstlViewë¥¼ ì‚¬ìš©í•˜ê³ , ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ InternalResourceViewë¥¼ ì‚¬ìš©í•œë‹¤. VelocityViewResolver, FreeMarkerViewResolver Velocityì™€ FreeMarkerë¥¼ ì‚¬ìš©í•˜ê²Œ í•´ì£¼ëŠ” ë·° ë¦¬ì¡¸ë²„ì´ë‹¤. InternalResourceViewResolverì™€ ê°™ì´ prefix, suffixë¥¼ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤. ResourceBundleViewResolver ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì•„ë‹Œ ì™¸ë¶€ì—ì„œ ë·°ë¥¼ ê²°ì •í•  ë•Œ, í•œê°€ì§€ ë·° ë§Œì´ ì•„ë‹ˆë¼ ì»¨íŠ¸ë¡¤ëŸ¬ë§ˆë‹¤ ë·°ê°€ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆì„ ë•Œ ì‚¬ìš©í•˜ë©´ ê´œì°®ì€ ë°©ì‹ì´ë‹¤. ResourceBundleViewResolverë¥¼ ì‚¬ìš©í•˜ë©´ í´ë˜ìŠ¤íŒ¨ìŠ¤ì˜ views.properties íŒŒì¼ì— ë…¼ë¦¬ì  ì´ë¦„ê³¼ ë·° ì •ë³´ë¥¼ ì •ì˜í•˜ì—¬ ì‘ì„±í•˜ê³ , ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ ë·°ë¥¼ ì„ íƒí•˜ê²Œ í•  ìˆ˜ ìˆë‹¤. ì•„ë˜ëŠ” views.properties íŒŒì¼ ì˜ˆì‹œì´ë‹¤. 12345hello.(class)=org.springframework.web.servlet.view.JstlViewhello.url=/WEB-INF/view/hello.jspbye.(class)=org.springframework.web.servlet.view.velocity.VelocityViewbye.url=bye.vm ë…ë¦½ëœ íŒŒì¼ì„ í†µí•´ ë·°ë¥¼ ììœ ë¡­ê²Œ ë§¤í•‘í•  ìˆ˜ ìˆì§€ë§Œ, ëª¨ë“  ë·°ë¥¼ ì¼ì¼íˆ ë§¤í•‘í•´ì¤˜ì•¼ í•˜ëŠ” ë¶ˆí¸ë„ ë’¤ë”°ë¥¸ë‹¤. ê·¸ë˜ì„œ ë‹¨ë…ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ì¶”ì²œë˜ì§€ ì•Šê³ , ë‹¤ë¥¸ ë·° ë¦¬ì¡¸ë²„ì™€ í•¨ê»˜í•˜ë©´ ìœ ìš©í•˜ê²Œ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤. 123456&lt;bean class="org.springframework.web.servlet.view.ResourceBundleViewResolver"&gt; &lt;property name="order" value="0" /&gt;&lt;/bean&gt;&lt;!-- order ê¸°ë³¸ê°’ì´ Integer.MAX ì´ë¯€ë¡œ êµ³ì´ order í”„ë¡œí¼í‹°ë¥¼ ì•ˆì¤˜ë„ ë¨ --&gt;&lt;bean class="org.springframework.web.servlet.view.InternalResourceViewResolver" /&gt; ì´ë ‡ê²Œ ì‚¬ìš©í•˜ë©´ view.propertiesì— ë·°ê°€ ì—†ì„ ê²½ìš° ì•„ë˜ InternalResourceViewResolverë¥¼ ì‚¬ìš©í•˜ê²Œ ëœë‹¤. ì´ë¡œì¨ íŠ¹ë³„í•œ íƒ€ì…ì˜ ë·°ê°€ í•„ìš”í•  ë•Œë§Œ view.propertiesì— ì‘ì„±í•´ì£¼ë©° ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. XmlViewResolver ResourceBundleViewResolverì™€ ìš©ë„ëŠ” ë™ì¼í•˜ê³ , views.properties ëŒ€ì‹  /WEB-INF/views.xmlì„ ì‚¬ìš©í•œë‹¤. ì¶”ê°€ë¡œ ì´ íŒŒì¼ì€ ì„œë¸”ë¦¿ ì»¨í…ìŠ¤íŠ¸ë¥¼ ë¶€ëª¨ë¡œ ê°€ì§€ë¯€ë¡œ DIê°€ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤. BeanNameViewResolver ë·° ì´ë¦„ê³¼ ë™ì¼í•œ ì´ë¦„ì„ ê°€ì§„ ë¹ˆì„ ì°¾ì•„ì„œ ë·°ë¡œ ì´ìš©í•˜ê²Œ í•´ì¤€ë‹¤. From]]></content>
      <categories>
        <category>spring</category>
      </categories>
      <tags>
        <tag>í† ë¹„ì˜ ìŠ¤í”„ë§</tag>
        <tag>View</tag>
        <tag>ViewResolver</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Session ë™ì‘ë°©ì‹]]></title>
    <url>%2Fhttp%2FSession%20%EB%8F%99%EC%9E%91%EB%B0%A9%EC%8B%9D%2F</url>
    <content type="text"><![CDATA[ê°œë… http í”„ë¡œí† ì½œì€ ë§¤ ì ‘ì†ë§ˆë‹¤ ìƒˆë¡œìš´ ìš”ì²­ì´ ì´ë¤„ì§€ëŠ”, ìƒíƒœë¥¼ ì €ì¥í•˜ì§€ ì•ŠëŠ” stateless í˜•ì‹ì˜ í”„ë¡œí† ì½œì´ë‹¤. ê·¸ë˜ì„œ ì„œë²„ìª½ì—ì„œ í´ë¼ì´ì–¸íŠ¸ì˜ ìƒíƒœë¥¼ ê¸°ì–µí•˜ê¸° ì‚¬ìš©í•˜ëŠ” ê²ƒì´ sessionì´ë‹¤. ì„œë²„ëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ ì •ë³´ë¥¼ ë‚´ë¶€ì— ì €ì¥í•˜ê³ , ì´ ì €ì¥ëœ ì •ë³´ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ ì„¸ì…˜ ID(JSESSIONID)ë¥¼ ì´ìš©í•œë‹¤. ì—¬ê¸°ì—ëŠ” ì—¬ëŸ¬ê°€ì§€ ì •ë³´(ì‚¬ìš©ì ì •ë³´ ë“±)ë¥¼ ë‹´ì„ ìˆ˜ ìˆê³ , ì´ ì •ë³´ëŠ” ì‚¬ìš©ìê°€ ì¼ì¹˜í•˜ëŠ” ì„¸ì…˜ IDë¥¼ ê°€ì§€ê³  ë“¤ì–´ì˜¤ì§€ ì•ŠëŠ” í•œ, ì„¤ì •í•œ session timeout ë§Œí¼ ìœ ì§€ëœë‹¤. ì¿ í‚¤ì™€ ë‹¬ë¦¬ ì„œë²„ìª½ì— ì €ì¥ë˜ëŠ” ì •ë³´ì´ë¯€ë¡œ ë³´ì•ˆì— ì¢€ ë” ì•ˆì „í•˜ë‹¤. FLOW ì•„ë˜ëŠ” sessionì˜ ìš”ì²­ ë°©ì‹ì„ ì˜ ë³´ì—¬ì£¼ëŠ” ê·¸ë¦¼ì´ë‹¤. í´ë¼ì´ì–¸íŠ¸ê°€ ì²˜ìŒ ì„œë²„ë¡œ httpìš”ì²­ì„ ì‹œë„í•œë‹¤. ì„œë²„ìª½ì—ì„œëŠ” ì „ë‹¬ë°›ì€ ì„¸ì…˜ ID(JSESSIONID)ê°€ ì—†ìœ¼ë¯€ë¡œ ìƒì„±í•œë‹¤. ìƒì„±í•œ ì„¸ì…˜ IDë¥¼ ì¿ í‚¤ì— ë„£ì–´ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ë‹¬ëœë‹¤. ì—¬ê¸°ì„œ ë§Œì•½ í´ë¼ì´ì–¸íŠ¸ê°€ ì¿ í‚¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì„ ê²½ìš°ì—ëŠ” URLì— ë¶™ì—¬ì„œ ì „ë‹¬í•œë‹¤. ex) http://joont92.github.io;JSESSIONID=~~ ì„œë²„ì…ì¥ì—ì„œëŠ” JSESSIONIDë¥¼ ì „ë‹¬ë°›ëŠ” ë°©ì‹(request headerì— ë„£ì–´ì„œ ë³´ë‚´ëŠ”ì§€, URLì— ë¶™ì—¬ì„œ ë³´ë‚´ëŠ”ì§€)ì— ë”°ë¼ ì‚¬ìš©ìê°€ ì¿ í‚¤ë¥¼ ì‚¬ìš©í•˜ëŠëƒ ì•ˆí•˜ëŠëƒì˜ ì—¬ë¶€ë¥¼ ì•Œ ìˆ˜ ìˆë‹¤. ì²« ìš”ì²­ì—ëŠ” JSESSIONIDë¥¼ ì „ë‹¬ë°›ì§€ ì•Šìœ¼ë¯€ë¡œ ë‘ ê°€ì§€ ë°©ì‹ìœ¼ë¡œ ëª¨ë‘ ë³´ë‚´ë³¸ë‹¤. í´ë¼ì´ì–¸íŠ¸ìª½ì—ì„œëŠ” ë°›ì€ ì„¸ì…˜ IDë¥¼ ì¿ í‚¤ì— ì €ì¥í•œë‹¤. ì¿ í‚¤ëŠ” session ì¢…ë£Œ ì‹œ ê°™ì´ ì†Œë©¸ë˜ëŠ” Memory Cookieë¡œ ì €ì¥í•œë‹¤. ê°™ì€ í˜ì´ì§€ì— 2ë²ˆì§¸ ìš”ì²­í•  ë•Œ, í´ë¼ì´ì–¸íŠ¸ëŠ” ì„¸ì…˜ IDë¥¼ ê°€ì§€ê³  ìˆìœ¼ë¯€ë¡œ ì´ë¥¼ request headerì— ë„£ì–´ ì „ë‹¬í•œë‹¤. ì„œë²„ëŠ” ì „ë‹¬ë°›ì€ ì„¸ì…˜ IDê°€ ìˆìœ¼ë¯€ë¡œ ìƒˆë¡œ ìƒì„±í•˜ì§€ ì•Šê³  í•´ë‹¹ ì„¸ì…˜ IDì— ë§ëŠ” ì •ë³´ë¥¼ ì „ë‹¬í•´ì¤€ë‹¤. ì´ëŸ¬í•œ FLOWë¥¼ í†µí•´ í´ë¼ì´ì–¸íŠ¸ì˜ ìƒíƒœë¥¼ ìœ ì§€í•  ìˆ˜ ìˆê²Œ ë˜ëŠ”ê²ƒì´ë‹¤.]]></content>
      <categories>
        <category>http</category>
      </categories>
      <tags>
        <tag>Session</tag>
        <tag>JSESSIONID</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[spring] HandlerMapping, HandlerAdapter, HandlerInterceptor]]></title>
    <url>%2Fspring%2FHandlerMapping-HandlerAdapter-HandlerInterceptor%2F</url>
    <content type="text"><![CDATA[HandlerMapping, HandlerAdapter, HandlerInterceptorëŠ” ì•ì„œ DispatcherServlet Flowì—ì„œ ì„¤ëª…í–ˆë˜ í™•ì¥ í¬ì¸íŠ¸ ì¤‘ ì»¨íŠ¸ë¡¤ëŸ¬ì™€ ê´€ë ¨ëœ ë¶€ë¶„ì´ë‹¤. í•¸ë“¤ëŸ¬ ë§¤í•‘ HTTP ìš”ì²­ì •ë³´ë¥¼ ì´ìš©í•´ì„œ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì°¾ì•„ì£¼ëŠ” ê¸°ëŠ¥ì„ ìˆ˜í–‰í•œë‹¤. HandlerMapping ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ì„œ ìƒì„±í•œë‹¤. 123public interface HandlerMapping&#123; HandlerExecutionChain getHandler(HttpServletRequest request) throws Exception;&#125; DispatcherServletì€ ë“±ë¡ëœ HandlerMapping ì „ëµë“¤ì—ê²Œ HttpServletRequestë¥¼ ì „ë‹¬í•˜ë©´ì„œ ë§¤ì¹­ë˜ëŠ” ì˜¤ë¸Œì íŠ¸ë¥¼ ì°¾ëŠ”ë‹¤.(ì´ê²Œ ê³§ ì„¸ë¶€ ì»¨íŠ¸ë¡¤ëŸ¬!) ìŠ¤í”„ë§ì´ ì œê³µí•˜ëŠ” í•¸ë“¤ëŸ¬ ë§¤í•‘ ì „ëµì€ ì´ 5ê°€ì§€ì´ë‹¤. BeanNameUrlHandlerMapping HTTP ìš”ì²­ URLê³¼ ë¹ˆì˜ ì´ë¦„ì„ ë¹„êµí•˜ì—¬ ì¼ì¹˜í•˜ëŠ” ë¹ˆì„ ì°¾ì•„ì¤€ë‹¤. ë¹ˆ ì´ë¦„ì—ëŠ” ANTíŒ¨í„´ì´ë¼ê³  ë¶ˆë¦¬ëŠ” *, **, ? ë¥¼ ì´ìš©í•œ íŒ¨í„´ì„ ë„£ì„ ìˆ˜ ìˆë‹¤. 12345&lt;!-- helloë¡œ ì‹œì‘í•˜ë©´ ëª¨ë‘ ì—¬ê¸° ë§¤í•‘ëœë‹¤ --&gt;&lt;bean name="/hello*" class="HelloController" /&gt;&lt;!-- **ëŠ” í•˜ë‚˜ ì´ìƒì˜ ê²½ë¡œë¥¼ ë§¤í•‘ í•  ìˆ˜ ìˆë‹¤ --&gt;&lt;bean name="/root/**/sub" class="SubController" /&gt; í•˜ì§€ë§Œ ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ê°œìˆ˜ê°€ ë§ì•„ì§€ë©´ URLì •ë³´ê°€ XMLì´ë‚˜ ì• ë…¸í…Œì´ì…˜ì— ë¶„ì‚°ë˜ì–´ íŒŒì•…í•˜ê¸° ì–´ë ¤ìš°ë¯€ë¡œ, ë³µì¡í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. ControllerBeanNameHandlerMapping BeanNameUrlHandlerMappingê³¼ ìœ ì‚¬í•˜ì§€ë§Œ ìœ„ì²˜ëŸ¼ ë¹ˆ ì´ë¦„ì„ URL í˜•íƒœë¡œ ì§“ì§€ ì•Šì•„ë„ ëœë‹¤ëŠ” ê²ƒì´ ì°¨ì´ì ì´ë‹¤. ë¹ˆ ì´ë¦„ ì•ì— ìë™ìœ¼ë¡œ /ì´ ë¶™ì—¬ì ¸ URLì— ë§¤í•‘ëœë‹¤. 1&lt;bean name="hello" class="HelloController" /&gt; &lt;!-- /helloì— ë§¤í•‘ --&gt; ControllerClassNameHandlerMapping ë¹ˆì˜ í´ë˜ìŠ¤ ì´ë¦„ì„ URLì— ë§¤í•‘í•´ì£¼ëŠ” ë§¤í•‘ í´ë˜ìŠ¤ì´ë‹¤. ê¸°ë³¸ì ìœ¼ë¡œëŠ” í´ë˜ìŠ¤ ì´ë¦„ì„ ëª¨ë‘ ì‚¬ìš©í•˜ì§€ë§Œ í´ë˜ìŠ¤ ì´ë¦„ì´ Controller ë¡œ ëë‚  ê²½ìš° Controllerë¥¼ ëº€ ë‚˜ë¨¸ì§€ ì´ë¦„ì„ URLì— ë§¤í•‘í•´ì¤€ë‹¤. 123public class HelloController implements Controller&#123; // /helloì— ë§¤í•‘ // ...&#125; SimpleUrlHandlerMapping URLê³¼ ì»¨íŠ¸ë¡¤ëŸ¬ ë§¤í•‘ì •ë³´ë¥¼ í•œê³³ì— ëª¨ì•„ë†“ì„ ìˆ˜ ìˆëŠ” ì „ëµì´ë‹¤. ë§¤í•‘ì •ë³´ëŠ” SimpleUrlHandlerMapping ë¹ˆì˜ í”„ë¡œí¼í‹°ì— ë„£ì–´ì¤€ë‹¤. 123456789101112&lt;bean class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping"&gt; &lt;property name="mappings"&gt; &lt;!-- Properties íƒ€ì…ìœ¼ë¡œ URLê³¼ ë¹ˆ ì´ë¦„ì„ ë„£ì–´ì¤€ë‹¤ --&gt; &lt;props&gt; &lt;prop key="/hello"&gt;helloController&lt;/prop&gt; &lt;prop key="/root/**/sub"&gt;subController&lt;/prop&gt; &lt;!-- ANT íŒ¨í„´ ì‚¬ìš© ê°€ëŠ¥ --&gt; &lt;/props&gt; &lt;/property&gt;&lt;/bean&gt;&lt;!-- ë¹ˆ ì´ë¦„ì´ ìœ„ì˜ value ì™€ ë§¤í•‘ --&gt;&lt;bean id="helloController" /&gt;&lt;bean id="subController" /&gt; mappingsëŠ” Properties íƒ€ì…ì´ë¯€ë¡œ í”„ë¡œí¼í‹° íƒ€ì… í¬ë§·ì„ ì´ìš©í•˜ì—¬ ë” ê°„ë‹¨íˆ ì‘ì„±í•  ìˆ˜ ìˆë‹¤. 12345678&lt;bean class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping"&gt; &lt;property name="mappings"&gt; &lt;value&gt; /hello=helloController /root/**/sub=subController &lt;/value&gt; &lt;/property&gt;&lt;/bean&gt; ë§¤í•‘ì •ë³´ê°€ í•œêµ°ë° ëª¨ì—¬ìˆì–´ URLì„ ê´€ë¦¬í•˜ê¸° í¸ë¦¬í•˜ì—¬ ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸ì—ì„œ ì„ í˜¸í•˜ê¸°ë„ í•œë‹¤. í•˜ì§€ë§Œ ë§¤í•‘ì •ë³´ë¥¼ ì§ì ‘ ì‘ì„±í•˜ë¯€ë¡œ ì˜¤íƒ€ê°€ ë°œìƒí•  ìˆ˜ë„ ìˆë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤. DefaultAnnotationHandlerMapping @RequestMappingì´ë¼ëŠ” ì• ë…¸í…Œì´ì…˜ì„ ì´ìš©í•´ ë§¤í•‘í•˜ëŠ” ì „ëµì´ë‹¤. @RequestMappingì€ í´ë˜ìŠ¤ëŠ” ë¬¼ë¡  ë©”ì„œë“œ ë‹¨ìœ„ë¡œë„ URLì„ ë§¤í•‘í•  ìˆ˜ ìˆë‹¤. ë˜í•œ URLì™¸ì—ë„ method, parameter, header ë“±ì˜ ì •ë³´ë„ ì• ë…¸í…Œì´ì…˜ì„ ì´ìš©í•´ ë§¤í•‘ì— í™œìš©í•  ìˆ˜ ìˆë‹¤. êµ‰ì¥íˆ ê°•ë ¥í•˜ê³  í¸ë¦¬í•œ ë°©ë²•ì´ì§€ë§Œ ë§¤í•‘ ì• ë…¸í…Œì´ì…˜ì˜ ì‚¬ìš© ì •ì±…, ì‘ì„± ê¸°ì¤€ì„ ì˜ ë§ˆë ¨í•´ë†“ì§€ ì•Šìœ¼ë©´ ë§¤í•‘ì •ë³´ê°€ ê¸ˆë°© ì§€ì €ë¶„í•´ì§€ë¯€ë¡œ ì£¼ì˜í•´ì•¼ í•œë‹¤. HandlerMapping ê³µí†µ ì„¤ì •ì •ë³´ ì•„ë˜ëŠ” í•¸ë“¤ëŸ¬ ë§¤í•‘ì—ì„œ ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì£¼ìš” í”„ë¡œí¼í‹°ì´ë‹¤. order í•¸ë“¤ëŸ¬ ë§¤í•‘ì€ 1ê°œ ì´ìƒì„ ë™ì‹œì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 1ê°œ ë§¤í•‘ìœ¼ë¡œ í†µì¼í•˜ëŠ”ê²ƒì´ ê°€ì¥ ì´ìƒì ì´ê¸´í•˜ë‚˜, ê·¸ë ‡ì§€ ì•Šì„ ìƒí™©ì´ ì¢…ì¢… ìˆë‹¤. 2ê°œ ì´ìƒì˜ í•¸ë“¤ëŸ¬ ë§¤í•‘ì´ ë“±ë¡ë˜ì—ˆëŠ”ë° URLì´ ì¤‘ë³µ ë§¤ì¹˜ë  ê²½ìš°, order í”„ë¡œí¼í‹°ë¥¼ í†µí•´ ë§¤í•‘ ìš°ì„ ìˆœìœ„ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤. defaultHandler URLì„ ë§¤í•‘í•  ë¹ˆì„ ì°¾ì§€ ëª»í•  ê²½ìš° ìë™ìœ¼ë¡œ ë””í´íŠ¸ í•¸ë“¤ëŸ¬(ì»¨íŠ¸ë¡¤ëŸ¬)ë¥¼ ì„ íƒí•˜ê²Œ í•œë‹¤. ì›ë˜ URLì„ ì°¾ì§€ ëª»í•˜ë©´ HTTP 404 errorê°€ ë°œìƒí•˜ëŠ”ë°, ì´ë¥¼ ë””í´íŠ¸ í•¸ë“¤ëŸ¬ë¡œ ë„˜ê²¨ ì ì ˆí•œ ì—ëŸ¬ì²˜ë¦¬ë¥¼ í•  ìˆ˜ ìˆë‹¤. 123&lt;bean class="org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping"&gt; &lt;property name="defaultHandler" ref="defaultController" /&gt;&lt;/bean&gt; alwaysUseFullPath URL ë§¤í•‘ì€ ê¸°ë³¸ì ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ íŒ¨ìŠ¤, ì„œë¸”ë¦¿ íŒ¨ìŠ¤ë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ë§Œ ê°€ì§€ê³  ë¹„êµí•œë‹¤. ì¦‰ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ /testì— ë°°í¬ë˜ê³ , DispatcherServlet URL mappingì´ /app/*ì¼ ê²½ìš° ì „ì²´ URLì€ /test/app/hello ì™€ ê°™ì€ í˜•íƒœì§€ë§Œ, í•¸ë“¤ëŸ¬ ë§¤í•‘ì€ /helloë§Œì„ ëŒ€ìƒìœ¼ë¡œ ì‚¼ëŠ”ë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤. ì´ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì´ë‚˜ ì„œë¸”ë¦¿ì´ ë³€ê²½ë˜ì–´ë„ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì˜í–¥ì„ ë°›ì§€ ì•Šê²Œ í•˜ê¸° ìœ„í•´ì„œì´ë‹¤. í•˜ì§€ë§Œ alwaysUseFullPath ì˜µì…˜ì„ trueë¡œ ì£¼ë©´ ì´ë¥¼ í•´ì œí•˜ê³  ëª¨ë“  URLì„ ëŒ€ìƒìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤. detectHandlersInAncestorContexts ê¸°ë³¸ì ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ëŠ” ê³„ì¸µí˜• êµ¬ì¡°ë¥¼ ê°€ì§€ë¯€ë¡œ, ìì‹ ì»¨í…ìŠ¤íŠ¸ëŠ” ë¶€ëª¨ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆê³ , ê·¸ ë°˜ëŒ€ëŠ” ì•ˆëœë‹¤. ì¦‰ ë£¨íŠ¸ ì»¨í…ìŠ¤íŠ¸ -&gt; ì„œë¸”ë¦¿ ì»¨í…ìŠ¤íŠ¸ ì˜ ë¶€ëª¨-ìì‹ í˜•íƒœì˜ ê²½ìš° ì„œë¸”ë¦¿ ì»¨í…ìŠ¤íŠ¸ì— ì„ ì–¸ëœ ë¹ˆì€ ë£¨íŠ¸ ì»¨í…ìŠ¤íŠ¸ì— ì„ ì–¸ëœ ë¹ˆì„ DIí•  ìˆ˜ ìˆì§€ë§Œ, ë£¨íŠ¸ ì»¨í…ìŠ¤íŠ¸ì— ì„ ì–¸ëœ ë¹ˆì€ ì„œë¸”ë¦¿ ì»¨í…ìŠ¤íŠ¸ì— ì„ ì–¸ëœ ë¹ˆì„ DIí•  ìˆ˜ ì—†ë‹¤. ê·¸ëŸ°ë° í•¸ë“¤ëŸ¬ ë§¤í•‘ì˜ ê²½ìš° ì´ì™€ ì¢€ ë‹¤ë¥´ë‹¤. í•¸ë“¤ëŸ¬ ë§¤í•‘ í´ë˜ìŠ¤ëŠ” ë§¤í•‘í•  í´ë˜ìŠ¤ë¥¼ í˜„ì¬ ì»¨í…ìŠ¤íŠ¸, ì¦‰ ì„œë¸”ë¦¿ ì»¨í…ìŠ¤íŠ¸ ë‚´ì—ì„œë§Œ ì°¾ëŠ”ë‹¤. ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ì„œë¸”ë¦¿ ì»¨í…ìŠ¤íŠ¸ì—ë§Œ ë‘ëŠ” ê²ƒì´ ë°”ëŒì§í•˜ê¸° ë•Œë¬¸ì´ë‹¤. detectHandlersInAcestorContexts ì˜µì…˜ì„ trueë¡œ ì£¼ë©´ì„œ ì´ ë°©ì‹ì„ ë°”ê¿”ì¤„ ìˆ˜ ìˆê¸´í•œë°, ì´ ì˜µì…˜ì€ ì ˆ ëŒ€ ì‚¬ìš©í•˜ì§€ ë§ì. ê·¸ëƒ¥ ìŠ¤í”„ë§ì˜ ê·¹ë‹¨ì ì¸ ìœ ì—°ì„±ì„ ë³´ì—¬ì£¼ê¸° ìœ„í•œ ì˜µì…˜ì¼ ë¿ì´ë‹¤. í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„° HandlerMappingì„ í†µí•´ ì°¾ì€ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì§ì ‘ ì‹¤í–‰í•˜ëŠ” ê¸°ëŠ¥ì„ ìˆ˜í–‰í•œë‹¤. í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ëŠ” HandlerAdapter ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ì„œ ìƒì„±í•œë‹¤. 1234567public interface HandlerAdapter&#123; boolean supports(Object handler); ModelAndView handle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception; long getLastModified(HttpServletRequest request, Object handler);&#125; HandlerMappingìœ¼ë¡œ ì°¾ì€ ì˜¤ë¸Œì íŠ¸(ì»¨íŠ¸ë¡¤ëŸ¬)ë¥¼ ë“±ë¡ëœ HandlerAdaptorë“¤ì˜ supports ë©”ì„œë“œì— ëŒ€ì…í•˜ë©° ì§€ì› ì—¬ë¶€ë¥¼ ì‚´í•€ë‹¤. ë¶€í•©í•  ê²½ìš° handler ë©”ì„œë“œë¥¼ ì‹¤í–‰í•˜ì—¬ ModelAndViewë¥¼ ë¦¬í„´í•œë‹¤! ìŠ¤í”„ë§ MVCê°€ ì§€ì›í•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ì´ 4ê°œì´ë¯€ë¡œ, í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ë„ 4ê°œì´ë‹¤. SimpleServletHandlerAdapter(Servlet interface) í‘œì¤€ ì„œë¸”ë¦¿ ì¸í„°í˜ì´ìŠ¤ì¸ javax.servlet.Servletì„ êµ¬í˜„í•œ í´ë˜ìŠ¤ë¥¼ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ì‚¬ìš©í•  ë•Œ ì‚¬ìš©ë˜ëŠ” ì–´ëŒ‘í„°ì´ë‹¤. ì´ ë°©ì‹ì˜ ì¥ì ì€ ì„œë¸”ë¦¿ í´ë˜ìŠ¤ ì½”ë“œë¥¼ ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ë©´ì„œ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì¸ë°, ì´ëŠ” ì„œë¸”ë¦¿ ì½”ë“œë¥¼ ì ì§„ì ìœ¼ë¡œ ìŠ¤í”„ë§ ì–´í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ í¬íŒ…í•  ë–„ ìœ ìš©í•˜ê²Œ ì‚¬ìš©ëœë‹¤. ì´ ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ì–´ëŒ‘í„°ë¡œëŠ” SimpleServletHandlerAdapterê°€ ì‚¬ìš©ëœë‹¤. ì°¸ê³ ì‚¬í•­ ì„œë¸”ë¦¿ ë¼ì´í”„ì‚¬ì´í´ ë©”ì„œë“œì¸ init, destroyëŠ” ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤. ìŠ¤í”„ë§ ë¹ˆì˜ init-methodë‚˜ @PostConstructë¥¼ ì´ìš©í•´ì•¼ í•œë‹¤. ì´ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ëª¨ë¸ê³¼ ë·°ë¥¼ ë¦¬í„´í•˜ì§€ ì•ŠëŠ”ë‹¤. ì„œë¸”ë¦¿ì€ ì›ë˜ Responseì— ê²°ê³¼ë¥¼ ë„£ì–´ì£¼ëŠ” ë°©ì‹ì´ê¸°ë„ í•˜ê³ , ModelAndViewì˜ ê°œë…ì„ ëª¨ë¥¸ë‹¤. â€» DispatcherServletì€ ModelAndView ë¦¬í„´ ëŒ€ì‹  nullì„ ë¦¬í„´í•  ê²½ìš° ë·°ë¥¼ í˜¸ì¶œí•˜ëŠ” ì‘ì—…ì„ ìƒëµí•œë‹¤. HttpRequestHandlerAdapter(HttpRequestHandler interface) ì•„ë˜ì˜ HttpRequestHandler ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤ë¥¼ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ì‚¬ìš©í•  ë•Œ ì‚¬ìš©ë˜ëŠ” ì–´ëŒ‘í„°ì´ë‹¤. 123public interface HttpRequestHandler&#123; void handleRequest(HttpServletRequest request, HttpServletResponse resposne) throws ServletException, IOException;&#125; ì„œë¸”ë¦¿ ì¸í„°í˜ì´ìŠ¤ì™€ ìƒê¹€ìƒˆê°€ ìœ ì‚¬í•˜ë‹¤. ì„œë¸”ë¦¿ ìŠ¤í™ì„ ì¤€ìˆ˜í•  í•„ìš”ì—†ì´ HTTP í”„ë¡œí† ì½œì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ì „ìš© ì„œë¹„ìŠ¤ë¥¼ ë§Œë“¤ë ¤ê³  í•  ë•Œ ì‚¬ìš©í•œë‹¨ë‹¤â€¦ ì´ì •ë„ë§Œ ì•Œê³  ë„˜ì–´ê°€ë„ ë ë“¯. SimpleControllerHandlerAdapter(Controller interface) ì•„ë˜ì˜ Controller ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤ë¥¼ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ì‚¬ìš©í•  ë•Œ ì‚¬ìš©ë˜ëŠ” ì–´ëŒ‘í„°ì´ë‹¤. 123public interface Controller&#123; ModelAndView handleRequest(HttpServletRequest request, HttpServletResponse response) throws Exception;&#125; ìŠ¤í”„ë§ì˜ ëŒ€í‘œì ì¸ ì»¨íŠ¸ë¡¤ëŸ¬ íƒ€ì…ì´ë‹¤.(3.0 ì „ê¹Œì§€) DispatcherServletê³¼ ì£¼ê³ ë°›ëŠ” ì •ë³´ë¥¼ ê·¸ëŒ€ë¡œ íŒŒë¼ë¯¸í„°ì™€ ë¦¬í„´ê°’ìœ¼ë¡œ ê°–ê³  ìˆë‹¤. í•˜ì§€ë§Œ ì´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì§ì ‘ êµ¬í˜„í•´ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë§Œë“œëŠ” ê²ƒì€ ê¶Œì¥ë˜ì§€ ì•Šìœ¼ë©°, í•„ìˆ˜ ê¸°ëŠ¥ì´ êµ¬í˜„ëœ AbstractControllerë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ ì§ì ‘ í™•ì¥í•œ Controller í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤. ì•„ë˜ëŠ” ì§ì ‘ í™•ì¥ì˜ ê°„ë‹¨í•œ ì˜ˆì œì´ë‹¤. 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051// ê¸°ë°˜ ì»¨íŠ¸ë¡¤ëŸ¬public abstract class SimpleController implements Controller&#123; private String[] requiredParams; // í•„ìˆ˜ íŒŒë¼ë¯¸í„° private String viewName; public void setRequiredParams(String[] requiredParams) &#123; this.requiredParams = requiredParams; &#125; public void setViewName(String viewName)&#123; this.viewName = viewName; &#125; @Override final public ModelAndView handleRequest(HttpServletRequest request, HttpServletResponse response) throws Exception &#123; if(viewName == null)&#123; throw new IllegalStateException(); &#125; Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;(); for(String param : requiredParams)&#123; String value = request.getParameter(param); if(value == null)&#123; throw new IllegalStateException(); &#125; params.put(param, value); &#125; Map&lt;String, Object&gt; model = new HashMap&lt;String, Object&gt;(); this.control(params, model); // ê°œë³„ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ êµ¬í˜„í•  ë©”ì„œë“œ return new ModelAndView(this.viewName, model); &#125; public abstract void control(Map&lt;String, String&gt; params, Map&lt;String, Object&gt; model) throws Exception;&#125;// ê°œë³„ ì»¨íŠ¸ë¡¤ëŸ¬public class TestController extends SimpleController&#123; public TestController()&#123; this.setRequiredParams(new String[]&#123;"name", "age"&#125;); this.setViewName("/WEB-INF/view/test.jsp"); &#125; @Override public void control(Map&lt;String, String&gt; params, Map&lt;String, Object&gt; model) throws Exception &#123; // make model using params... &#125;&#125; ê¸°ê³„ì ìœ¼ë¡œ Controller ì¸í„°í˜ì´ìŠ¤ì˜ handleRequest ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì§€ ë§ê³  ìœ„ì™€ ê°™ì´ í´ë˜ìŠ¤ë¥¼ í™•ì¥í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. AnnotationMethodHandlerAdapter ì•ì˜ í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ë“¤ê³¼ ë‹¬ë¦¬ í˜¸ì¶œí•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ì˜ íƒ€ì…ì´ ì •í•´ì ¸ ìˆì§€ ì•Šë‹¤. í´ë˜ìŠ¤ì™€ ë©”ì„œë“œì— ë¶™ì€ ì• ë…¸í…Œì´ì…˜, ë©”ì„œë“œ ì´ë¦„, íŒŒíƒ€ë¯¸í„°, ë¦¬í„´íƒ€ì…ì— ëŒ€í•œ ê·œì¹™ ë“±ì„ ì¡°í•©í•˜ê³  ë¶„ì„í•´ì„œ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì„ ë³„í•œë‹¤. ë˜í•œ ë‹¤ë¥¸ ì»¨íŠ¸ë¡¤ëŸ¬ì™€ ë‹¤ë¥´ê²Œ ì»¨íŠ¸ë¡¤ëŸ¬ í•˜ë‚˜ê°€ ì—¬ëŸ¬ URLì— ë§¤í•‘ë  ìˆ˜ ìˆë‹¤.(ì´ë•Œê¹Œì§€ëŠ” 1ê°œì˜ URLì— 1ê°œì˜ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë§¤í•‘ë˜ì—ˆë‹¤) ì´ëŠ” ë©”ì„œë“œ ë‹¨ìœ„ë¡œ URLë§¤í•‘ì´ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ì´ AnnotationMethodHandlerAdapterëŠ” ë‹¤ë¥¸ í•¸ë“¤ëŸ¬ ì–´ëŒ‘í„°ì™€ëŠ” ë‹¤ë¥´ê²Œ DefaultAnnotationHandlerMapping í•¸ë“¤ëŸ¬ ë§¤í•‘ê³¼ ê°™ì´ ì‚¬ìš©í•´ì•¼ í•œë‹¤. ë‘ ê°€ì§€ ëª¨ë‘ ë™ì¼í•œ ì• ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ì´ ë°©ì‹ì€ ë§¤ìš° ê°•ë ¥í•˜ê³  ì‘ì„±ì´ ê°„ê²°í•œ ëŒ€ì‹  ê½¤ë‚˜ ë§ì€ ê·œì¹™ì´ ì¡´ì¬í•˜ê³ , ì´ë¥¼ ì˜ ìˆ™ì§€í•˜ê³  ì‚¬ìš©í•´ì•¼ í•œë‹¤. @RequestMapping ë°”ë¡œê°€ê¸° í•¸ë“¤ëŸ¬ ì¸í„°ì…‰í„° í•¸ë“¤ëŸ¬ ë§¤í•‘ì€ ìš”ì²­ì •ë³´ë¥¼ í†µí•´ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì°¾ì•„ì£¼ëŠ” ê¸°ëŠ¥ ì™¸ì— ì¸í„°ì…‰í„°ë¥¼ ì ìš©í•´ì£¼ëŠ” ê¸°ëŠ¥ ë˜í•œ ì œê³µí•œë‹¤. í•¸ëœ°ëŸ¬ ì¸í„°ì…‰í„°ëŠ” DispatcherServletì´ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ í˜¸ì¶œí•˜ê¸° ì „ê³¼ í›„ì— ìš”ì²­, ì‘ë‹µì„ ê°€ê³µí•  ìˆ˜ ìˆëŠ” ì¼ì¢…ì˜ í•„í„°ì´ë‹¤. í•¸ë“¤ëŸ¬ ë§¤í•‘ì€ DispatcherServletìœ¼ë¡œ ë¶€í„° ë§¤í•‘ ì‘ì—…ì„ ìš”ì²­ë°›ìœ¼ë©´ ë“±ë¡ëœ í•¸ë“¤ëŸ¬ ì¸í„°ì…‰í„°ë“¤ì„ ìˆœì„œëŒ€ë¡œ ìˆ˜í–‰í•˜ê³  ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ í˜¸ì¶œí•œë‹¤. ë“±ë¡ëœ í•¸ë“¤ëŸ¬ ì¸í„°ì…‰í„°ê°€ ì—†ë‹¤ë©´ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë°”ë¡œ í˜¸ì¶œí•œë‹¤. êµ¬í˜„ í•¸ë“¤ëŸ¬ ì¸í„°ì…‰í„°ë¥¼ ë§Œë“¤ê³ ì í•  ë•ŒëŠ” ì•„ë˜ì˜ HandlerInterceptor ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤. 123456789public interface HandlerInterceptor &#123; boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception; void postHandle( HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception; void afterCompletion( HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception;&#125; preHandle ì»¨íŠ¸ë¡¤ëŸ¬ê°€ í˜¸ì¶œë˜ê¸° ì „ì— ì‹¤í–‰ëœë‹¤. íŒŒë¼ë¯¸í„° handlerëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ ì˜¤ë¸Œì íŠ¸ì´ë‹¤. ë¦¬í„´ê°’ì´ trueì´ë©´ ë‹¤ìŒ ì¸í„°ì…‰í„°ë¡œ ì§„í–‰ë˜ê³ , falseì¼ ê²½ìš° ë‹¤ìŒ ì¸í„°ì…‰í„°ë“¤ì„ ì‹¤í–‰ë˜ì§€ ëª»í•œë‹¤. postHandle ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ í˜¸ì¶œí•œ í›„ì— ì‹¤í–‰ëœë‹¤. ModelAndViewê°€ ì œê³µë˜ë¯€ë¡œ ì‘ì—…ê²°ê³¼ë¥¼ ì°¸ì¡°í•˜ê±°ë‚˜ ì¡°ì‘í•  ìˆ˜ ìˆë‹¤. afterCompletion ëª¨ë“  ì‘ì—…(ë·° ìƒì„±ê¹Œì§€)ì´ ì™„ë£Œëœ í›„ ì‹¤í–‰ëœë‹¤. ì ìš© ì ìš©í•  í•¸ë“¤ëŸ¬ ì¸í„°ì…‰í„°ë“¤ì„ í•¸ë“¤ëŸ¬ ë§¤í•‘ í´ë˜ìŠ¤ì˜ ì†ì„±ìœ¼ë¡œ ì§€ì •í•´ì¤˜ì•¼ í•˜ë¯€ë¡œ, í•¸ë“¤ëŸ¬ ë§¤í•‘ í´ë˜ìŠ¤ë¥¼ ë¹ˆìœ¼ë¡œ ë“±ë¡í•´ì¤˜ì•¼ í•œë‹¤. ì´í›„ interceptors í”„ë¡œí¼í‹°ë¥¼ ì´ìš©í•˜ì—¬ ì¸í„°ì…‰í„°ë¥¼ ë“±ë¡í•œë‹¤. 1234567891011&lt;bean class="org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping"&gt; &lt;property name="interceptors"&gt; &lt;list&gt; &lt;ref bean="firstInterceptor" /&gt; &lt;ref bean="secondInterceptor" /&gt; &lt;/list&gt; &lt;/property&gt;&lt;/bean&gt;&lt;bean name="firstInterceptor" class="~~~FirstInterceptor" /&gt;&lt;bean name="secondInterceptor" class="~~~SecondInterceptor" /&gt; ë³´ë‹¤ì‹œí”¼ ì¸í„°ì…‰í„°ë“¤ì€ í•¸ë“¤ëŸ¬ ë§¤í•‘ ë‹¨ìœ„ë¡œ ë“±ë¡ëœë‹¤. ì¦‰ ì‘ì„±í•œ ì¸í„°ì…‰í„°ë“¤ì„ ì—¬ëŸ¬ê°œì˜ í•¸ë“¤ëŸ¬ ë§¤í•‘ì— ì ìš©ì‹œí‚¤ê³  ì‹¶ìœ¼ë©´ í•¸ë“¤ëŸ¬ ë§¤í•‘ ë¹ˆ ë§ˆë‹¤ ë°˜ë³µì ìœ¼ë¡œ ë‹¤ ë“±ë¡í•´ì¤˜ì•¼ í•œë‹¤. ë¬¼ë¡  ì¸í„°ì…‰í„° ë¹ˆì€ í•œê°œë§Œ ë“±ë¡í•˜ë©´ ëœë‹¤. í•¸ë“¤ëŸ¬ ì¸í„°ì…‰í„° vs ì„œë¸”ë¦¿ í•„í„° ë³´ë‹¤ì‹œí”¼ í•¸ë“¤ëŸ¬ ì¸í„°ì…‰í„°ëŠ” ì„œë¸”ë¦¿ í•„í„°ì™€ ê¸°ëŠ¥ì´ ìœ ì‚¬í•˜ì§€ë§Œ ì¡°ê¸ˆ ì°¨ì´ê°€ ìˆìœ¼ë‹ˆ ì„ íƒì— ì£¼ì˜ë¥¼ ê¸°ìš¸ì—¬ì•¼ í•œë‹¤. ì„œë¸”ë¦¿ í•„í„°ëŠ” web.xmlì— ë“±ë¡í•˜ë©´ì„œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ ë“¤ì–´ì˜¤ëŠ” ëª¨ë“  ìš”ì²­ì— ì ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤. ë°˜ë©´ì— ìŠ¤í”„ë§ì˜ ë¹ˆì´ ì•„ë‹ˆë¼ëŠ” ì ê³¼, í•¸ë“¤ëŸ¬ ì¸í„°ì…‰í„°ë³´ë‹¤ ì •êµí•œ ì»¨íŠ¸ë¡¤ì´ ì–´ë µë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤. í•¸ë“¤ëŸ¬ ì¸í„°ì…‰í„°ëŠ” íŠ¹ì • í•¸ë“¤ëŸ¬ ë§¤í•‘ì— ì œí•œëœë‹¤ëŠ” ë‹¨ì ì´ ìˆì§€ë§Œ, ì¸í„°ì…‰í„°ë¥¼ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡í•  ìˆ˜ ìˆê³  ModelAndViewë¥¼ ì»¨íŠ¸ë¡¤ í•˜ëŠ” ë“± ë”ìš± ì •êµí•œ ì»¨íŠ¸ë¡¤ì´ ê°€ëŠ¥í•˜ë‹¤. í”„ë¡œì íŠ¸ì˜ ìƒí™©ì— ë”°ë¼ ì ì ˆí•œ ì„ íƒì„ í•˜ëŠ”ê²ƒì´ ì¢‹ë‹¤. From]]></content>
      <categories>
        <category>spring</category>
      </categories>
      <tags>
        <tag>í† ë¹„ì˜ ìŠ¤í”„ë§</tag>
        <tag>HandlerAdapter</tag>
        <tag>HandlerMapping</tag>
        <tag>HandlerInterceptor</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[java] final class]]></title>
    <url>%2Fjava%2Ffinal-class%2F</url>
    <content type="text"><![CDATA[ê´€ë ¨ê¸€ https://hashcode.co.kr/questions/388/ìë°”ì—ì„œ-final-í´ë˜ìŠ¤ëŠ”-ì–´ë””ì—-ì‚¬ìš©í•˜ë‚˜ìš” ì´ í´ë˜ìŠ¤ëŠ” ìƒì†ì„ ì—¼ë‘í•´ë‘ì§€ ì•Šì€ í´ë˜ìŠ¤ë¼ëŠ” ê²ƒì„ ì•Œë ¤ì¤Œìœ¼ë¡œì¨, í•´ë‹¹ í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì•„ ì˜ˆê¸°ì¹˜ ëª»í•˜ëŠ” ì¼ì´ ì¼ì–´ë‚˜ëŠ” ê²ƒì„ ë§‰ì„ ìˆ˜ ìˆë‹¤.]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>final class</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[spring] DispatcherServlet Flow]]></title>
    <url>%2Fspring%2FDispatcherServlet-Flow%2F</url>
    <content type="text"><![CDATA[ìŠ¤í”„ë§ ì›¹ ê¸°ìˆ ì€ MVC ì•„í‚¤í…ì³ë¥¼ ê·¼ê°„ìœ¼ë¡œ í•œë‹¤. MVC ì•„í‚¤í…ì³ ì •ë³´ë¥¼ ë‹´ì€ ëª¨ë¸(M), í™”ë©´ ì¶œë ¥ ë¡œì§ì„ ë‹´ì„ ë·°(V), ì œì–´ ë¡œì§ì„ ë‹´ì€ ì»¨íŠ¸ë¡¤ëŸ¬(C)ê°€ ì„œë¡œ í˜‘ë ¥í•˜ì—¬ í•˜ë‚˜ì˜ ì›¹ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê³  ì‘ë‹µì„ ë§Œë“¤ì–´ë‚´ëŠ” êµ¬ì¡°ì´ë‹¤. MVC ì•„í‚¤í…ì²˜ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ íŒ¨í„´ê³¼ í•¨ê»˜ ì‚¬ìš©ëœë‹¤. í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ íŒ¨í„´ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ë¨¼ì € ë°›ê³  ê³µí†µì ì¸ ì‘ì—…ì„ ìˆ˜í–‰ í›„, ë‚˜ë¨¸ì§€ ì‘ì—…ì„ ì„¸ë¶€ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ìœ„ì„í•´ì£¼ëŠ” ë°©ì‹ ìŠ¤í”„ë§ì€ DispatcherServlet ì´ë¼ëŠ” í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì‚¬ìš©í•˜ë©°, ì´ëŠ” ìŠ¤í”„ë§ MVCì˜ í•µì‹¬ì´ë‹¤. DispatcherServlet flow 1) DispatcherServletì˜ HTTP ìš”ì²­ ì ‘ìˆ˜ ë“¤ì–´ì˜¤ëŠ” http ìš”ì²­ì´ DispatcherServletì— í• ë‹¹ëœ ê²ƒì´ë¼ë©´ ì´ë¥¼ ë°›ëŠ”ë‹¤. ëŒ€ì²´ë¡œ ì•„ë˜ì™€ ê°™ì´ web.xmlì— ì •ì˜ë˜ì–´ ìˆë‹¤. 12345678&lt;servlet&gt; &lt;servlet-name&gt;DispatcherServlet&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;&lt;/servlet&gt;&lt;servlet-mapping&gt; &lt;servlet-name&gt;DispatcherServlet&lt;/servlet-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt;&lt;/servlet-mapping&gt; ìš”ì²­ì„ ë°›ì€ DispatcherServletì€ ê³µí†µì ìœ¼ë¡œ ì§„í–‰í•´ì•¼ í•  ì „ì²˜ë¦¬ ì‘ì—…ì´ ìˆë‹¤ë©´ ì´ë¥¼ ë¨¼ì € ìˆ˜í–‰í•œë‹¤. 2) DispatcherServletì—ì„œ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ HTTP ìš”ì²­ ìœ„ì„ DispatcherServletì€ ë“¤ì–´ì˜¨ http ìš”ì²­ ì •ë³´(URL, parameter, method ë“±)ì„ ì°¸ê³ ë¡œ í•´ì„œ ì–´ë–¤ ì»¨íŠ¸ë¡¤ëŸ¬ì—ê²Œ ì‘ì—…ì„ ìœ„ì„í•  ì§€ ê²°ì •í•œë‹¤. DispatcherServletì€ í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ì´ë¯€ë¡œ ì„¸ë¶€ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì§ì ‘ ì°¾ì§€ì•Šê³  HandlerMapping, HandlerAdapterë¼ëŠ” ì „ëµì— í•´ë‹¹ í–‰ìœ„ë¥¼ ìœ„ì„í•œë‹¤.(ìì„¸í•œ ë‚´ìš©ì€ ìœ„ ë§í¬ì—ì„œ í™•ì¸) ì§€ê¸ˆì€ ê·¸ëƒ¥ ì „ë‹¬ë°›ì€ HttpServletRequest, HttpServletResponseë¥¼ ë„˜ê²¨ì£¼ë©´ ì„¸ë¶€ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì°¾ì•„ì¤€ë‹¤ ì •ë„ë§Œ ê¸°ì–µí•´ë„ ëœë‹¤. 3) ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ëª¨ë¸ ìƒì„±ê³¼ ì •ë³´ ë“±ë¡ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ì‚¬ìš©ì ìš”ì²­ì„ í•´ì„í•˜ì—¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ìˆ˜í–‰í•˜ê³  ê²°ê³¼ë¥¼ ë°›ì•„ì˜¨ ë’¤, ëª¨ë¸ì— ë„£ëŠ”ë‹¤. (ëª¨ë¸ì€ ë·°ì— ë¿Œë ¤ì¤„ ì •ë³´ë¥¼ ë‹´ì€ key, value í˜•íƒœì˜ ë§µì´ë‹¤.) MVC íŒ¨í„´ì˜ ì¥ì ì€ ëª¨ë¸ê³¼ ë·°ê°€ ë¶„ë¦¬ë˜ì—ˆë‹¤ëŠ” ê²ƒì´ë‹¤. ê°™ì€ ëª¨ë¸ì´ë¼ë„ ë·°ë§Œ ë°”ê¿”ì£¼ë©´ ì „í˜€ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ëª¨ë¸ì˜ ì •ë³´ë¥¼ ì¶œë ¥ì‹œí‚¬ ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ jspë·°ë¥¼ ì„ íƒí•˜ë©´ html, ì—‘ì…€ë·°ë¥¼ ì„ íƒí•˜ë©´ ì—‘ì…€, pdfë·°ë¥¼ ì„ íƒí•˜ë©´ pdfë¡œ ëª¨ë¸ì •ë³´ë¥¼ ì¶œë ¥í•  ìˆ˜ ìˆë‹¤. 4) ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ê²°ê³¼ ë¦¬í„´ : ëª¨ë¸ê³¼ ë·° ëª¨ë¸ì´ ì¤€ë¹„ë˜ì—ˆìœ¼ë¯€ë¡œ ë·°ë¥¼ ì„ íƒí•œë‹¤. ë·° ì˜¤ë¸Œì íŠ¸ë¥¼ ì§ì ‘ ì„ íƒí•  ìˆ˜ë„ ìˆì§€ë§Œ ë³´í†µì€ ë·° ë¦¬ì¡¸ë²„ë¥¼ ì‚¬ìš©ë¯€ë¡œ ë·°ì˜ ë…¼ë¦¬ì ì¸ ì´ë¦„ë§Œì„ ë¦¬í„´í•˜ë©´ ëœë‹¤. ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ìµœì¢…ì ìœ¼ë¡œ ë¦¬í„´í•´ì£¼ëŠ” ì •ë³´ëŠ” ëª¨ë¸ê³¼ ë·°, 2ê°€ì§€ì´ë‹¤. ì´ë¥¼ ë¦¬í„´í•´ì£¼ê³  ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ì—­í• ì€ ëì´ë‚œë‹¤. 5-6) DispatcherServletì˜ ë·° í˜¸ì¶œê³¼ ëª¨ë¸ ì°¸ì¡° ë‹¤ì‹œ DispatcherServletìœ¼ë¡œ ë„˜ì–´ì™”ë‹¤. ë·° ì˜¤ë¸Œì íŠ¸ì— ëª¨ë¸ì„ ë„˜ê²¨ì£¼ë©° ìµœì¢… ê²°ê³¼ë¬¼ì„ ìƒì„±í•´ë‹¬ë¼ê³  ìš”ì²­í•œë‹¤. ìƒì„±ëœ ìµœì¢… ê²°ê³¼ë¬¼ì€ HttpServletResponse ì˜¤ë¸Œì íŠ¸ì— ë‹´ê¸´ë‹¤. 7) HTTP ì‘ë‹µ ëŒë ¤ì£¼ê¸° DispatcherServletì€ ê³µí†µì ìœ¼ë¡œ ì§„í–‰í•´ì•¼ í•  í›„ì²˜ë¦¬ ì‘ì—…ì´ ìˆëŠ”ì§€ í™•ì¸í•˜ê³  ì´ë¥¼ ìˆ˜í–‰í•œë‹¤. ìˆ˜í–‰ì´ ëë‚˜ë©´ HttpServletResponseì— ë‹´ê¸´ ìµœì¢… ê²°ê³¼ë¥¼ ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆì—ê²Œ ëŒë ¤ì¤€ë‹¤. ì»¨í…Œì´ë„ˆëŠ” ì´ ì •ë³´ë¥¼ HTTP ì‘ë‹µìœ¼ë¡œ ë§Œë“¤ì–´ ì‚¬ìš©ìì˜ ë¸Œë¼ìš°ì €ë‚˜ í´ë¼ì´ì–¸íŠ¸ì— ì „ì†¡í•˜ê³  ì‘ì—…ì„ ì¢…ë£Œí•œë‹¤. DispatcherServletì˜ ë³€ê²½ ê°€ëŠ¥í•œ ì „ëµ ìœ„ì— ë‚˜ì™€ìˆë“¯ì´, DispatcherServletì€ í•˜ë‚˜ì˜ ìš”ì²­ì— ëŒ€í•´ ìƒë‹¹íˆ ë§ì€ ì‘ì—…ë“¤ì„ ê±°ì¹œë‹¤ (í•˜ë‚˜ì˜ ìš”ì²­ì— HandlerMapping ê±°ì¹˜ê³  HandlerAdapter ê±°ì¹˜ê³  ViewResolver ê±°ì¹˜ê³  ë“±ë“±â€¦) ì´ ì‘ì—…ë“¤ì„ ì „ëµì´ë¼ê³  ë¶€ë¥¸ë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ default ì „ëµë“¤ì´ ìˆê³ , ë³„ë‹¤ë¥¸ ì„¤ì •ì„ í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì´ ê¸°ë³¸ ì „ëµë“¤ì„ ì‚¬ìš©í•˜ì—¬ ìš”ì²­ì„ ìˆ˜í–‰í•˜ê²Œ ëœë‹¤ ì¤‘ìš”í•œê²ƒì€, ìŠ¤í”„ë§ì˜ DispatcherServletì€ ì „ëµíŒ¨í„´ì´ ì˜ ì ìš©ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ì´ ì „ëµë“¤ì„ ì•„ì£¼ ì‰½ê²Œ í™•ì¥(ë³€ê²½)í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ë‹¤(!!) ê°„ë‹¨í•˜ê²Œ í™•ì¥í•˜ê³  ì‹¶ì€ ì „ëµë“¤ì„ ë¹ˆìœ¼ë¡œ ë“±ë¡ë§Œ í•´ë‘ë©´, DispatcherServletì´ í”Œë¡œìš°ë¥¼ ìˆ˜í–‰í•˜ë©´ì„œ í•´ë‹¹ ì „ëµì„ ê¸°ë³¸ì „ëµ ëŒ€ì‹ í•´ì„œ ì‹¤í–‰í•˜ê²Œ ëœë‹¤(ë“±ë¡ëœ í™•ì¥ ì „ëµë“¤ì´ ìˆëŠ”ê°€ ì²´í¬í•˜ê³  ìˆìœ¼ë©´ ìˆ˜í–‰, ì—†ìœ¼ë©´ ê¸°ë³¸ ì „ëµ ìˆ˜í–‰) DispatcherServletì€ ìŠ¤í”„ë§ì´ ê´€ë¦¬í•˜ëŠ” ì˜¤ë¸Œì íŠ¸ê°€ ì•„ë‹ˆë¯€ë¡œ ì§ì ‘ DI í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì „ëµì´ í™•ì¥ë˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤. DispatcherServletì€ ê¸°ë³¸ì ìœ¼ë¡œ DispatcherServlet.properties íŒŒì¼ì„ í†µí•´ ì„¤ì •ì„ ì´ˆê¸°í™”í•˜ê³ , ë‚´ë¶€ì ìœ¼ë¡œ ê°€ì§€ê³  ìˆëŠ” ì–´í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…ìŠ¤íŠ¸ë¥¼ í†µí•´ í™•ì¥ ê°€ëŠ¥í•œ ì „ëµì´ ìˆë‚˜ ì°¾ì€ ë’¤, ì´ë¥¼ ê°€ì ¸ì™€ ë””í´íŠ¸ ì „ëµì„ ëŒ€ì‹ í•´ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ë‹¤. ì•„ë˜ëŠ” í™•ì¥ ê°€ëŠ¥í•œ ì „ëµë“¤ê³¼, defaultë¡œ ë“±ë¡ëœ ì „ëµë“¤ì´ë‹¤. HandlerMapping URLê³¼ ìš”ì²­ ì •ë³´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì–´ë–¤ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì‚¬ìš©í• ì§€ ê²°ì •í•œë‹¤. default BeanNameUrlHandlerMapping DefaultAnnotaionHandlerMapping HandlerAdapter í•¸ë“¤ëŸ¬ ë§¤í•‘ìœ¼ë¡œ ì„ íƒëœ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì§ì ‘ í˜¸ì¶œí•œë‹¤. default HttpReqeustHandlerAdapter SimpleControllerHandlerAdapter AnnotaionMethodHandlerAdapter HandlerExceptionResolver ì˜ˆì™¸ê°€ ë°œìƒí–ˆì„ ë•Œ ì´ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë¡œì§ì„ ê°–ê³  ìˆë‹¤. ì˜ˆì™¸ ë°œìƒ ì‹œ ì—ëŸ¬í˜ì´ì§€ ì¶œë ¥, ë¡œê·¸ ì „ì†¡ë“±ì˜ ì‘ì—…ì€ ê°œë³„ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì•„ë‹Œ í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ì—­í• ì´ë‹¤. DispatcherServletì€ ë“±ë¡ëœ HandlerExceptionResolverì¤‘ì—ì„œ ë°œìƒí•œ ì˜ˆì™¸ì— ì í•©í•œ ê²ƒì„ ì°¾ì•„ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ ìœ„ì„í•œë‹¤. default AnnotaionMethodHandlerExceptionResolver ResponseStatusExceptionResolver DefaultHandlerExceptionResolver ViewResolver ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë¦¬í„´í•œ ë…¼ë¦¬ì ì¸ ë·° ì´ë¦„ì„ ì°¸ê³ í•˜ì—¬ ì ì ˆí•œ ë·° ì˜¤ë¸Œì íŠ¸ë¥¼ ì°¾ì•„ì¤€ë‹¤. default InternalResourceViewResolver UrlBasedViewResolver LocaleResolver ì§€ì—­ì •ë³´ë¥¼ ê²°ì •í•´ì£¼ëŠ” ì „ëµì´ë‹¤. ë””í´íŠ¸ëŠ” í—¤ë” ì •ë³´ë¥¼ ë³´ê³  ì§€ì—­ì •ë³´ë¥¼ ì„¤ì •í•œë‹¤. íŒŒë¼ë¯¸í„°ë‚˜ ì¿ í‚¤, xml ì„¤ì •ë“±ì„ í†µí•˜ê²Œ í•  ìˆ˜ ìˆë‹¤. default AcceptHeaderLocaleResolver RequestViewNameTranslator ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë·° ì˜¤ë¸Œì íŠ¸ë‚˜ ì´ë¦„ì„ ì œê³µí•˜ì§€ ì•Šì•˜ì„ ê²½ìš° URL ìš”ì²­ì •ë³´ë¥¼ ì°¸ê³ í•´ì„œ ìë™ìœ¼ë¡œ ë·° ì´ë¦„ì„ ìƒì„±í•´ì£¼ëŠ” ì „ëµì´ë‹¤. default DefaultRequestToViewNameTraslator ì „ëµì˜ ë³€ê²½ì„ ìœ„í•´ ë¹ˆì„ ì§ì ‘ ë“±ë¡í•˜ê²Œ ë˜ë©´ í•´ë‹¹ ì „ëµì˜ default ì „ëµë“¤ì´ ëª¨ë‘ ë¬´ì‹œë˜ë¯€ë¡œ, ìœ ì˜í•´ì•¼ í•œë‹¤. ë˜í•œ ë””í´íŠ¸ ì „ëµì— ì¶”ê°€ ì˜µì…˜ì„ ì£¼ê³  ì‹¶ìœ¼ë©´ í•´ë‹¹ ë¹ˆì„ ë“±ë¡í•˜ë©´ì„œ ì˜µì…˜ì„ ì¤˜ì•¼ í•œë‹¤. ì°¸ê³  : ì´ì¼ë¯¼, ã€í† ë¹„ì˜ ìŠ¤í”„ë§ 3.1ã€, ì—ì´ì½˜ì¶œíŒ(2012)]]></content>
      <categories>
        <category>spring</category>
      </categories>
      <tags>
        <tag>í† ë¹„ì˜ ìŠ¤í”„ë§</tag>
        <tag>DispatcherServlet</tag>
        <tag>MVC</tag>
        <tag>Front Controller</tag>
        <tag>DispatcherServlet flow</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[java] class, interface ìƒì†]]></title>
    <url>%2Fjava%2Fclass-interface-%EC%83%81%EC%86%8D%2F</url>
    <content type="text"><![CDATA[class ê¸°ë³¸ì ì¸ ì˜¤ë²„ë¼ì´ë”© 123456789101112class Parent&#123; Integer test()&#123; return 0; &#125;&#125;class Child extends Parent&#123; Integer test()&#123; return 1; &#125;&#125;// child.test() == return 1; javaëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì´ë¦„ì´ ê°™ì€ë° ë¦¬í„´íƒ€ì…ì´ ë‹¤ë¥¸ ë©”ì„œë“œê°€ ìˆì„ ìˆ˜ ì—†ìŒ. ë­˜ í˜¸ì¶œí•˜ëŠ”ì§€ ì•Œ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì—. 12345678910class Parent&#123; Integer test()&#123; return 0; &#125;&#125;class Child extends Parent&#123; String test()&#123; // error return "1"; &#125;&#125; í•„ë“œì˜ ê²½ìš° ê·¸ëƒ¥ ê°™ì€ ì´ë¦„ì€ ë¬´ì‹œë¨ 12345678class Parent&#123; Integer test = 0;&#125;class Child extends Parent&#123; String test = "1";&#125;// child.test == 1; interface ìƒìˆ˜ë‘ ì¶”ìƒë©”ì„œë“œë§Œ ì˜¬ ìˆ˜ ìˆìŒ. í‚¤ì›Œë“œëŠ” ìë™ìœ¼ë¡œ ìƒëµë¨. 12345678interface Team&#123; // public static final int memberNumber ì™€ ë™ì¼ // public static finalì€ ìƒëµí•´ë„ ìë™ìœ¼ë¡œ ë¶™ìŒ int memberNumber = 11; // public abstract String printMembers() ì™€ ë™ì¼ String printMembers();&#125; ìƒì†ì€ ê¸°ë³¸ì ì¸ í´ë˜ìŠ¤ ìƒì†ê³¼ ë™ì¼í•¨. íŠ¹ì´ì ì€ ë‹¤ì¤‘ ìƒì†ì´ ëœë‹¤ëŠ” ê²ƒì„. 12345678910111213141516171819interface A&#123; int a();&#125;interface B&#123; int b();&#125;// 2ê°œ êµ¬í˜„class Impl implements A, B&#123; @Override public int a()&#123; return 10; &#125; @Override public int b()&#123; return 20; &#125;&#125; ë§Œì•½ ë©”ì„œë“œëª…ì´ ê²¹ì¹˜ë©´ í•˜ë‚˜ë§Œ ì„ ì–¸í•´ë„ ë¨ 1234567891011121314interface A&#123; int a();&#125;interface B&#123; int a();&#125;// 1ê°œ êµ¬í˜„class Impl implements A, B&#123; @Override public int a()&#123; return 10; &#125;&#125; ê°™ì€ ì´ë¦„ì´ì§€ë§Œ ë¦¬í„´íƒ€ì…ì´ ë‹¤ë¥¸ ë©”ì„œë“œë¥¼ ê°€ì§„ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë‹¤ì¤‘ ìƒì†í•  ìˆ˜ ì—†ìŒ. ì–¸ê¸‰í–ˆë“¯ì´ ìë°”ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë™ì¼í•œ ì´ë¦„ì— ë‹¤ë¥¸ ë¦¬í„´íƒ€ì…ì˜ ë©”ì„œë“œë¥¼ í—ˆìš©í•˜ì§€ ì•ŠìŒ. 123456789interface A&#123; int a();&#125;interface B&#123; String a();&#125;class Impl implements A, B&#123; // error&#125; ì¸í„°í˜ì´ìŠ¤ ë¼ë¦¬ ìƒì†ë„ ë¨ 12345678910111213141516171819interface A&#123; int a();&#125;interface B extends A&#123; int b();&#125;// 2ê°œë¥¼ êµ¬í˜„í•´ì•¼í•¨class Impl implements B&#123; @Override public int a()&#123; return 10; &#125; @Override public int b()&#123; return 20; &#125;&#125; ì¸í„°í˜ì´ìŠ¤ë„ ì˜¤ë²„ë¼ì´ë”© ë˜ëŠ”ë°, default ë©”ì„œë“œë¥¼ ì‚¬ìš©í• ë•Œë‚˜ ì˜ë¯¸ìˆì§€ í‰ì†Œì—ëŠ” ì˜¤ë²„ë¼ì´ë”©ì´ ì˜ë¯¸ì—†ìŒ. 123456789101112interface A&#123; default int a()&#123; return 10; &#125;&#125;interface B extends A&#123; default int a()&#123; return 20; &#125;&#125;// impl.a() == 20 ì¸í„°í˜ì´ìŠ¤ ìƒì†ì€ ë‹¤ì¤‘ ìƒì†ì„ ì§€ì›í•¨ 123456789101112131415161718192021222324252627interface A&#123; int a();&#125;interface B&#123; int b();&#125;interface C extends A, B&#123; int c();&#125;// 3ê°œë¥¼ êµ¬í˜„í•´ì•¼í•¨class Impl implements C&#123; @Override public int a()&#123; return 10; &#125; @Override public int b()&#123; return 20; &#125; @Override public int c()&#123; return 30; &#125;&#125; í•„ë“œëŠ” êµ¬í˜„ì²´ë¥¼ ë”°ë¼ê°€ì§€ ì•ŠìŒ. ê¸°ë³¸ì ìœ¼ë¡œ static ì´ê¸° ë•Œë¬¸. 123456789101112131415161718interface A&#123; int a = 10;&#125;interface B extends A&#123; int a = 20;&#125;class Impl implements B&#123;&#125;public class Main&#123; @Test public void test()&#123; A a = new Impl(); System.out.println(a.a); // 10 B b = new Impl(); System.out.println(b.a); // 20 &#125;&#125; ì´ë§Œí•˜ë©´ ë˜ì§€ ì•Šì•˜ì„ê¹Œâ€¦]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>class extends</tag>
        <tag>interface implements</tag>
        <tag>interface extends</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[db] database connection pool]]></title>
    <url>%2Fdb%2Fdatabase-connection-pool%2F</url>
    <content type="text"><![CDATA[database connection pool ì •ì˜ https://www.holaxprogramming.com/2013/01/10/devops-how-to-manage-dbcp/ ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—…ì—ì„œ ê°€ì¥ ë¹„ìš©ì´ ë§ì´ ë°œìƒí•˜ëŠ” ë¶€ë¶„ì€ ì»¤ë„¥ì…˜ì„ ìƒì„±í•˜ì—¬ ë§ºëŠ” ë¶€ë¶„ db ì‘ì—…ì´ ì¼ì–´ë‚  ë•Œ ë§ˆë‹¤ ì´ë ‡ê²Œ ì»¤ë„¥ì…˜ì„ ìƒì„±í•˜ê³  ë°˜ë‚©í•˜ë©´ ë§¤ìš° ë‚­ë¹„ê°€ í¬ë¯€ë¡œ, ì´ëŸ¬í•œ ì»¤ë„¥ì…˜ë“¤ì„ ë¯¸ë¦¬ ìƒì„±í•´ì„œ í’€ì— ë‹´ì•„ë‘ê³  í•„ìš”í•  ë•Œ ë§ˆë‹¤(db ìš”ì²­ì´ ìˆì„ ë•Œ ë§ˆë‹¤) êº¼ë‚´ì“°ë„ë¡ í•¨ ì´ë¥¼ ì»¤ë„¥ì…˜ í’€ì´ë¼ê³  í•˜ê³ , Apache Commons DBCPë¥¼ ì‚¬ìš© (ì •í™•íˆ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ ëª¨ë¥´ì§€ë§Œ LinkedListì— ì €ì¥í•´ë†“ê³  ì ì ˆíˆ ë°˜í™˜í•˜ê³  ëŒë ¤ë°›ê³  í•˜ëŠ” ë“¯ í•˜ë‹¤) ì»¤ë„¥ì…˜ í’€ ê´€ë ¨í•´ì„œ ì—¬ëŸ¬ê°€ì§€ ì†ì„±ë“¤(maxActive, maxIdle ë“±)ì´ ìˆì§€ë§Œ ì´ê²ƒë³´ë‹¤ ì‹¤ì œ ì»¤ë„¥ì…˜ ìµœëŒ€ ê°œìˆ˜ê°€ ì„±ëŠ¥ìƒ ê°€ì¥ ì¤‘ìš”í•œ ì´ìŠˆì´ë‹¤ ì»¤ë„¥ì…˜ ê°œìˆ˜ë¥¼ ì„¤ì •í•˜ëŠ” ë°©ë²•ì€ DBMSê°€ ìˆ˜ìš©í•  ìˆ˜ ìˆëŠ” ì»¤ë„¥ì…˜ ê°œìˆ˜ë¥¼ ì¸¡ì •í•œ ë‹¤ìŒì—, WAS í•˜ë‚˜ê°€ ì‚¬ìš©í•  ì»¤ë„¥ì…˜ í’€ ê°œìˆ˜ë¥¼ êµ¬í•˜ë©´ ëœë‹¤. ê·¸ë¦¬ê³  ê¸°ë³¸ì ìœ¼ë¡œ WASì˜ Thread ìˆ˜ëŠ” DBMSì˜ Connection ìˆ˜ë³´ë‹¤ ë§ì•„ì•¼ í•œë‹¤. ëª¨ë“  ì‘ì—…ì´ DBë¥¼ í•„ìš”ë¡œ í•˜ì§„ ì•Šê¸° ë•Œë¬¸ì´ë‹¤. ì“°ë ˆë“œê°€ DBCPë³´ë‹¤ í•œ 10ê°œ ì •ë„ ë§ê²Œ í•˜ë©´ ì ë‹¹í•˜ë‹¤. DB ì»¤ë„¥ì…˜ í’€ 100ê°œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ 10ê°œë¼ë©´ ê°ê° ì»¤ë„¥ì…˜ í’€ 10ê°œ ì–´í”Œë¦¬ì¼€ì´ì…˜ ê°ê° ì“°ë ˆë“œí’€ 20ê°œ]]></content>
      <categories>
        <category>db</category>
      </categories>
      <tags>
        <tag>connection pool</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[db] jdbc]]></title>
    <url>%2Fdb%2Fjdbc%2F</url>
    <content type="text"><![CDATA[JDBC javaì—ì„œ mysqlì„ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ê·œì•½(?) JDBCëŠ” ê·¸ëƒ¥ ê»ë°ê¸°(interface)ì¼ ë¿ì´ê³ , DBMS ë²¤ë”ë“¤ì´ ê·¸ ê·œì•½ì„ êµ¬í˜„í•œ Driver ë“¤ì„ ì œê³µí•œë‹¤. JDBC URLì´ ìˆë‹¤. ì´ê²ƒë„ JDBC ê·œì•½ì— ìˆëŠ” í‘œì¤€ì´ë‹¤. jdbc:mysql:// ìŠ¤íŠ¸ë§ì€ ê³ ì •ì´ë‹¤. ìš”ì¦˜ì€ ì»¤ë„¥ì…˜ í’€ì„ ì‚¬ìš©í•˜ë¯€ë¡œ ì•„ë˜ì˜ ì½”ë“œê°€ ìµìˆ™í•˜ì§€ëŠ” ì•Šê³˜ì§€ë§Œâ€¦ Class.forName(driverClass).newInstance(); ë¥¼ í†µí•´ ë“œë¼ì´ë²„ë¥¼ JVMìœ¼ë¡œ ë¡œë“œí•˜ê³ , DriverManager.getConnection()ìœ¼ë¡œ ì»¤ë„¥ì…˜ì„ ì–»ëŠ”ë‹¤. ì‚¬ìš©í•œ ì»¤ë„¥ì…˜ì€ ë°”ë¡œë°”ë¡œ ë°˜ë‚©í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤. Statement VS PreparedStatement ê¸°ë³¸ì ìœ¼ë¡œ JDBC í”„ë¡œê·¸ë˜ë°ì„ í•˜ë©´ Statementê°€ ì‹¤í–‰ë˜ëŠ” ê³¼ì •ì€ ì•„ë˜ì™€ ê°™ë‹¤. 1ìš”ì²­ -&gt; ì¿¼ë¦¬ ë¶„ì„ -&gt; ìµœì í™” -&gt; ê¶Œí•œìš”ì²­ -&gt; ì‹¤í–‰ ì¿¼ë¦¬ ë¶„ì„ê³¼ ìµœì í™”ì—ì„œ ì‹œê°„ì´ ê½¤ ê±¸ë¦¬ëŠ”ë°, PreparedStatementëŠ” ì´ ê³¼ì •ì„ ë¯¸ë¦¬ ë©”ëª¨ë¦¬ì— ì €ì¥í•´ë‘ê³  ë‹¤ìŒ ìš”ì²­ì—ì„œ ë°”ë¡œ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ì‹œê°„ì„ ë§ì´ ì¤„ì¼ ìˆ˜ ìˆê²Œ ëœë‹¤. (PreparedStatementëŠ” íŒŒë¼ë¯¸í„° ë°”ì¸ë”©ì„ ì§€ì›í•˜ë¯€ë¡œ ì™„ë²½í•˜ê²Œ ë˜‘ê°™ì€ ì¿¼ë¦¬ê°€ ì•„ë‹ˆì–´ë„ ìƒê´€ì—†ë‹¤.) ë˜í•œ PreparedStatementëŠ” ì „ë‹¬ë˜ëŠ” íŒŒë¼ë¯¸í„° ì• ë’¤ë¡œ SQL injectionì— ë¬¸ì œë  ë¬¸ìë“¤ì„ ê²€ì‚¬í•˜ê³  escape ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì— ê°œë°œìê°€ ì§ì ‘ ì²˜ë¦¬í•´ì¤˜ì•¼ í•˜ëŠ” ë²ˆê±°ë¡œì›€ì´ ì—†ë‹¤.]]></content>
      <categories>
        <category>db</category>
      </categories>
      <tags>
        <tag>java mysql</tag>
        <tag>preparedstatement</tag>
        <tag>sql injection</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[java] ì˜ˆì™¸ì²˜ë¦¬]]></title>
    <url>%2Fjava%2F%EC%98%88%EC%99%B8%EC%B2%98%EB%A6%AC%2F</url>
    <content type="text"><![CDATA[ì˜ˆì™¸ë€ í”„ë¡œê·¸ë¨ ì‹¤í–‰ ë„ì¤‘ ë°œìƒí•˜ëŠ” ë¬¸ì œ ìƒí™©ì„ ì–˜ê¸°í•©ë‹ˆë‹¤. ë”°ë¼ì„œ ì»´íŒŒì¼ ì‹œ ë°œìƒí•˜ëŠ” ë¬¸ë²•ì ì¸ ì˜¤ë¥˜ëŠ” ì˜ˆì™¸ì˜ ë²”ì£¼ì— í¬í•¨ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ë©´ ì•„ë˜ì™€ ê°™ì€ ìƒí™©ì´ ìˆìŠµë‹ˆë‹¤. 1234public static void main(String[] args)&#123; String str = null; System.out.println(str.length());&#125; ì´ ìƒí™©ì€ ë¬¸ë²•ì ìœ¼ë¡œëŠ” ë¬¸ì œê°€ ì—†ìœ¼ë¯€ë¡œ, ì»´íŒŒì¼ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê·¸ëŸ°ë° ì‹¤í–‰í•˜ë©´ ì™€ ê°™ì´ Exceptionì´ ë°œìƒí•©ë‹ˆë‹¤. strë³€ìˆ˜ì—ì„œ length ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œê±´ë°, strì—ëŠ” í˜„ì¬ nullì´ ë“¤ì–´ê°€ ìˆìœ¼ë¯€ë¡œ(ì£¼ì†Œê°’ì´ ì—†ìœ¼ë¯€ë¡œ) ë¹„ì–´ìˆëŠ” ì£¼ì†Œë¥¼ ì°¸ì¡°í•˜ì—¬ ë©”ì„œë“œë¥¼ ì‹¤í–‰í•˜ë ¤ í–ˆë‹¤â€¦ ë­ ì´ëŸ°ì˜ë¯¸ë¡œ NullPointerExceptionì´ ë°œìƒí•œ ê²ë‹ˆë‹¤. ê·¼ë° ë³´ë‹¤ì‹œí”¼ í•´ë‹¹ NullPointerExceptionì€ java.lang íŒ¨í‚¤ì§€ ë‚´ì— ìˆëŠ” í´ë˜ìŠ¤ë„¤ìš”. ì´ë ‡ë“¯ Exceptionë¼ê³  ë³„ ë‹¤ë¥¸ê²Œ ì•„ë‹ˆë¼ ë‹¤ í´ë˜ìŠ¤ë“¤ì…ë‹ˆë‹¤. ì˜ˆì™¸ì ì¸ ìƒí™©ì— ë”°ë¼ ëŒ€ë¶€ë¶„ì˜ í´ë˜ìŠ¤ê°€ ì •ì˜ë˜ì–´ ìˆê³ , ì•½ì†ëœ ì˜ˆì™¸ ìƒí™©ì— ë”°ë¼ í•´ë‹¹ ì˜ˆì™¸ í´ë˜ìŠ¤ê°€ ë°œìƒí•©ë‹ˆë‹¤. ëª‡ê°€ì§€ ì˜ˆë¥¼ ë³¼ê¹Œìš” NullPointerException : ì°¸ì¡°ë³€ìˆ˜ê°€ nullì¸ ìƒí™©ì—ì„œ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ìƒí™© NegativeArraySizeException : ë°°ì—´ ì„ ì–¸ ê³¼ì •ì—ì„œ ë°°ì—´ì˜ í¬ê¸°ë¥¼ ìŒìˆ˜ë¡œ ì§€ì •í•˜ëŠ” ìƒí™© ClassCastException : í—ˆìš©ë˜ì§€ ì•ŠëŠ” í˜•ë³€í™˜ì„ í•˜ëŠ” ìƒí™© ì´ë ‡ë“¯ ëŒ€ë¶€ë¶„ ìƒí™©ì— ë”°ë¼ ì •ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì˜ˆì™¸ í´ë˜ìŠ¤ì˜ ê³„ì¸µë„ ì˜ˆì™¸ë„ ê²°êµ­ í´ë˜ìŠ¤ë¼ê³  í–ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ê° í´ë˜ìŠ¤ê°„ ê³„ì¸µì´ ì¡´ì¬í•˜ê³ , ì´ì— ë”°ë¼ ì˜ˆì™¸ì˜ ì¢…ë¥˜ë„ ë‚˜ë‰©ë‹ˆë‹¤. ë³´ë‹¤ì‹œí”¼ Throwableì´ ì˜ˆì™¸ í´ë˜ìŠ¤ì˜ ìµœìƒìœ„ í´ë˜ìŠ¤ì…ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì•„ë˜ì— Error, Exception 2ê°€ì§€ í´ë˜ìŠ¤ê°€ ìˆëŠ”ë°, ì´ 2ê°œì˜ í´ë˜ìŠ¤ê°€ ì˜ˆì™¸ì˜ í° ë²”ì£¼ì…ë‹ˆë‹¤. Error ë‹¨ìˆœíˆ ì˜ˆì™¸ë¼ê³  í•˜ê¸°ì—ëŠ” ì‹¬ê°í•œ ì˜¤ë¥˜ì˜ ìƒí™©ì„ í‘œí˜„í•˜ëŠ” ì˜ˆì™¸ì…ë‹ˆë‹¤. ìœ„ì˜ ê·¸ë¦¼ì—ì„œ OutOfMemoryError, StackOverflowError ë“±ì´ ë³´ì´ì‹œì£ ? ë‹¤ë“¤ ë§ì´ ë³´ì…¨ì„ê²ë‹ˆë‹¤. í•œ ë‹¨ê³„ ì˜¬ë¼ê°€ë³´ë©´ VirtualMachineErrorë¡œ ìë°” ê°€ìƒë¨¸ì‹ ì— ë¬¸ì œê°€ ìƒê²¼ìŒì„ ì•Œë ¤ì£¼ê³  ìˆìŠµë‹ˆë‹¤. í•œ ë‹¨ê³„ ë” ì˜¬ë¼ê°€ë³´ë©´ Error í´ë˜ìŠ¤ê°€ ë³´ì´ì§€ìš”. ì´ì²˜ëŸ¼ ì‹¬ê°í•œ ì˜¤ë¥˜ë“¤ì€ ë‹¤ Error ì˜ˆì™¸ì˜ í•˜ìœ„ ì˜ˆì™¸ë¡œ ì •ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ê±´ ë­â€¦ ì €í¬ê°€ í•  ìˆ˜ ìˆëŠ” íŠ¹ë³„í•œ ë°©ë²•ì´ ì—†ìœ¼ë¯€ë¡œ ê·¸ëƒ¥ í”„ë¡œê·¸ë¨ì´ ì¢…ë£Œë˜ë„ë¡ ë†”ë‘ëŠ” ìˆ˜ë°–ì— ì—†ìŠµë‹ˆë‹¤. ì¢…ë£Œ í›„ì— ì›ì¸ì„ ì°¾ê³  í•´ê²°í•˜ë˜ê°€ í•´ì•¼í•©ë‹ˆë‹¤. ë‹¹ì¥ ì• í”Œë¦¬ì¼€ì´ì…˜ ë‹¨ì—ì„œëŠ” ì €í¬ê°€ ì¡°ì¹˜ë¥¼ ì·¨í•  ë°©ë²•ì´ ì—†ìŠµë‹ˆë‹¤. Exception ì¼ë°˜ì ìœ¼ë¡œ ìš°ë¦¬ê°€ ë§ˆì£¼í•˜ê²Œ ë˜ëŠ” ì˜ˆì™¸ë“¤ë¡œ, ì €í¬ê°€ ì§ì ‘ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ëŒ€ë¶€ë¶„ì˜ ì˜ˆì™¸ë“¤ì„ ë§í•©ë‹ˆë‹¤. Exception ë‚´ì—ì„œë„ ë˜ ì¢…ë¥˜ê°€ 2ê°€ì§€ë¡œ ë‚˜ë‰©ë‹ˆë‹¤. ì˜ˆì™¸ ì²˜ë¦¬ ë°©ë²• ì˜ˆì™¸ì²˜ë¦¬ì˜ ëŒ€ìƒì´ ë˜ëŠ” Exception ì˜ˆì™¸ì˜ í•˜ìœ„ ì˜ˆì™¸ë¥¼ ëŒ€ìƒìœ¼ë¡œ í•˜ë©°, ì²˜ë¦¬ ë°©ë²•ì—ëŠ” 2ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤. try ~ catch [ ~finally ] ì‚¬ìš©ìê°€ ì§ì ‘ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤. 123456789101112131415public static void main(String[] args)&#123; try&#123; String str1 = null; String str2 = "asd"; System.out.println(str1.length()); System.out.println(str2.length()); &#125; catch(NullPointerException e)&#123; System.out.println("ì°¸ì¡°ë³€ìˆ˜ì˜ ê°’ì´ NULL ì…ë‹ˆë‹¤."); &#125; catch(Exception e)&#123; System.out.println("ë‹¤ë¥¸ ì˜ˆì™¸ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤."); &#125; finally&#123; System.out.println("ë§ˆì§€ë§‰ì— í•­ìƒ ì‹¤í–‰ë˜ëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤."); &#125;&#125; ì˜ˆì™¸ê°€ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë¶€ë¶„ì„ try êµ¬ë¬¸ìœ¼ë¡œ ê°ì‹¸ê³ , ì˜ˆì™¸ê°€ ë°œìƒ ì‹œ ë°œìƒ ì‹œì ìœ¼ë¡œ ë¶€í„° ë” ì´ìƒ try ë¶€ë¶„ì˜ ì½”ë“œëŠ” ì§„í–‰ë˜ì§€ ì•Šê³  catch êµ¬ë¬¸ìœ¼ë¡œ ë“¤ì–´ê°€ê²Œ ë©ë‹ˆë‹¤. catchì˜ íŒŒë¼ë¯¸í„°ëŠ” try êµ¬ë¬¸ì—ì„œ ë°œìƒí•œ ì˜ˆì™¸ í´ë˜ìŠ¤ë¥¼ ë°›ê²Œ ë©ë‹ˆë‹¤. ë‹¤í˜•ì„± ê°€ëŠ¥í•©ë‹ˆë‹¤. catch êµ¬ë¬¸ì€ 1ê°œ ì´ìƒ ì •ì˜ ê°€ëŠ¥í•˜ë©°(í•˜ë‚˜ì˜ ë¡œì§ì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì˜ˆì™¸ëŠ” 1ê°œ ì´ìƒì´ê¸° ë•Œë¬¸ì—), ìœ„ì—ì„œ ë¶€í„° ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤. í•˜ë‚˜ì˜ catch êµ¬ë¬¸ì— ë“¤ì–´ê°”ì„ ê²½ìš° ê·¸ ì•„ë˜ catchêµ¬ë¬¸ì€ ê±´ë„ˆë›°ê²Œ ë©ë‹ˆë‹¤. switch case ì²˜ëŸ¼ìš”. ê·¸ë¦¬ê³  ë§ˆì§€ë§‰ finally êµ¬ë¬¸ì€ ì˜ˆì™¸ê°€ ë°œìƒí•˜ë“ , ë°œìƒí•˜ì§€ ì•Šë“  ì–¸ì œë‚˜ ì‹¤í–‰í•˜ëŠ” ë¶€ë¶„ìœ¼ë¡œì¨ ì„ íƒì ì¸ ì‚¬í•­ì…ë‹ˆë‹¤. ê²°ê³¼ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤. ë¨¼ì € System.out.println(str1.length()); ë¶€ë¶„ì—ì„œ nullê°’ ì°¸ì¡°ë¡œ NullPointerExceptionì´ ë°œìƒí•˜ê²Œ ë©ë‹ˆë‹¤. (ì˜ˆì™¸ê°€ ë°œìƒí–ˆìœ¼ë¯€ë¡œ ì§„í–‰ì´ ë©ˆì¶”ê²Œ ë˜ì–´ ê·¸ ì•„ë˜ System.out.println(str2.length()); ì€ ì§„í–‰ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.) ë°œìƒëœ NullPointerExceptionì€ try êµ¬ë¬¸ì„ ë¹ ì ¸ë‚˜ì™€ ì•„ë˜ì˜ catch êµ¬ë¬¸ì—ì„œ ìê¸°ê°€ ë“¤ì–´ê°ˆ ê³³ì„ ì°¾ê²Œ ë©ë‹ˆë‹¤. ìœ„ìª½ë¶€í„° ì‚´í´ë³´ë‹ˆ íŒŒë¼ë¯¸í„°ë¡œ NullPointerExceptionì„ ë°›ëŠ” catch êµ¬ë¬¸ì´ ìˆë„¤ìš”. êµ¬ë¬¸ì— ì§„ì…í•˜ê³ , êµ¬ë¬¸ ë‚´ì˜ í–‰ìœ„ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤. catch êµ¬ë¬¸ì˜ ì„ íƒì€ switch case ì™€ ê°™ë‹¤ê³  í–ˆì—ˆì£ â€¦ NullPointerException ì˜ˆì™¸ ì²˜ë¦¬ êµ¬ë¬¸ì— ë“¤ì–´ê°”ìœ¼ë‹ˆ ì•„ë˜ì˜ Exception ì˜ˆì™¸ ì²˜ë¦¬ êµ¬ë¬¸ì—ëŠ” ë“¤ì–´ê°€ì§€ ì•Šê²Œ ë©ë‹ˆë‹¤. ê·¼ë° ì—¬ê¸°ì„œ ìœ ì˜í•˜ê³  ë„˜ì–´ê°€ì•¼ í•  ë¶€ë¶„ì´ ìˆìŠµë‹ˆë‹¤. catch êµ¬ë¬¸ì˜ ìœ„ì¹˜ë¥¼ ë°”ê¾¸ì—ˆë‹¤ë©´ ì–´ë–»ê²Œ ë ê¹Œìš”? ì˜ˆë¥¼ ë“¤ì–´ ì•„ë˜ì™€ ê°™ì´ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í–ˆì„ ê²½ìš°ë¥¼ ë³´ì‹œì£ . 1234567catch(Exception e)&#123; // Exception ì˜ˆì™¸ ì²˜ë¦¬&#125; catch(IOException e)&#123; // IOException ì˜ˆì™¸ ì²˜ë¦¬&#125; catch(NullPointerException e)&#123; // NullPointerException ì˜ˆì™¸ ì²˜ë¦¬&#125; Exceptionì€ ëª¨ë“  ì˜ˆì™¸ì˜ ìƒìœ„ í´ë˜ìŠ¤ì´ë¯€ë¡œ, ë°œìƒí•˜ëŠ” ì˜ˆì™¸ë¥¼ ëª¨ë‘ ë‹¤ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìƒì†ê´€ê³„ë„ ê°€ëŠ¥í•˜ë‹¤ê³  í–ˆì—ˆì£ . ì¦‰, ì´ëŸ°ì‹ìœ¼ë¡œ ì˜ˆì™¸ì²˜ë¦¬ ì§€ì •í•´ë²„ë¦¬ë©´ ë°±ë‚  ì²œë‚  ì˜ˆì™¸ í„°ì ¸ë´ì•¼ ì ¤ ìœ„ì˜ Exception ë°›ëŠ” ë¶€ë¶„ì—ì„œ ë‹¤ ê±¸ë¦¬ë¯€ë¡œ ì•„ë˜ì— IOException, NullPointerExceptionì— ëŒ€í•œ ì˜ˆì™¸ ì²˜ë¦¬ëŠ” ë¬´ìš©ì§€ë¬¼ì´ ë©ë‹ˆë‹¤. í•­ìƒ ìœ ì˜í•´ì•¼ í•©ë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ finally êµ¬ë¬¸ì€ ì„ íƒì ì¸ ë¶€ë¶„ì…ë‹ˆë‹¤. ì¨ë„ ê·¸ë§Œ ì•ˆ ì¨ë„ ê·¸ë§Œ. try êµ¬ë¬¸ì´ ì •ìƒì ìœ¼ë¡œ ëë‚˜ë“ , ì˜ˆì™¸ê°€ ë°œìƒí•´ì„œ catch êµ¬ë¬¸ì— ë“¤ì–´ê°€ê³  ëë‚˜ë“  ì–¸ì œë“  ì‹¤í–‰ ë  ë¶€ë¶„ì„ ì ì–´ì£¼ë©´ ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ë©´ ìì› ë°˜ë‚©, ë¡œê¹… ì²˜ë¦¬ ë“±ì´ ìˆìŠµë‹ˆë‹¤. throws throwsëŠ” ë˜ì§€ë‹¤ ë¼ëŠ” ì˜ë¯¸ë¥¼ ê°–ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ì˜ˆì™¸ì²˜ë¦¬ì—ì„œì˜ throwsë„ ë™ì¼í•œ ì˜ë¯¸ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤. ë°œìƒëœ ì˜ˆì™¸ë¥¼ ìì‹ ì„ í˜¸ì¶œí•œ ìª½ìœ¼ë¡œ ë˜ì ¸ë²„ë¦¬ëŠ” ê²ƒì…ë‹ˆë‹¤. ì²˜ë¦¬ë¥¼ ìœ„ì„í•œë‹¤ê³  í‘œí˜„í•˜ë©´ ë˜ê³˜ë„¤ìš”. ì‚¬ìš© ì˜ˆëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤. 1234567891011121314151617181920212223242526272829public static void main(String[] args)&#123; try&#123; System.out.println(calculator('+',1,2)); System.out.println(calculator('/',5,0)); System.out.println(calculator('*',3,3)); &#125; catch(ArithmeticException e)&#123; System.out.println("0ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."); &#125;&#125;static int calculator(char sign, int num1, int num2) throws ArithmeticException&#123; int result = 0; switch(sign)&#123; case '+': result = num1 + num2; break; case '-': result = num1 - num2; break; case '*': result = num1 * num2; break; case '/': result = num1 / num2; // 0ìœ¼ë¡œ ë‚˜ëˆ„ëŠ” ê²½ìš°ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤ break; &#125; return result;&#125; ê°„ë‹¨í•œ ê³„ì‚°ê¸° í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤. ë³´ë‹¤ì‹œí”¼ / ì—°ì‚°ì—ì„œ 0ìœ¼ë¡œ ë‚˜ëˆ„ëŠ” ì˜ˆì™¸ì¸ ArithmeticExceptionì´ ë°œìƒí•  ìˆ˜ ìˆì§€ë§Œ ê·¸ì— ëŒ€í•œ ì²˜ë¦¬ê°€ ì „í˜€ ì—†ìŠµë‹ˆë‹¤. ê·¼ë° ì˜ ë³´ì‹œë©´ ì²˜ë¦¬ê°€ ì—†ëŠ” ëŒ€ì‹  ìœ„ì— throws ì—ì„œ ArithmeticExceptionì„ ì„ ì–¸í•´ì£¼ê³  ìˆë„¤ìš”. ìœ„ êµ¬ë¬¸ì˜ ì˜ë¯¸ëŠ”, ArithmeticExceptionì´ ë°œìƒí•  ê²½ìš° ìì‹ ì„ í˜¸ì¶œí•œ ë©”ì„œë“œ ìª½ìœ¼ë¡œ ê·¸ ì²˜ë¦¬ë¥¼ ë˜ì§€ê² ë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤. ìœ„ì˜ ìƒí™©ì—ì„œ calculatorë¥¼ í˜¸ì¶œí•œ ìª½ì€ main ë©”ì„œë“œì´ë¯€ë¡œ, ë³´ë‹¤ì‹œí”¼ main ë©”ì„œë“œì—ì„œ í•´ë‹¹ ì˜ˆì™¸ë¥¼ ì¡ì•„ ì²˜ë¦¬í•˜ê³  ìˆìŒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. JVMì˜ ì˜ˆì™¸ì²˜ë¦¬ main ë©”ì„œë“œëŠ” í”„ë¡œê·¸ë¨ì˜ ì‹œì‘ì ì´ì§€ë§Œ, main ë©”ì„œë“œë„ ì˜ˆì™¸ë¥¼ ë°›ì•˜ì„ ê²½ìš° throwsë¡œ ë˜ì ¸ë²„ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë©´ ê²°êµ­ mainì„ í˜¸ì¶œí•œ ìª½ìœ¼ë¡œ ë˜ì ¸ì§€ê²Œ ë©ë‹ˆë‹¤. mainì„ í˜¸ì¶œí•œ ì˜ì—­ì€ ê°€ìƒë¨¸ì‹ (JVM) ì´ì£ . ê²°ê³¼ì ìœ¼ë¡œ ì˜ˆì™¸ì²˜ë¦¬ê°€ ê°€ìƒë¨¸ì‹ ì— ì˜í•´ ì´ë£¨ì–´ì§€ê²Œ ë˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ê°€ìƒë¨¸ì‹ ì˜ ì˜ˆì™¸ì²˜ë¦¬ ë°©ì‹ getMessage ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œë‹¤. printStackTrace ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ ì˜ˆì™¸ìƒí™©ì´ ë°œìƒí•´ì„œ ì „ë‹¬ë˜ëŠ” ê³¼ì •ì„ ì¶œë ¥í•´ ì¤€ë‹¤. í”„ë¡œê·¸ë¨ì„ ì¢…ë£Œí•œë‹¤. getMessage, printStackTrace ë©”ì„œë“œëŠ” ì˜ˆì™¸ì˜ ìµœ ìƒìœ„ í´ë˜ìŠ¤ì¸ Throwableì— ì •ì˜ëœ ë©”ì„œë“œì…ë‹ˆë‹¤. getMessageëŠ” ì˜ˆì™¸ì— ëŒ€í•´ ì •ì˜ëœ ê°„ë‹¨í•œ ë©”ì‹œì§€ë¥¼ ë³´ì—¬ì£¼ë©°, printStackTraceëŠ” ì˜ˆì™¸ ë°œìƒ ê³¼ì •ì„ ìƒì„¸í•˜ê²Œ ì¶œë ¥í•´ì¤ë‹ˆë‹¤. ìœ„ì˜ calculatorì—ì„œ Throwable ì œê³µ ë©”ì„œë“œë“¤ì„ ì‚¬ìš©í•´ë³´ê² ìŠµë‹ˆë‹¤. 12345678try&#123; System.out.println(calculator('+',1,2)); System.out.println(calculator('/',5,0)); System.out.println(calculator('*',3,3));&#125; catch(ArithmeticException e)&#123; System.out.println(e.getMessage()); e.printStackTrace();&#125; ê²°ê³¼ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤. getMessageëŠ” ê°„ë‹¨í•˜ê²Œ ì˜ˆì™¸ì˜ ë‚´ìš©ì„ ì¶œë ¥í•´ì£¼ê³ , printStackTraceëŠ” ì˜ˆì™¸ ë°œìƒ ê³¼ì •ì„ ìƒì„¸í•˜ê²Œ ì¶œë ¥í•´ì¤ë‹ˆë‹¤. íŠ¹íˆë‚˜ printStackTraceëŠ” ì˜ˆì™¸ ë°œìƒ ì‹œ ì›ì¸ì„ ì°¾ëŠ”ë° ìƒë‹¹í•œ ë„ì›€ì´ ë©ë‹ˆë‹¤. ì‚¬ìš©ì ì •ì˜ ì˜ˆì™¸ ì•ì„œ ì–¸ê¸‰í–ˆë˜ NullPointerException, ArithmeticException ë“±ì˜ ê²½ìš°, ì‹¤í–‰ ì‹œ ë¬¸ì œê°€ ë˜ë¯€ë¡œ ìë°” ê°€ìƒë¨¸ì‹ ì—ì„œ ì˜ˆì™¸ë¡œ ì •ì˜í•´ë†“ì•˜ìŠµë‹ˆë‹¤. ë¯¸ë¦¬ ì •ì˜ëœ ì˜ˆì™¸ë“¤ì´ì£ . í•˜ì§€ë§Œ ì´ ì™¸ì—ë„ ê°œë°œìê°€ ì§ì ‘ ì˜ˆì™¸ë¥¼ ì •ì˜í•˜ëŠ” ë°©ë²•ë„ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì—ì„œì˜ ì˜ˆì™¸ê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì…/ì¶œê¸ˆ ê´€ë ¨ í”„ë¡œê·¸ë¨ì´ ìˆë‹¤ê³  ê°€ì •í–ˆì„ ë•Œ ì”ê³ ë³´ë‹¤ ë§ì€ ëˆì„ ì¶œê¸ˆí•˜ë ¤ëŠ” ê²½ìš° ìë°” í”„ë¡œê·¸ë¨ ìƒì—ì„œëŠ” ì „í˜€ ë¬¸ì œê°€ ì•ˆë˜ì§€ë§Œ, ì…/ì¶œê¸ˆ ê´€ë ¨ ì—…ë¬´ì—ì„œëŠ” ì˜ˆì™¸ ìƒí™©ì´ ë©ë‹ˆë‹¤. í˜„ì‹¤ì—ì„  ë§ˆì´ë„ˆìŠ¤ ì”ê³ ë¼ëŠ”ê²Œ ì—†ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. (ë§ˆì´ë„ˆìŠ¤ í†µì¥ ë§ê³  ì¼ë°˜ í†µì¥ ê¸°ì¤€ì…ë‹ˆë‹¤â€¦ã…‹ã…‹) ì´ëŸ´ ê²½ìš°ëŠ” ê°œë°œìê°€ ì§ì ‘ ì˜ˆì™¸ë¥¼ ì •ì˜í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤. ìœ„ì˜ ìƒí™©ì„ ê°„ë‹¨í•˜ê²Œ ì •ì˜í•´ë³´ê² ìŠµë‹ˆë‹¤. ì¼ë‹¨ ì‚¬ìš©ì ì •ì˜ ì˜ˆì™¸ë¥¼ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤. ì˜ˆì™¸ í´ë˜ìŠ¤ê°€ ë˜ëŠ” ì¡°ê±´ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤. Exception í´ë˜ìŠ¤ë¥¼ ìƒì†í•œë‹¤ Exceptionì€ ì˜ˆì™¸ í´ë˜ìŠ¤ì˜ ìƒìœ„ í´ë˜ìŠ¤ì…ë‹ˆë‹¤. ë”°ë¼ì„œ ì´ë¥¼ ìƒì†í•¨ìœ¼ë¡œì¨ í•´ë‹¹ í´ë˜ìŠ¤ëŠ” ì˜ˆì™¸ í´ë˜ìŠ¤ê°€ ë˜ê³ , try ~ catch êµ¬ë¬¸ì— í™œìš©ì´ ê°€ëŠ¥í•œ ì˜ˆì™¸ í´ë˜ìŠ¤ê°€ ë©ë‹ˆë‹¤. ë¨¼ì € ìœ„ì˜ ìƒí™©ì— ë§ëŠ” ì˜ˆì™¸ í´ë˜ìŠ¤ë¥¼ í•˜ë‚˜ ë§Œë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤. 12345public class NoMoneyException extends Exception&#123; public NoMoneyException()&#123; super("ëˆì´ ì—†ìŠµë‹ˆë‹¤.."); &#125;&#125; ë³„ë‹¤ë¥¸ ì²˜ë¦¬ ì—†ì´ ê°„ë‹¨íˆ ë¬¸ìì—´ì„ ì¶œë ¥í•˜ê²Œ í•˜ì˜€ìŠµë‹ˆë‹¤. Exception í´ë˜ìŠ¤ë¥¼ ìƒì†í•˜ì˜€ìœ¼ë¯€ë¡œ, ëª¨ë“  ì˜ˆì™¸ì²˜ë¦¬ ë¬¸ë²•ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤. 1234567891011static int totalMoney = 100000;static int withdraw(int money) throws NoMoneyException&#123; if(money &gt; totalMoney)&#123; // ì˜ˆì™¸ ìƒí™© ë°œìƒì‹œ throw new NoMoneyException(); // ì˜ˆì™¸ ë°œìƒ! &#125;else&#123; totalMoney -= money; &#125; return totalMoney;&#125; ì „ë‹¬ë°›ì€ ëˆì´ ì „ì²´ ëˆë³´ë‹¤ ì‘ì„ ê²½ìš°ëŠ” ìœ„ì—ì„œ ìš°ë¦¬ê°€ ì–¸ê¸‰í•œ ì˜ˆì™¸ ìƒí™©ì´ ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  í•´ë‹¹ ì˜ˆì™¸ ìƒí™©ì´ ë°œìƒí–ˆì„ ê²½ìš°, throw êµ¬ë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚µë‹ˆë‹¤. (newë¡œ í•´ë‹¹ ì˜ˆì™¸ë¥¼ ìƒì„±í•˜ëŠ” ìˆœê°„ í•´ë‹¹ ë©”ì„œë“œì— ì˜ˆì™¸ê°€ ë°œìƒëœ ê²ƒì´ê¸° ë•Œë¬¸ì— í•´ë‹¹ ë©”ì„œë“œì— ì˜ˆì™¸ ì²˜ë¦¬ êµ¬ë¬¸ì´ í•„ìš”í•©ë‹ˆë‹¤. ìœ„ì™€ ê°™ì´ throwsë¥¼ í†µí•´ í˜¸ì¶œí•œ ê³³ìœ¼ë¡œ ë˜ì ¸ì¤˜ë„ ë˜ê³ , í•´ë‹¹ ë©”ì„œë“œì—ì„œ ì§ì ‘ ì²˜ë¦¬í•´ë„ ë©ë‹ˆë‹¤.) mainì—ì„œ ì˜ˆì™¸ìƒí™©ì„ ë°œìƒì‹œì¼œ ë³´ê² ìŠµë‹ˆë‹¤. 123456789static int totalMoney = 100000;public static void main(String[] args)&#123; try&#123; System.out.println(withdraw(10000000)); &#125; catch(NoMoneyException e)&#123; e.printStackTrace(); &#125;&#125; ì”ê³ ëŠ” 10ë§Œì›ì¸ë° 1000ë§Œì› ì¸ì¶œì„ ì‹œë„í•˜ê³  ìˆìŠµë‹ˆë‹¤â€¦ ëŒ€ë‹¨í•œâ€¦ ê°€ìŠ´ ì•„í”ˆ ì˜ˆì™¸ê°€ ë°œìƒí–ˆë„¤ìš”â€¦ ë³´ë‹¤ì‹œí”¼ ìƒí™©ì— ë§ì¶° ì •ì˜í–ˆë˜ ì˜ˆì™¸ê°€ ë°œìƒí•˜ê³  ìˆìŒì„ ë³´ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤! ì²´í¬ ì˜ˆì™¸, ì–¸ì²´í¬ ì˜ˆì™¸ ìš°ë¦¬ê°€ ë§ˆì£¼í•˜ëŠ” ì¼ë°˜ì ì¸ ì˜ˆì™¸ì¸ Exception í•˜ìœ„ ì˜ˆì™¸ë“¤ì€ ê·¸ ì‚¬ì´ì—ì„œë„ 2ê°€ì§€ë¡œ ì¢…ë¥˜ê°€ ë‚˜ë‰©ë‹ˆë‹¤. ì²´í¬ ì˜ˆì™¸ì™€ ì–¸ì²´í¬ ì˜ˆì™¸ ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ë‚˜ë‰©ë‹ˆë‹¤. ì´ëŠ” ë¬¸ë²•ì ìœ¼ë¡œë„ ì°¨ì´ê°€ ìˆìœ¼ë‹ˆ ì•Œê³  ê°€ì‹œëŠ”ê²Œ ì¢‹ìŠµë‹ˆë‹¤. ì¼ë‹¨ í•´ë‹¹ ì˜ˆì™¸ë¥¼ ë‚˜ëˆ„ëŠ” ê¸°ì¤€ì€, RuntimeException ì´ë¼ëŠ” ì˜ˆì™¸ì˜ ìƒì† ì—¬ë¶€ì…ë‹ˆë‹¤. Exceptionì˜ í•˜ìœ„ ì˜ˆì™¸ì´ë©´ì„œ RumtimeExceptionì„ ìƒì†í•˜ì§€ ì•Šì•˜ì„ ê²½ìš° ì²´í¬ ì˜ˆì™¸, RumtimeExceptionì„ ìƒì†í–ˆì„ ê²½ìš° ì–¸ì²´í¬ ì˜ˆì™¸ì…ë‹ˆë‹¤. (RumtimeExceptionì€ Exceptionì˜ ì„œë¸Œ í´ë˜ìŠ¤ì´ë¯€ë¡œ, ìƒì†í•˜ë©´ ìë™ìœ¼ë¡œ Exceptionì˜ í•˜ìœ„ ì˜ˆì™¸ê°€ ë©ë‹ˆë‹¤.) ì²´í¬ ì˜ˆì™¸ RumtimeExceptionì„ ìƒì†í•˜ì§€ ì•Šì€ ì¼ë°˜ì ì¸ ì˜ˆì™¸ë“¤ì…ë‹ˆë‹¤. ë°˜ë“œì‹œ try ~ catchë‚˜ throwsë¥¼ í†µí•´ ì²˜ë¦¬ë¥¼ í•´ì¤˜ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì²´í¬ ì˜ˆì™¸ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤. í•­ìƒ ë¬¸ë²•ì ìœ¼ë¡œ ì²´í¬í•œë‹¤ ë¼ëŠ” ì˜ë¯¸ë¡œ ë³´ì‹œë©´ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ë©´ IOException, SQLException ë“±ì´ ìˆìŠµë‹ˆë‹¤. 123456789public static void main(String[] args)&#123; BufferedReader br = new BufferedReader(new InputStreamReader(System.in)); try&#123; System.out.println(br.readLine()); &#125; catch(IOException e)&#123; System.out.println("IOException ë°œìƒ"); &#125;&#125; ì•ì„œ ì‘ì„±í–ˆë˜ ì˜ˆì™¸ì²˜ë¦¬ì™€ ë³„ ë‹¤ë¥¼ê²ƒ ì—†ì–´ ë³´ì´ì§€ë§Œ, ì´ë¥¼ ì§ì ‘ IDEì—ì„œ ì½”ë”©í•´ë³´ì‹œë©´ ì°¨ì´ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. IOExceptionì€ ì²´í¬ ì˜ˆì™¸ì´ë¯€ë¡œ ìœ„ì™€ ê°™ì€ try ~ catch êµ¬ë¬¸ì´ë‚˜, throws êµ¬ë¬¸ì´ ì—†ìœ¼ë©´ ì»´íŒŒì¼ ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤. í”„ë¡œê·¸ë¨ìƒì—ì„œ ë°˜ë“œì‹œ ì´ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•˜ê³  ë„˜ì–´ê°€ë„ë¡ ê°•ì¡°í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ë§Œì•½ throwsë¥¼ í†µí•´ ì²´í¬ ì˜ˆì™¸ë¥¼ ë˜ì ¸ì¤¬ë‹¤ë©´, í˜¸ì¶œí•˜ëŠ” ìª½ì—ì„œë„ í•´ë‹¹ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” êµ¬ë¬¸ì„ í•„ìˆ˜ë¡œ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤. throwë¥¼ í†µí•´ ì²´í¬ ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚¬ ê²½ìš°ë„ ë§ˆì°¬ê°€ì§€ì…ë‹ˆë‹¤. ì²˜ë¦¬ê°€ ì—†ì„ ê²½ìš° ì»´íŒŒì¼ ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤. ì–¸ì²´í¬ ì˜ˆì™¸ RumtimeExceptionì„ ìƒì†í•œ ì˜ˆì™¸ì…ë‹ˆë‹¤. ì²´í¬ ì˜ˆì™¸ì²˜ëŸ¼ í•´ë‹¹ ì˜ˆì™¸ì— ëŒ€í•œ ì²˜ë¦¬ë¥¼ ë¬¸ë²•ì ìœ¼ë¡œ ê°•ìš”í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì–¸ì²´í¬ ì˜ˆì™¸ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤. ê°œë°œìê°€ ë¶€ì£¼ì˜í•  ê²½ìš° ë°œìƒí•  ìˆ˜ ìˆëŠ” ì˜ˆì™¸ë“¤ì´ë¼, ì˜ˆìƒí•˜ì§€ ëª»í•œ ìƒí™©ì— ë°œìƒí•  ìˆ˜ ìˆëŠ” ê·¸ëŸ° ì˜ˆì™¸ë“¤ì´ ì•„ë‹ˆë¯€ë¡œ ëª…ì‹œì ì¸ ì²˜ë¦¬ë¥¼ ê°•ìš”í•˜ì§€ ì•Šì€ ê²ƒì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ë©´ NullPointerException, IllegalStatementException ë“±ì´ ìˆìŠµë‹ˆë‹¤. ëŒ€ë¶€ë¶„ì˜ ì˜ˆì™¸ê°€ ëŸ°íƒ€ì„ ì˜ˆì™¸ì…ë‹ˆë‹¤. 1234public static void main(String[] args)&#123; String str = null; System.out.println(str.length());&#125; ë³´ë‹¤ì‹œí”¼ í•´ë‹¹ ì˜ˆì™¸ëŠ” nullê°’ ì°¸ì¡°ë¡œ ì¸í•œ NullPointerExceptionì´ ë°œìƒí•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤. í•˜ì§€ë§Œ NullPointerExceptionì€ ì–¸ì²´í¬ ì˜ˆì™¸ì´ë¯€ë¡œ ìœ„ì˜ ì½”ë“œëŠ” ì»´íŒŒì¼ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. throwsë¥¼ í†µí•´ ì˜ˆì™¸ë¥¼ ë˜ì ¸ì¤¬ì„ ê²½ìš°, throwë¥¼ í†µí•´ ì˜ˆì™¸ë¥¼ ë°œìƒì‹œì¼°ì„ ê²½ìš°ì—ë„ ë§ˆì°¬ê°€ì§€ì…ë‹ˆë‹¤. throwsì˜ ê²½ìš° í˜¸ì¶œí•˜ëŠ” ìª½ì— í•´ë‹¹ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì½”ë“œê°€ ì—†ì–´ë„ ë˜ê³ , throwì˜ ê²½ìš°ì—ë„ ë°œìƒí•˜ëŠ” ë©”ì„œë“œì— í•´ë‹¹ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì½”ë“œê°€ ì—†ì–´ë„ ë©ë‹ˆë‹¤. í•´ë‹¹ ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê²ƒì€ ì„ íƒì‚¬í•­ì…ë‹ˆë‹¤.]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>java exception</tag>
        <tag>try catch</tag>
        <tag>checked exception</tag>
        <tag>unchecekd exception</tag>
        <tag>runtime exception</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[git] fetch, pull ì°¨ì´]]></title>
    <url>%2Fgit%2Ffetch-pull-%EC%B0%A8%EC%9D%B4%2F</url>
    <content type="text"><![CDATA[fetchëŠ” ì›ê²© ì €ì¥ì†Œì˜ ë³€ê²½ ë‚´ì—­ì„ ê°€ì ¸ì˜¤ëŠ” ê²ƒì´ê³  ì§ì ‘ ë¡œì»¬ branchì— ë°˜ì˜í•˜ì§„ ì•ŠëŠ”ë‹¤ ë°˜ë©´ pullì€ fetch í•œ ë‚´ì—­ì„ ë¡œì»¬ branchì— mergeê¹Œì§€ í•œë‹¤ ê·¸ëŸ¬ë¯€ë¡œ pullì€ branchë¥¼ ì§€ì •í•´ì•¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆê³ , fetchëŠ” branchë¥¼ ì§€ì •í•´ë„ ë˜ê³ , ê·¸ëƒ¥ ì›ê²© ì €ì¥ì†Œë§Œ ì§€ì •í•´ë„ ëœë‹¤ fetchë¡œ ê°€ì ¸ì˜¨ ë‚´ìš©ì€ checkoutí•  ìˆ˜ ìˆë‹¤ 12git checkout origin/developgit checkout another-origin/develop ìœ„ì²˜ëŸ¼ ë§ê³ ë„ fetch_head ë¡œë„ checkout í•  ìˆ˜ ìˆëŠ”ë°, ì •í™•íˆ ë¬´ìŠ¨ ê¸°ì¤€ìœ¼ë¡œ checkout fetch_headê°€ ê²°ì •ë˜ëŠ”ì§€ëŠ” ëª¨ë¥´ê² ë‹¤(1ê°œ ì´ìƒì˜ branchë¥¼ fetch í–ˆì„ ê²½ìš°) fetch í•œ ìƒíƒœì—ì„œ git merge í˜¹ì€ git pull ì…ë ¥ ì‹œ ê¸°ì¡´ì˜ git pullê³¼ ë™ì¼í•œ í–‰ìœ„ë¥¼ í•˜ê²Œ ëœë‹¤. (branchë¥¼ ì…ë ¥í•˜ì§€ ì•Šì„ ê²½ìš° configë¥¼ ì°¸ì¡°í•˜ê²Œ ë¨)]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>fetch</tag>
        <tag>pull</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[db] whereê³¼ onì ˆ ì°¨ì´]]></title>
    <url>%2Fdb%2Fwhere%EA%B3%BC-on%EC%A0%88-%EC%B0%A8%EC%9D%B4%2F</url>
    <content type="text"><![CDATA[ì•„ë˜ì˜ ë‘ ë¬¸ì¥ì€ ì–´ë–»ê²Œ ë‹¤ë¥¼ê¹Œ? 12345678910select count(*) from dept_emp deleft outer join departments don de.dept_no = d.dept_nowhere d.dept_name = 'Development';select count(*) from dept_emp deleft outer join departments don de.dept_no = d.dept_no and d.dept_name = 'Development'; select ì ˆì˜ ì²˜ë¦¬ ìˆœì„œë¥¼ ì°¾ì•„ë³´ë©´, where ì´ on ë³´ë‹¤ ë¨¼ì € ì‹¤í–‰ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤ ì²«ë²ˆì§¸ ë¬¸ì¥ì˜ ê²½ìš° ë¶€ì„œëª…ì´ Development ì¸ ë¶€ì„œë§Œì„ ë“¤ê³ ì˜¨ ìƒíƒœì—ì„œ dept_emp í…Œì´ë¸”ê³¼ ì¡°ì¸í•˜ë¯€ë¡œ ë¶€ì„œëª…ì´ Development ê°€ ì•„ë‹Œ ë¶€ì„œëŠ” ê²°ê³¼ì— í¬í•¨ë˜ì§€ ì•ŠëŠ”ë‹¤ ì¦‰ í•„í„° í›„ ì¡°ì¸ ì´ë‹¤ ë‘ë²ˆì§¸ ë¬¸ì¥ì˜ ê²½ìš° ëª¨ë“  ë¶€ì„œë¥¼ ë“¤ê³ ì˜¨ í›„ ì „ë‹¬ëœ ì¡°ê±´(ë¶€ì„œë²ˆí˜¸ê°€ ê°™ê³  ë¶€ì„œëª…ì´ Development)ìœ¼ë¡œ ì¡°ì¸í•˜ëŠ” ê²ƒì´ë¯€ë¡œ dept_emp ì˜ ë¡œìš°ê°€ departments ì˜ ëª¨ë“  ë¡œìš°ë¥¼ ëŒë©´ì„œ ê²°ê³¼ë¥¼ ì°¾ê²Œ ëœë‹¤ ì´ ìƒíƒœì—ì„œ ì¡°ì¸ì˜ í˜•íƒœê°€ left join ì´ë¯€ë¡œ dept_emp ì˜ ëª¨ë“  ë°ì´í„°ê°€ ë‹¤ ë‚¨ê²Œëœë‹¤ ì´ ì¿¼ë¦¬ì˜ ê²°ê³¼ë¡œëŠ” ë¶€ì„œëª…ì´ Development ê°€ ì•„ë‹Œ ë¶€ì„œë„ ê²°ê³¼ì— í¬í•¨ëœë‹¤ ì´ë ‡ê²Œ ë‘˜ ê°„ì˜ ì²˜ë¦¬ ë°©ì‹ì˜ ì°¨ì´ê°€ ìˆê¸° ë•Œë¬¸ì— left join ì‹œ ê²°ê³¼ê°€ ë‹¤ë¥´ê²Œ ë‚˜ì˜¤ëŠ” ìƒí™©ì´ ë°œìƒí•œë‹¤(inner join ì‹œì—ëŠ” ê°™ë‹¤) ì•„ë¬´ë˜ë„ join ì€ on ì ˆì— ëª…ì‹œëœ ì¡°ê±´ìœ¼ë¡œ driving table ì´ driven tableì„ ëª¨ë‘ ì²´í¬í•˜ëŠ” êµ¬ì¡°ì´ë‹¤ ë³´ë‹ˆ, ì²«ë²ˆì§¸ ì¿¼ë¦¬ì²˜ëŸ¼ where ë¡œ driven í…Œì´ë¸”ì˜ ë¡œìš°ë¥¼ ì¤„ì—¬ì£¼ê³  ì‹œì‘í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤]]></content>
      <categories>
        <category>db</category>
      </categories>
      <tags>
        <tag>where</tag>
        <tag>on</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[git] hexoì™€ github pagesë¡œ ë¸”ë¡œê·¸ ë§Œë“¤ê¸°]]></title>
    <url>%2Fgit%2Fhexo%EC%99%80-github-pages%EB%A1%9C-%EB%B8%94%EB%A1%9C%EA%B7%B8-%EB%A7%8C%EB%93%A4%EA%B8%B0%2F</url>
    <content type="text"><![CDATA[ì´ë²ˆì—” ì•ì„œ ì‘ì„±í•œ github-pagesì— ë¸”ë¡œê·¸ ì„œë¹„ìŠ¤ë¥¼ í•˜ê¸° ìœ„í•´ ì •ì  ì‚¬ì´íŠ¸ ìƒì„± ë„êµ¬ì¸ hexoì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. Hexo ë¸”ë¡œê·¸ í˜•íƒœì˜ ì •ì ì‚¬ì´íŠ¸ë¥¼ ìƒì„±í•˜ëŠ”ë° ì‚¬ìš©ë˜ëŠ” ë„êµ¬ì…ë‹ˆë‹¤. hexoëŠ” ì‚¬ìš©ìê°€ ì‘ì„±í•œ í¬ìŠ¤íŠ¸(markdown ë“±)ì„ ì½ì–´ì„œ, ì •ì íŒŒì¼ ìƒì„±ê¸°ë¥¼ í†µí•´ ì›¹ì„œë²„ì— ë°”ë¡œ ì„œë¹„ìŠ¤ í•  ìˆ˜ ìˆëŠ” í˜•íƒœì˜ ì •ì  ì›¹ì‚¬ì´íŠ¸ë¥¼ ë§Œë“¤ì–´ëƒ…ë‹ˆë‹¤. ëŒ€í‘œì ì¸ ê²ƒìœ¼ë¡œ jekyllì´ ìˆì§€ë§Œ hexoê°€ ì¢€ ë” í¸í•´ë³´ì´ê³  í…Œë§ˆë„ ë§˜ì— ë“¤ì–´ì„œ hexoë¥¼ ì‚¬ìš©í•˜ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤ ã…ã… ì„¤ì¹˜ ì‚¬ì „ì¤€ë¹„ : Node.js,npm,git ë°”ë¡œ ì„¤ì¹˜í•˜ê³  ì´ˆê¸°í™” í•´ë³´ê² ìŠµë‹ˆë‹¤. 12npm install -g hexo-clihexo init 'í´ë”ëª…' 'í´ë”ëª…â€™ì— ì…ë ¥í•œ í´ë”ë¥¼ ë§Œë“¤ê³  ê·¸ í´ë”ì— hexo ê´€ë ¨ íŒŒì¼ì„ ì´ˆê¸°í™”í•©ë‹ˆë‹¤. (í´ë”ë¥¼ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ í˜„ì¬ í´ë”ì— ì´ˆê¸°í™”í•˜ëŠ”ë°, í˜„ì¬ í´ë”ê°€ ë¹„ì–´ìˆëŠ” ìƒíƒœì—¬ì•¼ í•©ë‹ˆë‹¤.) ì•„ë˜ëŠ” ì´ˆê¸°í™” í›„ í´ë” ëª¨ìŠµì…ë‹ˆë‹¤! ë¹¨ê°„ìƒ‰ìœ¼ë¡œ í‘œì‹œí•´ë‘” _config.ymlì—ì„œ ë¸”ë¡œê·¸ì— ëŒ€í•œ ëŒ€ë¶€ë¶„ì˜ ì„¤ì •ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ˆê¸°í™”ê°€ ì™„ë£Œë˜ë©´ ê°„ë‹¨í•˜ê²Œ ë¡œì»¬ì—ì„œ í…ŒìŠ¤íŠ¸ í•´ë³´ë„ë¡ í• ê¹Œìš” í•´ë‹¹ í´ë”ë¡œ ì´ë™í•˜ì—¬ 1hexo server ë¼ê³  ì…ë ¥í•˜ë©´, INFO Start processing INFO Hexo is running at http://localhost:4000/. Press Ctrl+C to stop. ë¼ëŠ” ë©”ì‹œì§€ì™€ í•¨ê»˜ http://localhost:4000 ìœ¼ë¡œ ì ‘ì† ê°€ëŠ¥í•©ë‹ˆë‹¤. ê¸°ë³¸ í…Œë§ˆë¡œ ìƒì„±ëœ ì •ì  ë¸”ë¡œê·¸ í˜ì´ì§€ë¥¼ ë³¼ ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤ ã…ã… í…Œë§ˆ ì ìš© í•˜ì§€ë§Œ ì´ëŒ€ë¡œ ì‚¬ìš©í•  ìˆœ ì—†ìœ¼ë‹ˆ í…Œë§ˆë¥¼ í•œë²ˆ ì ìš©í•´ë³´ë„ë¡ í•˜ì£ . ì ìš©ë°©ë²•ì€ ë§¤ìš° ê°„ë‹¨í•©ë‹ˆë‹¤. https://hexo.io/themes/index.html ìœ„ì˜ ì£¼ì†Œì— ì ‘ì†í•œ ë’¤, ë§ˆìŒì— ë“œëŠ” í…Œë§ˆë¥¼ ê³ ë¥´ì‹œë©´ ë©ë‹ˆë‹¤. ê° í…Œë§ˆì˜ github í˜ì´ì§€ì— ë“¤ì–´ê°€ë©´ í…Œë§ˆ ì ìš© ë°©ë²•ì— ëŒ€í•œ ìƒì„¸í•œ ì„¤ëª…ì´ ìˆìœ¼ë‹ˆ ë³„ë¡œ ì–´ë ¤ì›€ ì—†ìœ¼ì‹¤ ê²ë‹ˆë‹¤ ã…ã… ì œê°€ ê³ ë¥¸ í…Œë§ˆëŠ” Material Flow ë¼ëŠ” í…Œë§ˆì…ë‹ˆë‹¤. gitgub : https://github.com/stkevintan/hexo-theme-material-flow ë³´ì‹œë‹¤ì‹œí”¼ ë§¤ìš° ê°„ë‹¨í•©ë‹ˆë‹¤. ì†ŒìŠ¤ë¥¼ cloneë°›ê³  _config.ymlì—ì„œ í•´ë‹¹ í…Œë§ˆë¡œ ì§€ì •í•´ì£¼ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤. 1234# Extensions## Plugins: https://hexo.io/plugins/## Themes: https://hexo.io/themes/theme: material-flow ì„¤ì •ì´ ë‹¤ ë˜ì—ˆìœ¼ë©´ 12hexo cleanhexo generate # ì •ì  ë¦¬ì†ŒìŠ¤ ìƒì„± ì™€ ê°™ì´ ì…ë ¥í•˜ì—¬ ì •ì  ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±í•´ì£¼ë©´ ë©ë‹ˆë‹¤. ê°„í˜¹ ì œëŒ€ë¡œ ë˜ì§€ ì•ŠëŠ” ê²½ìš°ë„ ìˆê¸° ë–„ë¬¸ì— cleanë„ í•œë²ˆ í•´ì¤¬ìŠµë‹ˆë‹¤. ì´ì œ ë‹¤ì‹œ hexo server ì…ë ¥ í›„ ë“¤ì–´ê°€ë³´ì‹œë©´ í…Œë§ˆê°€ ì˜ ì ìš©ë˜ì–´ ìˆìŒì„ ë³´ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤! ê¸€ì„ ì¨ë³´ì ë¸”ë¡œê·¸ë¥¼ ë§Œë“¤ì—ˆìœ¼ë‹ˆ ê¸€ì„ ì¨ì•¼ê² ë„¤ìš”. 123hexo new post [post_name]# ex) hexo new post 'first post'# ex) hexo new post first-post ê³¼ ê°™ì´ ì…ë ¥í•˜ë©´, í´ë”ì— ì•„ë˜ì™€ ê°™ì€ í˜•íƒœë¡œ markdown íŒŒì¼ì´ í•˜ë‚˜ ìƒì„±ë©ë‹ˆë‹¤.1234567```md---title: &apos;[git] first post&apos;date: 2017-09-23 10:51:08tags:--- ê°ì¢… í´ë”ë‚˜ ì¹´í…Œê³ ë¦¬ì— ëŒ€í•œ ì„¤ì •ë„ _config.ymlì—ì„œ í•  ìˆ˜ ìˆìœ¼ë‹ˆ ê°ì ì„¤ì •í•˜ì‹œë©´ ë©ë‹ˆë‹¤ ã…ã… ë°°í¬ ì´ì œ githubì— ë°°í¬í•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤ ã…ã… ë¨¼ì € _config.ymlì— deploy ê´€ë ¨ ì„¤ì •ì„ í•´ ì¤ë‹ˆë‹¤. 123456# Deployment## Docs: https://hexo.io/docs/deployment.htmldeploy: type: git repo: https://github.com/joont92/joont92.github.io.git branch: master ì €ì¥í•œ ë’¤ 123456hexo cleanhexo generate # ì •ì íŒŒì¼ ìƒì„±í•˜ê³ hexo deploy # ë°°í¬!# hexo deploy --generate ë¡œë„ ê°€ëŠ¥ ì™€ ê°™ì´ í•´ì£¼ë©´ ëì…ë‹ˆë‹¤. ë§¤ìš° ê°„ë‹¨í•˜ì£ ?? ë°°í¬ì‹œ ì•„ë˜ì™€ ê°™ì€ ë©”ì‹œì§€ì™€ í•¨ê»˜ ë°°í¬ê°€ ë˜ì§€ ì•ŠëŠ” ê²½ìš° 1ERROR Deployer not found: git hexo-deployer-git í”ŒëŸ¬ê·¸ì¸ì„ ì„¤ì¹˜í•´ì£¼ë©´ ë©ë‹ˆë‹¤. 1npm install hexo-deloyer-git --save ì—¬ê¸°ê¹Œì§€ì…ë‹ˆë‹¤ ã…ã… ë¸”ë¡œê·¸ì— markdownì„ ì‚¬ìš©í•  ìˆ˜ ìˆê³ , gitì˜ í˜•ìƒê´€ë¦¬ë¥¼ ë¸”ë¡œê·¸ì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ë‹ˆ ë§¤ìš° ì¢‹ì€ê²ƒ ê°™ë„¤ìš”. ë“¤ë ¤ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤~~]]></content>
      <categories>
        <category>git</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[markdown]]></title>
    <url>%2Fetc%2Fmarkdown%2F</url>
    <content type="text"><![CDATA[ë¬¸ë‹¨ ì“°ê¸°, ì¤„ë°”ê¿ˆ ê¸°ë³¸ì ìœ¼ë¡œ ë§ˆí¬ë‹¤ìš´ì€ ì—”í„° í•œë²ˆì€ ê·¸ëƒ¥ ë¬´ì‹œí•˜ê³  í•œ ë¬¸ë‹¨ìœ¼ë¡œ ê°„ì£¼í•©ë‹ˆë‹¤. ë„ì›Œì“°ê¸°ë¥¼ í‘œì‹œí•˜ë ¤ë©´ 2ë²ˆì˜ ì—”í„°ë¥¼ ì³ì•¼ í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ëª‡ëª‡ ë§ˆí¬ë‹¤ìš´ ì—ë””í„°ì—ì„œëŠ” â€˜ì—”í„° í•œë²ˆâ€™ == 'ê°œí–‰â€™ì„ ì§€ì›í•˜ê¸°ë„ í•©ë‹ˆë‹¤. 1234ê°œí–‰ í…ŒìŠ¤íŠ¸ê°œí–‰!ì§„ì§œ ê°œí–‰ ê°œí–‰ í…ŒìŠ¤íŠ¸ ê°œí–‰! ì§„ì§œ ê°œí–‰ html ì§ì ‘ ì‚¬ìš© ê°€ëŠ¥ 12&lt;hr /&gt;&lt;span style=&quot;color:red&quot;&gt;**red**&lt;/span&gt; &gt; ì¶œë ¥ **red** íŠ¹ìˆ˜ë¬¸ì ìë™ ì ìš©ë¨ 12&lt;div&gt; íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ì&amp;lt;div&amp;gt; íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ì &gt; ì¶œë ¥ íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ì &lt;div&gt; íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ì ì œëª©. 6ê°œ í¬ê¸° ê¹Œì§€ ì§€ì›í•œë‹¤ 123456789101112131415# h1## h2### h3#### h4##### h5###### h6####### h7# h1## h2### h3#### h4##### h5###### h6####### h7 ì¸ìš© 1234&gt; ì¸ìš©ë˜ëŠ” ê¸€&gt; ê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œ&gt;&gt; depthë¥¼ ëŠ˜ë¦¼&gt; ë‚´ë¶€ì—ì„œ **markdown** ì‚¬ìš© ê°€ëŠ¥ &gt; ì¶œë ¥ ì¸ìš©ë˜ëŠ” ê¸€ ê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œê¸¸ê²Œ depthë¥¼ ëŠ˜ë¦¼, ë³€ê²½í• ë•ŒëŠ” ì•„ë˜ì™€ ê°™ì´ ë¹ˆì¤„ í•˜ë‚˜ ë„£ì–´ì•¼ í•¨. ë‚´ë¶€ì—ì„œ markdown ì‚¬ìš© ê°€ëŠ¥ ë¦¬ìŠ¤íŠ¸ 12345678910111213141516171819202122232425262728293031ìˆ«ìì˜ ê²½ìš° ìë™ìœ¼ë¡œ ë„˜ë²„ë§ ëœë‹¤.ì²˜ìŒì“°ëŠ” ë¦¬ìŠ¤íŠ¸ì˜ ìˆ«ìë¶€í„° ì¹´ìš´íŠ¸ ëœë‹¤.1. ìˆ«ì2. ìˆ«ì3. ìˆ«ììˆœì„œë¥¼ ë°”ê¿”ë„ 1,2,3 ìœ¼ë¡œ ì¶œë ¥ëœë‹¤1. ìˆ«ì4. ìˆ«ì7. ìˆ«ìì¼ë°˜ ë¦¬ìŠ¤íŠ¸ëŠ” *, +, - ì¤‘ ì•„ë¬´ê±°ë‚˜ ì“°ë©´ ëœë‹¤.* ì¼ë°˜ ë¦¬ìŠ¤íŠ¸- ì¼ë°˜ ë¦¬ìŠ¤íŠ¸+ ì¼ë°˜ ë¦¬ìŠ¤íŠ¸ë¦¬ìŠ¤íŠ¸ ì•ˆì— ë‘ ë¬¸ë‹¨ì´ìƒ ì‚¬ìš©í•  ê²½ìš°, tabì„ ì‚¬ìš©í•œë‹¤.ê³„ì†í•´ì„œ ì´ì–´ê°€ë ¤ë©´ ì•„ë˜ì™€ ì™¼ìª½ íƒ­ ì •ë ¬ì„ ì„ ë§ì¶°ì¤˜ì•¼ í•œë‹¤.- ì²«ë²ˆì§¸ ë¦¬ìŠ¤íŠ¸ì´ì–´ì§€ëŠ” ë¬¸ë‹¨1ì´ì–´ì§€ëŠ” ë¬¸ë‹¨2- ë‘ë²ˆì§¸ ë¦¬ìŠ¤íŠ¸ &gt; ì¶œë ¥ ìˆ«ìì˜ ê²½ìš° ìë™ìœ¼ë¡œ ë„˜ë²„ë§ ëœë‹¤. ì²˜ìŒì“°ëŠ” ë¦¬ìŠ¤íŠ¸ì˜ ìˆ«ìë¶€í„° ì¹´ìš´íŠ¸ ëœë‹¤. ìˆ«ì ìˆ«ì ìˆ«ì ìˆœì„œë¥¼ ë°”ê¿”ë„ 1,2,3 ìœ¼ë¡œ ì¶œë ¥ëœë‹¤ ìˆ«ì ìˆ«ì ìˆ«ì ì¼ë°˜ ë¦¬ìŠ¤íŠ¸ëŠ” *, +, - ì¤‘ ì•„ë¬´ê±°ë‚˜ ì“°ë©´ ëœë‹¤. ì¼ë°˜ ë¦¬ìŠ¤íŠ¸ ì¼ë°˜ ë¦¬ìŠ¤íŠ¸ ì¼ë°˜ ë¦¬ìŠ¤íŠ¸ ë¦¬ìŠ¤íŠ¸ ì•ˆì— ë‘ ë¬¸ë‹¨ì´ìƒ ì‚¬ìš©í•  ê²½ìš°, tabì„ ì‚¬ìš©í•œë‹¤. ê³„ì†í•´ì„œ ì´ì–´ê°€ë ¤ë©´ ì•„ë˜ì™€ ì™¼ìª½ íƒ­ ì •ë ¬ì„ ì„ ë§ì¶°ì¤˜ì•¼ í•œë‹¤. ì²«ë²ˆì§¸ ë¦¬ìŠ¤íŠ¸ ì´ì–´ì§€ëŠ” ë¬¸ë‹¨1 ì´ì–´ì§€ëŠ” ë¬¸ë‹¨2 ë‘ë²ˆì§¸ ë¦¬ìŠ¤íŠ¸ ì´ìŠ¤ì¼€ì´í”„ ë¬¸ì íƒœê·¸ë¡œ ë³€í˜•ë˜ëŠ” ë¬¸ìë¥¼ ê·¸ëƒ¥ ì‚¬ìš©í•˜ê³  ì‹¶ì„ ë•Œê°€ ìˆìŠµë‹ˆë‹¤.(&gt;, - ë“±) ê·¸ëƒ¥ ì‚¬ìš©í•˜ë©´ mdì—ì„œ í•´ì„í•´ë²„ë¦¬ë¯€ë¡œ ì•ì— \ ë¥¼ ë¶™ì—¬ì¤ë‹ˆë‹¤. 123\&gt; : ì›ë˜ëŠ” ì¸ìš©ìœ¼ë¡œ í‘œì‹œë¨1998\.ì„œìš¸ì˜¬ë¦¼í”½ : ì›ë˜ëŠ” 1.ì„œìš¸ì˜¬ë¦¼í”½ìœ¼ë¡œ í‘œì‹œë¨(ìë™ ë„˜ë²„ë§)\- : ì›ë˜ëŠ” ë¦¬ìŠ¤íŠ¸ë¡œ í‘œì‹œë¨ &gt; : ì›ë˜ëŠ” ì¸ìš©ìœ¼ë¡œ í‘œì‹œë¨ 1998.ì„œìš¸ì˜¬ë¦¼í”½ : ì›ë˜ëŠ” 1.ì„œìš¸ì˜¬ë¦¼í”½ìœ¼ë¡œ í‘œì‹œë¨ - : ì›ë˜ëŠ” ë¦¬ìŠ¤íŠ¸ë¡œ í‘œì‹œë¨ ì½”ë“œ ë¸”ë¡ ë§ˆí¬ë‹¤ìš´ ë‚´ì—ì„œ ì½”ë“œë¥¼ í‘œí˜„ ê°€ëŠ¥í•˜ë‹¤! í‚¤ë³´ë“œ ì™¼ìª½ ê°€ì¥ìë¦¬ì— ìˆëŠ” ` í‚¤ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤. ``` ì˜†ì— ì‚¬ìš©í•˜ëŠ” ì–¸ì–´ë¥¼ ë„£ì–´ì£¼ë©´ í•´ë‹¹ ë¬¸ë²•ì— ë§ê²Œ í•´ì„í•œë‹¤ &lt;!â€“ï¿¼7â€“&gt; &gt; ì¶œë ¥ 12var str = 'test str';console.log(str); ìˆ˜í‰ì„  123456í¸í•œëŒ€ë¡œ ê³¨ë¼ì“°ë©´ ëœë‹¤.**** * *---- - - &gt; ì¶œë ¥ í¸í•œëŒ€ë¡œ ê³¨ë¼ì“°ë©´ ëœë‹¤. ê°•ì¡°í•˜ê¸° *ë‚˜, _ë¥¼ ì‚¬ìš©í•˜ì—¬ í‘œì‹œí•œë‹¤. 12*ì´íƒ¤ë¦­***ë³¼ë“œ** &gt; ì¶œë ¥ ì´íƒ¤ë¦­ ë³¼ë“œ ì·¨ì†Œì„  1~~ì·¨ì†Œ~~ &gt; ì¶œë ¥ ì·¨ì†Œ ë§í¬ ê±¸ê¸° ë§í¬ ì£¼ì†Œ ìì²´ì— ë§í¬ë¥¼ ê±°ëŠ” ë°©ë²•ê³¼, ë¬¸êµ¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤. ë¬¼ë¡  ìƒëŒ€ê²½ë¡œë„ ê°€ëŠ¥í•˜ë‹¤! &lt;http://ì£¼ì†Œ&gt; [ë§í¬ê±¸ ë¬¸êµ¬](http://ì£¼ì†Œ) 12345&lt;http://google.com&gt;[êµ¬ê¸€](http://google.com)ìƒëŒ€ê²½ë¡œ : [1ë²ˆ í¬ìŠ¤íŠ¸](/1) &gt; ì¶œë ¥ http://google.com êµ¬ê¸€ ìƒëŒ€ê²½ë¡œ : 1ë²ˆ í¬ìŠ¤íŠ¸ ì´ë¯¸ì§€ ì‚½ì… ![ì‚¬ì§„ì´ë¦„](ì‚¬ì§„ê²½ë¡œ) 1![í…ŒìŠ¤íŠ¸ì‚¬ì§„](http://leader.pubs.asha.org/data/Journals/ASHANL/934378/NIB1_web.png) &gt; ì¶œë ¥ í…Œì´ë¸” | ì™€ - ë¡œ êµ¬ë¶„í•˜ì—¬ í…Œì´ë¸”ì„ ê·¸ë¦´ ìˆ˜ ìˆë‹¤. 1234Field1 | Field2 | Field3-|-|-Data1 | Data2 | Data3Data4 | Data5 | Data6 &gt; ì¶œë ¥ Field1 Field2 Field3 Data1 Data2 Data3 Data4 Data5 Data6 í—¤ë“œë¶€ë¶„, ì¦‰ htmlì˜ thë¶€ë¶„ì€ ê¼­ ìˆì–´ì•¼ í•œë‹¤! (ìƒë‹¨ 2ì¤„) emoji githubì€ emojië¥¼ ì§€ì›í•œë‹¤. https://www.webpagefx.com/tools/emoji-cheat-sheet/]]></content>
      <categories>
        <category>etc</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[[java] java se, ee ì°¨ì´]]></title>
    <url>%2Fjava%2Fjava-se-ee-%EC%B0%A8%EC%9D%B4%2F</url>
    <content type="text"><![CDATA[í† ë¡ ê¸€ https://okky.kr/article/278014 java SE, EEëŠ” ìŠ¤í™ì´ë‹¤(íŒ¨í‚¤ì§€ëŠ” SEëŠ” java.xxxx, EEëŠ” javax.XXXX ì´ë‹¤.) java EE ìŠ¤í™ì€ SE ìŠ¤í™ì„ í¬í•¨í•œë‹¤. SEë¥¼ êµ¬í˜„í•œ ì• ë“¤ì´ oracle, openJdk ë“±ë“±ì¸ ê²ƒ. java EEë¥¼ êµ¬í˜„í•œ ì• ë“¤ì€ tomcat, jeus, jboss ë“±ì´ë‹¤. ê·¸ë˜ì„œ í†°ìº£ì„ ì„¤ì¹˜í•  ë•Œ javaë¥¼ ë¯¸ë¦¬ ì„¤ì¹˜í•´ë‘¬ì•¼ í•˜ëŠ” ê²ƒ.]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>java se</tag>
        <tag>java ee</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[linux] bash_profileê³¼ bashrc]]></title>
    <url>%2Flinux%2Fbash-profile%EA%B3%BC-bashrc%2F</url>
    <content type="text"><![CDATA[ë¦¬ëˆ…ìŠ¤ì—ì„œ aliasë¥¼ ìˆ˜ì •í•˜ê±°ë‚˜ PATHë¥¼ ë³€ê²½í•  ë–„ ì ‘í•˜ê²Œ ë˜ëŠ” ëŒ€í‘œì ì¸ 4ê°€ì§€ì˜ íŒŒì¼ë“¤â€¦ 1/etc/profile, /etc/bashrc, ~\.bash_profile, ~\.bash_rc profile /etc/profile íŒŒì¼ì˜ ê²½ìš° ì „ì—­ì ì¸ íŒŒì¼ë¡œ ëª¨ë“  ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ ì‹œ ì‹¤í–‰ë˜ë©°, ~/.bash_profile íŒŒì¼ì˜ ê²½ìš° ì§€ì—­ì ì¸ íŒŒì¼ë¡œ í•´ë‹¹í•˜ëŠ” ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ ì‹œë§Œ ì‹¤í–‰ëœë‹¤. ë˜í•œ /etc/profileì˜ ê²½ìš° ì–´ë– í•œ shellì´ë“  ìƒê´€ì—†ì§€ë§Œ, ~/.bash_profileì˜ ê²½ìš° bash shellì¼ ê²½ìš°ì—ë§Œ í•´ë‹¹ëœë‹¤. bashrc profileê³¼ ë‹¬ë¦¬ Login ê³¼ì •ì´ ì—†ìœ¼ë¯€ë¡œ shellì„ ì‹¤í–‰ì‹œí‚¤ëŠ” ì‚¬ìš©ìë¡œ êµ¬ë¶„í•œë‹¤. /etc/bashrcì˜ ê²½ìš° ëª¨ë“  ì‚¬ìš©ìê°€ shellì„ ì‹¤í–‰ì‹œí‚¬ ë•Œ ë§ˆë‹¤ ì‹¤í–‰ë˜ë©°, ~/.bashrcì˜ ê²½ìš° í•´ë‹¹í•˜ëŠ” ì‚¬ìš©ìê°€ shell ì‹¤í–‰ì‹œí‚¬ ë•Œ ì‹¤í–‰ëœë‹¤. Login Shell, Non-Login Shell ë‘ íŒŒì¼ì˜ ì°¨ì´ëŠ” ë¡œê·¸ì¸ ì—¬ë¶€ì¸ë°, ì‰˜ì˜ ì¢…ë¥˜ì—ë„ Login Shell, Non-Login Shellì´ ìˆë‹¤ Login Shell Shellì„ ì‹¤í–‰í•  ë•Œ ë¡œê·¸ì¸ì´ í•„ìš”í•œ ê²½ìš°ë¥¼ ë§í•œë‹¤. sshë¡œ ì ‘ì†í•˜ê±°ë‚˜, su ëª…ë ¹ì–´ë¡œ ë‹¤ë¥¸ê³„ì •ì„ ë“¤ì–´ê°ˆ ë•Œ ë“±ì´ í•´ë‹¹ëœë‹¤. /etc/profile, ~/.bash_profile Non-Login Shell Shellì„ ì‹¤í–‰í•  ë–„ ë¡œê·¸ì¸ì´ í•„ìš”í•˜ì§€ ì•Šì€ ê²½ìš°ë¥¼ ë§í•œë‹¤. ì¦‰ Shellì´ ì‹¤í–‰ë˜ëŠ” ëª¨ë“  ìƒí™©ì„ ì˜ë§ˆí•œë‹¤. GUIì—ì„œ í„°ë¯¸ë„ì„ ë„ìš¸ë•Œë‚˜, bash ëª…ë ¹ì–´ë¡œ ë‹¤ì‹œ bashë¥¼ ì‹¤í–‰í•˜ëŠ” ê²½ìš° ë“±ì´ í•´ë‹¹ëœë‹¤. /etc/bashrc, ~/.bashrc Non-Login Shellì€ Login Shellì„ í¬í•¨í•œë‹¤. Login Shellì´ ì‹¤í–‰ë  ë•Œ profileê³¼ bashrc íŒŒì¼ì´ ëª¨ë‘ ì‹¤í–‰ë˜ê²Œ ë˜ê³ , Non-Login Shellì´ ì‹¤í–‰ë  ë•Œ bashrc íŒŒì¼ë§Œ ì‹¤í–‰ë˜ê²Œ ëœë‹¤. profileì˜ ê²½ìš° ëŒ€ë¶€ë¶„ í™˜ê²½ ë³€ìˆ˜ê°™ì€ ê²ƒì„ ëª…ì‹œí•˜ê³  bashrcì˜ ê²½ìš° alias ê°™ì€ ê²ƒì„ ëª…ì‹œí•œë‹¤â€¦(?)]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>bash_profile</tag>
        <tag>bashrc</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[linux] apt ëª…ë ì–´]]></title>
    <url>%2Flinux%2Fapt-%EB%AA%85%EB%A0%81%EC%96%B4%2F</url>
    <content type="text"><![CDATA[íŒ¨í‚¤ì§€ë€ ì»¤ë„ ë° ë¼ì´ë¸ŒëŸ¬ë¦¬ ë²„ì „ì˜ ë°°í¬íŒ í™˜ê²½ì— ë§ì¶”ì–´ ë¹Œë“œí•œ ì‹¤í–‰íŒŒì¼ì„ ì••ì¶•í•œ ê²ƒ. aptë€ ìš°ë¶„íˆ¬ì—ì„œ ì“°ì´ëŠ” ë°ë¹„ì•ˆ ê³„ì—´ì˜ íŒ¨í‚¤ì§€ë¥¼ ê´€ë¦¬í•˜ëŠ”ë° ì“°ì´ëŠ” ë„êµ¬ì´ë‹¤. íŒ¨í‚¤ì§€ ì €ì¥ì†Œ ë¦¬ìŠ¤íŠ¸ : /etc/apt/sources.list ì´ íŒ¨í‚¤ì§€ ì €ì¥ì†Œ ë•ë¶„ì— ì¼ì¼íˆ í™ˆí˜ì´ì§€ë¥¼ ê²€ìƒ‰í•˜ë©° ë“¤ì–´ê°€ëŠ” ë“±ì˜ ìˆ˜ê³ ë¥¼ í•  í•„ìš”ê°€ ì—†ì–´ì§€ê²Œ ëœë‹¤. í•˜ì§€ë§Œ ëª¨ë“  í”„ë¡œê·¸ë¨ì´ ìš°ë¶„íˆ¬ ê³µì‹ íŒ¨í‚¤ì§€ ì €ì¥ì†Œì— ë“¤ì–´ê°ˆ ìˆœ ì—†ë‹¤. ê·¸ë˜ì„œ PPA(Personal Package Archivce)ë¼ëŠ” ê°œì¸ íŒ¨í‚¤ì§€ ì €ì¥ì†Œë¥¼ ì´ìš©í•œë‹¤. (ê³µì‹ íŒ¨í‚¤ì§€ ì €ì¥ì†Œê°€ ëŠë¦´ë•Œ PPAë¥¼ ì‚¬ìš©í•˜ê¸°ë„ í•œë‹¤. ê³µì‹ ì €ì¥ì†Œì—ëŠ” ëª‡ë§Œê°œì˜ íŒ¨í‚¤ì§€ê°€ ìˆìœ¼ë¯€ë¡œâ€¦) í•´ë‹¹ íŒ¨í‚¤ì§€ ì €ì¥ì†Œë¥¼ apt íŒ¨í‚¤ì§€ ì €ì¥ì†Œì— ì¶”ê°€í•´ì£¼ë©´ í•´ë‹¹ íŒ¨í‚¤ì§€ ì €ì¥ì†Œë¥¼ í†µí•´ íŒ¨í‚¤ì§€ë¥¼ ë‚´ë ¤ë°›ì„ ìˆ˜ ìˆê²Œ ëœë‹¤. ì €ì¥í•œ PPA ëª©ë¡ì€ /etc/apt/sources.list.d ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤. 12345678#ì¶”ê°€sudo add-apt-repository 'ì €ì¥ì†Œì´ë¦„'#ì‚­ì œsudo add-apt-repository --remove 'ì €ì¥ì†Œì´ë¦„'#ì´í›„ì‘ì—…sudo apt-get update # ì €ì¥ëœ íŒ¨í‚¤ì§€ ì €ì¥ì†Œë¥¼ í† ëŒ€ë¡œ íŒ¨í‚¤ì§€ ëª©ë¡ì„ ì—…ë°ì´íŠ¸ í•œë‹¤sudo apt-get install 'íŒ¨í‚¤ì§€ëª…' # íŒ¨í‚¤ì§€ë¥¼ ë‹¤ìš´ë¡œë“œí•œë‹¤. íŒ¨í‚¤ì§€ ë¦¬ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸ 1apt-get update &gt; ì‹¤ì œ íŒ¨í‚¤ì§€ë¥¼ ì—…ê·¸ë ˆì´ë“œ í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì‚¬ìš©ê°€ëŠ¥í•œ íŒ¨í‚¤ì§€ ë¦¬ìŠ¤íŠ¸ì˜ ì •ë³´ë¥¼ ì—…ë°ì´íŠ¸ íŒ¨í‚¤ì§€ ì—…ë°ì´íŠ¸ 1apt-get upgrade &gt; ì‹¤ì œ ì„¤ì¹˜ë˜ì–´ ìˆëŠ” íŒ¨í‚¤ì§€ë“¤ì„ ìµœì‹  ë²„ì „ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œ íŒ¨í‚¤ì§€ ì„¤ì¹˜ 1apt-get install [íŒ¨í‚¤ì§€ëª…] íŒ¨í‚¤ì§€ ì¬ì„¤ì¹˜ 1apt-get --reinstall install [íŒ¨í‚¤ì§€ëª…] íŒ¨í‚¤ì§€ ì‚­ì œ 12apt-get remove [íŒ¨í‚¤ì§€ëª…] # ì„¤ì •íŒŒì¼ì€ ì§€ìš°ì§€ ì•ŠìŒapt-get purge [íŒ¨í‚¤ì§€ëª…] # ì„¤ì •íŒŒì¼ê¹Œì§€ ì§€ì›€ íŒ¨í‚¤ì§€ ê²€ìƒ‰ 1apt-cache search [íŒ¨í‚¤ì§€ëª…] íŒ¨í‚¤ì§€ ì •ë³´ 1apt-cache show [íŒ¨í‚¤ì§€ëª…] apt ëª…ë ¹ì–´ë¥¼ ì´ìš©í•´ ì„¤ì¹˜í•œ íŒ¨í‚¤ì§€ëŠ” /var/cache/apt/archives ì— ì„¤ì¹˜ëœë‹¤.]]></content>
      <categories>
        <category>linux</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[[linux] í”„ë¡œì„¸ìŠ¤]]></title>
    <url>%2Flinux%2F%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%2F</url>
    <content type="text"><![CDATA[ì‘ì—… : ì‘ì„±í•œ í”„ë¡œê·¸ë¨ + í”„ë¡œê·¸ë¨ ì‹¤í–‰ì— í•„ìš”í•œ ë°ì´í„° ì‘ì—…ì´ ì»¤ë„ì— ë“±ë¡ë˜ì–´ ì»¤ë„ì˜ ê´€ë¦¬í•˜ì— ìˆê²Œ ë˜ë©´ ì´ë¥¼ í”„ë¡œì„¸ìŠ¤ë¼ê³  ë¶€ë¥¸ë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì‹¤í–‰ì¤‘ì¸ í”„ë¡œê·¸ë¨ì„ ë§í•œë‹¤. ì¢…ì†ëœ ìì‹ í”„ë¡œì„¸ìŠ¤ëŠ” ë¶€ëª¨ í”„ë¡œì„¸ìŠ¤ì˜ í™˜ê²½ì„ ë¬¼ë ¤ë°›ìœ¼ë‚˜ ì—­ì€ ì„±ë¦½í•˜ì§€ ì•ŠëŠ”ë‹¤.]]></content>
      <categories>
        <category>linux</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[[linux] íŒŒì¼/ë””ë ‰í† ë¦¬ ê´€ë¦¬]]></title>
    <url>%2Flinux%2F%ED%8C%8C%EC%9D%BC-%EB%94%94%EB%A0%89%ED%86%A0%EB%A6%AC-%EA%B4%80%EB%A6%AC%2F</url>
    <content type="text"><![CDATA[ì™€ì¼ë“œ ì¹´ë“œ ? : ì–´ë–¤ í•œ ë¬¸ì : ì–´ë–¤ ë¬¸ìë„ ì—†ê±°ë‚˜ ê·¸ ì´ìƒ [] : [] ë‚´ì— ì§€ì •ëœ ê°ê°ì˜ ë¬¸ì [a-d] ëŠ” a,b,c,dë¥¼ ì˜ë¯¸, [acd]ëŠ” a,c,dë¥¼ ì˜ë¯¸í•œë‹¤. [abcd]* ëŠ” a,b,c,dë¡œ ì‹œì‘í•˜ëŠ” íŒŒì¼ ëª¨ë‘ë¥¼ ì˜ë¯¸í•œë‹¤. [abcd]?, [a-d]? ë“±ë“±ì˜ ì˜ˆì‹œê°€ ë§ë‹¤. â€œrm [abc]*â€ ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë¦¬ë‹¤ì´ë ‰ì…˜ í‘œì¤€ ì…ì¶œë ¥ì„ í‚¤ë³´ë“œë‚˜ ëª¨ë‹ˆí„°ê°€ ì•„ë‹Œ íŒŒì¼ë¡œ ë°›ê±°ë‚˜, ì¶œë ¥í•˜ëŠ” ê²ƒì„ ì˜ë¯¸. í‘œì¤€ ì¶œë ¥ì˜ ë³€ê²½ : &gt;, &gt;&gt; ê²°ê³¼ë¥¼ íŒŒì¼ë¡œ ë³´ëƒ„, &gt;&gt;ëŠ” ê¸°ì¡´ íŒŒì¼ì˜ ë‚´ìš©ì„ ìœ ì§€í•œ ì±„ ë‚´ìš©ì„ ì¶”ê°€í•  ë–„ ì‚¬ìš©í•œë‹¤. access.log ì™€ ê°™ì´ ì‚¬ìš©í•˜ë©´ access.log íŒŒì¼ì˜ ë‚´ìš©ì„ ëª¨ë‘ ì§€ìš°ê³  í¬ê¸°ë¥¼ 0ìœ¼ë¡œ ë§Œë“¤ì–´ ë²„ë¦´ ìˆ˜ ìˆë‹¤. ì•„ë¬´ê²ƒë„ ì—†ëŠ” ë‚´ìš©ì„ access.logì— ì „ë‹¬í•˜ê¸° ë•Œë¬¸ í‘œì¤€ ì…ë ¥ì˜ ë³€ê²½ : &lt; cat &lt; testFile ê³¼ ê°™ì´ ì‚¬ìš©. í‘œì¤€ ì¶œë ¥ì€ í„°ë¯¸ë„ë¡œ í•˜ê³  í‘œì¤€ ì…ë ¥ì— í‚¤ë³´ë“œê°€ ì•„ë‹Œ testFile ì´ë¼ëŠ” íŒŒì¼ì„ ì‚¬ìš©í•œë‹¤ ì¼ë°˜ì ìœ¼ë¡œ cat íŒŒì¼ëª… &lt; íŒŒì¼ëª… ì˜ í˜•íƒœê°€ ë§ì´ ì‚¬ìš©ëœë‹¤. í‘œì¤€ ì—ëŸ¬ : 2&gt;, 2&gt;&gt; ì—ëŸ¬ ë‚´ìš©ì„ íŒŒì¼ë¡œ ì €ì¥í•˜ê³ ì í•  ë•Œ ì‚¬ìš©í•œë‹¤. ls /asdfas 2&gt; errorFile 2ì¸ ê²½ìš°ëŠ” íŒŒì¼ ë””ìŠ¤í¬ë¦½í„°ì˜ ìˆœì„œê°€ ì…ë ¥ 0, ì¶œë ¥ 1, ì—ëŸ¬ 2 ì´ê¸° ë•Œë¬¸ í‘œì¤€ì¶œë ¥ê³¼ í‘œì¤€ì—ëŸ¬ë¥¼ í•œêº¼ë²ˆì— ì €ì¥í•˜ë ¤ë©´ &amp;&gt;ë¥¼ ì‚¬ìš©í•œë‹¤. find / -name aa* &amp;&gt; errorLog ëª…ë ¹ &gt; íŒŒì¼ëª… : ëª…ë ¹ì˜ ê²°ê³¼ê°€ íŒŒì¼ì— ì €ì¥. ì—ëŸ¬ëŠ” ëª¨ë‹ˆí„°ë¡œ ì¶œë ¥ ëª…ë ¹ 2&gt; íŒŒì¼ëª… : ì—ëŸ¬ ë‚´ìš©ì´ íŒŒì¼ì— ì €ì¥. ëª…ë ¹ ê²°ê³¼ëŠ” ëª¨ë‹ˆí„° ì¶œë ¥ ëª…ë ¹ &amp;&gt; íŒŒì¼ëª… : ëª…ë ¹ ê²°ê³¼, ì—ëŸ¬ ë‚´ìš©ì´ íŒŒì¼ì— ì €ì¥ íŒŒì´í”„ë¼ì¸ í•œ ëª…ë ¹ì˜ í‘œì¤€ ì¶œë ¥ì„ ë‹¤ë¥¸ ëª…ë ¹ì˜ í‘œì¤€ ì…ë ¥ìœ¼ë¡œ ë³´ë‚´ëŠ” ë°©ì‹ ì‚¬ìš©ë˜ëŠ” ê¸°í˜¸ëŠ” | ì´ë©°, |ë¡œ êµ¬ë¶„ ë˜ë©´ í•œ ê°œ ì´ìƒì˜ ëª…ë ¹ì´ ì—°ì†ë˜ì–´ ë‚˜ì˜¬ ìˆ˜ ìˆë‹¤ ì´ì „ ëª…ë ¹ì˜ í‘œì¤€ ì¶œë ¥ì´ ë‹¤ìŒ ëª…ë ¹ì˜ í‘œì¤€ ì…ë ¥ì´ ë˜ëŠ” ë°©ì‹ì´ë‹¤. command1 | command2 | command3 | command4 â€¦ 1ì˜ ì¶œë ¥ì´ 2ì˜ ì…ë ¥, 2ì˜ ì¶œë ¥ì´ 3ì˜ ì…ë ¥, 3ì˜ ì¶œë ¥ì´ 4ì˜ ì…ë ¥â€¦ |&amp;ì„ ì‚¬ìš©í•˜ë©´ í‘œì¤€ì¶œë ¥ + í‘œì¤€ì—ëŸ¬ë¥¼ ë‹¤ìŒ ëª…ë ¹ì˜ í‘œì¤€ ì…ë ¥ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. $? ëŠ” íŠ¹ìˆ˜í•œ ë³€ìˆ˜ë¡œì¨, ì•ì„œ ì‹¤í–‰í•œ ëª…ë ¹ì˜ ì¢…ë£Œ ìƒíƒœê°’ì„ ë°›ëŠ”ë‹¤. â€» íŒŒì´í”„ë¼ì¸ì— ìì£¼ ì‚¬ìš©ë˜ëŠ” grep ëª…ë ¹ì–´ëŠ” íŒ¨í„´ì— ë§ëŠ” ë¬¸ìì—´ì„ ì°¾ì•„ì£¼ëŠ” ëª…ë ¹ì–´ì´ë‹¤. grep 123 ë¼ê³  ì…ë ¥í•˜ë©´, ì‚¬ìš©ìë¡œë¶€í„° ì…ë ¥ì„ ë°›ì•„ì„œ íŒ¨í„´ì— ë§ì„ ê²½ìš° í™”ë©´ì— ì¶œë ¥í•´ì¤€ë‹¤. grepë§Œ ì…ë ¥í•˜ë©´ í‚¤ë³´ë“œë¡œ í‘œì¤€ ì…ë ¥ì„ ë°›ëŠ”ë‹¤. ë³´í†µì€ íŒŒì´í”„ë¼ì¸ì„ ì‚¬ìš©í•˜ì—¬ ëª…ë ¹ì˜ ê²°ê³¼ê°’ì„ grepì—ê²Œ í‘œì¤€ì…ë ¥ìœ¼ë¡œ ì „ë‹¬í•œë‹¤. ê¸°íƒ€(||, &amp;&amp;, ;, &amp;) ; : í•œì¤„ì— ì—¬ëŸ¬ ëª…ë ¹ì–´ ì…ë ¥. mkfs -t sfs -f /dev/sda5; mkdir /backup; mount /dev/sda5/backup ì™€ ê°™ì´ ì‚¬ìš© í•˜ë‚˜ì˜ ì‘ì—…ì„ ê¸°ë‹¤ë ¸ë‹¤ê°€ ë‹¤ì‹œ ì…ë ¥í•˜ê³  í•˜ëŠ” ë°©ì‹ë³´ë‹¤ ìœ„ì™€ ê°™ì´ ì„¸ë¯¸ì½œë¡ ìœ¼ë¡œ ì—°ê²°í•´ì„œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤. &amp;&amp;, || : ì•ì—ì„œ ì‹¤í–‰í•œ ëª…ë ¹ì˜ ê²°ê³¼ì— ë”°ë¼ ë‹¤ìŒ ëª…ë ¹ì–´ ì‹¤í–‰. ê° ì—°ì‚°ìì˜ íŠ¹ì§•ì„ ì´ìš©í•˜ì—¬ ì‚¬ìš©ëœë‹¤. ; ìœ¼ë¡œ ì—°ê²°í–ˆì„ ê²½ìš° ì•ì˜ ëª…ë ¹ì˜ ì‹¤íŒ¨ì—¬ë¶€ì— ê´€ê³„ì—†ì´ ë’¤ì˜ ëª…ë ¹ì´ ë¬´ì¡°ê±´ ì‹¤í–‰ëœë‹¤. í¬ë©§ì´ ì‹¤íŒ¨í–ˆëŠ”ë° ë§ˆìš´íŠ¸ê°€ ë˜ëŠ” ê²½ìš°ê°€ ë°œìƒí•  ìˆ˜ë„ ìˆëŠ” ì…ˆì´ë‹¤. ê·¸ë¦¬í•˜ì—¬ &amp;&amp;ê³¼ ||ë¥¼ ì¨ì„œ ì ì ˆíˆ ì„±ê³µì—¬ë¶€ì— ë”°ë¼ ëª…ë ¹ì„ ì¡°ì ˆí•  ìˆ˜ ìˆë‹¤. &amp;&amp;ì˜ ê²½ìš° ì•,ë’¤ê°€ ì°¸ì´ì—¬ì•¼ í•˜ëŠ” ë…¼ë¦¬ì—°ì‚°ìì´ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì•ì˜ ì—°ì‚°ì´ ê±°ì§“ì¼ ê²½ìš°, ë’¤ì˜ ì—°ì‚°ì„ ì‹¤í–‰í•˜ì§€ ì•ŠëŠ”ë‹¤. -&gt; ì´ê²ƒì´ ì¤‘ìš”í•˜ë‹¤. cat asddd &amp;&amp; echo â€˜testâ€™ í•´ë³´ë©´, asddd íŒŒì¼ì´ ì—†ì„ ê²½ìš° ì²«ë²ˆì§¸ ì—°ì‚°ê²°ê³¼ê°€ ê±°ì§“ì´ë¯€ë¡œ ë’¤ì˜ echoëŠ” ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤. || ë˜í•œ ë§ˆì°¬ê°€ì§€ë‹¤. ||ëŠ” ë‘˜ì¤‘ í•˜ë‚˜ë§Œ ì°¸ì´ë©´ ë˜ëŠ” ë…¼ë¦¬ì—°ì‚°ìì´ë‹¤. ê·¸ë¦¬ë¯€ë¡œ ì•ì˜ ì—°ì‚°ì´ ì°¸ì¼ ê²½ìš°, ë’¤ì˜ ì—°ì‚°ì„ ì‹¤í–‰í•˜ì§€ ì•ŠëŠ”ë‹¤. cat asddd || echo â€˜testâ€™ í–ˆì„ ê²½ìš°, ì•ì˜ ì—°ì‚°ì´ ì°¸ì´ë©´ ë’¤ì˜ ì—°ì‚°ì´ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤. ì¦‰, ìœ„ ë‘ ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ &amp;&amp;ëŠ” ëª…ë ¹ì´ ì„±ê³µí•  ê²½ìš°ì˜ ëª…ë ¹ì„ ë‚˜ì—´í•˜ë©´ ë˜ê³ , ||ëŠ” ëª…ë ¹ì´ ì‹¤íŒ¨í•  ê²½ìš°ì˜ ëª…ë ¹ì„ ë‚˜ì—´í•˜ë©´ ë˜ê² ë‹¤. &amp; : ë°±ê·¸ë¼ìš´ë“œ ëª¨ë“œë¡œ ì‹¤í–‰ ëª…ë ¹ì–´ ë§ˆì§€ë§‰ì— &amp;ë¥¼ ë¶™ì—¬ì£¼ë©´ ë°±ê·¸ë¼ìš´ë“œ ëª¨ë“œë¡œ ì‹¤í–‰ ê°€ëŠ¥í•˜ë‹¤. ë””ë ‰í† ë¦¬ êµ¬ì¡° ëª¨ë“  ë””ë ‰í† ë¦¬ëŠ” / ë¶€í„° ì‹œì‘í•œë‹¤. .ëŠ” í˜„ì¬ ë””ë ‰í† ë¦¬ â€¦ëŠ” ë¶€ëª¨ ë””ë ‰í† ë¦¬ ~ëŠ” ì‚¬ìš©ìì˜ í™ˆ ë””ë ‰í† ë¦¬ë¥¼ ì˜ë¯¸í•œë‹¤. íŒŒì¼ ì¼ë°˜ íŒŒì¼ : ìš°ë¦¬ê°€ í‰ìƒì‹œ ì“°ëŠ” íŒŒì¼ ë””ë ‰í† ë¦¬ íŒŒì¼ : íŒŒì¼ì„ í¬í•¨í•˜ê³  ìˆëŠ” íŒŒì¼. ì¼ë°˜ íŒŒì¼,ë””ë ‰í† ë¦¬ íŒŒì¼, íŠ¹ìˆ˜ íŒŒì¼ì„ í¬í•¨í•  ìˆ˜ ìˆë‹¤. ê·¼ë° ì‹¤ì œë¡œ ë“¤ì–´ê°€ë³´ë©´ íŒŒì¼ì„ í¬í•¨í•˜ê³  ìˆëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ë¦¬ëˆ…ìŠ¤ê°€ íŒŒì¼ì„ ì—‘ì„¸ìŠ¤ í•˜ëŠ”ë° í•„ìš”í•œ ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆì„ ë¿ì´ë‹¤. íŠ¹ìˆ˜ íŒŒì¼ :]]></content>
      <categories>
        <category>linux</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[[linux] ì‚¬ìš©ì/ê·¸ë£¹ ê´€ë¦¬]]></title>
    <url>%2Flinux%2F%EC%82%AC%EC%9A%A9%EC%9E%90-%EA%B7%B8%EB%A3%B9-%EA%B4%80%EB%A6%AC%2F</url>
    <content type="text"><![CDATA[ë¦¬ëˆ…ìŠ¤ëŠ” ì—¬ëŸ¬ëª…ì˜ ì‚¬ìš©ìê°€ ë™ì‹œì— ë¡œê·¸ì¸í•˜ì—¬ ì‹œìŠ¤í…œì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë©€í‹°ìœ ì € ìš´ì˜ì²´ì œì´ë‹¤. ì´ëŸ¬í•œ ì‚¬ìš©ìë“¤ì€ ê°ê° ê³„ì •ì„ ê°€ì§€ê³  ì‹œìŠ¤í…œì— ì ‘ê·¼í•˜ê²Œ ëœë‹¤. ê·¸ë¦¬ê³  ì´ ì‚¬ìš©ìë“¤ì„ ë¬¶ì–´ì„œ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ê·¸ë£¹ì´ë¼ëŠ” ê²ƒì´ ìˆë‹¤. ëª¨ë“  ì‚¬ìš©ìëŠ” í•˜ë‚˜ì˜ ê·¸ë£¹ì„ ê°€ì§„ë‹¤. ì‚¬ìš©ì ê´€ë¦¬ /etc/passwd : ì‚¬ìš©ì ì •ë³´ê°€ ë‹´ê¸´ íŒŒì¼ 123root:x:0:0:root:/root:/bin/bash# ì‚¬ìš©ìëª…:íŒ¨ìŠ¤ì›Œë“œ:UID:GID:ì‚¬ìš©ìì •ë³´:í™ˆë””ë ‰í† ë¦¬:ì‰˜ ì‚¬ìš©ìëª… : ë¡œê·¸ì¸ ì‹œ ì‚¬ìš©í•˜ëŠ” ì‚¬ìš©ìëª…. ë„¤ì´ë° ê·œì¹™ : ì˜ë¬¸ì ëŒ€ì†Œë¬¸ì, ìˆ«ì, â€œ-â€, â€œ_â€, â€œ.â€ ì‚¬ìš© ê°€ëŠ¥, ë³´í†µ 1~32ì ì‚¬ìš© íŒ¨ìŠ¤ì›Œë“œ : /etc/shadow íŒŒì¼ì— ì•”í˜¸í™”ë˜ì–´ ì €ì¥ë˜ì–´ ìˆë‹¤. UID : ì‚¬ìš©ì ê³ ìœ  ID ì¼ë°˜ ì‚¬ìš©ìëŠ” 1000~60000ì„ ì‚¬ìš©í•œë‹¤(/etc/login.defsì— ëª…ì‹œ) root ëŠ” 0ìœ¼ë¡œ ì˜ˆì•½ë˜ì–´ ìˆë‹¤. GID : ì‚¬ìš©ìê°€ ì†í•œ ê·¸ë£¹ ê³ ìœ  ID ì‚¬ìš©ìì •ë³´ : ì‚¬ìš©ìì— ëŒ€í•œ ê°„ë‹¨í•œ ì •ë³´ë¥¼ ê¸°ì…í•  ìˆ˜ ìˆë‹¤. í™ˆë””ë ‰í† ë¦¬ : ì‚¬ìš©ì í´ë”. ë¡œê·¸ì¸ ì‹œ ìµœì´ˆ ì ‘ì†ë˜ëŠ” í´ë”ì´ê¸°ë„ í•˜ë‹¤. ì‰˜ : ì‚¬ìš©ìê°€ ì‚¬ìš©í•˜ëŠ” ì‰˜ í™˜ê²½ ì‚¬ìš©ì ì¶”ê°€ 12345678910111213&gt; useradd [options] ì‚¬ìš©ìëª… # options# -c [í…ìŠ¤íŠ¸] : ì‚¬ìš©ìì •ë³´# -m : í™ˆë””ë ‰í† ë¦¬ ìƒì„±# -M : í™ˆë””ë ‰í† ë¦¬ ìƒì„± ì•ˆí•¨# -d [í´ë”] : í™ˆë””ë ‰í† ë¦¬ ì§€ì •# -N : ì‚¬ìš©ì ê°œì¸ ê·¸ë£¹ ìƒì„±í•˜ì§€ ì•ŠìŒ. default : ìƒì„±# -u [UID] : UID ì§ì ‘ ì§€ì •# -g [GID] : GID ì§ì ‘ ì§€ì •# -s [Shell] : shell ì§€ì •# ì´ ì™¸ì—ë„ ë§ì€ ì˜µì…˜ì´ ì¡´ì¬í•œë‹¤. useradd --help ë¥¼ í™œìš©í•œë‹¤. ìƒì„± ì‹œ ì‚¬ìš©í•˜ëŠ” default ê°’ì„ í™•ì¸í•˜ê³  ë°”ê¿€ ìˆ˜ ìˆë‹¤. 1234567891011121314151617181920&gt; useradd -DGROUP=100HOME=/homeINACTIVE=-1EXPIRE=SHELL=/bin/shSKEL=/etc/skelCREATE_MAIL_SPOOL=no&gt; useradd -D -b /test&gt; useradd -DGROUP=100HOME=/test #ë³€ê²½ë¨INACTIVE=-1EXPIRE=SHELL=/bin/shSKEL=/etc/skelCREATE_MAIL_SPOOL=no# ìœ„ì— ëŒ€í•œ ì„¤ì •íŒŒì¼ì€ /etc/default/useradd ì´ë‹¤ ì‚¬ìš©ì ì¶”ê°€ ì‹œ í™ˆ ë””ë ‰í† ë¦¬ì— ìƒì„±ë˜ëŠ” íŒŒì¼ 123456789101112&gt; useradd user1 -m&gt; cd /home/user1&gt; ls -alí•©ê³„ 32drwxr-xr-x 2 user1 user1 4096 10ì›” 29 16:23 .drwxr-xr-x 4 root root 4096 10ì›” 29 16:23 ..-rw-r--r-- 1 user1 user1 220 9ì›” 1 2015 .bash_logout-rw-r--r-- 1 user1 user1 3771 9ì›” 1 2015 .bashrc-rw-r--r-- 1 user1 user1 655 6ì›” 25 2016 .profile-rw-r--r-- 1 user1 user1 8980 4ì›” 20 2016 examples.desktop# /etc/skelì— ìˆëŠ” íŒŒì¼ì„ ë³µì‚¬í•´ ì‚¬ìš©í•œë‹¤. ì‚¬ìš©ì ìˆ˜ì • 12345678910111213141516171819&gt; usermod [options] ì‚¬ìš©ìëª… # options# -c [í…ìŠ¤íŠ¸] : ì‚¬ìš©ìì •ë³´ ìˆ˜ì •# -d [í´ë”] : í™ˆë””ë ‰í† ë¦¬ ë³€ê²½# -u [UID] : UID ë³€ê²½# -s [Shell] : shell ì§€ì •# -L : ê³„ì • ë½í‚¹# -U : ê³„ì • ì–¸ë½í‚¹# -g [group] : ì‚¬ìš©ì ê¸°ë³¸ ê·¸ë£¹ ë³€ê²½ &gt; usermod -g user2 user1 # user1ì˜ ê¸°ë³¸ ê·¸ë£¹ì„ user2ë¡œ ë³€ê²½# -G [groups] : ì‚¬ìš©ì ê·¸ë£¹ ì¶”ê°€,ë³€ê²½(ì œê±°). ê¸°ë³¸ ê·¸ë£¹ì€ ì˜í–¥ì„ ë°›ì§€ ì•ŠëŠ”ë‹¤. &gt; usermod -a -G group1,group2 user1 # user1ì— group1,group2ë¥¼ ì¶”ê°€. -a ì˜µì…˜ì€ ê¸°ì¡´ê·¸ë£¹ì— ì¶”ê°€í• ì§€ ì•ˆí• ì§€ ì—¬ë¶€ì´ë‹¤. &gt; usermod -G group1 user1 # ê·¸ë£¹ì„ ì œê±°í•˜ëŠ” ë°©ë²•. -aë¥¼ ì£¼ì§€ ì•Šì•„ ê¸°ì¡´ ê·¸ë£¹ì„ ìœ ì§€í•˜ì§€ ì•Šì•˜ë‹¤. íŒ¨ìŠ¤ì›Œë“œ ë³€ê²½ 123456&gt; passwd [options] ì‚¬ìš©ìëª…# options# -d : íŒ¨ìŠ¤ì›Œë“œ ì‚­ì œ# -e : íŒ¨ìŠ¤ì›Œë“œ ê°•ì œ ë§Œë£Œ# -l, -u : íŒ¨ìŠ¤ì›Œë“œ ë½í‚¹/ì–¸ë½í‚¹. usermodì— ìˆëŠ” -L, -U ì˜µì…˜ì„ ì“°ëŠ”ê²ƒì´ ë” ì¢‹ë‹¤ê³  í•œë‹¤.. ì‚¬ìš©ì ì‚­ì œ 12345userdel [options] ì‚¬ìš©ìëª…# options # -r : ì‚¬ìš©ìì˜ í™ˆë””ë ‰í† ë¦¬, ë©”ì¼ë°•ìŠ¤, ì„ì‹œë””ë ‰í† ë¦¬ ê¹Œì§€ ê°™ì´ ì‚­ì œ. ê·¸ë£¹ì€ ê¸°ë³¸ì ìœ¼ë¡œ ì†í•œ ì‚¬ìš©ìê°€ ì—†ìœ¼ë©´ ìë™ ì‚­ì œëœë‹¤ ê·¸ë£¹ ê´€ë¦¬ /etc/group : ê·¸ë£¹ ì •ë³´ê°€ ë‹´ê¸´ íŒŒì¼ 123sudo:x:27:user1,user2# ê·¸ë£¹ëª…:íŒ¨ìŠ¤ì›Œë“œ:GID:ì‚¬ìš©ìë¦¬ìŠ¤íŠ¸ ê·¸ë£¹ëª… : ê·¸ë£¹ì˜ ì´ë¦„ì´ë‹¤ íŒ¨ìŠ¤ì›Œë“œ : ê·¸ë£¹ íŒ¨ìŠ¤ì›Œë“œ GID : ê·¸ë£¹ ê³ ìœ  ID ì‚¬ìš©ìë¦¬ìŠ¤íŠ¸ : í•´ë‹¹ ê·¸ë£¹ì— ì†í•œ ì‚¬ìš©ìë“¤ì˜ ë¦¬ìŠ¤íŠ¸. ìƒëµë˜ëŠ” ê²½ìš°ë„ ë§ê¸° ë•Œë¬¸ì— ë¹„ì–´ìˆë‹¤ê³  ê·¸ë£¹ì— ì†í•œ ì‚¬ìš©ìê°€ ì—†ë‹¤ê³  í™•ì‹ í•  ìˆ˜ ì—†ë‹¤. ê·¸ë£¹ ì¶”ê°€ 1234&gt; groupadd [options] ê·¸ë£¹ëª…# options# -g [GID] : GID ì§€ì • ê·¸ë£¹ ìˆ˜ì • 1234&gt; groupmod [options] ê·¸ë£¹ëª…# options# -n [ì´ë¦„] : ê·¸ë£¹ëª… ë³€ê²½ ê·¸ë£¹ ì‚­ì œ 1&gt; groupdel ê·¸ë£¹ëª…]]></content>
      <categories>
        <category>linux</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[[git] github push 403]]></title>
    <url>%2Fgit%2Fgithub-push-403%2F</url>
    <content type="text"><![CDATA[https://cheonjoosung.github.io/git/2017/07/10/it_git_permissionerror.html 1git remote set-url origin &apos;https://&lt;github-username&gt;@github.com/&lt;github-username&gt;/&lt;github-reppository-name&gt;&apos;]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>The requested URL returned error: 403</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[linux] ê´€ë¦¬ì ê¶Œí•œ ì „í™˜]]></title>
    <url>%2Flinux%2F%EA%B4%80%EB%A6%AC%EC%9E%90-%EA%B6%8C%ED%95%9C-%EC%A0%84%ED%99%98%2F</url>
    <content type="text"><![CDATA[Windowsì—ì„œ ìµœê³  ê´€ë¦¬ìê°€ Administratorì˜€ë‹¤ë©´, ë¦¬ëˆ…ìŠ¤ì—ì„œëŠ” rootì…ë‹ˆë‹¤. ë³´ì•ˆìƒì˜ ì´ìœ ë¡œ rootë¡œ ì§ì ‘ ë¡œê·¸ì¸í•˜ëŠ” ê²ƒì€ ê¶Œì¥ë˜ì§€ ì•Šê³ , ì¼ë°˜ ì‚¬ìš©ìë¡œ ë¡œê·¸ì¸ í•œ ë’¤, í•„ìš”ì‹œì— root ê¶Œí•œìœ¼ë¡œ ì‘ì—…í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤. sudo ì¼ë°˜ ì‚¬ìš©ìê°€ root ê¶Œí•œìœ¼ë¡œ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ê³ ì í•  ë–„ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤. 1sudo cat /etc/shadow ë‹¹ì—°íˆ ëˆ„êµ¬ë‚˜ ì‚¬ìš©í•  ìˆœ ì—†ê³ , í—ˆê°€ëœ ì‚¬ìš©ìë§Œì´ ì‚¬ìš© ê°€ëŠ¥í•œ ëª…ë ¹ì–´ì…ë‹ˆë‹¤. ì´ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ì„  /etc/sudoers íŒŒì¼ì„ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤. í˜„ì¬ ìš°ë¶„íˆ¬ë¥¼ ì‚¬ìš©í•˜ê³  ìˆìœ¼ë¯€ë¡œ, ìš°ë¶„íˆ¬ë¥¼ ê¸°ì ìœ¼ë¡œ í•´ë‹¹ íŒŒì¼ì„ ì—´ì–´ë´¤ì„ë•Œ 12# Allow members of group sudo to execute any command%sudo ALL=(ALL:ALL) ALL ë¶€ë¶„ì„ ë°œê²¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë³´ë‹¤ì‹œí”¼ sudo ê·¸ë£¹ì— í•´ë‹¹í•˜ëŠ” ë©¤ë²„ë“¤ì€ ëª¨ë“  ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ê³  ëª…ì‹œë˜ì–´ ìˆìŠµë‹ˆë‹¤. (ê¸°ë³¸ì ìœ¼ë¡œ ê´€ë¦¬ì ê³„ì •ìœ¼ë¡œ ë“±ë¡ëœ ì‚¬ìš©ìëŠ” sudo ê·¸ë£¹ì— ì†Œì†ë˜ì–´ ìˆìŒ) ê·¸ëŸ¼ ìœ ì €ë¥¼ í•˜ë‚˜ ë§Œë“¤ê³ , sudo ëª…ë ¹ì–´ë¥¼ ì‚¬ìš© ê°€ëŠ¥í•˜ë„ë¡ ë§Œë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤. 12345678910111213141516171819202122232425# ë¨¼ì € ì‚¬ìš©ì ì¶”ê°€ë¥¼ ìœ„í•´ root ê³„ì •ìœ¼ë¡œ ë³€ê²½í•©ë‹ˆë‹¤. (su ëª…ë ¹ì–´ëŠ” ì•„ë˜ì„œ ì„¤ëª…)&gt; su -# user1 ì¶”ê°€ ë° íŒ¨ìŠ¤ì›Œë“œ ì„¤ì •&gt; useradd -m user1&gt; passwd user1&gt; su - user1&gt; sudo cat /etc/shadow[sudo] password for user1: user1 is not in the sudoers file. This incident will be reported.# sudo ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•  ìˆ˜ ì—†ë‹¤.# user1ì— sudo ê·¸ë£¹ì„ ì¶”ê°€&gt; su - &gt; usermod -G sudo user1# ë‹¤ì‹œ ì‹¤í–‰&gt; su - user1&gt; sudo cat /etc/shadow[sudo] password for user1: root:x:0:0:root:/root:/bin/bashdaemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin.....# ì¶œë ¥ì´ ì˜ ëœë‹¤! sudo ëª…ë ¹ì–´ë¥¼ í†µí•´ root ê¶Œí•œìœ¼ë¡œ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ê³  ë‚˜ë©´ ë‹¤ì‹œ ì¼ë°˜ ì‚¬ìš©ì ê¶Œí•œìœ¼ë¡œ ëŒì•„ì˜¤ê²Œ ë©ë‹ˆë‹¤. sudo ëª…ë ¹ì–´ ì‹¤í–‰ ì‹œ ì…ë ¥í•œ ì•”í˜¸ëŠ” 5ë¶„ ë™ì•ˆ ìœ ì§€ë©ë‹ˆë‹¤! (5ë¶„ê°„ ì•”í˜¸ë¥¼ ì¬ì…ë ¥í•˜ì§€ ì•Šì•„ë„ ë¨) su sudo ì²˜ëŸ¼ ì ì‹œ ê´€ë¦¬ì ê¶Œí•œì„ ë¹Œë ¤ì˜¤ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ì•„ì˜ˆ ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ ì „í™˜í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤. 123&gt; su - ì•”í˜¸ :root@:~# - ì˜µì…˜ì„ ì£¼ì–´ì•¼ root ì‚¬ìš©ìì˜ í™˜ê²½ë³€ìˆ˜ê¹Œì§€ ë‹¤ ì½ì–´ì˜¤ê²Œ ë©ë‹ˆë‹¤. ì…ë ¥í•˜ì§€ ì•Šì„ ê²½ìš° í™˜ê²½ë³€ìˆ˜ê°€ ì—†ì–´ ëª…ë ¹ì–´ë¥¼ ì°¾ì§€ ëª»í•˜ëŠ” í˜„ìƒì´ ë°œìƒí•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. su ë’¤ì— ì‚¬ìš©ìëª…ì„ ì…ë ¥í•˜ì—¬ rootê°€ ì•„ë‹Œ ë‹¤ë¥¸ ì‚¬ìš©ìë¡œ ì „í™˜í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. 123&gt; su - user2ì•”í˜¸ : user2@:~$]]></content>
      <categories>
        <category>linux</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[[db] ì¿¼ë¦¬ì‘ì„± ë° ìµœì í™”]]></title>
    <url>%2Fdb%2F%EC%BF%BC%EB%A6%AC%EC%9E%91%EC%84%B1-%EB%B0%8F-%EC%B5%9C%EC%A0%81%ED%99%94%2F</url>
    <content type="text"><![CDATA[ì‹œìŠ¤í…œ ì„¤ì • SQL ëª¨ë“œ MySql ì„œë²„ì—ëŠ” sql_mode ë¼ëŠ” ì‹œìŠ¤í…œ ì„¤ì •ì´ ìˆë‹¤. ì´ ì„¤ì •ì„ í†µí•´ SQLì˜ ì‘ì„±, ê²°ê³¼ ë“±ì— ì˜í–¥ì„ ì£¼ê²Œ ëœë‹¤. STRICT_ALL_TABLES : ì €ì¥í•˜ë ¤ëŠ” ê°’ì˜ ê¸¸ì´ê°€ ì»¬ëŸ¼ì˜ ê¸¸ì´ë³´ë‹¤ ê¸¸ ê²½ìš° ì˜¤ë¥˜ ë°œìƒì‹œí‚´. ì›ë˜ëŠ” ì´ˆê³¼ëœ ë¶€ë¶„ë§Œí¼ ìë¥´ê³  ì €ì¥í•˜ì˜€ìŒ. STRICT_TRANS_TABLE : ì»¬ëŸ¼ì˜ íƒ€ì…ê³¼ ê°’ì˜ íƒ€ì…ì´ ì¼ì¹˜í•˜ì§€ ì•Šì„ ê²½ìš° ì˜¤ë¥˜ ë°œìƒì‹œí‚´. ì›ë˜ëŠ” ë¹„ìŠ·í•œ íƒ€ì…ìœ¼ë¡œ ìµœëŒ€í•œ ë³€í™˜ì‹œì¼œì„œ ì €ì¥í–ˆìŒ. ANSI_QUOTES : ë¬¸ìì—´ í‘œí˜„ì— ì˜¤ì§ ì‹±ê¸€ì¿¼í„°ë§Œ ì‚¬ìš©ê°€ëŠ¥. ë”ë¸”ì¿¼í„°ëŠ” ì»¬ëŸ¼ëª…ì´ë‚˜ í…Œì´ë¸”ëª…ë§Œ ì‚¬ìš© ê°€ëŠ¥. ì›ë˜ëŠ” ë¬¸ìì—´ì— ì‹±ê¸€/ë”ë¸” ì¿¼í„° ëª¨ë‘ ì‚¬ìš© ê°€ëŠ¥í–ˆìŒ. ONLY_FULL_GROUP_BY : GROUP BY ì ˆì— í¬í•¨ë˜ì§€ ì•Šì€ ì»¬ëŸ¼ì„ ì¶œë ¥í•˜ê±°ë‚˜ HAVINGì— ì‚¬ìš©í•  ìˆ˜ ì—†ìŒ. ì›ë˜ëŠ” ê°€ëŠ¥í–ˆìŒâ€¦ MySQLì˜ ì´ìƒí–ˆë˜ ì . PIPE_AS_CONCAT : ì˜¤ë¼í´ ì²˜ëŸ¼ || ë¬¸ìë¡œ ë¬¸ìì—´ ì—°ê²° ê°€ëŠ¥. ì›ë˜ëŠ” ë¶ˆê°€ëŠ¥. ë“±ë“±â€¦ ì ìš©í•˜ëŠ”ë²•ì€ my.cnf íŒŒì¼ì— 1sql_mode=STRICT_TRANS_TABLES,ANSI ì˜ í˜•íƒœë¡œ ì‘ì„±í•´ì£¼ë©´ ëœë‹¤. ,ë¡œ êµ¬ë¶„í•˜ì—¬ ì—¬ëŸ¬ê°œ ì§€ì •í•  ìˆ˜ ìˆë‹¤. sql_modeì—ì„œ ì•Œ ìˆ˜ ìˆëŠ” MySQLì˜ íŠ¹ì§•ì€? ì˜ë¬¸ ëŒ€ì†Œë¬¸ì MySqlì€ ì„¤ì¹˜ëœ ìš´ì˜ì²´ì œì— ë”°ë¼ í…Œì´ë¸”ì˜ ëŒ€ì†Œë¬¸ìë¥¼ êµ¬ë¶„í•œë‹¤. ex) ìœˆë„ìš° : êµ¬ë¶„X, ë¦¬ëˆ…ìŠ¤ : êµ¬ë¶„O DBë‚˜ í…Œì´ë¸”ì´ ë””ìŠ¤í¬ì˜ ë””ë ‰í„°ë¦¬ë‚˜ íŒŒì¼ë¡œ ë§¤í•‘ë˜ê¸° ë•Œë¬¸ì´ë‹¤. ê°€ëŠ¥í•˜ë©´ ëŒ€ë¬¸ìë§Œ ë˜ëŠ” ì†Œë¬¸ìë§Œìœ¼ë¡œ í†µì¼í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì˜ˆì•½ì–´ ì¼ë°˜ì ìœ¼ë¡œ í…Œì´ë¸”ì´ë‚˜ ì»¬ëŸ¼ ìƒì„± ì‹œ ì˜ˆì•½ì–´ë¥¼ ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©í•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤. ê·¸ëŸ¬ë‚˜ ì—­ë”°ì˜´í‘œ(`)ë‚˜ ìŒë”°ì˜´í‘œ(&quot;)ë¡œ ê°ì‹¸ë©´ ì´ë¥¼ í”¼í•  ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ë©´ í…Œì´ë¸” ìƒì„± ì‹œ ì—­ë”°ì˜´í‘œ(`)ë¡œ ë‘˜ëŸ¬ì‹¸ë©´ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¤ì§€ ì•ŠëŠ”ë‹¤. í•˜ì§€ë§Œ ì—­ë”°ì˜´í‘œë¡œ ë‘˜ëŸ¬ì‹¸ì„œ ìƒì„±í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. ë©”ë‰´ì–¼ ì½ëŠ” ë²• ëŒ€ë¬¸ìëŠ” í‚¤ì›Œë“œë¥¼ ì˜ë¯¸í•œë‹¤. ì´í…”ë¦­ì²´ëŠ” ì‚¬ìš©ìê°€ ì‘ì„±í•˜ëŠ” ì´ë¦„ ë˜ëŠ” í‘œí˜„ì‹ì„ ì˜ë¯¸í•œë‹¤. ëŒ€ê´„í˜¸( [] )ëŠ” ì„ íƒì‚¬í•­ì„ì„ ì˜ë¯¸í•œë‹¤. íŒŒì´í”„( | )ëŠ” ì—°ê²°ëœ ê²ƒ ì¤‘ ë‹¨ í•˜ë‚˜ë§Œ ì„ íƒí•  ìˆ˜ ìˆìŒì„ ì˜ë¯¸í•œë‹¤. ì¤‘ê´„í˜¸( {} )ëŠ” ê´„í˜¸ ë‚´ ì„ íƒì‚¬í•­ ì¤‘ ë°˜ë“œì‹œ í•˜ë‚˜ë¥¼ ì„ íƒí•´ì•¼ í•¨ì„ ì˜ë¯¸í•œë‹¤. â€¦ëŠ” ì•ì— ëª…ì‹œëœ í‚¤ì›Œë“œë‚˜ í‘œí˜„ì´ ë°˜ë³µë  ìˆ˜ ìˆìŒì„ ì˜ë¯¸í•œë‹¤. MySQL ì—°ì‚°ì, ë‚´ì¥í•¨ìˆ˜ ë¦¬í„°ëŸ´ ë¬¸ìì—´ í•­ìƒ í™‘ë”°ì˜´í‘œ(â€™)ë¥¼ ì‚¬ìš©í•´ì„œ í‘œì‹œí•œë‹¤. í™‘ë”°ì˜´í‘œ ìì²´ë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ì„ ë•ŒëŠ” í™‘ë”°ì˜´í‘œë¥¼ ë‘ë²ˆ ì—°ì† ì…ë ¥í•˜ë©´ ëœë‹¤. ìŒë”°ì˜´í‘œì™€ í™‘ë”°ì˜´í‘œì˜ ì¡°í•©ìœ¼ë¡œ ìœ„ì˜ í–‰ìœ„ë¥¼ í•  ìˆ˜ ìˆì§€ë§Œ MySqlë§Œ ì§€ì›ë˜ëŠ” ë°©ì‹ì´ë‹¤. ìˆ«ì ë‹¤ë¥¸ ì‹œìŠ¤í…œë“¤ê³¼ ë™ì¼í•˜ê²Œ â€™ ë‚˜ &quot; ì—†ì´ ìˆ«ì ê°’ì„ ì…ë ¥í•˜ë©´ ëœë‹¤. â€» ìë™ í˜• ë³€í™˜ MySqlì—ì„œëŠ” ë¬¸ìì™€ ìˆ«ìë¥¼ ë¹„êµí•  ë•Œ ìë™ìœ¼ë¡œ ìˆ«ìê°’ìœ¼ë¡œ í˜• ë³€í™˜í•´ì¤€ë‹¤. (ìˆ«ì &gt; ë¬¸ì) 1WHERE number_col = &apos;10001&apos;; ì™€ ê°™ì€ ê²½ìš°ëŠ” ë¬¸ì œê°€ ë˜ì§€ ì•Šì§€ë§Œ, 1WHERE string_col = 10001; ì˜ ê²½ìš°ì—ëŠ” ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ìœ„ì™€ ê°™ì€ ê²½ìš° ì˜¤ë¥¸ìª½ ìˆ«ìê°€ ìš°ì„ ìˆœìœ„ê°€ ë” ë†’ìœ¼ë¯€ë¡œ ì™¼ìª½ì˜ string_colì´ ìˆ«ìë¡œ í˜• ë³€í™˜í•˜ëŠ” ìƒí™©ì´ ë°œìƒí•˜ëŠ”ë°, ì´ë¡œ ì¸í•´ string_colì€ ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ëª»í•˜ê³ , ë§Œì•½ ë¬¸ìê°’ì´ í¬í•¨ëœ ë°ì´í„°ê°€ ìˆë‹¤ë©´ SQL ì‹¤í–‰ ì˜¤ë¥˜ë¡œë„ ì´ì–´ì§„ë‹¤. ë‚ ì§œ MySqlì—ì„œ ì •í•´ì§„ í˜•íƒœì˜ í¬ë©§ìœ¼ë¡œ ë‚ ì§œë¥¼ ì…ë ¥í•˜ë©´(ë¬¸ìì—´ë¡œ), MySqlì—ì„œ ìë™ìœ¼ë¡œ DATEë‚˜ DATETIMEìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ì¤€ë‹¤. ìœ„ì˜ ìˆ«ì ë¦¬í„°ëŸ´ê³¼ ë™ì¼í•˜ë‹¤. (ë‚ ì§œ &gt; ë¬¸ì) ë¶ˆë¦¬ì–¸ BOOLEANì´ë€ íƒ€ì…ì´ ìˆê¸´ í•˜ë‚˜ ì‹¤ìƒ TINYINTì— ëŒ€í•œ ë™ì˜ì–´ì¼ ë¿ì´ë‹¤. (í…Œì´ë¸” ì»¬ëŸ¼ íƒ€ì…ì„ BOOLEANìœ¼ë¡œ ìƒì„±í•œ ë’¤ í™•ì¸í•´ë³´ë©´ TINYINT ì´ë‹¤.) BOOLEANì˜ TRUEëŠ” 1ì„ ì˜ë¯¸í•˜ê³ , FALSEëŠ” 0ì„ ì˜ë¯¸í•œë‹¤. 0ê³¼ 1ë§Œì„ ì‚¬ìš©í•œë‹¤ëŠ” ì ì„ ì£¼ì˜í•´ì•¼ í•œë‹¤!! ì—°ì‚°ì ë™ë“± ë¹„êµ =, &lt;=&gt; ê¸°ë³¸ì ìœ¼ë¡œ NULLê³¼ì˜ ì—°ì‚°ì€ ê²°ê³¼ê°’ì´ ëª¨ë‘ NULLì´ë‹¤. 1SELECT NULL=1 FROM DUAL; &gt; NULL ê·¸ë˜ì„œ NULLì˜ ê²½ìš° IS NULLë“±ì˜ ì—°ì‚°ìë¡œ ë¹„êµí•´ì•¼ í•˜ëŠ”ë°, &lt;=&gt; ì˜ ê²½ìš°ì—ëŠ” NULL ë˜í•œ í•˜ë‚˜ì˜ ê°’ìœ¼ë¡œ ì¸ì‹í•˜ì—¬ ê³„ì‚°í•œë‹¤. 1SELECT NULL&lt;=&gt;NULL FROM DUAL; &gt; 1 ë¶€ì • ë¹„êµ &lt;&gt;, != ë‘˜ì¤‘ ì–´ëŠê²ƒì„ ì‚¬ìš©í•˜ë“  ìƒê´€ì—†ì§€ë§Œ í†µì¼í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. NOT ì—°ì‚°ì ê²°ê³¼ë¥¼ ë°˜ëŒ€ë¡œ ë§Œë“ ë‹¤. ë¶€ì •ì˜ ê²°ê³¼ë¥¼ ì •í™•íˆ ì˜ˆì¸¡í•  ìˆ˜ ì—†ëŠ” ê²½ìš° ì‚¬ìš©í•˜ì§€ ë§ì. ex) !â€˜testâ€™ AND, OR ì—°ì‚°ì &amp;&amp;, ||ë¡œ ëŒ€ì²´í•  ìˆ˜ ìˆìœ¼ë‚˜ í˜¼ë€ì„ ì•¼ê¸°í•˜ë‹ˆ ì‚¬ìš©í•˜ì§€ ë§ì. ë‚˜ëˆ„ê¸°, ë‚˜ë¨¸ì§€ ì—°ì‚°ì 123456SELECT 29/9 FROM DUAL;-- 3.222.. // ëª« + ë‚˜ë¨¸ì§€SELECT 29 DIV 9 FROM DUAL;-- 3 // ëª«SELECT 29 MOD 9 FROM DUAL;-- 2 // ë‚˜ë¨¸ì§€ LIKE ì—°ì‚°ì ìƒìˆ˜ ë¬¸ìì—´ì´ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ ì •ë„ë§Œì„ íŒë‹¨í•œë‹¤. ì™€ì¼ë“œ ì¹´ë“œëŠ” ë”± 2ê°œë§Œ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤. % : 0ê°œ ë˜ëŠ” 1ê°œ ì´ìƒ ì¼ì¹˜ _ : ì •í™•íˆ 1ê°œ ì¼ì¹˜ ì™€ì¼ë“œì¹´ë“œ ë¬¸ìê°€ ê²€ìƒ‰ì–´ì˜ ë’¤ìª½ì— ìˆë‹¤ë©´ ì¸ë±ìŠ¤ ë ˆì¸ì§€ ìŠ¤ìº”ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤! ì™€ì¼ë“œì¹´ë“œê°€ ì•ìª½ì— ì˜¬ ê²½ìš° ì¸ë±ìŠ¤ í’€ ìŠ¤ìº” ë˜ëŠ” í…Œì´ë¸” í’€ ìŠ¤ìº”ì„ í•˜ê²Œ ëœë‹¤.(B-Tree ì¸ë±ìŠ¤ì˜ íŠ¹ì§• ë•Œë¬¸) ì™€ì¼ë“œì¹´ë“œ ë¬¸ìë¥¼ ê²€ìƒ‰ì— ì‚¬ìš©í•˜ê³  ì‹¶ì„ ê²½ìš° ESCAPE êµ¬ë¬¸ì„ ì‚¬ìš©í•œë‹¤. 1SELECT 'a%' LIKE 'a/%' ESCAPE '/' FROM DUAL; BETWEEN ì—°ì‚°ì &gt;= ì—°ì‚°ìì™€ &lt;= ì—°ì‚°ìë¥¼ í•©ì¹œ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•œë‹¤. BETWEENì„ ìœ„ì˜ ì—°ì‚°ìë¡œ í’€ì–´ë„ ì„±ëŠ¥ìƒ ì°¨ì´ê°€ ì—†ìœ¼ë‹ˆ í¬ê²Œ ê³ ë ¤í•˜ì§€ ì•Šì•„ë„ ëœë‹¤. IN ì—°ì‚°ì ë™ë“±ë¹„êµë¥¼ ì—¬ëŸ¬ë²ˆ í•˜ëŠ” ì—°ì‚°ìì´ë‹¤. ì¦‰ ì¼ë°˜ì ìœ¼ë¡œ ë¹ ë¥´ê²Œ ì²˜ë¦¬ëœë‹¤. ì—°ì‚°ìì˜ ì…ë ¥ì´ ìƒìˆ˜ê°€ ì•„ë‹ˆë¼ ì„œë¸Œì¿¼ë¦¬ì¼ ê²½ìš° ìƒë‹¹íˆ ëŠë ¤ì§ˆ ìˆ˜ ìˆìœ¼ë‹ˆ ì£¼ì˜í•´ì•¼ í•œë‹¤. NOT INì˜ ê²½ìš° ë¶€ì •í˜• ë¹„êµì—¬ì„œ ì¸ë±ìŠ¤ í’€ ìŠ¤ìº”ì„ ì‚¬ìš©í•œë‹¤. â€» BETWEEN ì—°ì‚°ìì™€ IN ì—°ì‚°ì ì°¨ì´ì  BETWEENì˜ ê²½ìš° ë²”ìœ„ë§Œí¼ ì¸ë±ìŠ¤ë¥¼ ë‹¤ ì½ì–´ì•¼ í•˜ëŠ” ë°˜ë©´, INì˜ ê²½ìš° ìœ„ì—ì„œ ì–¸ê¸‰í–ˆë“¯ì´ ë™ë“± ì—°ì‚°ìë¥¼ ì—¬ëŸ¬ë²ˆ ìˆ˜í–‰í•˜ëŠ” ê²ƒê³¼ ê°™ë‹¤. ì‹¤í–‰ê³„íšì„ ë¹„êµí•´ë³´ë©´ ì¸ë±ìŠ¤ë¥¼ íƒ€ê³  ìˆì§€ë§Œ rowsì—ì„œ ì°¨ì´ê°€ ë‚˜ëŠ”ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ë‚´ì¥í•¨ìˆ˜ NULL ê°’ ë¹„êµ IFNULL : ê°’ì´ NULLì¸ì§€ ë¹„êµí•˜ê³  NULLì´ë©´ ë‹¤ë¥¸ ê°’ìœ¼ë¡œ ëŒ€ì²´í•œë‹¤. ì²«ë²ˆì§¸ ì¸ìëŠ” NULLì¸ì§€ ë¹„êµí•  ê°’, ë‘ë²ˆì§¸ ì¸ìëŠ” NULLì¼ì‹œ ëŒ€ì²´ê°’ì´ë‹¤. ì²«ë²ˆì§¸ ì¸ìê°€ NULLì´ ì•„ë‹ê²½ìš° ê·¸ëŒ€ë¡œ ì¶œë ¥ëœë‹¤. ISNULL : ê°’ì´ NULLì¸ì§€ ì•„ë‹Œì§€ ë¹„êµ. NULLì¼ ê²½ìš° TRUE(1), ì•„ë‹ê²½ìš° FALSE(0) í˜„ì¬ ì‹œê° ì¡°íšŒ NOW : ì‹œê°„ ì¡°íšŒ. í•˜ë‚˜ì˜ SQLë‚´ë©´ ëª¨ë‘ ê°™ì€ ê°’ì„ ê°€ì§„ë‹¤. SYSDATE : ì‹œê°„ ì¡°íšŒ. í•˜ë‚˜ì˜ SQLë‚´ì—ì„œë„ í˜¸ì¶œ ì‹œì ì— ë”°ë¼ ê²°ê³¼ê°’ì´ ë‹¬ë¼ì§„ë‹¤. 1234SELECT NOW(), SLEEP(1), NOW() FROM DUAL;-- '2017-12-19 22:39:52' | '0' | '2017-12-19 22:39:52'SELECT SYSDATE(), SLEEP(1), SYSDATE() FROM DUAL;-- '2017-12-19 22:40:27' | '0' | '2017-12-19 22:40:28' ë³´ë‹¤ì‹œí”¼ SYSDATEì˜ ê²½ìš° SLEEP(1)ë¡œ ì¸í•´ 1ì´ˆê°€ ì°¨ì´ë‚œë‹¤. SYSDATEì˜ ê²½ìš° í˜¸ì¶œë•Œë§ˆë‹¤ ë‹¤ë¥¸ ê°’ì„ ë°˜í™˜í•˜ë¯€ë¡œ ìƒìˆ˜ê°€ ì•„ë‹ˆë‹¤. ê·¸ë˜ì„œ ì¸ë±ìŠ¤ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•˜ì§€ ëª»í•œë‹¤. (ì¸ë±ìŠ¤ë¼ê¸° ë³´ë‹¨ ìºì‹±ì„ ëª»í•œë‹¤ëŠ”ê²Œ ë” ë§ì§€ ì•Šì„ê¹Œ?) ì´ëŸ¬í•œ ë¬¸ì œì ì´ ìˆìœ¼ë‹ˆ SYSDATEëŠ” ê°€ê¸‰ì  ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ê²ƒì´ ì¢‹ë‹¤. CURRENT_TIMESTAMP, CURRNET_DATE, CURRENT_TIMEì€ NOWì™€ ë™ì¼í•œë°ë‹¤ ì¶œë ¥ì„ ë‹¤ì–‘í•˜ê²Œ í™œìš©í•  ìˆ˜ ìˆìœ¼ë‹ˆ ì´ê²ƒì„ ì‚¬ìš©í•´ë„ ì¢‹ì„ ê²ƒ ê°™ë‹¤. ë‚ ì§œ &lt;&gt; ë¬¸ì ì§€ì • ë¬¸ì ë‚´ìš© %Y 4ìë¦¬ ì—°ë„ %y 2ìë¦¬ ì—°ë„ %m ì›” %d ì¼ì %H 24h ì‹œê°„(00 ~ 23) %h 12h ì‹œê°„(01 ~ 12) %i ë¶„ %s ì´ˆ DATE_FORMAT : ë‚ ì§œë¥¼ ë¬¸ìì—´ë¡œ ë³€í™˜í•œë‹¤. ex) DATE_FORMAT(NOW(), %Y-%m-%d) &gt; 2017-12-19 STR_TO_DATE : ë¬¸ìë¥¼ ë‚ ì§œë¡œ ë³€í™˜í•œë‹¤. ì—¬ê¸°ì„œ ì£¼ëŠ” í¬ë©§ì€ ê¸°ì¡´ ë¬¸ìì—´ì˜ í¬ë©§ì„ ì•Œë ¤ì£¼ëŠ” ê²ƒì´ë‹¤. ex) STR_TO_DATE(â€˜19920207â€™,â€™%Y%m^%dâ€™) &gt; 1992-02-07 ì°¸ê³ ë¡œ SQL í‘œì¤€í˜•íƒœë¡œ ì…ë ¥ëœ ë¬¸ìì—´ì€ STR_TO_DATEë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ìë™ìœ¼ë¡œ DATETIMEìœ¼ë¡œ ë³€í™˜ë˜ì–´ ì²˜ë¦¬ëœë‹¤. ë‚ ì§œ ì—°ì‚° DATE_ADD : ì²«ë²ˆì§¸ ì¸ìë¡œ ë‚ ì§œ, ë‘ë²ˆì§¸ ì¸ìë¡œ ë”í•  ë‚ ì§œë¥¼ ì£¼ë©´ ëœë‹¤. ë‘ë²ˆì§¸ ì¸ìëŠ” INTERVAL n {KEYWORD} ì˜ í˜•íƒœë¡œ ì¤˜ì•¼ í•œë‹¤. DATE_SUB í•¨ìˆ˜ë„ ìˆìœ¼ë‚˜ ë‘ë²ˆì§¸ ì¸ìë¡œ ìŒìˆ˜ê°’ì„ ì¤„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— DATE_ADDë§Œìœ¼ë¡œë„ ì¶©ë¶„í•˜ë‹¤. ex) DATE_ADD(NOW(), INTERVAL 3 DAY) â€» KEYWORD : YEAR, MONTH, WEEK, DAY, HOUR â€¦ ë¬¸ìì—´ ì²˜ë¦¬ LPAD, RPAD : ì¢Œì¸¡ í˜¹ì€ ìš°ì¸¡ì— íŠ¹ì •í•œ ë¬¸ìë¥¼ ì§€ì •í•œ ë°”ì´íŠ¸ ë§Œí¼ ì±„ìš°ëŠ” í•¨ìˆ˜ì´ë‹¤. ì²«ë²ˆì§¸ ì¸ìë¡œ ëŒ€ìƒ ë¬¸ìì—´, ë‘ë²ˆì§¸ ì¸ìë¡œ ì±„ìš¸ ë°”ì´íŠ¸(ê¸°ì¡´ ë¬¸ìì—´ í¬í•¨), ì„¸ë²ˆì§¸ ì¸ìë¡œ ì±„ìš¸ ë¬¸ìë¥¼ ë„£ëŠ”ë‹¤. LTRIM, RTRIM, TRIM : ì—°ì†ëœ ê³µë°±ë¬¸ìë¥¼ ì œê±°í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤. LTRIMì€ ì™¼ìª½, RTRIMì€ ì˜¤ë¥¸ìª½, TRIMì€ ì–‘ìª½ì˜ ê³µë°±ì„ ì œê±°í•œë‹¤. ë¬¸ìì—´ ê²°í•© CONCAT : ë¬¸ìì—´ì„ ê²°í•©í•´ì„œ í•˜ë‚˜ì˜ ë¬¸ìì—´ë¡œ í•©ì¹˜ëŠ” í•¨ìˆ˜ë¡œ ì¸ì ê°œìˆ˜ëŠ” ì œí•œì´ ì—†ë‹¤. ex) CONCAT('My name is ', 'JoonT. ', 'Nice to ', â€˜meet you.â€™); &gt; My name is JoonT. Nice to meet you. CONCAT_WS : CONCATê³¼ ê°™ì€ë° ì²«ë²ˆì§¸ ì¸ìë¡œ êµ¬ë¶„í•  ë¬¸ìì—´ì„ ë„£ì–´ì¤„ ìˆ˜ ìˆë‹¤. ex) CONCAT_WS(â€™-â€™, â€˜aâ€™, â€˜bâ€™, â€˜câ€™); &gt; a-b-c GROUP_CONCAT : GROUP BY ë¡œ ê·¸ë£¹í•‘ëœ ì§‘í•©ì„ ë¬¸ìì—´ë¡œ ì—°ê²°ì‹œí‚¬ ìˆ˜ ìˆë‹¤. ë‹¨ìˆœ ë¬¸ìì—´ ì—°ê²° ì™¸ì—ë„ êµ¬ë¶„ì ì¶”ê°€, ì •ë ¬, ì¤‘ë³µ ì œê±° ë“±ì„ í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ìƒë‹¹íˆ ìœ ìš©í•˜ë‹¤. 12345678SELECT GROUP_CONCAT(emp_no) FROM dept_emp GROUP BY dept_no;-- 1,2,3,4,5... : ê¸°ë³¸ì ìœ¼ë¡œ ,ë¡œ ì—°ê²°ë¨SELECT GROUP_CONCAT(emp_no SEPARATOR '-') FROM dept_emp GROUP BY dept_no;-- 1-2-3-4-5... : êµ¬ë¶„ìë¥¼ ì¤„ ìˆ˜ ìˆìŒSELECT GROUP_CONCAT(emp_no ORDER BY from_date DESC) FROM dept_emp GROUP BY dept_no;-- dept_empì— ìˆëŠ” ì»¬ëŸ¼ìœ¼ë¡œ ì •ë ¬ ê°€ëŠ¥SELECT GROUP_CONCAT(DISTINCT emp_no) FROM dept_emp GROUP BY dept_no;-- ì¤‘ë³µì œê±°ë„ ê°€ëŠ¥ ê°’ì˜ ë¹„êµì™€ ëŒ€ì²´(CASE WHENâ€¦THENâ€¦END) CASE WHENâ€¦THENâ€¦END switchë¬¸ê³¼ ë¹„ìŠ·í•˜ë‹¤. CASE str WHEN â€˜Aâ€™ THEN â€˜A matchedâ€™ WHEN â€˜Bâ€™ THEN â€˜B matchedâ€™ ELSE â€˜Nothing matchedâ€™ END ê°ê°ì˜ ë¶€ë¶„ì— ëŒ€í•´ ë™ë“±(=) ì—°ì‚°ì„ í•œë‹¤. ì•„ë˜ì²˜ëŸ¼ ë”°ë¡œ ì¡°ê±´ì„ ì¤„ ìˆ˜ë„ ìˆë‹¤. CASE WHEN str &gt;= 65 AND str &lt;= 90 THEN â€˜Upper Caseâ€™ WHEN str &gt;= 97 AND str &lt;= 122 THEN â€˜Lower Caseâ€™ END THEN ë¶€ë¶„ì— ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•´ì„œ ì¡°ê±´ë³„ ì¿¼ë¦¬ ì‹¤í–‰ë„ ê°€ëŠ¥í•˜ë‹¤. CASE sex WHEN â€˜Mâ€™ THEN (SELECT salary from salaries WHERE ~~ LIMIT 1) WHEN â€˜Fâ€™ THEN 0 END ë‚¨ìì¼ë•ŒëŠ” ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ê³ , ì—¬ìì¼ë–„ëŠ” ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ì§€ ì•ŠëŠ”ë‹¤. ì´ë¡œ ì¸í•´ ë¶ˆí•„ìš”í•œ ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ëŠ” ê²ƒì„ ë§‰ì„ ìˆ˜ ìˆë‹¤. íƒ€ì… ë³€í™˜ CAST : ëª…ì‹œì  í˜• ë³€í™˜ì„ í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.ë³€í™˜í•  ê°’ê³¼ ë³€í™˜í•  íƒ€ì…ì„ ì§€ì •í•´ì£¼ë©´ ëœë‹¤. ë‘˜ì€ AS ë¡œ ì—°ê²°í•œë‹¤. ex) CAST(â€˜1234â€™ AS INTEGER) CONVERT : CASTì™€ ë™ì¼í•˜ê²Œ í˜• ë³€í™˜ì„ í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤. í˜• ë³€í™˜ì™¸ì— ë¬¸ìì§‘í•© ë³€í™˜ë„ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì ì´ ì°¨ì´ì ì´ë‹¤. ex) CONVERT(1234, UNSIGNED) ex) CONVERT(â€˜asdâ€™ USING â€˜utf8â€™) ì´ì§„ê°’ &lt;&gt; 16ì§„ìˆ˜ HEX : ì´ì§„ê°’ -&gt; 16ì§„ìˆ˜ UNHEX : 16ì§„ìˆ˜ -&gt; ì´ì§„ê°’ MD5, SHA ë¹„ëŒ€ì¹­í˜• ì•”í˜¸í™” ì•Œê³ ë¦¬ì¦˜ì— ì‚¬ìš©ëœë‹¤. SHAëŠ” SHA1 ì•Œê³ ë¦¬ì¦˜ì„ ì¨ì„œ 160ë¹„íŠ¸(20ë°”ì´íŠ¸) í•´ì‹œê°’ì„ ë°˜í™˜í•˜ê³ , MD5ëŠ” ë©”ì„¸ì§€ ë‹¤ì´ì œìŠ¤íŠ¸ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•´ì„œ 128ë¹„íŠ¸(16ë°”ì´íŠ¸) í•´ì‹œê°’ì„ ë°˜í™˜í•œë‹¤. ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™” í•˜ëŠ” ê³¼ì •ì—ì„œ ìì£¼ ì‚¬ìš©ë˜ë©°, URLê³¼ ê°™ì€ ê¸´ ë¬¸ìì—´ì— ì¸ë±ìŠ¤ë¥¼ ì£¼ê³ ì‹¶ì„ ë•Œ í•´ë‹¹ ë¬¸ìì—´ì„ í•´ì‹œê°’ìœ¼ë¡œ ë³€í™˜í•´ ì¸ë±ìŠ¤ë¥¼ ì£¼ê¸°ë„ í•œë‹¤. í•´ì‹œê°’ì€ ê±°ì˜ ì§„ì§œ ì™ ë§Œí•´ì„  ì¤‘ë³µë˜ëŠ” ì¼ì´ ì—†ê¸° ë•Œë¬¸ì´ë‹¤. ë³€í™˜ëœ í•´ì‹œê°’ì€ 16ì§„ìˆ˜ë¡œ ì¶œë ¥ë˜ê¸° ë•Œë¬¸ì— ê°’ì„ ì €ì¥í•˜ë ¤ë©´ ë³€í™˜ë˜ëŠ” í•´ì‹œê°’ì˜ í¬ê¸°ë³´ë‹¤ 2ë°° í° ê°’ì„ í• ë‹¹í•´ì¤˜ì•¼ í•˜ëŠ”ë°(1ë°”ì´íŠ¸ == 16ì§„ìˆ˜ 2ê°œ), ì›ë˜ì˜ 16ë°”ì´íŠ¸, 20ë°”ì´íŠ¸ì— ì €ì¥í•˜ê³  ì‹¶ë‹¤ë©´ BINARY íƒ€ì…ì˜ ì»¬ëŸ¼ì— ì €ì¥í•˜ë©´ ëœë‹¤. BINARYë¡œ ë³€í™˜ì€ ìœ„ì—ì„œ ì‚¬ìš©í•œ HEX, UNHEX í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤. ë””ë²„ê¹…ìš© í•¨ìˆ˜ SLEEP(ì´ˆ) : ì‹¤í–‰ë˜ë©´ ê·¸ êµ¬ê°„ë§Œí¼ ë©ˆì¶˜ë‹¤. ë””ë²„ê¹… ìš©ë„ë¡œ ì‚¬ìš©í•œë‹¤. BENCHMARK(ì¿¼ë¦¬ë¬¸, ì‹¤í–‰íšŸìˆ˜) : ì¿¼ë¦¬ë¬¸ì´ ì‹¤í–‰ë˜ëŠ”ë° ëª‡ì´ˆ ê±¸ë¦¬ëŠ”ê°€ í…ŒìŠ¤íŠ¸ í•´ë³¼ ìˆ˜ ìˆë‹¤. ì‹¤í–‰íšŸìˆ˜ë¡œ ì—¬ëŸ¬ë²ˆ ë°˜ë³µí•´ë³¼ ìˆ˜ë„ ìˆëŠ”ë°â€¦ ì†”ì§íˆ ë³„ë¡œ ì•ˆì“¸ë“¯. ì™œëƒë©´ ì¿¼ë¦¬ë¬¸ì€ í•˜ë‚˜ì˜ ì»¬ëŸ¼, ë ˆì½”ë“œì¸ ìŠ¤ì¹¼ë¼ê°’ì„ ë°˜í™˜í•´ì•¼ í•˜ê³ , ì‹¤í–‰íšŸìˆ˜ë„ ì‹¤ì œë¡œ 10ë²ˆ ì‹¤í–‰í•˜ëŠ” ê²ƒê³¼ BENCHMARKë¡œ 10ë²ˆ ì‹¤í–‰í•˜ëŠ”ê²ƒì´ ë‹¤ë¥´ê¸° ë–„ë¬¸. ì‹¤ì œ ì¿¼ë¦¬ë¥¼ 10ë²ˆ ì‹¤í–‰í•˜ëŠ” ì„œë¹„ìŠ¤ í™˜ê²½ì—ì„œëŠ” 10ë²ˆì˜ ë„¤íŠ¸ì›Œí¬ ìì›, ì„œë²„ ìì›ë“±ì´ ë‹¤ ìš”ì²­ë˜ì§€ë§Œ BENCHMARKì˜ ê²½ìš° ë‹¨ 1ë²ˆë§Œ ìš”ì²­ë˜ê¸° ë–„ë¬¸. IP ì£¼ì†Œ ë³€í™˜ IPì£¼ì†Œë¥¼ UNSIGNED INTEGERì˜ í˜•íƒœë¡œ ìƒí˜¸ë³€í™˜ ê°€ëŠ¥í•˜ë‹¤. INET_ATON : IP ì£¼ì†Œ -&gt; UNSIGNED INTEGER INET_NTOA : UNSIGNED INTEGER -&gt; IP ì£¼ì†Œ ex) 1234SELECT name, INET_NTOA(ip_addr) FROM TEST WHERE ip_addr BETWEEN INET_ATON('192.168.0.1') AND INET_ATON('192.168.0.100'); í›¨ì”¬ íš¨ê³¼ì ìœ¼ë¡œ ì €ì¥ ë° ì¡°íšŒê°€ ê°€ëŠ¥í•˜ë‹¤. MySQL ì „ìš© ì•”í˜¸í™” MySQLë‚´ì˜ userë¥¼ ìƒì„±í• ë•Œ ì¼ë˜ PASSWORD í•¨ìˆ˜ë¥¼ ë§í•œë‹¤. ë§ì€ ì‚¬ëŒë“¤ì´ ì´ í•¨ìˆ˜ì˜ ì´ë¦„ë§Œ ë³´ê³  ì‹¤ì œ íšŒì›ì˜ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì´ê²ƒìœ¼ë¡œ ì•”í˜¸í™”í•˜ê³¤ í–ˆë‹¤. í•˜ì§€ë§Œ ì´ëŠ” ì ˆëŒ€ ì•”í˜¸í™” í•¨ìˆ˜ê°€ ì•„ë‹ˆë‹¤. MySQL ë‚´ë¶€ì—ì„œ ê·¸ëƒ¥ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ê³ , ë‚´ë¶€ ì•”í˜¸í™” ì•Œê³ ë¦¬ì¦˜ë„ ëª…ì‹œëœê²ƒì´ ì—†ë‹¤. ë°”ë€”ìˆ˜ë„ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤. ì‹¤ì œë¡œë„ ë°”ë€Œì—ˆë‹¤. MySQL 4.1 ì´ì „ê³¼ ì´í›„ë¡œ PASSWORD í•¨ìˆ˜ë¥¼ ì…ë ¥í•˜ë©´ ë³€ê²½ë˜ëŠ” ê°’ì´ ë‹¤ë¦„ì„ ë³¼ ìˆ˜ ìˆë‹¤. ì´ë¡œì¸í•´ DB ë²„ì „ ì—…ë°ì´íŠ¸ë¥¼ í–ˆì„ ê²½ìš° ì‚¬ìš©ìê°€ ë¡œê·¸ì¸í•˜ì§€ ëª»í•˜ëŠ” ì‹¬ê°í•œ ì¼ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤. ì´ëŸ´ ê²½ìš° ê¸°ì¡´ì˜ PASSWORDí•¨ìˆ˜ë¥¼ OLD_PASSWORDë¡œ ë°”ê¿”ì„œ ì„ì‹œë¡œ ë§‰ì„ ìˆ˜ ìˆë‹¤. ë³€ê²½ëœ PASSWORD í•¨ìˆ˜ì—ì„œëŠ” ì•”í˜¸í™”ì‹œì— *ë¥¼ ì•ì— ë¶™ì¸ë‹¤. ì´ë¡œì¸í•´ ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ êµ¬ë¶„í• ìˆ˜ë„ ìˆë‹¤. í•˜ì§€ë§Œâ€¦ ê¸°ë³¸ì ìœ¼ë¡œ ì´ í•¨ìˆ˜ë¥¼ ì ˆëŒ€ íŒ¨ìŠ¤ì›Œë“œ ì•”í˜¸í™” í•˜ëŠ”ë° ì“°ì§€ ì•Šë„ë¡ í•´ì•¼í•œë‹¤. VALUES 1234567INSERT INTO table_statistics(member_id, visit_count) SELECT member_id, COUNT(*) FROM tab_accesslog GROUP BY member_idON DUPLICATE KEY -- UPDATE visit_count = visit_count + COUNT(*) // ë¶ˆê°€ëŠ¥UPDATE visit_count = visit_count + VALUES(visit_count) -- ì¸ì„œíŠ¸í•˜ë ¤ í–ˆë˜ ê°’ ì°¸ì¡° ê°€ëŠ¥ UPDATE ë¬¸ì€ ì„œë¸Œì¿¼ë¦¬ì˜ ì¼ë¶€ê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— COUNT(*)ë¡œ ì ‘ê·¼ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤. í•˜ì§€ë§Œ ìœ„ì™€ ê°™ì´ VALUES í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ìœ„ì— INSERTì—ì„œ ì¶”ê°€í•˜ë ¤ê³  í–ˆë˜ ì»¬ëŸ¼ì— ì ‘ê·¼ ê°€ëŠ¥í•˜ë‹¤. COUNT ì¶œë ¥ëœ ë ˆì½”ë“œì˜ ê°œìˆ˜ë¥¼ ì„¸ê±°ë‚˜, GROUP BY í•¨ìˆ˜ì™€ ê°™ì´ ì‚¬ìš©í•´ ê·¸ë£¹í™” ëœ ìš”ì†Œë“¤ì˜ ê°œìˆ˜ë¥¼ ì¶œë ¥í•˜ëŠ”ë° ì‚¬ìš©í•œë‹¤. COUNT() ë¼ê³  í–‰ ì „ì²´ë¥¼ ë‹¤ ì½ì–´ì˜¤ê±°ë‚˜â€¦ ê·¸ëŸ° ì˜ë¯¸ê°€ ì•„ë‹ˆë¼, ê·¸ëƒ¥ ë ˆì½”ë“œ 1ê°œ ìì²´ë¥¼ ì˜ë¯¸í•œë‹¤. ì¦‰ COUNT(), COUNT(â€˜Aâ€™), COUNT(1)ì€ ì•„ë¬´ ì°¨ì´ê°€ ì—†ë‹¤. í•˜ì§€ë§Œ COUNT(ì»¬ëŸ¼ëª…) ìœ¼ë¡œ í–ˆì„ ê²½ìš° NULLì¸ ê°’ì€ ì œì™¸ë˜ë¯€ë¡œ ì´ë¶€ë¶„ì€ ì¡°ì‹¬í•´ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤. ì£¼ì„ 1234567891011121314--- í•œì¤„ ì£¼ì„(SQL í‘œì¤€)/*ì—¬ëŸ¬ì¤„ ì£¼ì„(SQL í‘œì¤€)ì—¬ëŸ¬ì¤„ì—¬ëŸ¬ì¤„ì—¬ëŸ¬ë¶„*/ /*! ë³€í˜•ëœ Cì–¸ì–´ ìŠ¤íƒ€ì¼ì˜ ì£¼ì„ì¸ë°, ì´ëŠ” SQLì—ì„œ íŒíŠ¸ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. *//*! STRAIGHT_JOIN */# í•œì¤„ì£¼ì„(ë¹„í‘œì¤€) SELECT 18, 204, 206, 211, 213, 215, 217, 232, 238]]></content>
      <categories>
        <category>db</category>
      </categories>
      <tags>
        <tag>Real MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[java] ìë£Œí˜•]]></title>
    <url>%2Fjava%2F%EC%9E%90%EB%A3%8C%ED%98%95%2F</url>
    <content type="text"><![CDATA[ê¸°ë³¸í˜•(Primitive Type) ìë£Œí˜• í‘œí˜„ ë°ì´í„° í¬ê¸° ë²”ìœ„ boolean ì°¸/ê±°ì§“ 1byte true, false char ë¬¸ì 2byte ëª¨ë“  ìœ ë‹ˆì½”ë“œ ë¬¸ì byte ì •ìˆ˜ 1byte -128 ~ 127 short ì •ìˆ˜ 2byte -32768 ~ 32767 int ì •ìˆ˜ 4byte -2147483648 ~ 2147483647 long ì •ìˆ˜ 8byte -9223372036854775808 ~ 9223372036854775807 float ì‹¤ìˆ˜ 4byte 1.4E-45 ~ 3.4028235E38 double ì‹¤ìˆ˜ 8byte 4.9E-324 ~ 1.7976931348623157E308 ë²”ìœ„ì— ëŒ€í•œ ê¸°ë³¸ ê°œë… 1byteë¥¼ ì˜ˆë¡œ ë“¤ì–´ë³´ì 1byteëŠ” 8bit ì´ë¯€ë¡œ, 0000 0000 ~ 1111 1111 ê¹Œì§€ í‘œí˜„ì´ ê°€ëŠ¥í•˜ë‹¤ ì´ ê°’ì€ 0 ~ 255 ê¹Œì§€ì˜ ê°’ì¸ë°, javaëŠ” unsigned í˜•ì´ ì—†ìœ¼ë¯€ë¡œ ë²”ìœ„ì— ìŒìˆ˜ë¥¼ í¬í•¨í•˜ì—¬ì•¼ í•œë‹¤ í•˜ì§€ë§Œ ë³´ë‹¤ì‹œí”¼ í˜„ì¬ ìƒíƒœë¡œëŠ” ìŒìˆ˜ ê°’ì„ í‘œí˜„í•  ìˆ˜ ì—†ë‹¤ ê·¸ë˜ì„œ ê°€ì¥ ì™¼ìª½ì— ìˆëŠ” ë¹„íŠ¸ë¥¼ ë¶€í˜¸ë¡œ ì‚¬ìš©í•˜ë©°, ì´ë¥¼ MSB ë¼ê³  í•œë‹¤ MSBê°€ 0ì´ë©´ ì–‘ìˆ˜, 1ì´ë©´ ìŒìˆ˜ì¸ ê²ƒì´ë‹¤ ê·¸ëŸ¬ë¯€ë¡œ 1byte ìë£Œí˜•ì´ í‘œí˜„í•  ìˆ˜ ìˆëŠ” ë²”ìœ„ëŠ” 1111 1111 ~ 0111 1111 ê¹Œì§€ê°€ ë˜ëŠ” ê²ƒì´ë‹¤ ìŒìˆ˜ê°’ì„ í‘œí˜„í• ë•ŒëŠ” 2ì˜ ë³´ìˆ˜(1ì˜ ë³´ìˆ˜ë¥¼ êµ¬í•œí›„ + 1)ë¥¼ ì‚¬ìš©í•œë‹¤ 12ex1) 0111 1111(127) : 1000 0001(-127) ex2) 0000 1111(15) : 1111 0001(-15) ì—¬ê¸°ê¹Œì§€ë§Œ ë³´ë©´ 1byteì˜ ë²”ìœ„ëŠ” -127 ~ 127 ê¹Œì§€ê°€ ë˜ì–´ì•¼í•  ê²ƒ ê°™ì€ë°, ì™œ -128ê¹Œì§€ ì¼ê¹Œ? ì•„ë˜ëŠ” ì¶”ì¸¡ì´ë‹¤ í•˜ì§€ë§Œ ì²«ë²ˆì§¸ ë¹„íŠ¸ë¥¼ MSBë¡œ ì‚¬ìš©í–ˆê¸° ë•Œë¬¸ì—, ìš°ë¦¬ëŠ” 0ì„ 2ê°€ì§€ ë°©ë²•ìœ¼ë¡œ í‘œí˜„í•  ìˆ˜ ìˆëŠ” íŠ¹ì§•ì„ ê°€ì§€ê²Œ ëœë‹¤(0000 0000, 1000 0000) ì—¬ê¸°ì„œ 1000 0000 ê°’ì„ ë²„ë¦¬ì§€ ì•Šê³  1000 0001(-127) ì—ì„œ 1 ë¹ ì§„ ê°’ìœ¼ë¡œ -128ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤ ë¦¬í„°ëŸ´ ì •ìˆ˜ê°’ì€ ê¸°ë³¸ì´ int ë¦¬í„°ëŸ´ì´ë‹¤. ì‹¤ìˆ˜ê°’ì€ ê¸°ë³¸ì´ double ë¦¬í„°ëŸ´ì´ë‹¤. 12int i = 10; // intí˜•double d = 10.10; // doubleí˜• long, floatì„ ì‚¬ìš©í•˜ê³  ì‹¶ìœ¼ë©´ ì¶”ê°€ì ì¸ ë¬¸ìë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤. 12long l = 3000000000L; // 30ì–µì€ int ë²”ìœ„ë¥¼ ë„˜ì–´ê°€ë¯€ë¡œ long ë¦¬í„°ëŸ´ì„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ í‘œí˜„í•  ìˆ˜ ì—†ë‹¤.float f = 10.10F; short, byteëŠ” ë¦¬í„°ëŸ´ì´ ì—†ë‹¤. ê·¸ëƒ¥ ì •ìˆ˜ê°’ì„ ë„£ìœ¼ë©´ ìë™ìœ¼ë¡œ ë³€í™˜ëœë‹¤. 12byte b = 10; // byteí˜•ì´ ë¨short s = 10; // shortí˜•ì´ ë¨ í˜•ë³€í™˜ ëª…ì‹œì  í˜• ë³€í™˜ ìºìŠ¤íŒ… ì—°ì‚°ìë¥¼ ì¨ì„œ ëª…ì‹œì ìœ¼ë¡œ í˜•ì„ ë³€í™˜í•˜ëŠ” ë°©ë²•ì´ë‹¤. 12double d = (double)10; // intë¥¼ doubleë¡œ í˜• ë³€í™˜float f = (float)10.10; // doubleì„ floatìœ¼ë¡œ í˜• ë³€í™˜ í¬ê¸°ì— ë”°ë¥¸ ìë™ í˜• ë³€í™˜ byte &lt; short &lt; int &lt; long &lt; float &lt; double ì™¼ìª½ìœ¼ë¡œ ì˜¤ë¥¸ìª½ ìˆœì„œë¡œ íƒ€ì…ì˜ í¬ê¸°ì´ë‹¤. í° ìë£Œí˜•ì— ì‘ì€ ìë£Œí˜•ì„ ì €ì¥í•  ê²½ìš° ìë™ìœ¼ë¡œ í˜• ë³€í™˜ì´ ì¼ì–´ë‚œë‹¤. 12long l = 10; // longí˜•ì´ ë¨float f = 10L; // floatì´ ë” í¬ë¯€ë¡œ longì„ ì €ì¥ ê°€ëŠ¥í•˜ë‹¤ ì‚°ìˆ ì—°ì‚°ì— ì˜í•œ ìë™ í˜• ë³€í™˜ ì—°ì‚°ì„ í•˜ëŠ” ìˆ«ìë“¤ ì¤‘ ê°€ì¥ í° ìë£Œí˜•ìœ¼ë¡œ ë‚˜ë¨¸ì§€ ìˆ«ìì˜ ìë£Œí˜•ì´ ê²°ì •ëœë‹¤. 12345int i1 = 10L + 10; // longí˜•ìœ¼ë¡œ ë³€í™˜ë˜ë¯€ë¡œ ì»´íŒŒì¼ ì—ëŸ¬int i2 = 3 + 3.5; // doubleí˜•ìœ¼ë¡œ ë³€í™˜ë˜ë¯€ë¡œ ì»´íŒŒì¼ ì—ëŸ¬double d1 = 3 / 2; // ë‘˜ë‹¤ int í˜•ì´ë¯€ë¡œ ì†Œìˆ˜ì  ì´í•˜ê°€ ì˜ë¦° 1ì´ ì €ì¥ëœë‹¤.double d2 = (double)3 / 2; // 3ì„ doubleë¡œ ê°•ì œ í˜• ë³€í™˜ í•˜ì˜€ìœ¼ë¯€ë¡œ ì—°ì‚°ì˜ ê²°ê³¼ëŠ” doubleì´ ëœë‹¤. byteí˜•ì´ë‚˜ shortí˜•ì€ ì—°ì‚° ì‹œ ëª¨ë‘ intí˜•ìœ¼ë¡œ ë³€í™˜ëœë‹¤. 1234short s1 = 1; // ì—¬ê¸°ì„  ìë™ ë³€í™˜ëœë‹¤short s2 = 2; // ì—¬ê¸°ì„  ìë™ ë³€í™˜ëœë‹¤short s3 = s1 + s2; // intë¡œ ë³€í™˜ë˜ì—ˆê¸° ë•Œë¬¸ì— ì»´íŒŒì¼ ì—ëŸ¬short s4 = (short)s1 + s2; // shortë¡œ ë³€í™˜í•´ì•¼ í•¨ charí˜•ì€ ë¬¸ìí˜•ì´ì§€ë§Œ ì—°ì‚°í•  ìˆ˜ ìˆë‹¤. 123char c = 'a';int i = 100;System.out.println(c + i); // ë¬¸ì aëŠ” ì•„ìŠ¤í‚¤ì½”ë“œê°’(97)ë¡œ ë³€í™˜ë˜ì–´ 197ì´ ë°˜í™˜ëœë‹¤. ì°¸ì¡° : https://hit-it-sum.tistory.com/1]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>java í˜• ë³€í™˜</tag>
        <tag>primitive type</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[java] ì…ì¶œë ¥]]></title>
    <url>%2Fjava%2F%EC%9E%85%EC%B6%9C%EB%A0%A5%2F</url>
    <content type="text"><![CDATA[I/OëŠ” Input/Outputì˜ ì•½ìë¡œ, ì…ë ¥/ì¶œë ¥ì„ ë§í•œë‹¤. ì…ì¶œë ¥ì€ ì»´í“¨í„° ë‚´/ì™¸ë¶€ ì¥ì¹˜ì™€ í”„ë¡œê·¸ë¨ê°„ì˜ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ëŠ” ê²ƒì„ ë§í•œë‹¤. ìŠ¤íŠ¸ë¦¼ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ìœ¼ë ¤ë©´ ë‘ ëŒ€ìƒì„ ì—°ê²°í•˜ê³  ë°ì´í„°ë¥¼ ì „ì†¡í•  ìˆ˜ ìˆëŠ” ì—°ê²°í†µë¡œ ê°™ì€ê²ƒì´ í•„ìš”í•œë°, ì´ë¥¼ ìŠ¤íŠ¸ë¦¼ì´ë¼ê³  í•œë‹¤. ìŠ¤íŠ¸ë¦¼ì€ ë‹¨ë°©í–¥ìœ¼ë¡œë§Œ ê°€ëŠ¥í•˜ë¯€ë¡œ í•˜ë‚˜ì˜ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì…,ì¶œë ¥ì„ ë™ì‹œì— ì§„í–‰í•  ìˆ˜ ì—†ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì…ë ¥ ìŠ¤íŠ¸ë¦¼, ì¶œë ¥ ìŠ¤íŠ¸ë¦¼ì´ ë”°ë¡œ ì¡´ì¬í•˜ê³ , ì…ë ¥ê³¼ ì¶œë ¥ì„ ë™ì‹œì— ìˆ˜í–‰í•˜ë ¤ë©´ 2ê°œì˜ ìŠ¤íŠ¸ë¦¼ì´ í•„ìš”í•˜ë‹¤. ìŠ¤íŠ¸ë¦¼ì€ FIFO êµ¬ì¡°ë¡œ ë˜ì–´ìˆë‹¤. ìë°”ì—ì„œ ì œê³µí•˜ëŠ” ìŠ¤íŠ¸ë¦¼ì€ í¬ê²Œ 2ê°€ì§€ê°€ ìˆë‹¤. ë°”ì´íŠ¸ ë‹¨ìœ„ë¡œ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ëŠ” ë°”ì´íŠ¸ê¸°ë°˜ ìŠ¤íŠ¸ë¦¼ê³¼ í•´ë‹¹ ìŠ¤íŠ¸ë¦¼ì˜ ê¸°ëŠ¥ì„ ë³´ì™„í•˜ê¸° ìœ„í•œ í•„í„° ìŠ¤íŠ¸ë¦¼ ë¬¸ì ë‹¨ìœ„ë¡œ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ëŠ” ë¬¸ìê¸°ë°˜ ìŠ¤íŠ¸ë¦¼ê³¼ í•´ë‹¹ ìŠ¤íŠ¸ë¦¼ì˜ ê¸°ëŠ¥ì„ ë³´ì™„í•˜ê¸° ìœ„í•œ í•„í„° ìŠ¤íŠ¸ë¦¼ ë°”ì´íŠ¸ ê¸°ë°˜ ìŠ¤íŠ¸ë¦¼ ë°”ì´íŠ¸ ë‹¨ìœ„ë¡œ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ëŠ” ìŠ¤íŠ¸ë¦¼ì´ë‹¤. ìµœìƒìœ„ í´ë˜ìŠ¤ëŠ” InputStreamê³¼ OutputStreamì´ê³ , ì…ì¶œë ¥ ëŒ€ìƒì— ë”°ë¼ ì´ë¥¼ ìƒì†í•œ FileInputStream, ByteArrayInputStream, PipedInputStream ë“±ì´ ìˆë‹¤. InputStream, OutputStream InputStream ì…ë ¥ ì†ŒìŠ¤ë§ˆë‹¤ ì…ë ¥ ë°©ì‹ì´ ë‹¤ë¥´ë¯€ë¡œ, abstract ë©”ì„œë“œë¡œ read()ë¥¼ ì œê³µí•˜ê³  ìì‹ìª½ì—ì„œ ì´ë¥¼ êµ¬í˜„í•˜ë„ë¡ í–ˆë‹¤. êµ¬í˜„ í´ë˜ìŠ¤ì—ì„œëŠ” ì…ë ¥ ì†ŒìŠ¤ë¡œë¶€í„° 1byteë¥¼ ì½ì–´ì˜¤ëŠ” ë‚´ìš©ì„ êµ¬í˜„í•˜ë©´ ëœë‹¤ ì´ ê°™ì€ ì¶”ìƒí™”ë¡œ ì¸í•´ ì…ì¶œë ¥ì˜ ë°©ì‹ì´ ë‹¬ë¼ì ¸ë„ ì¼ê´€ëœ ë°©ë²•ìœ¼ë¡œ ì…ì¶œë ¥ì´ ê°€ëŠ¥í•˜ë‹¤. read()ëŠ” ì…ë ¥ ì†ŒìŠ¤ë¡œë¶€í„° ê°€ì ¸ì˜¨ ë°”ì´íŠ¸ë¥¼ ë°˜í™˜í•˜ëŠ”ë°, ë°”ì´íŠ¸ë¥¼ ë°›ìŒì—ë„ ë¶ˆêµ¬í•˜ê³  byteê°€ ì•„ë‹Œ intë¥¼ ì‚¬ìš©í•˜ê³  ìˆìŒì„ ë³¼ ìˆ˜ ìˆë‹¤. 1byteì˜ ë°ì´í„°ë¥¼ ë°›ìœ¼ëŸ¬ë©´ 0~255 ê¹Œì§€ì˜ ë°ì´í„°ë¥¼ ë‹´ì•„ì•¼í•˜ëŠ”ë°, javaëŠ” unsigned í˜•ì´ ì—†ì–´ì„œ javaì˜ byteë¡œëŠ” ì–‘ìˆ˜ë¡œ 127ê¹Œì§€ ë°–ì— ë‹´ì§€ ëª»í•œë‹¤ ê·¸ë¦¬ê³  ë§Œì•½ javaì— unsigned í˜•ì´ ìˆì–´ì„œ 255ê¹Œì§€ ë°›ì„ ìˆ˜ ìˆë‹¤ê³  í•˜ë”ë¼ë„, EOF ê°’(-1)ì„ ë°›ì§€ ëª»í•˜ê¸° ë•Œë¬¸ì—(unsigned ë¡œëŠ” ìŒìˆ˜ë¥¼ í‘œí˜„í•  ìˆ˜ ì—†ìœ¼ë‹ˆê¹Œ) ì–´ì°Œëë“  byte í˜•íƒœëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤ ê·¸ë ‡ë‹¤ë©´ shortë¥¼ ì‚¬ìš©í•˜ë©´ ë˜ì§€, ì™œ intë¥¼ ì‚¬ìš©í•˜ëŠ”ê°€? ì´ëŠ” ëŒ€ë¶€ë¶„ì˜ ì—°ì‚°ì˜ ê¸°ë³¸ ì •ìˆ˜í˜•ì´ int íƒ€ì…ì´ê¸° ë•Œë¬¸ì´ë‹¤(JVM ê¸°ë³¸ ì •ìˆ˜í˜•ë„ int íƒ€ì…ì´ë‹¤) ê·¸ëŸ¬ë¯€ë¡œ ì‚¬ì‹¤ìƒ intë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê°€ì¥ ì—°ì‚°ì´ ë¹ ë¥´ê³ (ì¶”ê°€ì ìœ¼ë¡œ í˜•ë³€í™˜ì„ í•˜ì§€ ì•Šì•„ë„ ë˜ê¸° ë•Œë¬¸ì—?), ëŒ€ë¶€ë¶„ì˜ ì •ìˆ˜ ê´€ë ¨ ì—°ì‚°ì€ int íƒ€ì…ì„ ì‚¬ìš©í•˜ë¯€ë¡œ intë¥¼ íƒí•œê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤ ì°¸ê³  : https://stackoverflow.com/questions/21062744/why-does-inputstream-read-return-an-int-and-not-a-short read(byte[] b), read(byte[] b, int off, int len) 1 byteì”© ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ë©´ ë„ˆë¬´ ëŠë¦¬ë¯€ë¡œ, byte ë°°ì—´ì„ ì „ë‹¬í•˜ê³  ì´ ë°°ì—´ì— ë°ì´í„°ë¥¼ ë‹´ì•„ì˜¤ë„ë¡ í•œë‹¤ í•˜ë‚˜ì”© ì „ë‹¬í•˜ëŠ” ê²ƒ ë³´ë‹¤ ë°”êµ¬ë‹ˆì— ë‹´ì•„ì„œ ì „ë‹¬í•˜ëŠ” ê²ƒì´ ë” ë¹ ë¥¸ê²ƒì„ ìƒê°í•˜ë©´ ëœë‹¤. ë°˜í™˜ë˜ëŠ” int ê°’ì€ ì½ì€ ë°”ì´íŠ¸ì˜ ê°œìˆ˜ì´ë‹¤. read(byte[] b): ë°°ì—´ bì˜ í¬ê¸°ë§Œí¼ ë°ì´í„°ë¥¼ ì½ì–´ì™€ì„œ bì— ì €ì¥í•œë‹¤. read(byte[] b, int off, int len) : lenì˜ í¬ê¸°ë§Œí¼ ë°ì´í„°ë¥¼ ì½ì–´ì™€ì„œ ë°°ì—´ bì˜ off ìœ„ì¹˜ë¶€í„° ì €ì¥í•œë‹¤. OutputStream abstract ë©”ì„œë“œë¡œ write(int b) ë¥¼ ì œê³µí•œë‹¤. ì¸ì bëŠ” ì¶œë ¥ì†ŒìŠ¤ë¡œ ë³´ë‚¼ ë°ì´í„°ì´ë‹¤ (flushì˜ ê²½ìš° ë²„í¼ê°€ ìˆëŠ” ì¶œë ¥ ìŠ¤íŠ¸ë¦¼ì˜ ê²½ìš°ì—ë§Œ ì˜ë¯¸ê°€ ìˆë‹¤.) write(byte[] b), write(byte[] b, int off, int len) write(byte[] b) : ë°°ì—´ bì— ì €ì¥ëœ ëª¨ë“  ë‚´ìš©ì„ ì¶œë ¥ì†ŒìŠ¤ì— ì“´ë‹¤ write(byte[] b, int off, int len) : ë°°ì—´ bì— ì €ì¥ëœ ë‚´ìš©ì„ off ìœ„ì¹˜ë¶€í„° lenê°œ ë§Œí¼ ì¶œë ¥ì†ŒìŠ¤ì— ì“´ë‹¤. FileInputStream, FileOutputStream íŒŒì¼ì— ì…ì¶œë ¥ì„ í•˜ê¸° ìœ„í•œ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ, ì‹¤ì œ í”„ë¡œê·¸ë˜ë°ì—ì„œ ë§ì´ ì‚¬ìš©ëœë‹¤. FileInputStream FileOutputStream ì•„ë˜ëŠ” file ë³µì‚¬ì˜ ê°„ë‹¨í•œ ì˜ˆì œì´ë‹¤. 12345678910111213141516171819@Testpublic void fileCopy()&#123; try( FileInputStream fileInputStream = new FileInputStream("/Users/home/test.mov"); FileOutputStream fileOutputStream = new FileOutputStream("/Users/home/test_copy.mov") )&#123; byte[] temp = new byte[8192]; long start = System.currentTimeMillis(); while(fileInputStream.read(temp) &gt; 0)&#123; fileOutputStream.write(temp); &#125; long end = System.currentTimeMillis(); System.out.println((end - start) / 1000.0); &#125; catch(IOException e)&#123; e.printStackTrace(); &#125;&#125; ByteArrayInputStream, ByteArrayOutputStream ë°”ì´íŠ¸ ë°°ì—´ì— ì…ì¶œë ¥ í•˜ê¸° ìœ„í•œ ìŠ¤íŠ¸ë¦¼ì´ë‹¤. ì…ì¶œë ¥ ëŒ€ìƒì´ ë©”ëª¨ë¦¬(ë°°ì—´ì€ java heapì— ì €ì¥ë˜ë¯€ë¡œ) ì´ë¯€ë¡œ closeë¥¼ í•˜ì§€ ì•Šì•„ì¤˜ë„ ëœë‹¤ëŠ” íŠ¹ì§•ì´ ìˆë‹¤. ìì£¼ ì‚¬ìš©ë˜ì§„ ì•Šì§€ë§Œ read(byte[] b) ì‚¬ìš© ì‹œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì‹¤ìˆ˜ë¥¼ ì•Œì•„ë³´ê¸° ìœ„í•´ ì²¨ë¶€í•˜ì˜€ìŒ. 12345678910111213141516171819202122@Testpublic void readFromByte() &#123; byte[] src = &#123;1,2,3,4,5,6,7,8,9,10&#125;; byte[] dst; byte[] temp = new byte[4]; ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(src); ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream(); try&#123; while(byteArrayInputStream.read(temp) &gt; 0)&#123; byteArrayOutputStream.write(temp); &#125; &#125; catch (IOException e)&#123; e.printStackTrace(); &#125; dst = byteArrayOutputStream.toByteArray(); System.out.println(Arrays.toString(dst));&#125; [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 7, 8] ì´ ì¶œë ¥ëœë‹¤. ë¯¸ìë§‰ ë£¨í”„ì—ì„œ 9, 10 2byteë§Œ ì½ì—ˆìœ¼ë¯€ë¡œ tempì˜ ì• 2byteë§Œ êµì²´ë˜ëŠ”ë°, write(temp)ì—ì„œ tempì˜ ëª¨ë“  ë‚´ìš©ì„ ì¶œë ¥í•˜ë„ë¡ í–ˆê¸° ë•Œë¬¸ì´ë‹¤. 12345678int len;try&#123; while((len = byteArrayInputStream.read(temp)) &gt; 0)&#123; byteArrayOutputStream.write(temp, 0, len); &#125;&#125; catch (IOException e)&#123; e.printStackTrace();&#125; ì´ì²˜ëŸ¼ ë³€ê²½í•´ì¤˜ì•¼ í•œë‹¤. ë°”ì´íŠ¸ ê¸°ë°˜ ë³´ì¡° ìŠ¤íŠ¸ë¦¼ ë°”ì´íŠ¸ ê¸°ë°˜ ìŠ¤íŠ¸ë¦¼ì˜ ê¸°ëŠ¥ì„ ë³´ì™„(ì„±ëŠ¥í–¥ìƒ ë° ê¸°ëŠ¥ì¶”ê°€)í•˜ê¸° ìœ„í•¨. ìì²´ì ì¸ ì…ì¶œë ¥ ê¸°ëŠ¥ì€ ì—†ë‹¤. ì…ì¶œë ¥ ê¸°ëŠ¥ì€ ê¸°ë°˜ ìŠ¤íŠ¸ë¦¼ì— ìœ„ì„í•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ìƒì„±ìì—ì„œ í•­ìƒ ê¸°ë°˜ ìŠ¤íŠ¸ë¦¼ì„ ë°›ëŠ”ë‹¤. ë¶€ëª¨ í´ë˜ìŠ¤ëŠ” FilterInputStream, FilterOutputStreamì´ê³ , ìì‹ìœ¼ë¡œëŠ” BufferedInputStream/BufferedOutputStream, DataInputStream/DataOutputStream, SequenceInputStream, PrintStream ë“±ì´ ìˆë‹¤. ë³´ì¡° ìŠ¤íŠ¸ë¦¼ì„ close í•˜ë©´ ê¸°ë°˜ ìŠ¤íŠ¸ë¦¼ë„ ê°™ì´ close ëœë‹¤. FilterInputStream, FilterOutputStream FilterInputStream FilterOutputStream ìœ„ ë‘ í´ë˜ìŠ¤ëŠ” ìƒì„±ìê°€ protectedì´ë¯€ë¡œ ì§ì ‘ ìƒì„±ì´ ë¶ˆê°€ëŠ¥í•˜ê³ , ìƒì†ì„ í†µí•´ ì˜¤ë²„ë¼ì´ë”© ë˜ì–´ì•¼ í•œë‹¤. ë°ì½”ë ˆì´í„° íŒ¨í„´ì„ ê¸°ë°˜ìœ¼ë¡œ ë””ìì¸ ëœ í´ë˜ìŠ¤ êµ¬ì¡°ì´ê¸° ë•Œë¬¸ì—, ì—¬ëŸ¬ Filter í´ë˜ìŠ¤ë“¤ì„ ê²¹ì³ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤! 1DataInputStream dis = new DataInputStream(new BufferedInputStream(System.in)); BufferedInputStream, BufferedOutputStream BufferedInputStream BufferedOutputStream ìƒì„±í•  ë•Œ ì§€ì •í•œ ë²„í¼ì˜ í¬ê¸°ë§Œí¼ ì…ë ¥ì†ŒìŠ¤ë¡œë¶€í„° ì½ê³ , ë‚´ë¶€ ë²„í¼ì— ì €ì¥í•´ë†“ëŠ”ë‹¤ ì˜ˆë¥¼ ë“¤ì–´ 2048ì˜ í¬ê¸°ë¡œ BufferedInputStream ì„ ìƒì„±í•˜ê³  read() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê²Œ ë˜ë©´, ì…ë ¥ì†ŒìŠ¤ë¡œë¶€í„° 2048 byte ë§Œí¼ ì½ì–´ì™€ì„œ ë‚´ë¶€ ë°°ì—´ì— ì €ì¥í•˜ê³ , read() ë©”ì„œë“œì˜ ê²°ê³¼ë¡œëŠ” 2048 byte ì¤‘ 1 byteë§Œì„ ëŒë ¤ì£¼ê²Œ ëœë‹¤ read() ë©”ì„œë“œë¡œ ë‚´ë¶€ ë²„í¼ì˜ ë‚´ìš©ì„ ë‹¤ ì½ê²Œ ë  ë•Œ ê¹Œì§€ ì…ë ¥ì†ŒìŠ¤ì— ì¶”ê°€ì ìœ¼ë¡œ ì ‘ê·¼í•˜ì§€ ì•Šê²Œë˜ê³ , ë‚´ë¶€ ë²„í¼ì˜ ë‚´ìš©ì„ ë‹¤ ì½ìœ¼ë©´ ë‹¤ì‹œ ì…ë ¥ì†ŒìŠ¤ì— ì ‘ê·¼í•´ì„œ ìƒì„±ì‹œ ì§€ì •í•œ ë²„í¼ì˜ í¬ê¸°ë§Œí¼ ë°ì´í„°ë¥¼ ì½ì–´ì˜¨ë‹¤ BufferedInputStream ì„ 2048ì˜ í¬ê¸°ë¡œ ìƒì„±í•˜ê³ , read(byte[] b)ì— 100 í¬ê¸°ì˜ ë°°ì—´ì„ ì „ë‹¬í•˜ê²Œ ë˜ë©´, ì²˜ìŒ read(byte[] b)ë¥¼ í˜¸ì¶œí•˜ëŠ” ìˆœê°„ ì…ë ¥ì†ŒìŠ¤ë¡œë¶€í„° 2048 ë°”ì´íŠ¸ë¥¼ ì½ì–´ì˜¨ ë’¤ BufferedInputStream ì— ìˆëŠ” ë‚´ë¶€ ë°°ì—´ì— ì €ì¥í•´ë†“ê³ , ê±°ê¸°ì„œ 100 byteë§Œì„ ì½ì–´ì„œ ë°˜í™˜í•´ì£¼ê²Œ ëœë‹¤ ì¦‰, readê°€ 200ë²ˆ í˜¸ì¶œë  ë–„ ê¹Œì§€ëŠ” ì›ë³¸ ì†ŒìŠ¤ì— ì§ì ‘ ì ‘ê·¼í•˜ëŠ” ì¼ì€ ì—†ì„ ê²ƒì´ë‹¤ BufferedOutputStream ë˜í•œ ì¶œë ¥ë²„í¼ë¡œ ë°”ë¡œ ì „ì†¡í•˜ì§€ ì•Šê³ , ë‚´ë¶€ ë²„í¼ì— ë°ì´í„°ë¥¼ ìŒ“ì•„ë‘ì—ˆë‹¤ê°€ ë²„í¼ì˜ ë‚´ìš©ì´ ê°€ë“ì°¨ë©´ ì¶œë ¥ì†ŒìŠ¤ë¡œ ë³´ë‚¸ë‹¤. ë²„í¼ê°€ ê°€ë“ ì°¨ì§€ ëª»í•´ì„œ ì¶œë ¥ë˜ì§€ ëª»í•  ìˆ˜ë„ ìˆìœ¼ë‹ˆ í•­ìƒ ë§ˆì§€ë§‰ì— flush()ë‚˜ close()ë¥¼ í˜¸ì¶œí•´ì„œ ë²„í¼ë¥¼ ë¹„ìš°ë„ë¡ í•´ì•¼í•œë‹¤. í‘œì¤€ ì…ì¶œë ¥ í‘œì¤€ ì…ì¶œë ¥ì´ë€ ì‚¬ìš©ìê°€ ë³„ë‹¤ë¥¸ ì…ì¶œ ìë°”ì—ì„œëŠ” System í´ë˜ìŠ¤ì˜ in, out, err ë¥¼ í†µí•´ í‘œì¤€ ì…ì¶œë ¥ì— ì ‘ê·¼ ê°€ëŠ¥í•˜ë‹¤ ìë°” ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‹¤í–‰ê³¼ ë™ì‹œì— ìë™ì ìœ¼ë¡œ ìƒì„±ë˜ë©°, ë‚´ë¶€ì ìœ¼ë¡œ BufferedInputStream, BufferedOutputStream ì„ ì‚¬ìš©í•œë‹¤ ì•„ë˜ëŠ” í‘œì¤€ ì…ì¶œë ¥ì„ ì´ìš©í•´ ë¬¸ìë¥¼ ì…ë ¥ë°›ê³  ì¶œë ¥í•˜ëŠ” ì†ŒìŠ¤ì´ë‹¤ 12345int input = 0;while((input = System.in.read()) != -1) &#123; System.out.println((char)input);&#125; í‘œì¤€ ì…ì¶œë ¥ì˜ ëì„ ë‚˜íƒ€ë‚´ê³  ì‹¶ì„ ë•ŒëŠ” Enter í‚¤ë¥¼ ì…ë ¥í•˜ê±°ë‚˜, ^Z(ë§¥ì—ì„œëŠ” ^D) ë¥¼ ì…ë ¥í•˜ë©´ ëœë‹¤ ê·¼ë° ì—¬ê¸°ì„œ ì¡°ê¸ˆ ë¬¸ì œê°€ ë˜ëŠ”ê²Œ, Enter í‚¤ë¥¼ ì…ë ¥í•  ê²½ìš° ë‘ ê°œì˜ íŠ¹ìˆ˜ë¬¸ì â‚©r, â‚©n ì´ ì…ë ¥ëœê²ƒìœ¼ë¡œ ê°„ì£¼ëœë‹¤ëŠ” ì ì´ë‹¤ â‚©rì€ ì»¤ì„œë¥¼ ë¼ì¸ì˜ ì²«ë²ˆì§¸ë¡œ ì´ë™, â‚©nì€ ì»¤ì„œë¥¼ ë‹¤ìŒ ì¤„ë¡œ ì´ë™ì„ ì˜ë¯¸í•œë‹¤ ì´ ë•Œë¬¸ì— Scannerì˜ nextInt() ê°™ì€ ëª…ë ¹ì„ ìˆ˜í–‰í•˜ê²Œ ë˜ë©´ ì…ë ¥ ë²„í¼ì— â‚©râ‚©nì´ ê·¸ëŒ€ë¡œ ë‚¨ì•„ìˆê²Œ ë˜ì–´, ì´ í›„ ë¬¸ìì—´ ì…ë ¥ ëª…ë ¹ì´ ìˆ˜í–‰ë˜ì–´ ë²„ë¦¬ëŠ” ë¬¸ì œì ì´ ìˆë‹¤ ê·¸ëŸ¬ë¯€ë¡œ ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œ Scannerì˜ nextLine() ëª…ë ¹ì„ ì‚¬ìš©í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤ nextLine()ìœ¼ë¡œ ë°›ì€ ë¬¸ìì—´ì— Integer.parseInt ê°™ì€ ëª…ë ¹ì„ ì‚¬ìš©í•˜ë©´ ê°œí–‰ë¬¸ìëŠ” ì‚­ì œë˜ê¸° ë•Œë¬¸ì´ë‹¤ ë¬¸ì ê¸°ë°˜ ìŠ¤íŠ¸ë¦¼ javaëŠ” UTF16 ì¸ì½”ë”©ì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ë¬¸ìí˜•ì„ 2byteë¡œ ì²˜ë¦¬í•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ë°”ì´íŠ¸ ê¸°ë°˜ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë¬¸ìë¥¼ ì²˜ë¦¬í•˜ê¸°ì—ëŠ” ì–´ë ¤ì›€ì´ ë§ë‹¤. ê·¸ë˜ì„œ íƒ„ìƒí•œ ê²ƒì´ Reader, Writerì´ë‹¤. ì´ ë˜í•œ ê°€ì¥ ìµœìƒìœ„ í´ë˜ìŠ¤ì´ë‹¤. ìì‹ì€ ë°”ì´íŠ¸ ê¸°ë°˜ ìŠ¤íŠ¸ë¦¼ ìì‹ì—ì„œ ì´ë¦„ë§Œ InputStream -&gt; Reader, OutputStream -&gt; Writerë¡œ ë°”ê¿”ì£¼ë©´ ëœë‹¤.(FileReader/FileWriter, PipedReader/PipedWriter ë“±) Reader, Writer Reader Writer byteë°°ì—´ ëŒ€ì‹  charë°°ì—´ì„ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒê³¼, ì¶”ìƒë©”ì„œë“œê°€ read(char[] cb, inf off, int len) ìœ¼ë¡œ ë‹¬ë¼ì¡Œë‹¤ëŠ”ê²Œ ì°¨ì´ì ì´ë‹¤. (í”„ë¡œê·¸ë˜ë° ê´€ì ì—ì„œ ì´ ì¶”ìƒë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ëŠ”ê²Œ ì¢€ ë” ë°”ëŒì§í•˜ê¸° ë•Œë¬¸ì´ë‹¤) FileReader, FileWriter Fileë¡œ ë¶€í„° ë¬¸ìì—´ì„ ì…ì¶œë ¥í•  ë•Œ ì‚¬ìš©í•œë‹¤. FileReader FileWriter 12345678910111213141516171819202122@Testpublic void InputStreamì™€Readerì˜ë¬¸ìì²˜ë¦¬() &#123; try( FileInputStream fileInputStream = new FileInputStream("/Users/home/Desktop/ëŒ€ì¶© ì •ë¦¬.md"); FileReader fileReader = new FileReader("/Users/home/Desktop/ëŒ€ì¶© ì •ë¦¬.md") )&#123; int a; while((a = fileInputStream.read()) != -1)&#123; System.out.print((char)a); &#125; System.out.println(); int b; while((b = fileReader.read()) != -1)&#123; System.out.print((char)b); &#125; &#125; catch(Exception e)&#123; e.printStackTrace(); &#125;&#125; InputStreamìœ¼ë¡œ ì½ì—ˆì„ ê²½ìš°, 1byteë§Œ ì½ì–´ì˜¤ë¯€ë¡œ latin ì¸ì½”ë”©ì´ ì•„ë‹ˆë©´ ë¬¸ìê°€ ê¹¨ì§„ë‹¤. ë¬¸ì ê¸°ë°˜ ë³´ì¡° ìŠ¤íŠ¸ë¦¼ ë°”ì´íŠ¸ ê¸°ë°˜ ë³´ì¡° ìŠ¤íŠ¸ë¦¼ê³¼ ìš©ë„ëŠ” ë™ì¼í•˜ë‹¤. FilterInputStream/FilterOutputStream ì²˜ëŸ¼ ê¸°ë°˜ì´ ë˜ëŠ” í´ë˜ìŠ¤ëŠ” ë”°ë¡œ ì—†ë‹¤. BufferedReader, BufferedWriter BufferedReader BufferedWriter ë²„í¼ë¥¼ ì´ìš©í•´ ì…ì¶œë ¥ì˜ ì„±ëŠ¥ì„ ë†’ì—¬ì¤€ë‹¤. BufferedReaderëŠ” ë¼ì¸ ë‹¨ìœ„ë¡œ ì½ì–´ì˜¬ ìˆ˜ ìˆëŠ” readLine() ë©”ì„œë“œë¥¼ ì œê³µí•˜ê³ , BufferedWriterëŠ” ê°œí–‰ì„ ì¶œë ¥í•  ìˆ˜ ìˆëŠ” newLine() ë©”ì„œë“œë¥¼ ì œê³µí•œë‹¤. InputStreamReader, OutputStreamWriter InputStreamReader OutputStreamWriter ì´ë¦„ì—ì„œ ì•Œ ìˆ˜ ìˆë“¯ì´ ë°”ì´íŠ¸ ê¸°ë°˜ ìŠ¤íŠ¸ë¦¼ì„ ë¬¸ì ê¸°ë°˜ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë³€í™˜í•´ì£¼ëŠ” ì—­í• ì„ í•œë‹¤. ì¸ì½”ë”©ì„ ì§ì ‘ ì§€ì •í•  ìˆ˜ë„ ìˆë‹¤. ì¸ì½”ë”©ì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ OSì—ì„œ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì¸ì½”ë”©ì„ ì‚¬ìš©í•  ê²ƒì´ë‹¤. ì½˜ì†” ì…ë ¥ì„ ë°›ì„ ë•Œ ì£¼ë¡œ ì´ìš©í•œë‹¤.(ì´ ì™¸ì—ë„ ë§ê² ì§€?) 12345InputStreamReader in = new InputStreamReader(System.in);BufferedReader br = new BufferedReader(in);// do something...br.readLine(); ì°¸ê³  : ë‚¨ê¶ì„±, ã€Javaì˜ ì •ì„ 2nd Editionã€, ë„ìš°ì¶œíŒ(2010) í‘œì¤€ ì…ì¶œë ¥ : https://shoark7.github.io/programming/knowledge/what-is-standard-stream]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>OutputStream</tag>
        <tag>Reader</tag>
        <tag>Writer</tag>
        <tag>java I/O</tag>
        <tag>í‘œì¤€ ì…ì¶œë ¥</tag>
        <tag>InputSream</tag>
        <tag>FiliterInputStream</tag>
        <tag>FilterOutputStream</tag>
      </tags>
  </entry>
</search>
